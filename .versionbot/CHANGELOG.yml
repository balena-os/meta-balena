- commits:
    - subject: 'modemmanager: add u-blox-modeswitch scripts'
      hash: a30ab44f40f1c059e64075c567fc388800d960a4
      body: |
        Add the u-blox-modeswitch scripts to modemmanager. The scripts are
        generic and therefore it makes sense to provide them as part of
        meta-balena instead of balena-raspberrypi.
      footer:
        Change-type: patch
        change-type: patch
        Connects-to: '#510 (in balena-raspberrypi)'
        connects-to: '#510 (in balena-raspberrypi)'
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.61.3
  date: 2020-11-05T17:05:16.519Z
- commits:
    - subject: Check the API for configuration changes once a day
      hash: 19f6942a9864c6393a36af36aea21d685ddb9819
      body: ''
      footer:
        Connects-to: '#2018'
        connects-to: '#2018'
        Changelog-entry: Check the API for configuration changes once a day
        changelog-entry: Check the API for configuration changes once a day
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.61.2
  date: 2020-11-05T14:41:20.617Z
- commits:
    - subject: Enable kernel user space probes support
      hash: 8af9bc8fbc58096d986d8db7df81a0c9505dc420
      body: |
        This is needed to make use of eBPF and all the debugging and extra
        features it brings.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Enable kernel user space probes support
        changelog-entry: Enable kernel user space probes support
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.61.1
  date: 2020-11-04T21:12:06.448Z
- commits:
    - subject: Update balena-supervisor from v11.14.0 to v12.1.1
      hash: fd41103bc0538f53ac37bfb2ce6203f712090bc7
      body: |
        Update balena-supervisor from v11.14.0 to v12.1.1
      footer:
        Changelog-entry: Update balena-supervisor from v11.14.0 to v12.1.1
        changelog-entry: Update balena-supervisor from v11.14.0 to v12.1.1
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Use root mount point to find device-type.json
              hash: 9d19a457017b1f696579f57569ec4cfadab3b385
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-12.1.1
          date: 2020-10-28T13:03:20.901Z
        - commits:
            - subject: Change log source from docker to journalctl
              hash: 2c83864f22b01e7196f6ed321c96f6cb9f40593b
              body: ''
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Thomas Manning <thomasm@balena.io>
                signed-off-by: Thomas Manning <thomasm@balena.io>
              author: Thomas Manning
              nested: []
          version: balena-supervisor-12.1.0
          date: 2020-10-28T06:12:20.363Z
        - commits:
            - subject: Change source of deviceType to device-type.json
              hash: f5183df35677f091f1374c3f6e86706b141471f3
              body: |
                The source of truth for the device-type should be
                device-type.json instead of config.json
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
                Connects-to: '#1472'
                connects-to: '#1472'
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.0.9
          date: 2020-10-27T12:43:11.383Z
        - commits:
            - subject: Fixed evaluating if updates are needed to reach target state
              hash: 77333f1e110070f17f4bf95c1554075c94a35d63
              body: ''
              footer:
                Closes: '#1476'
                closes: '#1476'
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-12.0.8
          date: 2020-10-26T18:56:16.649Z
        - commits:
            - subject: Improved log message when networks do not match
              hash: edf23871d9a057b9bae8837f3ee39d7401247514
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-12.0.7
          date: 2020-10-19T16:04:51.506Z
        - commits:
            - subject: Fixes check allowing preloading in local (unmanaged) mode
              hash: 0fd9b6376251c73f2adfd37ec80d2145178683d6
              body: |
                * adds apiEndpoint empty string check
              footer:
                Change-type: patch
                change-type: patch
              author: ab77
              nested: []
            - subject: Handle delete of multiple images with same dockerImageId
              hash: 4795c336d055862706be42ebb544caef93d55e35
              body: >
                A docker-compose.yml with the following structure


                ```

                version: '2.1'

                services:
                  app_1:
                    build: ./noisy-1
                    image: noisy1
                  app_2:
                    build: ./noisy-1
                    image: noisy1
                  app_3:
                    build: ./noisy-1
                    image: noisy1
                ```


                Will lead to the supervisor creating multiple image database
                entries

                with the same dockerId (this is because of how the engine
                handles this

                particular case). This case is not handled by the removal
                process

                leading to image pile up and increased disk usage.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
                Connects-to: '#1434'
                connects-to: '#1434'
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.0.6
          date: 2020-10-16T22:32:07.462Z
        - commits:
            - subject: Improve calculation for used system memory
              hash: dd5f62227a0b0d2024db924e7028c9fec8b2b1d9
              body: >
                The memory information reported by the supervisor currently

                estimates the value of used memory as `MemTotal - MemFree`.

                However, linux systems will try to cache and buffer as much

                memory as possible, which will affect the output of `MemFree`

                (from /proc/meminfo) and in consequence the memory usage seen

                by the user on the dashboard, which will appear much greater
                than

                it is.


                The correct calculation should be `MemTotal - MemFree - Buffers
                - Cached`,

                which the calculation performed by `htop` and the `free`
                commands.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
                Connects-to: '#1471'
                connects-to: '#1471'
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.0.5
          date: 2020-10-14T16:19:41.551Z
        - commits:
            - subject: Don't require an existing supervisor container to sync
              hash: 629b410e10fb6590806d546ff94101951ec6c9a2
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-12.0.4
          date: 2020-10-13T09:49:51.370Z
        - commits:
            - subject: Refactor system information filtering
              hash: a2ceb5c93189704beaf8b4f5c8b71c46d8e2a966
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
            - subject: 'tests: Clean up and consistify naming scheme'
              hash: 9e0c99e797fa379c66b7312b40a17d9d31f5ce79
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-12.0.3
          date: 2020-10-12T14:46:39.730Z
        - commits:
            - subject: Attempt a state report once every maxReportFrequency
              hash: 0e3c0263922043b9d53a7eb3545622106f10100c
              body: >
                With the addition of the system information feature (CPU temp)
                etc if

                there wasn't any changes in the docker or config state of the
                device,

                updates in system information would not be sent to the API. Now
                we

                attempt to send data once every maxReportFrequency (although
                this does

                not mean that we will be sending data that often, we still only
                send the

                delta, if one exists)
              footer:
                Change-type: patch
                change-type: patch
                Closes: '#1481'
                closes: '#1481'
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
            - subject: Remove superfluous current state reporting code from api-binder
              hash: 975129188a9fcb11a081f7ba75a1b8b973499a21
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-12.0.2
          date: 2020-10-12T10:55:40.890Z
        - commits:
            - subject: Add features label `io.balena.features.journal-logs`
              hash: 1eeff698aca56558fa09832b9bcb02c99e275dbe
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Thomas Manning <thomasm@balena.io>
                signed-off-by: Thomas Manning <thomasm@balena.io>
              author: Thomas Manning
              nested: []
          version: balena-supervisor-12.0.1
          date: 2020-10-12T05:41:14.895Z
        - commits:
            - subject: 'version: drop SUPERVISOR_VERSION env var'
              hash: 8e65466f2d8540918b1fa8d8af88d0c21fcbf7f8
              body: >
                In order to make supervisor upgrades more transparent, lets move
                away

                from this env var since it requires a container restart any time
                the supervisor

                is upgraded. We should ultimately move towards providing the
                supervisors

                set of capabilities, but that can come later
              footer:
                Connects-to: '#1447'
                connects-to: '#1447'
                Change-type: major
                change-type: major
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: balena-supervisor-12.0.0
          date: 2020-09-29T15:25:15.693Z
        - commits:
            - subject: Fix supervisor deadlock during migration
              hash: adffde932ec28b114a5821b9ae332a42bb330be2
              body: >
                Due to the singleton work, when performing migration M00005 and
                there

                are apps with services created in the database, a deadlock
                occurs

                during database initialization due to a circular

                dependency for generating scoped keys.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
                Connects-to: '#1468'
                connects-to: '#1468'
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-11.14.8
          date: 2020-09-29T03:00:51.902Z
        - commits:
            - subject: Correctly evaluate if scheduledApply.delay is not set
              hash: 90981a00bed100e1496dc71bf0631bc0ab04ffa7
              body: ''
              footer:
                Closes: '#1428'
                closes: '#1428'
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.14.7
          date: 2020-09-25T17:16:42.247Z
        - commits:
            - subject: Fix config checks for ConfigFS backend
              hash: a5f3002e708c949b6de3c8ba495b2a89c13214fc
              body: >
                When trying to apply SSDT overlays in Up Board, the supervisor
                currently

                gets stuck in a loop trying to apply target state. See #1465


                This was due to a bug in parsing the configuration, which lead
                to

                the method bootConfigChangeRequired returning true when no
                change was

                needed.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
                Connects-to: '#1465'
                connects-to: '#1465'
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-11.14.6
          date: 2020-09-24T19:51:09.936Z
        - commits:
            - subject: 'mixpanel: superisor_version -> supervisor_version'
              hash: eebadebb53af68d9b63c948e59c1c78fb38302aa
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: balena-supervisor-11.14.5
          date: 2020-09-24T14:47:47.663Z
        - commits:
            - subject: 'api: Implement scoped Supervisor API keys'
              hash: c08de8701e49f417d2fc5849d237b9ed69b438e2
              body: >
                Each service, when requesting access to the Supervisor API, will

                now get an individual key which can be scoped to specific
                resources.

                In this iteration the default scope will be to the application
                that

                the service belongs to.


                We also have a `global` scope which is used by the cloud API
                when in

                managed mode.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.14.4
          date: 2020-09-18T13:02:39.469Z
        - commits:
            - subject: Clarify docs for toggling update lock override from dashboard
              hash: 1b51db06c118ab4c60296f394e854436584c6437
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: M. Casqueira
              nested: []
          version: balena-supervisor-11.14.3
          date: 2020-09-17T22:25:21.020Z
        - commits:
            - subject: Refactor extra_uEnv backend to match with more devices
              hash: 07e644d0b69f412fb14aeaba17914b9eacd6477f
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.14.2
          date: 2020-09-15T18:25:31.240Z
        - commits:
            - subject: 'application-manager: Convert to a singleton'
              hash: 96c68166a1e1d9b400fca84d33910d526009ecfd
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Rich Bayliss
              nested: []
            - subject: 'device-state: Convert to a singleton'
              hash: e3864915bcf3b8c2865f3c14d2ad85023218db3c
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Rich Bayliss
              nested: []
            - subject: 'api-binder: Convert to a singleton'
              hash: d50f7791e1f89750a35791c1ea3bd4a7472da9a1
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.14.1
          date: 2020-09-14T10:26:09.557Z
  version: 2.61.0
  date: 2020-11-04T13:01:10.938Z
- commits:
    - subject: 'chrony: set the source UDP port for NTP requests to 123'
      hash: 6b95bd55f12054d996a412e7a6bc202e518b4e29
      body: |
        By default chrony uses a random UDP source port for each NTP request.
        This can cause problems with particular routers/firewalls (issues have
        been reported for the Phicomm KE 2P).

        The chrony `acquisitionport` configuration setting has been added
        to the chrony.conf file to change the UDP source port for NTP requests
        to 123 (this is the same as the default source port used by both
        ntpdate and ntpd).
      footer:
        Change-type: patch
        change-type: patch
        Connects-to: '#2000'
        connects-to: '#2000'
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.60.1
  date: 2020-10-30T11:34:35.642Z
- commits:
    - subject: 'chrony: don''t restore time from drift file or RTC'
      hash: 5a4842786f365c9d167f29fd310427b4f0bb61b6
      body: |
        Drop the '-s' command line parameter from chronyd as:
        a) restoring time from the drift file is no longer necessary due to
        the fake-hwclock service, and
        b) restoring time from the RTC is already covered by the timeinit-rtc
        service.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
    - subject: 'systemd/timeinit: add fake.hwclock to maintain system time over reboots'
      hash: 96c2c495819ba6175261a5179e1cdb4673552e6c
      body: |
        In order to produce sensible timestamps for journald log messages:
        a) the system time needs to be maintained correctly over a reboot, and
        b) the system time needs to be set before journald is started.

        Currently the system time is maintained over reboots on systems
        without an RTC using the last modified time of the chrony drift file.
        However there are a couple of issues with this approach:

        a) /var/lib/chrony/ is not mounted early enough in the boot process
        to be available for setting the time before journald is started.
        b) there is an issue with the current systemd dependencies that result
        in the last modified time of the drift file not being updated when the
        system is shutdown or rebooted (see #1995).

        The Debian fake-hwclock service (as used by Raspberry Pi OS) has been
        added to overcome these issues.

        The fake-hwclock service will save and restore the system time from
        the fake-hwclock.data file (in /etc/fake-hwclock/). The system time
        is loaded from this file at boot and saved to it on shutdown. An
        additional timer service has been added to update the file on an
        hourly basis to cater for unexpected shutdown scenarios, e.g. power
        failure.

        The timeinit-timestamp service has improved logging and has been
        renamed to timeinit-buildtime for clarity.

        A new time-set.target has been added as per upstream systemd and
        the fake-hwclock and timeinit-buildtime services have been added
        to it.
      footer:
        Change-type: minor
        change-type: minor
        Connects-to: '#1367 #1919'
        connects-to: '#1367 #1919'
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
    - subject: 'resin-mounts: add bind mount service for /etc/fake-hwclock'
      hash: 394aa52f77ec222e6fda856a92cd499bd464fa07
      body: |
        Add a persistent r/w location (root-overlay/etc/fake-hwclock/) to
        the resin-state partition for storage of the fake-hwclock.data file.
        This file is used by the fake-hwclock service to load the system
        time at boot and save the system time on shutdown.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.60.0
  date: 2020-10-29T14:25:50.275Z
- commits:
    - subject: Add host extensions support
      hash: 1d33429f0bc925bc97b4b7820aeb812eac9098d2
      body: |
        Add a new section that described the host extensions functionality.

        Fixes #1984
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add host extensions support
        changelog-entry: Add host extensions support
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'packagegroup-resin: Add hostapp extensions update script'
      hash: a03e5c9eed5105c5af85c79df29546ec641d873c
      body: |
        This commit adds the update-hostapp-extensions utility. It can be run
        with:

         systemd-run update-hostapp-extensions -r
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'hostapp-extensions-update: Add host extensions update script'
      hash: 0fe293eb118913e667b52b2f6df032227719efc8
      body: >
        This script triggers an installation or update of the hostapp extensions

        in the system.


        The list of hostapp extensions to install can either be passed to the

        script or it will use the ones set in config.json or
        hostapp-extensions.conf

        in that order.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'resin-vars: Parse the HOSTEXT_IMAGES variable from config.json'
      hash: 761f517f955f829e12b2c7f0a0f88830ded39e13
      body: |
        This variable allows the hostapp extensions updater script to update the
        hostapp extensions in the system.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'docker-disk: Add the host extension images to the data partition'
      hash: cd44a94cf1646828832070417a2deb9236b0f5ee
      body: |
        Host extension images contain extra content that is overlayed over the
        root filesystem at boot.

        This commits adds the default host extensions to the data partition
        image, stores their repository tags in the /etc directory, and creates
        the containers so that mobynit can mount the container filesystems on
        boot.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'docker-disk: Generalize hostapp platform variable'
      hash: 416544bd9c7b7e9080857dc0258668f388a55aa7
      body: |
        Rename HELLO_PLATFORM to HOSTAPP_PLATFORM so it can be used with any
        app type.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'initrdscripts: Busybox switch_root does not support -c argument'
      hash: a62a8189825de9dbcf52dbb3116d213fc7ceb84f
      body: |
        Calling busybox switch_root in this way has always been complaining but
        the error log did not get to the console.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: >-
        resin-filesystem-expand: Omit fs check and resize if partition is
        mounted
      hash: d70fbd050e5a1f7c695782b99187d583103111e0
      body: |
        Now that the data partition will be mounted from the initramfs for host
        extensions support, this script will only run if something went wrong.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'initrdscripts: Expand the resin-data filesystem'
      hash: 00cad826c157ac2d5c13137fb1023f1eb7570c58
      body: |
        As the resin-data partition will be mounted in the initramfs, its
        filesystem needs to be expanded before that.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'initrdscripts: Add resin-data to fs UUID generation'
      hash: d2794dd2d559ca0c55a4cbab9ae5ef3c01ebdcf3
      body: |
        The resin-data partition will be mounted in the initramfs for the host
        extension support so the UUID generation needs to happen before that.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'resin-data.mount: Remove default dependencies'
      hash: dc6cfa2e90b29b0fdcfc05c1b85e2196de4f950b
      body: >
        With the data partition being mounted in the initramfs to support host

        extensions, the runtime systemd-udev no longer sees the resin-data mount

        event and this mount is blocked.


        This is resolved by not adding the default dependency on the block
        device.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'packagegroup-resin: Add independent mobynit package to image'
      hash: 08e15adb2f21c330b9c92cef527e23770a6fe521
      body: |
        The mobynit tool also needs to be in resin-image.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'balena-engine: Do not build mobynit'
      hash: 29844ed3bd936c581e20b72df133a2b6ed498512
      body: |
        The mobynit package has now been moved to an independent recipe.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'mobynit: Fix source directory'
      hash: e6dc1b20c45ffdbcc33f82b2ef78f46715317b06
      body: |
        The Go class in mobynit predates Go modules support.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'mobynit: Separate recipe from balena-engine'
      hash: 6be3f1153d56c1c0c21e6d84db7be70be96bcd10
      body: >
        This commit adds a new recipe to build mobynit independently from
        balena-engine.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.59.0
  date: 2020-10-27T12:04:22.881Z
- commits:
    - subject: 'readme: DCHP -> DHCP'
      hash: 9694909d8eb0dea7f775eeb5a92546f00b381909
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
      nested: []
  version: 2.58.6
  date: 2020-10-15T13:43:08.320Z
- commits:
    - subject: 'bootfiles: blacklist proper grub configuration backend'
      hash: 1362d9916b0b7b414b9d920296021379e34f00be
      body: ''
      footer:
        Connects-to: '#2022'
        connects-to: '#2022'
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
      nested: []
  version: 2.58.5
  date: 2020-10-13T14:20:39.972Z
- commits:
    - subject: 'docker-disk: Allow expanding data filesystem on 2TB disks'
      hash: 62b3763b44dcd9397f964d0812b7292885b04f66
      body: |
        Switch to 4k block size for the resin-data filesystem
        so it can be expanded to sizes greater than 1023GiB.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.58.4
  date: 2020-10-05T12:38:50.221Z
- commits:
    - subject: Blacklist supervisor configuration backend files during HUP
      hash: 43a14fef9875f0d0afc23a833cc8e9dc4ae80536
      body: >
        The hostapp update process should not overwrite the supervisor
        configuration

        backend files to avoid the supervisor being forced to set the target
        state

        after HUP and reboot the device during the rollback period.


        This only applies to the host configuration files which are the only
        ones

        that force a reboot.
      footer:
        Connects-to: 'https://github.com/balena-io/balena-supervisor/issues/1464'
        connects-to: 'https://github.com/balena-io/balena-supervisor/issues/1464'
        Change-type: patch
        change-type: patch
        Changelog-entry: Blacklist supervisor configuration backend files during HUP
        changelog-entry: Blacklist supervisor configuration backend files during HUP
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.58.3
  date: 2020-09-18T10:34:55.646Z
- commits:
    - subject: 'hooks: fix up improperly named variable'
      hash: 2b42bc65dfc32817015d532c0a05d28670956bb7
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
      nested: []
  version: 2.58.2
  date: 2020-09-17T22:33:04.792Z
- commits:
    - subject: Wait for the root device to come up when necessary
      hash: 494eeb4a699b4dd5e48547d6e5e45cffb7bf0720
      body: |
        If the rootfs is on a slow-to-bring-up device (e.g. RPi4 + USB)
        the fsuuidsinit_enabled() function may return before the balena symlinks
        are created. This gets wrongly interpreted as missing UUIDs leading to
        a chain of failures in the subsequent scripts.
        This patch moves the symlink waiting loop from fsuuidsinit_run()
        to fsuuids_enabled() before the first usage of the symlink.
      footer:
        Changelog-Entry: Wait for the root device to come up when necessary
        changelog-entry: Wait for the root device to come up when necessary
        Change-Type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.58.1
  date: 2020-09-15T18:24:58.280Z
- commits:
    - subject: Respect balenaRootCA system-wide
      hash: 2218cb21d1fc813ac59c08b77046c5d014ad9a42
      body: |
        We allow the user to specify a custom CA in the .balenaRootCA key
        of config.json but at this moment each tool has to implement support
        if it wants to use it. This commit adds it to the system-wide CA bundle
        so that the CA is respected everywhere.

        Fixes #1398
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.58.0
  date: 2020-09-05T06:47:40.132Z
- commits:
    - subject: 'os-helpers-logging: Log to stderr rather than stdout'
      hash: 94c60a30c6147838f4a91449f3960025625ce709
      body: |
        This is where the logs and error messages should go by default
        as they are not part of the tool's output.
      footer:
        Change-Type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.57.1
  date: 2020-09-04T17:13:50.058Z
- commits:
    - subject: 'Update libmbim to 1.24.2, libqmi to 1.26.0, modemmanager to 1.14.2'
      hash: 1c80d6cc69d687fab6f2385efca5d6564c28370d
      body: |
        Update libmbim from 1.22.0 to 1.24.2
        Update libqmi from 1.24.10 to 1.26.0
        Update modemmanager from 1.12.8 to 1.14.2
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: 'Update libmbim to 1.24.2, libqmi to 1.26.0, modemmanager to 1.14.2'
        changelog-entry: 'Update libmbim to 1.24.2, libqmi to 1.26.0, modemmanager to 1.14.2'
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
      nested: []
  version: 2.57.0
  date: 2020-09-04T13:54:00.370Z
- commits:
    - subject: Update balena-supervisor from v11.13.0 to v11.14.0
      hash: afdfc4ec7d46f74bc2b104a6d899a6587b3596cc
      body: |
        Update balena-supervisor from v11.13.0 to v11.14.0
      footer:
        Changelog-entry: Update balena-supervisor from v11.13.0 to v11.14.0
        changelog-entry: Update balena-supervisor from v11.13.0 to v11.14.0
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Add device system information to state endpoint patch
              hash: f305a333ba70e90d098decdf81c220bfcbeec899
              body: ''
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-11.14.0
          date: 2020-09-03T13:43:00.299Z
  version: 2.56.0
  date: 2020-09-03T14:43:29.913Z
- commits:
    - subject: Update balena-supervisor from v11.12.4 to v11.13.0
      hash: e8fb036f3ce51f29dbda1d969bb41e505a22f389
      body: |
        Update balena-supervisor from v11.12.4 to v11.13.0
      footer:
        Changelog-entry: Update balena-supervisor from v11.12.4 to v11.13.0
        changelog-entry: Update balena-supervisor from v11.12.4 to v11.13.0
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: added support for configuring ODMDATA
              hash: 662826d3495f551a5451395d0eb6660bfb65b599
              body: ''
              footer:
                Closes: '1206'
                closes: '1206'
                Change-type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.13.0
          date: 2020-08-29T13:07:31.541Z
        - commits:
            - subject: 'bug: Resolve mDNS API URLs'
              hash: f0c2a3cba7a6879a506d9151c7c0d9ea89544dae
              body: |
                Due to switching to Alpine the ability to resolve mDNS
                hostnames was lost. This patch overrides the lookup and
                manually resolves the names.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.12.11
          date: 2020-08-27T10:36:31.040Z
        - commits:
            - subject: Preventing removing all configurations if device has no backends
              hash: 7ea49bf4fb317346badf141e6eea8910e599c837
              body: ''
              footer:
                Closes: '#1437'
                closes: '#1437'
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.12.10
          date: 2020-08-24T17:43:41.125Z
        - commits:
            - subject: Don't enforce the vc4-fkms-v3d dtoverlay on rpi4
              hash: de4c1b25385630b6f9fadb7a362d5556c2cc5008
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Closes: '#1404'
                closes: '#1404'
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-11.12.9
          date: 2020-08-20T09:24:11.110Z
        - commits:
            - subject: Update dependencies
              hash: ea34a2d10a3acd19cfefe4c847eb96579315429a
              body: |
                Update docker-delta from 2.2.9 to 2.2.11
                Update docker-progress from 3.0.5 to 4.0.3
                Update docker-toolbelt from 3.3.8 to 3.3.10
                Update livepush from 3.3.0 to 3.5.1
                Update resin-docker-build from 1.1.4 to 1.1.6
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested:
                - commits:
                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                      hash: b0f552f9a21d350cb9fdca77d4f7c309f88bf68b
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: node-docker-delta-2.2.11
                  date: 2020-08-19T11:52:46.348Z
                - commits:
                    - author: Pagan Gazzard
                      body: ''
                      footers:
                        change-type: patch
                      hash: 70b5359fedc100907c0086f7d25b7ad19cc210ad
                      subject: Removed unused dependencies
                    - author: Pagan Gazzard
                      body: ''
                      hash: 8670e850ba5d97fbaecc938fc2060ea3b4f157ed
                      subject: 'circleci: update docker'
                  date: '2020-08-05T15:20:21Z'
                  version: node-docker-delta-2.2.10
                - commits:
                    - subject: Update to balena-lint 5.x
                      hash: 9563bf5150c39c6d6f298a9ed24f7969650273f7
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: docker-progress-4.0.3
                  date: 2020-08-17T12:03:45.249Z
                - commits:
                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                      hash: 2cec0f2ef1eb24797b650024873c91c942e74017
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: docker-progress-4.0.2
                  date: 2020-08-17T11:47:14.543Z
                - commits:
                    - author: Pagan Gazzard
                      body: ''
                      footers:
                        change-type: patch
                      hash: 9bb049ea3be13fb1362e39b057f78b19d8e3153d
                      subject: Update dependencies
                  date: '2020-03-04T14:17:04Z'
                  version: docker-progress-4.0.1
                - commits:
                    - author: Paulo Castro
                      body: >-
                        The change type is considered 'major' because, by
                        default, errors are

                        now thrown for relatively common occurrences such as
                        authentication

                        failures when pulling from private registries, and
                        library users may

                        have to adapt.
                      footers:
                        change-type: major
                        signed-off-by: Paulo Castro <paulo@balena.io>
                      hash: 3eef3685262e6bae8de064b9c50129e5597f4318
                      subject: Detect error events in push/pull progress streams
                  date: '2019-03-26T16:03:31Z'
                  version: docker-progress-4.0.0
                - commits:
                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                      hash: ccd1e99c5501257f1304f4cb68dd02383411e0b8
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: docker-toolbelt-3.3.10
                  date: 2020-08-19T12:10:49.102Z
                - commits:
                    - author: Pagan Gazzard
                      body: ''
                      footers:
                        change-type: patch
                      hash: e89aedf563c4158894265c885cb86a834b5c9c7f
                      subject: Update to balena-lint 5.x
                  date: '2020-08-17T12:49:42Z'
                  version: docker-toolbelt-3.3.9
                - commits:
                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                      hash: 580a4229374fc96fc3f7aeb80e6b5a09aa958d7f
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: livepush-3.5.1
                  date: 2020-08-19T12:27:19.448Z
                - commits:
                    - author: Roman Mazur
                      body: ''
                      footers:
                        change-type: minor
                        signed-off-by: Roman Mazur <roman@balena.io>
                      hash: c180b489f3a537468f3347398824ca285354caaa
                      subject: Allow setting ENV variables in the live image
                    - author: Roman Mazur
                      body: ''
                      footers:
                        change-type: patch
                        signed-off-by: Roman Mazur <roman@balena.io>
                      hash: 7a053dd801ee5bdc8e5b0792044be611d8981a58
                      subject: Bump dockerode types dependency
                  date: '2020-07-13T11:46:04Z'
                  version: livepush-3.5.0
                - commits:
                    - author: Cameron Diver
                      body: ''
                      footers:
                        change-type: patch
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      hash: 68ebf4a50acb2b451770f79a44e256dc14adbde0
                      subject: Update README with information about live directives
                  date: '2020-05-05T10:39:11Z'
                  version: livepush-3.4.1
                - commits:
                    - author: Cameron Diver
                      body: ''
                      footers:
                        change-type: minor
                        closes: '#76'
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      hash: f4caa2052af2a820f8bf86d202b21b2fe6680af9
                      subject: "\U0001F52D Add a file watcher which can be used by library users"
                  date: '2020-04-15T10:50:17Z'
                  version: livepush-3.4.0
                - commits:
                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                      hash: 139561ad61ca4f0e2a6203fe3c5f3345ba32cf83
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: resin-docker-build-1.1.6
                  date: 2020-08-19T12:14:05.986Z
                - commits:
                    - author: CameronDiver
                      body: ''
                      footers:
                        change-type: patch
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      hash: 0e84ec3d48268c0ae1a2390a2dad2cf8ec9e0eec
                      subject: Update README with correct instantiation method
                  date: '2020-04-02T16:54:05Z'
                  version: resin-docker-build-1.1.5
          version: balena-supervisor-11.12.8
          date: 2020-08-19T12:38:52.114Z
        - commits:
            - subject: Update typed-error to 3.x
              hash: 379730a9e1d6530ea8bc13715a46fe895b0d4ec8
              body: |
                Update typed-error from 2.0.0 to 3.2.1
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested:
                - commits:
                    - subject: Update dependencies
                      hash: dc41949015399154efb4529183daa0dfc9269b52
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: typed-error-3.2.1
                  date: 2020-08-05T12:34:06.377Z
                - commits:
                    - subject: update deps and specify minimum engine requirements
                      hash: 22f293afc187e67b88dab280951eb6e2bb504b24
                      body: ''
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Will Boyce <will@balena.io>
                        signed-off-by: Will Boyce <will@balena.io>
                      author: Will Boyce
                  version: typed-error-3.2.0
                  date: 2019-11-20T09:52:39.017Z
                - commits:
                    - subject: 'dev: Enforce prettier coding standards'
                      hash: 47c07a641fa39ddb833b41aff7a918accad08289
                      body: ''
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Will Boyce <will@balena.io>
                        signed-off-by: Will Boyce <will@balena.io>
                      author: Will Boyce
                    - subject: 'npm: Update dependencies and remove `package-lock.json`'
                      hash: 067bceb5c8dfd46f7e4ff0f58dead46fd9626167
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Will Boyce <will@balena.io>
                        signed-off-by: Will Boyce <will@balena.io>
                      author: Will Boyce
                    - subject: >-
                        codeowners: Add top contributors @wrboyce, @Page-, and
                        @dfunckt
                      hash: 6acc8757a594f74f264c8d68ea4501c61bda9951
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Will Boyce <will@balena.io>
                        signed-off-by: Will Boyce <will@balena.io>
                      author: Will Boyce
                    - subject: 'versionbot: Add CHANGELOG.yml (for nested changelogs)'
                      hash: 2b684a0bb0c95a5dbd3b130ba0f184d3464d298f
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Will Boyce <will@balena.io>
                        signed-off-by: Will Boyce <will@balena.io>
                      author: Will Boyce
                  version: typed-error-3.1.0
                  date: 2019-04-01T10:20:01.427Z
                - commits:
                    - author: CameronDiver
                      body: ''
                      footers:
                        change-type: patch
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      hash: aaa9391dc463c1037f85e845d30f6f9434bb4dc1
                      subject: Update README with new import style
                  date: '2018-11-01T12:08:25Z'
                  version: typed-error-3.0.2
                - commits:
                    - author: Pagan Gazzard
                      body: ''
                      footers:
                        change-type: patch
                      hash: 627cdd281d7b086df8fe5ed1ccb0e0e0df3df062
                      subject: Update to typescript 3
                    - author: Pagan Gazzard
                      body: ''
                      footers:
                        change-type: patch
                      hash: 00d182bb2bc29bd82adb4e8ea4527f6bda6c5278
                      subject: Update dev dependencies
                    - author: Pagan Gazzard
                      body: ''
                      hash: 94adac5d747f16b9228b39e56007ee0126c6f99c
                      subject: Add node-10 to the circle test suite
                  date: '2018-10-29T14:05:23Z'
                  version: typed-error-3.0.1
                - commits:
                    - author: Will Boyce
                      body: >-
                        * Switch to `export ...` syntax (from `export = ...`)

                        * Fix invalid export of class inheriting non-exported
                        class
                      footers:
                        change-type: major
                      hash: a6307b8c04d3456ad7d8a6ac19035b5e718c4311
                      subject: Distribute generated typescript declaration
                    - author: Will Boyce
                      body: ''
                      footers:
                        change-type: patch
                      hash: 37c4b700baadba8cdd6bc0c40df74b30b1a6301c
                      subject: use circle for build/publish and add package-lock
                    - author: Will Boyce
                      body: ''
                      footers:
                        change-type: patch
                      hash: 83e809281f5172ca1ff71bdf0ee663cd504f1428
                      subject: add lint scripts/requirements
                    - author: Will Boyce
                      body: ''
                      footers:
                        change-type: minor
                      hash: da9431d08e501a0d4d0db3a7fb2c0bd06d76d064
                      subject: Remove `BaseError` class and  directly subclass `Error`
                    - author: Will Boyce
                      body: ''
                      footers:
                        change-type: patch
                      hash: e46a36b54498b68f513c6cb947e217c11525e160
                      subject: 'Update dependencies, clean up package/tsconfig'
                  date: '2018-04-17T08:19:27Z'
                  version: typed-error-3.0.0
                - commits:
                    - author: Akis Kesoglou
                      body: ''
                      footers:
                        change-type: patch
                      hash: d35c44f1e57f6386c6f769f8cafc28e0886719cc
                      subject: Add LICENSE
                  date: '2017-12-15T17:19:00Z'
                  version: typed-error-2.0.1
          version: balena-supervisor-11.12.7
          date: 2020-08-19T09:09:56.021Z
        - commits:
            - subject: Update pinejs-client-request to 7.2.1
              hash: 90fab43022c91bce7cea5ce6cd3b4440a6f707a0
              body: |
                Update pinejs-client-request from 7.1.0 to 7.2.1
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested:
                - commits:
                    - subject: Update dependencies
                      hash: f4502c9364bb5dd3ac4cb7242b8d08dca047b8ee
                      body: |
                        Update pinejs-client-core from 6.6.1 to 6.7.1
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Fix prepare $count typings
                              hash: fe63b2ba648b0ef545afe9fd18d433faca4af6a2
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.7.1
                          date: 2020-08-12T14:30:20.061Z
                        - commits:
                            - subject: >-
                                Improve typings for
                                request/post/put/patch/delete
                              hash: 32c0d5b40c14e44155391099a9051255c38b1c05
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.7.0
                          date: 2020-08-12T13:42:49.438Z
                  version: pinejs-client-request-7.2.1
                  date: 2020-08-18T17:01:01.637Z
                - commits:
                    - subject: Update pinejs-client-core to 6.6.1
                      hash: 8b45f326d07939279b5c4271c74579cdf5da3bb3
                      body: |
                        Update pinejs-client-core from 6.1.0 to 6.6.1
                        Update typed-error from 3.2.0 to 3.2.1
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Update dependencies
                              hash: dc41949015399154efb4529183daa0dfc9269b52
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: typed-error-3.2.1
                          date: 2020-08-05T12:34:06.377Z
                        - commits:
                            - subject: >-
                                Fix typing when id is specified to be `AnyObject
                                | undefined`
                              hash: c4802cb748b1552345f036120c3aa6254e6cc946
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.6.1
                          date: 2020-08-11T17:10:09.498Z
                        - commits:
                            - subject: 'Deprecate `$expand: { ''a/$count'': {...} }`'
                              hash: 8be33ad064905476e3f21978b7e1d760f5e27f4e
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                            - subject: >-
                                Deprecate `resource: 'a/$count'` and update
                                typings to reflect it
                              hash: 779cc424cb6d2562aa9a98a3ff083b68308d9797
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.6.0
                          date: 2020-08-11T16:18:59.088Z
                        - commits:
                            - subject: >-
                                Add `options: { $count: { ... } }` sugar for top
                                level $count
                              hash: 13072f715da6c0ca3eab08584eaa48f39ea985b2
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                            - subject: >-
                                Add `$expand: { a: { $count: { ... } } }` sugar
                                for $count in expands
                              hash: b2afb397c09a31c9ab3c1c370846c1b8762db32d
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.5.0
                          date: 2020-08-11T10:25:19.860Z
                        - commits:
                            - subject: Improve return typing of `subscribe` method
                              hash: 2311fe03b04f4e6149693a9e5c392f9f0bb2a549
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.4.0
                          date: 2020-08-11T10:16:40.301Z
                        - commits:
                            - subject: Fix Poll.on typings
                              hash: 315697d9c2c0e59652bcceddb7f36cb498269f64
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: >-
                                Improve return typing when id is passed to GET
                                methods
                              hash: 2d174f758314a20c01a171ac5826b71e4f623dcc
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                            - subject: >-
                                Remove `PromiseResult` type, use
                                `Promise<PromiseResultTypes>` instead
                              hash: 905f275731af6ce2560c37f41343052f05365cd1
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                            - subject: >-
                                Remove `PromiseObj` type, use `Promise<{}>`
                                instead
                              hash: 78aa2410aa86bf73cc4831f2149fc85e28a6ea23
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.3.0
                          date: 2020-08-11T08:57:09.655Z
                        - commits:
                            - subject: >-
                                Add `$filter: { a: { $count: 1 } }` sugar for
                                $count in filters
                              hash: f2fef3833f321bf81543c62a9a3db09d7fbc0a4a
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.2.0
                          date: 2020-08-10T16:44:49.238Z
                        - commits:
                            - subject: >-
                                Remove redundant ParamsObj/SubscribeParamsObj
                                types
                              hash: f5fc6762aa8f1918424fb5e1c1a05435f07af285
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.1.2
                          date: 2020-08-10T16:32:09.666Z
                        - commits:
                            - subject: Make use of `mapObj` helper in more places
                              hash: 2189f9918cb515071d2f6ecb941b0d838ee6c5ea
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: >-
                                Use `Object.keys` in preference to
                                `hasOwnProperty` where applicable
                              hash: 2ea0e9549974150ef9e7f82206f25000407e37ba
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.1.1
                          date: 2020-08-10T15:42:09.364Z
                  version: pinejs-client-request-7.2.0
                  date: 2020-08-12T07:00:59.754Z
          version: balena-supervisor-11.12.6
          date: 2020-08-18T17:30:40.807Z
        - commits:
            - subject: Refactor configurable backend class names
              hash: ff404456b3c3edaf33fe2199387db47d9be03503
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.12.5
          date: 2020-08-12T19:06:59.672Z
  version: 2.55.0
  date: 2020-09-03T09:07:51.151Z
- commits:
    - subject: Pack /lib/vdso/Makefile in kernel-modules-headers
      hash: 37ce34cbb4d1ddb8af5a0eafb40fc16436b6e2b8
      body: >
        For the updated 5.4 kernel on RPI4, kernel-headers-test fails with

        arch/arm64/kernel/vdso/Makefile lib/vdso/Makefile No such file or
        directory

        make[1] *** No rule to make target 'lib/vdso/Makefile'.  Stop.

        make *** [vdso_prepare] Error 2


        when doing modules_pepare in the docker build


        This patch adds /lib/vdso/Makefile to kernel-modules-headers

        compressed archive
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Pack /lib/vdso/Makefile in kernel-modules-headers
        changelog-entry: Pack /lib/vdso/Makefile in kernel-modules-headers
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
      nested: []
  version: 2.54.3
  date: 2020-08-25T11:58:10.547Z
- commits:
    - subject: 'balena-supervisor: Update to v11.12.4'
      hash: 99d9a4df967535d77f3918d696845ade57aa198e
      body: |
        Update balena-supervisor from v11.12.2 to v11.12.4
      footer:
        Change-type: patch
        change-type: patch
        Backport-to: next
        backport-to: next
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: >-
                bug: Firewall not blocking supervisor access from outside the
                device
              hash: 5aecd94e243ee55cffbb9aa47e7adfc437401de3
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.12.4
          date: 2020-08-12T12:45:26.689Z
        - commits:
            - subject: 'bug: Allow DNS through firewall for local containers'
              hash: e9b536a889542588e2f79247ed7937c709fdf3d2
              body: |
                We provide a local DNS server for containers to use and this
                was not allowed through the firewall when enabled.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.12.3
          date: 2020-08-11T14:19:40.945Z
  version: 2.54.2
  date: 2020-08-12T17:01:50.068Z
- commits:
    - subject: Package iwlwifi-cc-a0-48 firmware separately
      hash: 6d92504349952a0bafc13afc1631c09dadf4d257
      body: |
        We add this fw on its own package so that boards can add it to
        rootfs (for Microsoft Surface Go 2 more specifically)
      footer:
        Changelog-entry: Package iwlwifi-cc-a0-48 firmware separately
        changelog-entry: Package iwlwifi-cc-a0-48 firmware separately
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.54.1
  date: 2020-08-07T07:33:15.659Z
- commits:
    - subject: Update balena-supervisor from v11.9.9 to v11.12.2
      hash: 9772bf13f7f1a07946138eb713d23b245ffb6dd0
      body: |
        Update balena-supervisor from v11.9.9 to v11.12.2
      footer:
        Changelog-entry: Update balena-supervisor from v11.9.9 to v11.12.2
        changelog-entry: Update balena-supervisor from v11.9.9 to v11.12.2
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Fix device-tag fetching function
              hash: aa823c1cfca7a026b1c4cf3580e690625fee0d58
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-11.12.2
          date: 2020-08-05T12:33:50.608Z
        - commits:
            - subject: Update resumable-request
              hash: abf5cac4a3d784a6ad1f545f14b15b5149f13afa
              body: |
                Update resumable-request from 2.0.0 to 2.0.1
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested:
                - commits:
                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                      hash: e11bf1fd3f505a83eb1c0bd872d3a90ee1ba4137
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Optimize lodash dependency
                      hash: 40146b216300b0b16f7004e8266d16696928ea14
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: resumable-request-2.0.1
                  date: 2020-08-05T09:48:49.433Z
          version: balena-supervisor-11.12.1
          date: 2020-08-05T11:28:50.822Z
        - commits:
            - subject: Update contrato to 0.5
              hash: 17c370863cca6bf5ddfaceffdbae96b92db24bbc
              body: |
                Update contrato from 0.2.1 to 0.5.0
              footer:
                Change-type: minor
                change-type: minor
              author: Pagan Gazzard
              nested:
                - commits:
                    - subject: Remove handlebars-helpers to shrink bundle size
                      hash: 1305553f48747e0e450c89254790e67674c252b7
                      body: >
                        We can re-add specific helpers as necessary without
                        needing to bloat

                        with the entirety of the helpers package
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested: []
                  version: contrato-0.5.0
                  date: 2020-08-05T08:38:30.030Z
                - commits:
                    - subject: Update skhema to 5.x
                      hash: 1eb7058e8e34d708c03c5270e849aff4576773e7
                      body: |
                        Update skhema from 2.3.0 to 5.3.2
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Switch to typed-error
                              hash: 234c6da3d4b2ca6784d7714a7b7d46813b43310a
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: skhema-5.3.2
                          date: 2020-08-04T21:33:19.366Z
                        - commits:
                            - subject: >-
                                Add .versionbot/CHANGELOG.yml for nested
                                changelogs
                              hash: 7c61cf2f1e120944c3aef29dfe208f2e37139a6a
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: skhema-5.3.1
                          date: 2020-08-04T21:07:49.365Z
                        - commits:
                            - author: Juan Cruz Viotti
                              body: ''
                              footers:
                                change-type: minor
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 7e3fd20fb84d71c67e2f11206c4cf60b4b2866c1
                              subject: >-
                                filter: Throw a custom error if the schema is
                                invalid
                          date: '2020-05-05T15:22:49Z'
                          version: skhema-5.3.0
                        - commits:
                            - author: StefKors
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Stef Kors <stef@balena.io>
                              hash: e90802b28b908dfcd4c54e432e72cd36ba390b09
                              subject: Add test to show .filter() not working correctly
                            - author: StefKors
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Stef Kors <stef@balena.io>
                              hash: 4ff1988ca8c78192ad0f92afb7f2bb3d2679fdd2
                              subject: >-
                                When combining with baseSchema merge enum with
                                AND operator
                          date: '2019-12-12T11:38:32Z'
                          version: skhema-5.2.9
                        - commits:
                            - author: Juan Cruz Viotti
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 2f8725cde8fc23de39346860a4fc283ada408eab
                              subject: Ensure values in "enum" are unique
                          date: '2019-11-27T20:30:03Z'
                          version: skhema-5.2.8
                        - commits:
                            - author: Juan Cruz Viotti
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 5afd0f25d791fe1f0d85957369a46292212de79e
                              subject: 'filter: Correctly handle "enum" inside "anyOf"'
                          date: '2019-11-27T19:34:08Z'
                          version: skhema-5.2.7
                        - commits:
                            - author: Juan Cruz Viotti
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 0bb8c525b58dc358b80ddd7a2ed53dc95fe662ae
                              subject: 'merge: Be explicit about additionalProperties'
                          date: '2019-11-19T09:19:11Z'
                          version: skhema-5.2.6
                        - commits:
                            - author: Lucian
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 864db6644a2cddfada888c3cb979498b2107eabe
                              subject: Add a resolver for the const keyword
                          date: '2019-05-09T15:49:10Z'
                          version: skhema-5.2.5
                        - commits:
                            - author: Juan Cruz Viotti
                              body: >-
                                This is very similar to the cache class they use
                                by default, with the

                                difference that it has a limit and won't grow
                                indefinitely, causing

                                memory leaks on long running applications like
                                Jellyfish.
                              footers:
                                change-type: patch
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 8dcdde578bdae9dad5786270b451bd45a7204115
                              subject: Configure AJV instances with an LRU cache
                          date: '2019-04-15T15:32:41Z'
                          version: skhema-5.2.4
                        - commits:
                            - author: Juan Cruz Viotti
                              body: >-
                                So we don't leak `SchemaObject` in the AJV
                                `_refs` object.
                              footers:
                                change-type: patch
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: f55993458fe587fa2884f116506bd27cb2aa3e87
                              subject: Set addUsedSchema to false in all AJV instances
                          date: '2019-04-15T15:15:23Z'
                          version: skhema-5.2.3
                        - commits:
                            - author: Lucian
                              body: 'Fixes #43'
                              footers:
                                change-type: patch
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 90dd1490303d06c0e44be715464ddc4f598f4adb
                              subject: Fix bug in scoreMatch when handling arrays
                          date: '2019-03-20T10:24:26Z'
                          version: skhema-5.2.2
                        - commits:
                            - author: Lucian
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 846dc2265f73018870d88c704630578e6715afa8
                              subject: Fix bad require name and .only in tests
                          date: '2019-03-19T15:47:17Z'
                          version: skhema-5.2.1
                        - commits:
                            - author: Lucian Buzzo
                              body: >-
                                Only match elements with .filter() if the base
                                schema (the schema with no

                                anyOf branches) matches the element.
                              footers:
                                change-type: patch
                                signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                              hash: 9652d825d07fd8de0b51a5ae2645f3f6f79ee860
                              subject: '.filter(): Only match if the base schema matches'
                          date: '2020-04-30T16:22:18Z'
                          version: skhema-5.2.10
                        - commits:
                            - author: Lucian
                              body: ''
                              footers:
                                change-type: minor
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 647943a9d7fad1338ad800509a85636b150d576e
                              subject: >-
                                Add ability to provide custom resolvers to
                                merge()
                          date: '2019-03-19T12:14:12Z'
                          version: skhema-5.2.0
                        - commits:
                            - author: Lucian
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: c00be29c12b14858982cd2997088d065ff173870
                              subject: Split up and optimize lodash dependencies
                          date: '2019-02-08T11:58:56Z'
                          version: skhema-5.1.1
                        - commits:
                            - author: Lucian Buzzo
                              body: ''
                              footers:
                                change-type: minor
                                signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                              hash: 5c48f980bfad6eb0a15d6c18d0898fbe226ddddd
                              subject: >-
                                feature: Implement method for restricting a
                                schema by another schema
                          date: '2019-01-08T11:00:52Z'
                          version: skhema-5.1.0
                        - commits:
                            - author: Lucian
                              body: >-
                                Using a strictly defined API allows us to
                                improve performance
                              footers:
                                change-type: major
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 04f497a509e4129977e696a6637fe2724a7fb7e0
                              subject: Remove ability to add custom keywords or formats
                          date: '2018-12-31T07:38:57Z'
                          version: skhema-5.0.0
                        - commits:
                            - author: Lucian
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 219f90ed5751e2211d9acb0bbd3311c39e12a180
                              subject: Improve performance of clone operations
                          date: '2018-12-31T07:20:46Z'
                          version: skhema-4.0.4
                        - commits:
                            - author: Lucian
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 61318967874690eb3b85a9921fe27d3ce5c2494d
                              subject: Don't bust AJV cache
                          date: '2018-12-10T12:09:43Z'
                          version: skhema-4.0.3
                        - commits:
                            - author: Giovanni Garufi
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Giovanni Garufi <giovanni@balena.io>
                              hash: 1f6c87de94ef905ea39972630364c74beb55057a
                              subject: Add benchmark tests
                          date: '2018-12-10T11:47:01Z'
                          version: skhema-4.0.2
                        - commits:
                            - author: Lucian
                              body: 'Fixes #30'
                              footers:
                                change-type: patch
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: d59a81567bf84a90182687a5385538ff7a599ce0
                              subject: >-
                                Recurse through nested `anyOf` statements when
                                filtering
                          date: '2018-12-04T13:29:31Z'
                          version: skhema-4.0.1
                        - commits:
                            - author: Lucian
                              body: >-
                                This better follows the way that JSON schema
                                works
                              footers:
                                change-type: major
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 7c479564ca6c611c1576c32b63ac9dba06c8b2c7
                              subject: >-
                                Treat undefined additionalProperties as true
                                instead of false
                          date: '2018-12-03T13:40:59Z'
                          version: skhema-4.0.0
                        - commits:
                            - author: Juan Cruz Viotti
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 842aaf252085b9a80a1cd84776b0c871c8c949aa
                              subject: 'stryker: Increase test timeout'
                            - author: Juan Cruz Viotti
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 781b74d9ca847acfbfa3883fda66f4828824e3bc
                              subject: 'test: Configure Stryker for mutative testing'
                          date: '2018-11-30T16:58:05Z'
                          version: skhema-3.0.1
                        - commits:
                            - author: Giovanni Garufi
                              body: >-
                                Merge multiple anyOf subschemas that match into
                                a single one.

                                Add axioms in test
                              footers:
                                change-type: minor
                                signed-off-by: Giovanni Garufi <giovanni@balena.io>
                              hash: 23cec34382d98b6c10a1d5483113a1155ba6565a
                              subject: Define additionalProperty inheritance in anyOf
                            - author: Lucian
                              body: ''
                              footers:
                                change-type: major
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 93a65b6edb10397b3417a3719d4471cd0eeb4f68
                              subject: Formalising filtering logic
                            - author: Lucian
                              body: ''
                              hash: d55a7cac6bd9ce238918eea99ed64894e5e7d066
                              subject: Added failing test case with mutation
                          date: '2018-11-29T17:53:28Z'
                          version: skhema-3.0.0
                        - commits:
                            - author: Juan Cruz Viotti
                              body: >-
                                This is a hack, and should be reverted once we
                                get to the bottom of it.

                                It will impact performance, but right now there
                                are things that should

                                be filtered and are not, so lets get this merged
                                for security purposes.

                                Hopefully this library will be re-written soon.
                              footers:
                                change-type: patch
                                see: >-
                                  https://github.com/balena-io/jellyfish/pull/878
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: fd9841b296007e1ddc04d092c3b28c61a438be6c
                              subject: >-
                                hotfix: Make sure things that should be filtered
                                are filtered
                          date: '2018-11-07T13:42:47Z'
                          version: skhema-2.5.2
                        - commits:
                            - author: Juan Cruz Viotti
                              body: ''
                              footers:
                                change-type: patch
                                see: >-
                                  https://github.com/balena-io/jellyfish/issues/845
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 3ef59f5e552a11dffa72c6ff758210aebfe35bcb
                              subject: >-
                                filter: Force additionalProperties: true on
                                match schemas
                          date: '2018-11-06T17:26:53Z'
                          version: skhema-2.5.1
                        - commits:
                            - author: Lucian Buzzo
                              body: ''
                              footers:
                                change-type: minor
                                signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                              hash: 3536e75a128f7b79d13727d3a5562df48e6f9d00
                              subject: >-
                                Validate against just the schema if
                                `options.schemaOnly` is true
                          date: '2018-10-16T11:59:41Z'
                          version: skhema-2.5.0
                        - commits:
                            - author: Lucian Buzzo
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                              hash: 513eeb6d006270ac25a2fb9a802df9c398658548
                              subject: >-
                                merge: When merging an empty array, return a
                                wildcard schema
                          date: '2018-10-09T20:19:28Z'
                          version: skhema-2.4.1
                        - commits:
                            - author: Lucian Buzzo
                              body: ''
                              footers:
                                change-type: minor
                                signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                              hash: 5a3844a72a7bb0bad355d6a991a9a2f005c3a3b9
                              subject: 'validate: Make object optional'
                          date: '2018-10-09T16:52:53Z'
                          version: skhema-2.4.0
                  version: contrato-0.4.0
                  date: 2020-08-04T21:58:55.782Z
                - commits:
                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                      hash: 783273aac70fd631d5a80e33b55ef468be4c3ec7
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: contrato-0.3.1
                  date: 2020-08-04T21:46:25.163Z
                - commits:
                    - author: Stevche Radevski
                      body: >-
                        Handlebars supports very basic if condition checking,
                        but it only checks for

                        existence of a field. There are times when we want to
                        combine conditions in order

                        to generate something as part of a blueprint, without
                        defining a completely separate

                        blueprint for it (like generating network config schema
                        if a dt has a wifi chip or

                        a usb port to which we can connect a dongle).
                      footers:
                        change-type: minor
                        signed-off-by: Stevche Radevski <stevche@balena.io>
                      hash: 90c3356b356920b8a6dd95a478dd6cb39e6ad148
                      subject: Add logical operator support in templates
                  date: '2020-07-17T12:02:34Z'
                  version: contrato-0.3.0
          version: balena-supervisor-11.12.0
          date: 2020-08-05T09:55:18.695Z
        - commits:
            - subject: Bump elliptic from 6.5.2 to 6.5.3
              hash: c11004cd24fe66e6af7f16a79c0cc9e8847eb415
              body: >
                Bumps [elliptic](https://github.com/indutny/elliptic) from 6.5.2
                to 6.5.3.

                - [Release notes](https://github.com/indutny/elliptic/releases)

                -
                [Commits](https://github.com/indutny/elliptic/compare/v6.5.2...v6.5.3)
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: 'dependabot[bot] <support@github.com>'
                signed-off-by: 'dependabot[bot] <support@github.com>'
              author: 'dependabot[bot]'
              nested: []
            - subject: Update pinejs-client-request and make use of a named key
              hash: 511cbbe74e9dce51490234c66035ded873091b4e
              body: |
                Update pinejs-client-request from 7.0.0 to 7.1.0
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested:
                - commits:
                    - subject: Update dependencies
                      hash: c46281f165eb6b05def4bd9eed82df37629c56e7
                      body: |
                        Update pinejs-client-core from 6.0.0 to 6.1.0
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Add support for using named ids
                              hash: f6035bf5240e8aea1b92997d976cebd9a1857a61
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.1.0
                          date: 2020-07-21T10:31:09.457Z
                        - commits:
                            - subject: Drop unnecessary async from request()
                              hash: dfd4c8c39327fe2e1706a8180e3c3f56d4229b77
                              body: >
                                This allows consumers like
                                pinejs-client-supertest

                                to have all the methods returning different
                                Promise

                                types based solely on the implementation of the

                                request() method.
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                              author: Thodoris Greasidis
                          version: pinejs-client-js-6.0.1
                          date: 2020-06-19T16:55:46.305Z
                  version: pinejs-client-request-7.1.0
                  date: 2020-07-28T10:43:21.213Z
                - commits:
                    - subject: Increase default timeout to 59s
                      hash: fc17266fe147bf40086feb81b6c96a344bf74f29
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested: []
                  version: pinejs-client-request-7.0.1
                  date: 2020-07-28T10:29:41.385Z
          version: balena-supervisor-11.11.7
          date: 2020-08-04T09:33:41.743Z
        - commits:
            - subject: >-
                Fixes documentation - ping doesn't need apiKey and minor
                documentation formatting changes.
              hash: 82dda7d852773a58ddbdc4a614ef3a3b7ff15462
              body: ''
              footer:
                Change-Type: patch
                change-type: patch
                Signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
                signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
                Co-authored-by: xginn8 <xginn8@users.noreply.github.com>
                co-authored-by: xginn8 <xginn8@users.noreply.github.com>
              author: Nitish Agarwal
              nested: []
          version: balena-supervisor-11.11.6
          date: 2020-07-31T18:10:27.470Z
        - commits:
            - subject: 'Fixes #1299 v1 start/stop endpoint issue with service access.'
              hash: 11cac2dd696dc267758351be131c3db8eae4470e
              body: ''
              footer:
                Change-Type: patch
                change-type: patch
                Signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
                signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
              author: Nitish Agarwal
              nested: []
          version: balena-supervisor-11.11.5
          date: 2020-07-31T17:42:23.827Z
        - commits:
            - subject: 'bug: Fix undefined containerId object'
              hash: 59561132cc11074d2acf4ac06b477196b42cf569
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.11.4
          date: 2020-07-31T10:53:18.364Z
        - commits:
            - subject: fix matching extra_uEnv backend with unsupported devices
              hash: 9b37ce96f959ccf27963ebb1c3e9eccd2ed998c7
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.11.3
          date: 2020-07-30T18:15:41.698Z
        - commits:
            - subject: >-
                Fix an issue with reporting initial config using a stale target
                state
              hash: ffe3da6261e486b875c5c1792b7bdc8e0a0f996e
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-11.11.2
          date: 2020-07-30T09:50:26.292Z
        - commits:
            - subject: fix up "atleast" -> "at least"
              hash: 15c57a86b47c4df3dbf5e20c5dbbbd40a6344812
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: balena-supervisor-11.11.1
          date: 2020-07-29T15:57:59.129Z
        - commits:
            - subject: Support setting device/fleet configuration in extra_uEnv.txt
              hash: cac2e3612c978b5fbcf837d78a4a0bff5ba5166a
              body: ''
              footer:
                Closes: '#1385'
                closes: '#1385'
                Change-Type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.11.0
          date: 2020-07-28T20:38:18.462Z
        - commits:
            - subject: Extract current state reporting to its own module
              hash: eeda7e3ab17dc68d592acc2e4f58f20dad9a677a
              body: ''
              footer:
                Change-type: minor
                change-type: minor
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-11.10.0
          date: 2020-07-24T16:39:30.078Z
        - commits:
            - subject: log detection of changes to VPN status
              hash: 41987d8e7600550da2d09e050db58c3ad969210e
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: dt-rush <nickp@balena.io>
                signed-off-by: dt-rush <nickp@balena.io>
              author: dt-rush
              nested: []
          version: balena-supervisor-11.9.10
          date: 2020-07-23T23:22:47.297Z
  version: 2.54.0
  date: 2020-08-06T23:12:50.461Z
- commits:
    - subject: 'balena-unique-key: Ensure config.json is synced after replacing'
      hash: d0e218929b779b1051e14414b3b378b6d5928969
      body: |
        Ensuring changes are flushed to the filesystem at this point
        helps prevent config.json from becoming corrupt if power is cut.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.53.14
  date: 2020-08-06T12:48:20.058Z
- commits:
    - subject: 'flasher-register: if no supervisor information found, report null'
      hash: dee971c0dbeb6e8363f3e321af582e99627626e9
      body: |
        In b791055f3f6ffd6cc5796569a7321c5060129eea I attempted to have flasher
        images report their preconfigured supervisor version without a good
        understanding of how flasher images work. As it turns out no supervisor
        information is maintained in the flasher image itself, so until that is
        sorted stop reporting a blank string for the supervisor version.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
      nested: []
  version: 2.53.13
  date: 2020-08-05T20:17:40.378Z
- commits:
    - subject: 'systemd: Set net.ipv4.conf.all.rp_filter in balena-os-sysctl'
      hash: a0573b7df13292aff6c7670246ed780342593376
      body: |
        The warrior branch does not backport this configuration
        like the older branches do. Let's move this setting in the
        balena-os-sysctl file to avoid issues where some device integration
        layers set the rp_filter mode to strict and break connectivity.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.53.12
  date: 2020-08-04T14:01:14.955Z
- commits:
    - subject: Use a named key when querying for device by uuid
      hash: e2c6614d28fe498853297891eb0feeb4b1577a7b
      body: ''
      footer:
        Change-type: patch
        change-type: patch
      author: Pagan Gazzard
      nested: []
  version: 2.53.11
  date: 2020-07-30T15:32:30.333Z
- commits:
    - subject: >-
        supervisor: allow supervisor updates without controlling the supervisor
        state
      hash: 6208f065e59d9c15e10e872bff788c0b80020983
      body: >
        Recently the supervisor added a codepath that assumes no files
        underneath it will change during runtime.

        OS update hooks can trigger a condition whereby the supervisor reboots
        the device during a HUP,

        which in turn bricks the device.


        Additionally, since unknown args cause this update to fail-closed,

        remove that barrier to future-proof more flag expansion.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
      nested: []
  version: 2.53.10
  date: 2020-07-29T12:42:50.816Z
- commits:
    - subject: 'balena-supervisor: Update to v11.9.9'
      hash: b991ede01e5140ef04f2e6fe9baa37a8ded95ab5
      body: |
        Update balena-supervisor from 11.9.8 to 11.9.9
      footer:
        Change-type: patch
        change-type: patch
        Backport-to: next
        backport-to: next
        Signed-off-by: Rich Bayliss <rich@balena.io>
        signed-off-by: Rich Bayliss <rich@balena.io>
      author: Rich Bayliss
      nested:
        - commits:
            - subject: 'common: Fix bug where aliases might be undefined'
              hash: 60132134deffd770a40d1e6f18fdd87cb2f9f52e
              body: >
                Should handle the scenario where the network aliases are
                undefined.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.9.9
          date: 2020-07-23T15:45:31.161Z
  version: 2.53.9
  date: 2020-07-23T17:44:58.146Z
- commits:
    - subject: 'resin-supervisor: Create required directories before launch'
      hash: 7be7738c655e37e48c1a98f9e1e0ff2795d66bf8
      body: |
        On commit a4ce26caadabcb1e87d944d78218cc32c579914e the supervisor moved
        from using --volume to using --mount to avoid the implicit creation of
        directories instead of files.

        However, in the case where the mount referred to a directory, these have
        to exist in the rootfs beforehand as --mount will not create them.

        This commit checks for the existence of the /var/log/supervisor-log
        directory and creates it if required.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.53.8
  date: 2020-07-23T04:33:45.808Z
- commits:
    - subject: 'balena-supervisor: Update to v11.9.8'
      hash: f919017e873062d30efa73d93a99ad0272675d24
      body: |
        Update balena-supervisor from 11.9.6 to 11.9.8
      footer:
        Change-type: patch
        change-type: patch
        Backport-to: next
        backport-to: next
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested:
        - commits:
            - subject: Bump lodash from 4.17.15 to 4.17.19
              hash: 01655b595555ae63ea1b70d623451c9ad3ec03dd
              body: >
                Bumps [lodash](https://github.com/lodash/lodash) from 4.17.15 to
                4.17.19.

                - [Release notes](https://github.com/lodash/lodash/releases)

                -
                [Commits](https://github.com/lodash/lodash/compare/4.17.15...4.17.19)
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: 'dependabot[bot] <support@github.com>'
                signed-off-by: 'dependabot[bot] <support@github.com>'
              author: 'dependabot[bot]'
              nested: []
          version: balena-supervisor-11.9.8
          date: 2020-07-22T14:44:00.974Z
        - commits:
            - subject: 'docker-utils: Test network gateway determination logic'
              hash: 6ef3bd2362ebd185053a351490f6561ec10b84d8
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
            - subject: Fix docker-util using incorrect reference for function
              hash: 3b3babfd62868e986788d6c2f4fcede915fb4711
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.9.7
          date: 2020-07-22T12:19:06.693Z
  version: 2.53.7
  date: 2020-07-23T03:02:50.027Z
- commits:
    - subject: >-
        recipes-containers/balena: Use separate service for loading healthcheck
        image
      hash: 94a21624ccc1871d911b12654967b60a76a7e77a
      body: |
        In rocko, systemd kills any script started in background,
        same thing happening to children that get re-parented.

        One solution to this is to use a separate service file for
        starting the healtcheck image load script, after balena.service
        was started.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.53.6
  date: 2020-07-21T13:44:11.006Z
- commits:
    - subject: 'balena-supervisor: Update to v11.9.6'
      hash: 826a68296c1ed3c7ce44753f6b8f85b9f8f87ef3
      body: |
        Update balena-supervisor from 11.9.4 to 11.9.6
      footer:
        Change-type: patch
        change-type: patch
        Backport-to: next
        backport-to: next
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Rich Bayliss
      nested:
        - commits:
            - subject: Fix purge and restart invocations by providing instanced apps
              hash: d14d8f31ccee62fa8cec88209cc3674a1b280e34
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
            - subject: Fix purge invocations of new singletons
              hash: d2a7d3b9653a2afbd8eca009b75871cf54dbf3ac
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-11.9.6
          date: 2020-07-20T17:25:37.311Z
        - commits:
            - subject: Update ESR version information
              hash: c2b534a51b3863bf3c787db00c7299517224464f
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-11.9.5
          date: 2020-07-14T14:31:17.340Z
  version: 2.53.5
  date: 2020-07-21T11:58:00.018Z
- commits:
    - subject: Add support for aufs5 on kernel 5.x variants
      hash: 6bdf4211aefb1f2c842f0797c50ae537fe2baae5
      body: |
        We add support for aufs on kernels 5.x variants
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add support for aufs5 on kernel 5.x variants
        changelog-entry: Add support for aufs5 on kernel 5.x variants
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
    - subject: Force choosing busybox-hwclock over util-linux-hwclock
      hash: 86dd4c761038ab0214a1fca8dd2839b4dbddfa39
      body: >
        Otherwise, as util-linux has a higher default alternative priority, the

        version in util-linux is chosen. It would seem they are exchangeable,
        but

        the busybox version reportedly works even if the RTC interrupt line is
        not

        connected.


        Fixes #1936
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Force choosing busybox-hwclock over util-linux-hwclock
        changelog-entry: Force choosing busybox-hwclock over util-linux-hwclock
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.53.4
  date: 2020-07-21T08:03:00.660Z
- commits:
    - subject: 'provisioning: provide base supervisor_version during provision'
      hash: b791055f3f6ffd6cc5796569a7321c5060129eea
      body: |
        In order to get closer to formally requiring a target supervisor release
        in the model, we should expand our provisioning process to provide the
        initial supervisor_version metadata. This connects back to tri-app.
      footer:
        Depends-on: 'https://github.com/balena-io/open-balena-api/pull/394'
        depends-on: 'https://github.com/balena-io/open-balena-api/pull/394'
        HQ: 'https://github.com/balena-io/balena-io/pull/2177'
        hq: 'https://github.com/balena-io/balena-io/pull/2177'
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
      nested: []
  version: 2.53.3
  date: 2020-07-16T13:48:11.858Z
- commits:
    - subject: Add LZ4 support config for older kernels
      hash: 403fc033b75b2672bf9c8ef9a27879096e7b88b7
      body: |
        Kernel versions between 4.0 and 4.9 use
        CONFIG_ZRAM_LZ4_COMPRESS, whereas newer ones
        use CONFIG_CRYPTO_LZ4.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.53.2
  date: 2020-07-16T08:17:26.378Z
- commits:
    - subject: Remove unnecessary config.json keys
      hash: b3222e619bbeebc0a2bd9e7419a9d8ae12b34dce
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Pagan Gazzard
      nested: []
  version: 2.53.1
  date: 2020-07-14T14:53:06.752Z
- commits:
    - subject: 'resin-supervisor: Create required directories before launch'
      hash: a93bd242d37246da83c1fa4368174d89b5c045f4
      body: |
        On commit a4ce26caadabcb1e87d944d78218cc32c579914e the supervisor moved
        from using --volume to using --mount to avoid the implicit creation of
        directories instead of files.

        However, in the case where the mount referred to a directory, these have
        to exist in the rootfs beforehand as --mount will not create them.

        This commit checks for the existence of the /resin-data/resin-supervisor
        directory and creates it if required.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Rebrand custom resin logos
      hash: dc215462dd5adcb171496be9aef237351d749d71
      body: |
        When performing hostOS updates, the resin-logo.png might have
        been customized by the customer.
        This commits renames it to the newly branded balena-logo.png

        If the resin-logo.png was unmodified, it will forcefully replace to
        balena-logo.png to force rebranding of older resin branded release.

        Fixes #1801
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Rebrand custom resin logos
        changelog-entry: Rebrand custom resin logos
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'plymouth: Remove patch that sets plymouth resin theme'
      hash: 8ccc9fc6862fdcaf9197bd443549411a3965279d
      body: |
        This is now configured as part of the plymouth-theme package.
      footer:
        Changelog-type: patch
        changelog-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'docker-disk: Update dind container to v19.03.10'
      hash: 6b325f57ff50be11e0c5f1f2420b911211f0ef06
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: 'docker-disk: Update to still supported dind container'
      hash: e325ab34b9d7f14ad5a0d85b36b02ee1e2b7fdf8
      body: >
        The `docker` Docker Hub repository lists what versions of the image

        are supported and 18.6 is not among them at all. Use the current stable

        line of 18.09 instead, to stay on supported versions. See more info at:

        https://hub.docker.com/_/docker


        For more reproducability, we are also including the patch level version

        of the container, which will give us more responsibility to update more

        frequently, but fewer surprises.


        Also explicitly set `DOCKER_HOST` for the daemon being started,
        otherwise

        the base image's setting might silently take over, and modify this.


        Replace deprecated `-g` (graph driver) with `--data-root` as well.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Gergely Imreh <gergely@balena.io>
        signed-off-by: Gergely Imreh <gergely@balena.io>
      author: Gergely Imreh
      nested: []
    - subject: Use udev for setting up wlan power management
      hash: 7826c8ba9a9b6a97021fbcd352f627518afa8d73
      body: |
        resin-init has a hardcoded command to disable power management
        on wlan0. This commit moves the logic to udev rule as there is
        no guarantee wlan0 is the only or default wlan adapter in the system.

        There seems to be no better way to identify a wlan device in udev
        than KERNEL=="wl*" which should match both net.ifnames=0 (wlanX)
        and net.ifnames=1 (wlpX).

        Fixes #1422
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Use udev for setting up wlan power management
        changelog-entry: Use udev for setting up wlan power management
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: >-
        Use --mount instead of --volume for bind mounts to the supervisor
        container.
      hash: 0fd442943d6b6c802df2f6e35d334ecde0f748e9
      body: >
        This makes sure the source path refers to an existing file/directory on

        the host.


        https://docs.docker.com/engine/reference/commandline/service_create/#differences-between---mount-and---volume


        This avoids situations where --volume implicitely creates a directory
        (see #1748)


        Fixes #1754
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Use --mount instead of --volume for bind mounts to the supervisor
          container.
        changelog-entry: >-
          Use --mount instead of --volume for bind mounts to the supervisor
          container.
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested: []
  version: 2.53.0
  date: 2020-07-14T09:38:34.861Z
- commits:
    - subject: Update balena-supervisor from v11.9.3 to v11.9.4
      hash: ac5bedaf68a8898d9102c1106d2cf374bbd00628
      body: |
        Update balena-supervisor from v11.9.3 to v11.9.4
      footer:
        Changelog-entry: Update balena-supervisor from v11.9.3 to v11.9.4
        changelog-entry: Update balena-supervisor from v11.9.3 to v11.9.4
        Change-type: patch
        change-type: patch
        Signed-off-by: Rich Bayliss <rich@balena.io>
        signed-off-by: Rich Bayliss <rich@balena.io>
      author: Rich Bayliss
      nested:
        - commits:
            - subject: 'bug: Fix unhandled promise rejection'
              hash: 898c7e71dae28aa046bdd3e075ecf0d6aa364142
              body: |
                When invoking iptables-restore it can fail. This wasn't handled
                and this makes sure that it fails gracefully.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.9.4
          date: 2020-07-13T12:07:37.513Z
  version: 2.52.7
  date: 2020-07-13T16:25:46.435Z
- commits:
    - subject: Update to use api v6 and fix a quoting bug
      hash: 1e5bd5d984945a3e97d6b4bf64c5ae6a0e81b0b3
      body: ''
      footer:
        Change-type: patch
        change-type: patch
      author: Pagan Gazzard
      nested: []
  version: 2.52.6
  date: 2020-07-13T13:35:04.787Z
- commits:
    - subject: Allow comments in iptables ruleset
      hash: a93ac5695c77cb36e6ec3ee1355b7b9da7b81d39
      body: >
        The latest v11.9.3 supervisor includes firewall configuration
        functionality

        that requires this module to be enabled on all platforms.
      footer:
        Connects-to: balena-io/balena-supervisor#1393
        connects-to: balena-io/balena-supervisor#1393
        Change-type: patch
        change-type: patch
        Changelog-entry: Allow comments in iptables ruleset
        changelog-entry: Allow comments in iptables ruleset
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.52.5
  date: 2020-07-10T16:11:02.635Z
- commits:
    - subject: Update balena-supervisor from v11.4.10 to v11.9.3
      hash: 16fc81358477615b26b6ee6917dc2b5a36081a57
      body: |
        Update balena-supervisor from v11.4.10 to v11.9.3
      footer:
        Changelog-entry: Update balena-supervisor from v11.4.10 to v11.9.3
        changelog-entry: Update balena-supervisor from v11.4.10 to v11.9.3
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Fix bug where a promise was not resolved in db-format
              hash: 270f9f854add8db84fadc0a96e127a6035128aef
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Convert deviceConfig module to a singleton
              hash: 5337c0102cd9bdbaaa41812fb1b8c44796ae9898
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.9.3
          date: 2020-07-08T11:07:16.427Z
        - commits:
            - subject: 'avahi: Control with HOST_DISCOVERABILITY'
              hash: 03ca0ee9add9872b5577833971b43682ae6cc427
              body: |
                The host config variable HOST_DISCOVERABILITY can be set to
                true or false, controlling the state of the avahi service. This
                determines if the device advertises it's presence over mDNS.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.9.2
          date: 2020-07-06T12:04:46.333Z
        - commits:
            - subject: 'firewall: Add Host Firewall functionality'
              hash: 28c5a44e714a3f155fbd528d0ec672dec1d96ef8
              body: |
                Controlled by BALENA_HOST_FIREWALL_MODE, the firewall can
                either be 'on' or 'off'.

                - In the 'off' state, all traffic is allowed.
                - In the 'on' state, only traffic for the core services provided
                  by Balena is allowed.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
          version: balena-supervisor-11.9.1
          date: 2020-07-01T17:45:22.146Z
        - commits:
            - subject: Added support for configuring FDT directive in extlinux.conf
              hash: 59fc589eb23bdf8c79c677734d2792b93380c94c
              body: ''
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.9.0
          date: 2020-06-23T19:58:27.412Z
        - commits:
            - subject: 'state: Report device MAC address to the API'
              hash: 1b91ef3405d1d2013cbdd6381ed69256c6432d18
              body: |
                When reporting device information, send the MAC address of any
                interfaces on the system. Also expose in the Supervisor API at
                the route GET /v1/device.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
          version: balena-supervisor-11.8.4
          date: 2020-06-22T09:43:53.370Z
        - commits:
            - subject: Update pinejs-client-request to 7.x
              hash: c15f77434ba3b957dc55f5df207026eb2028bd57
              body: |
                Update pinejs-client-request from 5.2.0 to 7.0.0
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested:
                - commits:
                    - subject: Empty commit to attempt republish
                      hash: 72c0214672a1e552cb8fa63f9a96aa47b5db19b1
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Switch from bluebird-lru-cache to lru-cache for caching
                      hash: e69b9cb202140de25f5b6cc9258cccb71854fd6f
                      body: ''
                      footer:
                        Change-type: major
                        change-type: major
                      author: Pagan Gazzard
                    - subject: Update target to es2018
                      hash: 1c2e8725305219f0c144cca583a1e8225d64c503
                      body: ''
                      footer:
                        Change-type: major
                        change-type: major
                      author: Pagan Gazzard
                    - subject: Remove bluebird dependency
                      hash: b066e578427c179c9cb7fca6dda2e2e17da01a46
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Convert to async/await
                      hash: 3ca7a939c2e25861cf3484b1ef31f7ccbec9369a
                      body: ''
                      footer:
                        Change-type: major
                        change-type: major
                      author: Pagan Gazzard
                    - subject: Update to pinejs-client-core 6.x
                      hash: 33f1f63efbb0a4a1c9fae0f45c4f2e00e59572f2
                      body: |
                        Update pinejs-client-core from 5.8.0 to 6.0.0
                      footer:
                        Change-type: major
                        change-type: major
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Increase minimum es version to es2015
                              hash: 52f3a97dc2b5aba07090a688fcd7afa2d2d789d8
                              body: ''
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Convert to async/await
                              hash: b6c6d1f1dc9e9b05e60964a87e1677b0b4cc74eb
                              body: ''
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Remove now unnecessary PinejsClientCoreFactory
                              hash: 35adea3c7c33a74920652ea547e8d649592e86fc
                              body: ''
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Switch to using native promises
                              hash: d87e4570be580dccb1e511068beaf79878e66d06
                              body: ''
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Drop support for deprecated request overrides
                              hash: 5aa89779bb06b9437382439b324f91d5fa9061b7
                              body: ''
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Drop support for deprecated `query` method
                              hash: 2a0d315b111832c0a15a4cc581cd3f3cb5c32cd7
                              body: ''
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: >-
                                Drop support for deprecated string based
                                requests
                              hash: 493a2bc970923eb8d79e684e10d4ec433803a20c
                              body: ''
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Use `;` for expand options instead of `&`
                              hash: 62f0f4c406ce87b2ba6d4a7f74c88107ac3144cb
                              body: ''
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.0.0
                          date: 2020-06-04T12:58:07.304Z
                  version: pinejs-client-request-7.0.0
                  date: 2020-06-16T10:57:45.926Z
                - commits:
                    - subject: Lazy load bluebird-lru-cache and lodash
                      hash: a2b6b74600b9ddecc98cb90a5d2d9ca28495b835
                      body: ''
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                  version: pinejs-client-request-6.2.0
                  date: 2020-06-08T15:32:03.904Z
                - commits:
                    - subject: Convert some lodash usage to native versions
                      hash: 93aaa1f518859bbe08a5746fbb1668c9fd446ae3
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: pinejs-client-request-6.1.4
                  date: 2020-06-08T11:53:33.697Z
                - commits:
                    - subject: Remove unused dependencies
                      hash: 58a13f0fbe9692be029812db19f22aac7bd6f0f9
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: pinejs-client-request-6.1.3
                  date: 2020-06-04T15:00:55.621Z
                - commits:
                    - subject: Update dependencies
                      hash: 0087b900328f1ba02699fc75664b0d23eb433e67
                      body: |
                        Update pinejs-client-core from 5.6.11 to 5.8.0
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: >-
                                Generate optional builds for es2015/es2018 as
                                well as the default es5
                              hash: 510682b0e2a9d2a338aa977bd4782ec60fc5b196
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.8.0
                          date: 2020-05-29T13:12:21.476Z
                        - commits:
                            - subject: Update dependencies
                              hash: 8141a6dfe6edd4c7e432d85c3533e6e02a43e2ff
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.7.1
                          date: 2020-05-25T16:57:46.154Z
                        - commits:
                            - subject: >-
                                Make transformGetResult a method , to ease
                                overriding the get method
                              hash: f267d4bfc006d1aabfb0ed1f79c9234ecb5c7d5f
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                                See: >-
                                  https://github.com/balena-io/balena-api/pull/2532
                                see: >-
                                  https://github.com/balena-io/balena-api/pull/2532
                              author: Thodoris Greasidis
                          version: pinejs-client-js-5.7.0
                          date: 2020-04-15T13:13:28.186Z
                  version: pinejs-client-request-6.1.2
                  date: 2020-06-02T15:55:01.003Z
                - commits:
                    - subject: Add linting
                      hash: 988d58f708da1bd1a4389a1a2129fa5d30706065
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: pinejs-client-request-6.1.1
                  date: 2020-03-19T21:47:11.959Z
                - commits:
                    - subject: Move require-npm4-to-publish to dev dependencies
                      hash: 084a19f61c408643d9a9448c1d656bed7791fec5
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Update dependencies
                      hash: 1b06cd6c26b60a4d043ad1aaaf6e4ab9b822ace2
                      body: |
                        Update pinejs-client-core from 5.3.6 to 5.6.11
                        Update typed-error from 3.1.0 to 3.2.0
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: >-
                                update deps and specify minimum engine
                                requirements
                              hash: 22f293afc187e67b88dab280951eb6e2bb504b24
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                          version: typed-error-3.2.0
                          date: 2019-11-20T09:52:39.017Z
                        - commits:
                            - subject: "\U0001F41B: Fix missing `deprecated.getStringParams` function"
                              hash: 53edb7e7485acd4310e9b04291894f6ab746285a
                              body: >
                                The function `deprecated.getStringParams` was
                                used, but

                                not defined.
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Andreas Fitzek <andreas@balena.io>
                                signed-off-by: Andreas Fitzek <andreas@balena.io>
                              author: Andreas Fitzek
                          version: pinejs-client-js-5.6.11
                          date: 2020-02-21T13:35:51.993Z
                        - commits:
                            - subject: Update to resin-lint 3.x
                              hash: f1b415154cc21b9880ad8ee1134ea9340220aba2
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.10
                          date: 2020-02-14T15:37:12.741Z
                        - commits:
                            - subject: >-
                                CircleCI: Remove deploy job as it's handled by
                                balenaCI
                              hash: d6c9a485e0da5f6aa600597b6d076a8dce411df7
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.9
                          date: 2020-02-14T15:27:02.200Z
                        - commits:
                            - subject: Add the missing `method` on the post method
                              hash: 2f649c3157a50277f6e168a64abb1593ac9d7a4f
                              body: |
                                Fixes a regression of v5.6.7.
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                              author: Thodoris Greasidis
                          version: pinejs-client-js-5.6.8
                          date: 2020-02-14T14:59:02.633Z
                        - commits:
                            - subject: Deprecate request overrides
                              hash: 84fa00ab60a98bbe56885ee5fabcccfc876a86d6
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Deprecate queries using a string url
                              hash: 8cd9be6b0642ff5b1cba0596f827a74fd76bbff5
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Deprecate `query` in favor of `get`
                              hash: ab77d10cad0a57914018b76c9755deddb3e078ef
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.7
                          date: 2020-02-14T12:52:12.207Z
                        - commits:
                            - subject: Allow resource/$count in $filter
                              hash: 7eac38f1ed6a3bcdf1e6c4be5dde50aca953359e
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.6
                          date: 2020-02-14T12:35:22.507Z
                        - commits:
                            - subject: Remove `defaults` helper in favour of `??`
                              hash: 806852bceb07a858572511609dc88ea0b748038e
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.5
                          date: 2020-01-30T17:09:03.006Z
                        - commits:
                            - subject: Avoid allocations when destroying a poll
                              hash: 8f397a83803ae43d19331f4c32952384ba9e7fe6
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.4
                          date: 2020-01-30T16:25:12.292Z
                        - commits:
                            - subject: Improve `RawFilter` typing
                              hash: 2006d4e7f0fecbb99357b82215da28978194db41
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.3
                          date: 2020-01-30T12:59:22.535Z
                        - commits:
                            - subject: Update dependencies
                              hash: e7314acbdd029ece267a4568bf15cb5dc333eec1
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.2
                          date: 2020-01-29T21:12:32.246Z
                        - commits:
                            - subject: Switch most CODEOWNERS entries to a team
                              hash: 3ef7e0db285ae54f96aee3f52319ac8d8c4d61e8
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.1
                          date: 2020-01-22T16:38:22.045Z
                        - commits:
                            - subject: >-
                                Add 'upsert' method supporting natural keys,
                                requires Pinejs ^10.19.1
                              hash: c8ebfceec3ecc1cc57ee6942db35730c6d993192
                              body: >
                                Detects unique constrain errors by 409
                                statusCodes.

                                Because of this, the upsert() method is only

                                supported when Pinejs ^10.19.0 is used.
                              footer:
                                Resolves: '#77'
                                resolves: '#77'
                                Change-type: minor
                                change-type: minor
                                Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                              author: Thodoris Greasidis
                          version: pinejs-client-js-5.6.0
                          date: 2019-07-12T20:46:17.091Z
                        - commits:
                            - subject: >-
                                Remove unnecessary `string` type that is handled
                                by the `Params` type
                              hash: 0ab1242860aa8b3ed4162a5ee25081c640297676
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.5.4
                          date: 2019-06-18T14:46:38.983Z
                        - commits:
                            - subject: >-
                                Use an .npmrc to prevent creating a package-lock
                                on each install
                              hash: 993c4ae09c3ba50e1d48e4156e86a7c890e54749
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                              author: Thodoris Greasidis
                          version: pinejs-client-js-5.5.3
                          date: 2019-06-18T10:24:38.995Z
                        - commits:
                            - subject: >-
                                Add some type casting so that it compiles on
                                TypeScript 3.5
                              hash: 695c053ceab9b146a8b755f9b041eb03e70b5914
                              body: ''
                              footer:
                                Resolves: '#79'
                                resolves: '#79'
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                              author: Thodoris Greasidis
                          version: pinejs-client-js-5.5.2
                          date: 2019-06-10T10:48:07.772Z
                        - commits:
                            - subject: >-
                                Fix downstream declaration creation errors due
                                to `Dictionary`
                              hash: a8a39edff8cc7e1d05fb9b67037718970e94296c
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.5.1
                          date: 2019-05-15T13:32:13.920Z
                        - commits:
                            - subject: >-
                                Add a prepare method that prepares a query into
                                a function
                              hash: eb7eccca7d90c453710575ebdf3adb9ef56835a7
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.5.0
                          date: 2019-05-15T11:51:46.450Z
                        - commits:
                            - subject: Add CODEOWNERS
                              hash: e01174008f812e0c24ec1036aa1f9ff0bc716e85
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Gergely Imreh <gergely@balena.io>
                                signed-off-by: Gergely Imreh <gergely@balena.io>
                              author: Gergely Imreh
                          version: pinejs-client-js-5.4.1
                          date: 2019-05-10T10:14:00.677Z
                        - commits:
                            - subject: >-
                                Add support for parameter aliases in resource
                                ids
                              hash: a4e6a640a3ced56bcd3ef7bf22770338e089a90d
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.4.0
                          date: 2019-05-10T09:57:46.863Z
                        - commits:
                            - subject: Deduplicate transformation of GET results
                              hash: dd856e24072f652684adf63af97408ee0ba7389c
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.3.10
                          date: 2019-05-10T09:44:09.422Z
                        - commits:
                            - subject: >-
                                Simplify how we expose types, which means
                                `subscribe` is now exposed
                              hash: f81e0cc59e75e0f9ffc71d9f122b9cfab9c05165
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.3.9
                          date: 2019-05-10T08:57:16.276Z
                        - commits:
                            - subject: Add automatic formatting via prettier
                              hash: a345d32f295acfa8ed4e5b815c24e1e7fdb335f2
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.3.8
                          date: 2019-05-09T17:38:43.260Z
                        - commits:
                            - subject: 'Remove node 4 build, add node 12'
                              hash: 8d549277d80746feadbdd8a6bba37eb076270440
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: >-
                                Add .versionbot/CHANGELOG.yml for downstream
                                changelogs
                              hash: 067bedf65e86a902b7334ed6e5f117d6ac41afde
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.3.7
                          date: 2019-05-08T15:41:50.201Z
                  version: pinejs-client-request-6.1.0
                  date: 2020-03-19T12:19:09.392Z
                - commits:
                    - subject: Add CODEOWNERS
                      hash: efc40c853d4392b866eb3784839871fad086fccd
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: pinejs-client-request-6.0.3
                  date: 2020-01-22T16:35:52.630Z
                - commits:
                    - subject: Add node 12 tests
                      hash: 624b1efadfbb920d718bd2f54f99e8eef0e5c645
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Add upstream for pinejs-client-core
                      hash: 33dc1299939483534686f52e903bb27f8a08b543
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: pinejs-client-request-6.0.2
                  date: 2019-05-08T15:57:24.879Z
                - commits:
                    - subject: >-
                        Update target to es2016, part of/fixing the typed-error
                        bump
                      hash: 6025bf882f6f2675b321571f327f59a4908da539
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: pinejs-client-request-6.0.1
                  date: 2019-04-23T20:43:52.266Z
                - commits:
                    - subject: 'typed-error: Update to v3.1.0'
                      hash: 82e50ac9992b3a157360eef5163f43a90fa9feea
                      body: |
                        Update typed error from 2.0.0 to 3.1.0
                      footer:
                        Change-type: major
                        change-type: major
                        Signed-off-by: Will Boyce <will@balena.io>
                        signed-off-by: Will Boyce <will@balena.io>
                      author: Will Boyce
                  version: pinejs-client-request-6.0.0
                  date: 2019-04-17T15:08:00.745Z
          version: balena-supervisor-11.8.3
          date: 2020-06-18T12:26:43.171Z
        - commits:
            - subject: Make service-manager module a singleton
              hash: 0e8d92e08af5f18fce9aa9e3e1e7057c98dee1c3
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Make volume-manager module a singleton
              hash: adaad786af161a7a3cdf61f2c63926e702fef790
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Make network-manager module a singleton
              hash: 8fc97b9de89392bb9e6fd562e12d261ced3990cb
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Add supervisor upgrade document
              hash: 989ec83a27621cab6c53dd026c2407dfe1b1b179
              body: ''
              footer:
                Connects-to: 'https://github.com/balena-io/balena-io/issues/2157'
                connects-to: 'https://github.com/balena-io/balena-io/issues/2157'
                Change-type: patch
                change-type: patch
                Signed-off-by: Hugh Brown <hugh@balena.io>
                signed-off-by: Hugh Brown <hugh@balena.io>
              author: Hugh Brown
          version: balena-supervisor-11.8.2
          date: 2020-06-17T14:59:07.731Z
        - commits:
            - subject: Update webpack dependencies
              hash: e1fb8683f4687aa0844bf73780916db34e3ebd3d
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.8.1
          date: 2020-06-16T12:08:37.495Z
        - commits:
            - subject: Use API v6
              hash: 1dccbaecd8a6cd8bf551e3b56131066e9de9ed35
              body: ''
              footer:
                See: 'https://github.com/balena-io/open-balena/issues/80'
                see: 'https://github.com/balena-io/open-balena/issues/80'
                Change-type: minor
                change-type: minor
              author: Akis Kesoglou
          version: balena-supervisor-11.8.0
          date: 2020-06-16T09:16:47.483Z
        - commits:
            - subject: Db-format module code fixups
              hash: 695d91d4948aa5b89c602135ccc8fba8321fd8bd
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.7.3
          date: 2020-06-15T09:55:57.277Z
        - commits:
            - subject: Add label to expose gpu to container
              hash: ae646a07ec6a6c96f7cb91f1d37898a94dbab47a
              body: >
                In the absence of an upstream implementation of the
                DeviceRequest API introduced

                as part of Docker API v1.40 we roll our own using a feature
                label.


                As per my comment in the code, we fall back to the default
                behavior of

                docker cli's `--gpu` and request single device with the `gpu`
                capabilty.

                The only implementation at the moment is the NVIDIA driver;
                here:

                https://github.com/balena-os/balena-engine/blob/master/daemon/nvidia_linux.go


                Background on the composefile implementation:

                https://github.com/compose-spec/compose-spec/issues/74

                https://github.com/docker/compose/issues/6691
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: 'https://github.com/balena-os/balena-jetson/pull/75'
                connects-to: 'https://github.com/balena-os/balena-jetson/pull/75'
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
          version: balena-supervisor-11.7.2
          date: 2020-06-11T12:11:35.793Z
        - commits:
            - subject: Move database app processing out to its own module
              hash: b31d5007fba001fcb71f5103447823f9a27bbfaa
              body: >
                This is part of the work to make the application-manager module
                much

                less monolithic, in preperation for system apps and more
                generally

                multi-app.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Make target-state-cache a singleton
              hash: c0e170c61f05a8fc01dc167276ccb041d6d2d846
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.7.1
          date: 2020-06-11T10:57:36.941Z
        - commits:
            - subject: Respect an initialDeviceName field in the config.json
              hash: b5918f0d84cea641c7ab9aae58aff99454d10253
              body: ''
              footer:
                Closes: '#909'
                closes: '#909'
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.7.0
          date: 2020-06-10T12:30:37.459Z
        - commits:
            - subject: Make images module a singleton
              hash: 2b3dc2fbcef63ae2024fe5fe41f30b0d56357943
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.6.6
          date: 2020-06-10T10:32:38.006Z
        - commits:
            - subject: 'fix: API auth missing on state GET/PATCH'
              hash: b89425c6079b74c709ef9872c6fc53726ffda6d3
              body: >
                When performing a state GET/PATCH the authentication header was
                being

                missed off.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss
                signed-off-by: Rich Bayliss
              author: Rich Bayliss
          version: balena-supervisor-11.6.5
          date: 2020-06-09T14:06:37.184Z
        - commits:
            - subject: Refactored @ts-ignore to @ts-expect-error in test file
              hash: ffe814e4479a962979e759dfec8618dbfb53008b
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.6.4
          date: 2020-06-08T17:28:46.843Z
        - commits:
            - subject: Make logger module a singleton
              hash: 651e48b1bd8e9a9d356b63f8cb05aaeba622840d
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Fix exponential backoff for state polling
              hash: e37b52dd689692eeca818907cf0d7e5876bec0b3
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.6.3
          date: 2020-06-08T16:21:57.822Z
        - commits:
            - subject: Make the event-tracker module a singleton
              hash: 389e14ec6b63cf4a997f0d25f8bbe6a6a435dd5c
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.6.2
          date: 2020-06-08T09:15:03.107Z
        - commits:
            - subject: Convert all test files to TS and add .spec to all filenames
              hash: 9fc2e86322249cfbc17db446bcd204f617b0a63e
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
            - subject: 'fix: Pin alpine python version'
              hash: 846545648bdc98392da7972558390f1ea26bfd24
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
          version: balena-supervisor-11.6.1
          date: 2020-06-05T22:42:07.292Z
        - commits:
            - subject: >-
                Isolate target state fetching to its own module which emits on
                update
              hash: 17a5d8dd4918916c954990cfb9666754434ef527
              body: ''
              footer:
                Change-type: minor
                change-type: minor
              author: Pagan Gazzard
          version: balena-supervisor-11.6.0
          date: 2020-06-03T21:39:57.630Z
        - commits:
            - subject: Make docker module a singleton
              hash: aad20e2c2f9bf62dfb2e3092d898b100f911ecc5
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.5.3
          date: 2020-06-02T16:59:27.552Z
        - commits:
            - subject: Make the config module a singleton
              hash: ff4a31a0e6269b823a04eeda2f433665617f583c
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Co-authored-by: Pagan Gazzard <page@balena.io>
                co-authored-by: Pagan Gazzard <page@balena.io>
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.5.2
          date: 2020-06-02T13:31:37.056Z
        - commits:
            - subject: Remove unused dependencies and dedupe
              hash: 6290993a79aa2231ac19bbe80a72af72cd8ae72e
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.5.1
          date: 2020-06-01T08:52:49.304Z
        - commits:
            - subject: Refactor device-state healthchecks to log reason for failure
              hash: 5550a3a330b6a27addd940c185dc7d489cd89464
              body: ''
              footer:
                Closes: '#1292'
                closes: '#1292'
                Change-type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.5.0
          date: 2020-05-29T20:26:07.486Z
        - commits:
            - subject: Update dependencies
              hash: 1decd87c21de6c6b2baf7cb9a93141c8d097b874
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.4.17
          date: 2020-05-29T18:26:52.490Z
        - commits:
            - subject: Make the db module a singleton
              hash: 1d7381327e3114c0d005316846429d26b01a3e4c
              body: >
                We were treating the database class as a singleton, but still
                having to pass

                around the db instance. Now we can simply require the db module
                and have

                access to the database handle.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.16
          date: 2020-05-29T14:03:57.770Z
        - commits:
            - subject: Check for ApiError before using it as such
              hash: 972b896c95daf1305468137aefe1e12ead0d59ee
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.15
          date: 2020-05-26T13:47:47.339Z
        - commits:
            - subject: >-
                check for 409 status code, rather than string matching uuid
                conflicts
              hash: eaaa9c257e750295ab6d464a7e1d2578297df84f
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.14
          date: 2020-05-21T19:01:36.060Z
        - commits:
            - subject: Use safeStateClone to avoid call-stack exceeding errors
              hash: 87278c0d8c56a9c05511db83499f7476efca0edd
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.13
          date: 2020-05-21T15:49:55.857Z
        - commits:
            - subject: Improved handling of invalid appId in V2 state endpoint
              hash: db7c27037cb3cc1e5f3ef8fbc676e0ee4a2ac0a1
              body: ''
              footer:
                Closes: '#1294'
                closes: '#1294'
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.4.12
          date: 2020-05-19T14:58:36.939Z
        - commits:
            - subject: >-
                Switch to balenaApi for the state patch as patching cannot be
                cached
              hash: fb90042c3955e9a1a177076a711a12e226e0ab49
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.4.11
          date: 2020-05-18T18:20:33.615Z
  version: 2.52.4
  date: 2020-07-09T16:05:22.280Z
- commits:
    - subject: 'systemd: Simplify zram swap unit dependencies to avoid ordering cycle'
      hash: 22a529014b649df8a9b4bf94fa9922d6d692e238
      body: |
        The default dependency:

        Before=swap.target

        Causes randomly appearing ordering cycles that leave the system in not
        functioning states.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
  version: 2.52.3
  date: 2020-07-09T08:03:52.827Z
- commits:
    - subject: 'kernel-resin: Make USB_SERIAL and USB_SERIAL_GENERIC built-ins'
      hash: 32c3f173fa4b8dc69f5ce8dc404d36585ab94c5b
      body: |
        These variables are defined as a bool and not tristate so they cannot be
        configured as a module.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: 'kernel-resin: Fix configuration warnings from newer kernels'
      hash: 819b7276aaa7ac4b4492fb9800ea074085c1ca82
      body: |
        Also, make the security section not checked by the builder as these
        configurations have disappeared from kernels > v4.8
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: 'kernel-resin: Update balena kernel configuration for updated engine'
      hash: f57846a1246e8fff506c95ee22c3347d83a5ec2e
      body: |
        Also, move configuration that will not be present in newer kernels to
        RESIN_CONFIGS_DEP so the kernel check task does not complain when not
        present.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
  version: 2.52.2
  date: 2020-07-06T09:57:46.257Z
- commits:
    - subject: Fix up UUID variable when communicating with API
      hash: 270c13c678d6dd67b5163063c8e8d9148c9a22e0
      body: ''
      footer:
        HQ: 'https://github.com/balena-io/balena-io/issues/2227'
        hq: 'https://github.com/balena-io/balena-io/issues/2227'
        Changelog-entry: Fix up UUID variable when communicating with API
        changelog-entry: Fix up UUID variable when communicating with API
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
  version: 2.52.1
  date: 2020-07-02T14:30:47.139Z
- commits:
    - subject: Add compressed memory swap support
      hash: 157794a7ae5958b27152c642437c5c7fbe838364
      body: |
        Enable compressed swap using zram by default.

        Fixes #1908
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add compressed memory swap support
        changelog-entry: Add compressed memory swap support
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: 'systemd-zram-swap: Add compressed memory swap support'
      hash: 4c5156543852a6c2d963bf33f4e4307a7cb303cb
      body: |
        This enables a compressed RAM swap of 25% of total system memory or 1GB,
        whichever smallest.

        Upstream Yocto has a zram implementation that's broken in warrior, and a
        new implementation introduced in Zeus that does not work in BalenaOS as
        we run two udevs, one in the initramfs and one in the main OS. The
        mkswap needs to happen in the initramfs udev otherwise the udev database
        is not updated with the swap device and the zram0 device is not detected
        by systemd.

        This implementation is simpler than the one upstream and common to all
        the supported Yocto versions. It uses a udev rule in the initramfs that
        creates the swap drive, and a swap unit in the main OS that enables it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: 'kernel-resin: Built-in zram configuration'
      hash: 2fcf092e08349bc66a2a90172668024e8a589d22
      body: >
        In preparation to using zram swap drives make this configuration
        built-in

        so it is available in the initramfs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
  version: 2.52.0
  date: 2020-06-30T15:06:27.072Z
- commits:
    - subject: 'resin-ntp-config: merge ''burst'' command with ''add server'' line'
      hash: 034ff61a58f30a980514157412c0455b52ddf744
      body: |
        When the user supplies an additional NTP server source which is a
        pool URL the 'burst' command may fail. This occurs when the pool
        URL resolves to a different IP addresses for the 'add server' and
        'burst' commands.

        To avoid this issue we can combine the burst functionality into the
        'add server' command by using the 'iburst' option. Although this
        option is not documented by the chronyc man page it has been present
        since v1.25 released in 2011.

        This fix has been tested via the balenaOS (2.51.1+rev1) command line
        running on a RPi3.
      footer:
        Change-type: patch
        change-type: patch
        Connects-to: '#1903'
        connects-to: '#1903'
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
  version: 2.51.8
  date: 2020-06-30T11:03:07.814Z
- commits:
    - subject: 'resin-image: Install extra_uEnv.txt in boot partition'
      hash: e323d312f518d1ad50382a72182cb3bcb2afbd1a
      body: |
        Do so only for devices that use u-boot.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.51.7
  date: 2020-06-25T11:34:26.632Z
- commits:
    - subject: 'initrdscripts: rootfs: Fix comparison to account for empty variable'
      hash: 63b3fac98b09f2a98ca44223f98cbc7c419197e3
      body: |
        Enclosing bootparam_root in between quotes makes the comparison work as
        expected with an empty argument.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Use UUID rather than ID when communicating with API
      hash: 9363bf9a0a634a5982b21870de08bc208d6e5f1f
      body: ''
      footer:
        Changelog-entry: Use UUID rather than ID when communicating with API
        changelog-entry: Use UUID rather than ID when communicating with API
        HQ: 'https://github.com/balena-io/balena-io/issues/2227'
        hq: 'https://github.com/balena-io/balena-io/issues/2227'
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
  version: 2.51.6
  date: 2020-06-25T08:11:55.137Z
- commits:
    - subject: Set chrony default servers as pools
      hash: 881e217ac1b1818237afb20312fd593259f44e2a
      body: >
        the `maxsources` directive is simply to maintain the current behavior of

        resolving four servers for synchronization. as noted in chrony's docs:


        > When a pool source is unreachable, marked as a falseticker, or has a
        distance larger than the limit set by the maxdistance directive, chronyd
        will try to replace the source with a newly resolved address from the
        pool.
      footer:
        Connects-to: '#1852'
        connects-to: '#1852'
        Change-type: patch
        change-type: patch
        Changelog-entry: Set chrony default servers as pools
        changelog-entry: Set chrony default servers as pools
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
  version: 2.51.5
  date: 2020-06-18T14:02:47.372Z
- commits:
    - subject: Generate nested changelogs for balena-engine
      hash: 16b4760bfe6958bacf67b00100ac5f8fc37fe6bd
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
  version: 2.51.4
  date: 2020-06-15T15:27:55.173Z
- commits:
    - subject: Revert allowing local resin-supervisor image updates
      hash: 1f689dbd57faf558dedf245462ed7c869a1aeb1a
      body: >
        The change this commit reverts allowed to update with a locally

        available image - but it also has the side effect of restarting the

        supervisor even if no update is required and that has unintentional

        consequences as
        https://github.com/balena-io/balena-supervisor/issues/1358


        This commit reverts 646e4ae809375f4abf35c55cd580e2c62a8812e2
      footer:
        Changelog-entry: Revert allowing local resin-supervisor image updates
        changelog-entry: Revert allowing local resin-supervisor image updates
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
  version: 2.51.3
  date: 2020-06-10T10:22:46.347Z
- commits:
    - subject: 'Disable u-boot console, silence u-boot in production builds'
      hash: 908590c49f7f4f89bfd1c2f8fdcaf8a0f3f3eceb
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: 'Disable u-boot console, silence u-boot in production builds'
        changelog-entry: 'Disable u-boot console, silence u-boot in production builds'
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Florin Sarbu
  version: 2.51.2
  date: 2020-06-08T15:34:26.850Z
- commits:
    - subject: 'openvpn: Add runtime dependency on bash'
      hash: f84dcfdd4493ee23c84940348dbbffff9ced48a2
      body: >
        The dependency is introduced by the upstream.sh and downstream.sh
        scripts.

        Bash is also a dependency not only for internal packages but for
        external

        scripts too.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Willem Remie
  version: 2.51.1
  date: 2020-06-04T10:21:31.775Z
- commits:
    - subject: 'balena-engine: Update to 19.03.13'
      hash: 6c08852dfad1bd4d62b4e86ce90602d0610e75b0
      body: |
        We also strip the binary using go's built-in mechanism instead
        of relying on yocto for it.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
  version: 2.51.0
  date: 2020-06-03T09:11:52.603Z
- commits:
    - subject: Use correct SRC_URI for bindmount
      hash: 38b1761db39bdd566396d0a2bbad1eda9273bf5d
      body: |
        The repo has changed and we need to accomodate for that change.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Use correct SRC_URI for bindmount
        changelog-entry: Use correct SRC_URI for bindmount
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.50.4
  date: 2020-06-02T12:50:09.159Z
- commits:
    - subject: 'os-helpers-fs: Fix shellcheck warnings'
      hash: 746cabdd234e9b94aeb6bd71289ac87d996301be
      body: |
        Fix all warnings from the shellcheck linter.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: >-
        Fallback to label root device matching to support devices with closed
        source bootloaders
      hash: f41735550c6e29ecd520e58f84c2281e4daf6c9f
      body: >
        Devices with closed source bootloaders that cannot be made to pass the
        UUID

        of the booting device (like smartphones, Jetson NX and Xabier), need to

        fallback to passing a label in the kernel command line.


        Fixes #1905
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Fallback to label root device matching to support devices with closed
          source bootloaders
        changelog-entry: >-
          Fallback to label root device matching to support devices with closed
          source bootloaders
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Fallback to labels and partlabels for devices with custom HUPs
      hash: e267e1dd2fcd4a841b09ba204bee6a58403a316c
      body: >
        Devices with custom HUPs, like Jetson devices that run BSP partition
        update

        scripts, do not have state symlinks when updating from legacy pre state

        symlinks OS versions, so they need to fallback to legacy label/partname

        resolution.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fallback to labels and partlabels for devices with custom HUPs
        changelog-entry: Fallback to labels and partlabels for devices with custom HUPs
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
  version: 2.50.3
  date: 2020-06-01T12:36:08.312Z
- commits:
    - subject: Enable the Analog Devices AD5446 kernel driver
      hash: 0231d9c4b33cd3fed9e4f552e3a9b916184e9b9f
      body: |
        At customer request we enable this driver.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Enable the Analog Devices AD5446 kernel driver
        changelog-entry: Enable the Analog Devices AD5446 kernel driver
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.50.2
  date: 2020-05-27T11:16:26.872Z
- commits:
    - subject: 'networkmanager: Remove build warning'
      hash: 5e5aa5c01e3f47a26ae055bb7b4fe44202a9b2f1
      body: |
        Include BPN in the generic bbappends extra path to avoid the
        following warning:

            WARNING: networkmanager_1.16.0.bb: Unable to get checksum for networkmanager SRC_URI entry 0001-wwan-Set-MTU-based-on-what-ModemManager-exposes.patch: file could not be found
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Remove busybox-syslog to use only systemd's journald
      hash: 9a1cedd66bbf298385c0a8460b3f9c3bb2da2f9e
      body: |
        All logging is handled by journald so remove the default dependency on
        busybox-syslog. It is still available to be explicitely included in
        images that might need it like initramfs images.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Remove busybox-syslog to use only systemd's journald
        changelog-entry: Remove busybox-syslog to use only systemd's journald
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Update CODEOWNERS
      hash: 272d16d3d12c4dc8f02a62d3edbe2eee6a1fca75
      body: |
        Update codeowners. @ZubairLK thanks for all the fish.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Backport NM patch for setting modem MTU correctly
      hash: fe7f8a33b1298f971b6dbc636bd06f86157196ce
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Backport NM patch for setting modem MTU correctly
        changelog-entry: Backport NM patch for setting modem MTU correctly
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: 'update-resin-supervisor: short circuit if remote image cannot be fetched'
      hash: 859d4cba74bbbcdfbdcdc4ab8c7c8e7471d8c676
      body: ''
      footer:
        Changelog-entry: >-
          update-resin-supervisor: short circuit if remote image cannot be
          fetched
        changelog-entry: >-
          update-resin-supervisor: short circuit if remote image cannot be
          fetched
        HQ: 'https://github.com/balena-io/balena/issues/2108'
        hq: 'https://github.com/balena-io/balena/issues/2108'
        Connects-to: '#1869'
        connects-to: '#1869'
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
    - subject: Update balena-supervisor from v11.4.1 to v11.4.10
      hash: 98c7f8fae159151bea3c475747b7838d4b4a4174
      body: |
        Update balena-supervisor from v11.4.1 to v11.4.10
      footer:
        Changelog-entry: Update balena-supervisor from v11.4.1 to v11.4.10
        changelog-entry: Update balena-supervisor from v11.4.1 to v11.4.10
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Fix leftover spurious return from typescript conversion
              hash: 6972dcd92d36576517681685a129e89a8a06f722
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.10
          date: 2020-05-18T14:23:19.048Z
        - commits:
            - subject: >-
                Catch errors in the target state poll so polling will always
                continue
              hash: dc187f0036875345ab489d14889c488eead24dc2
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.4.9
          date: 2020-05-18T13:17:23.537Z
        - commits:
            - subject: Avoid querying `instantUpdates` on every state poll
              hash: afae5d15d49a75168ebe6d4f8911e96918d0da5e
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.4.8
          date: 2020-05-18T12:25:53.833Z
        - commits:
            - subject: Fix default request options
              hash: b05d597ade83fcb1a58021ade0c11f70d232a39f
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.4.7
          date: 2020-05-16T13:08:14.505Z
        - commits:
            - subject: Remove CoffeeScript tests and all CoffeeScript tools
              hash: 466c7999dbbe19acf7bfc2dff260778d229b5524
              body: ''
              footer:
                Closes: '#1318'
                closes: '#1318'
                Change-Type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.4.6
          date: 2020-05-15T17:04:23.719Z
        - commits:
            - subject: Update to @balena/lint 5.x
              hash: 758f3caa48a53c00dd3230fe97e2f704968c4eb6
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.4.5
          date: 2020-05-15T11:11:04.464Z
        - commits:
            - subject: Add a random offset to the poll interval with each poll
              hash: 58c6a69e5a6045e898ce5748089f4dcad7d12bc3
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Closes: '#1242'
                closes: '#1242'
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.4
          date: 2020-05-15T09:36:33.693Z
        - commits:
            - subject: Cache service names in local log backend
              hash: 0bceffffb61a5970db0293a8f6d83fe8015163ef
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.3
          date: 2020-05-14T08:43:43.453Z
        - commits:
            - subject: Update engine information in package.json
              hash: bbfd87d3257dec064f62dc05ee7d523593e8f415
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.2
          date: 2020-05-13T08:49:32.854Z
  version: 2.50.1
  date: 2020-05-21T13:40:07.611Z
- commits:
    - subject: Use /tmp as bootparam_root storage
      hash: bab3cd7f50022127bfef50fde9cd445b6b55a7b2
      body: >
        From v2.49, the hostapp-update utility creates the /run directory in the

        root filesystem, however when huping from previous versions /run is not
        there.


        This commit switches to use /tmp to store the new UUID for the root
        partition on

        first boot after generating new UUIDs.
      footer:
        Changelog-entry: Use /tmp as bootparam_root storage
        changelog-entry: Use /tmp as bootparam_root storage
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Update to libqmi v1.24.10
      hash: c287550b2b2ca78c515b2d3336c5622af0c28303
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update to libqmi v1.24.10
        changelog-entry: Update to libqmi v1.24.10
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
    - subject: Set rust 1.36 as the preferred rust version from meta-balena-common
      hash: f0217237cd3c56dcada8909af1ba871356aaff8a
      body: |
        rust is used for various utilities in the OS.
        e.g. os-config, healthdog, bindmount, some others maybe

        At the moment, we haven't syncronized on one rust version and device
        integration layers can pick any meta-rust version. Which probably uses
        the latest rust version in the layer.

        Lets sync on 1.36 and move in steps when needed.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Set rust 1.36 as the preferred rust version from meta-balena-common
        changelog-entry: Set rust 1.36 as the preferred rust version from meta-balena-common
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Turn off wlan0 power save
      hash: 6aec8dc1e97d3a7cdbf494909c1696a4ebd1eb04
      body: |
        The power save has been switched from 'off' to 'on' in adf69fb
        with no apparent motivation, we consider it an oversight
        and the desired state is 'off'.

        Fixes #1850
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Turn off wlan0 power save
        changelog-entry: Turn off wlan0 power save
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
    - subject: Update os-config from 1.1.3 to 1.1.4
      hash: d5b311daccb6c4b3152562ab67d6ed3e4df608e1
      body: |
        Fixes versionbot's nested changelogs.

        Update os-config from 1.1.3 to 1.1.4
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update os-config from 1.1.3 to 1.1.4
        changelog-entry: Update os-config from 1.1.3 to 1.1.4
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: 'versionbot: Add changelog yml file'
              hash: 9b35f5e9cb6b27b92f7dc578a92532ade36c7a36
              body: >
                This file allows other components to uniquely parse the
                information that

                is contained in the changelog. It will be automatically managed
                by

                versionist by appending the new commits on top. This is needed
                to

                provide nested-changelogs.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
          version: os-config-1.1.4
          date: 2020-05-13T11:32:03.684Z
    - subject: Update balena-supervisor from v11.3.0 to v11.4.1
      hash: 4aafd0dc1991f34a64a2336876f95c71cf121178
      body: |
        Update balena-supervisor from v11.3.0 to v11.4.1
      footer:
        Changelog-entry: Update balena-supervisor from v11.3.0 to v11.4.1
        changelog-entry: Update balena-supervisor from v11.3.0 to v11.4.1
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Correctly check if value is a valid Integer
              hash: 838c1ebba4c3d4cba31f5ef233f09020fa3d03f7
              body: ''
              footer:
                Closes: '#1180'
                closes: '#1180'
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.4.1
          date: 2020-05-12T16:50:20.376Z
        - commits:
            - subject: Added endpoint to check if VPN is connected
              hash: 8295858b328d885782c6f0cead44248b1f17fd50
              body: ''
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.4.0
          date: 2020-05-12T01:24:43.749Z
        - commits:
            - subject: Fixed stubs for test suite
              hash: f6aa4dd015e8bd07c795f6c1e70adf99a6ffec94
              body: ''
              footer:
                Closes: '#1280'
                closes: '#1280'
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.3.11
          date: 2020-05-11T22:19:04.161Z
        - commits:
            - subject: >-
                Added more documentation to help new contributors start
                developing
              hash: 856e7cba2cc767ded0eeb5186a1cce19ea447735
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.3.10
          date: 2020-05-11T19:32:42.867Z
        - commits:
            - subject: Fix dindctl script and update balenaos-in-container
              hash: c317b02aef0bd2496f39ab245fa7c670e806f2e3
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Closes: '#1306'
                closes: '#1306'
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.3.9
          date: 2020-05-11T13:16:55.781Z
        - commits:
            - subject: Remove unnecessary config.json keys
              hash: 913418bb37aafe1e66dcc9cd6e1f84e89dee4712
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.3.8
          date: 2020-05-08T11:59:18.907Z
        - commits:
            - subject: 'CI: Use node 12 for tests to match runtime version'
              hash: 095f67c83011b60a06d75c5f0432937b93049ad5
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: 'CI: Use docker 18 client to match remote'
              hash: 8c1838fd5ea0d36787857d7040f8359d9618c061
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.3.7
          date: 2020-05-08T11:43:11.578Z
        - commits:
            - subject: Move SupervisorAPI state change logs to appropriate functions
              hash: 60c07fc2fc2c352091995c2e599752fb12c05148
              body: ''
              footer:
                Closes: '#1277'
                closes: '#1277'
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.3.6
          date: 2020-05-07T17:53:21.140Z
        - commits:
            - subject: Add 20k-ultra to codeowners
              hash: 74d012dc7f972ad30896007e78386a9c03224a05
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.3.5
          date: 2020-05-07T16:11:47.494Z
        - commits:
            - subject: Don't use the openvpn alias to check VPN status
              hash: 8f09022d1fd85f63d760017e19150b0f23a2884a
              body: ''
              footer:
                Closes: '#1293'
                closes: '#1293'
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.3.4
          date: 2020-05-06T16:19:09.090Z
        - commits:
            - subject: Use lstat rather than stat to avoid error with symlinks in sync
              hash: a7399fd78b914e6dccacd2935cd98f77176d65d8
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Closes: '#1301'
                closes: '#1301'
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.3.3
          date: 2020-05-06T12:51:38.623Z
        - commits:
            - subject: Move build files into build-conf and rename to build-utils
              hash: 02d088d351327ee5cab46029efb3ca7dce067fd6
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Fix knex migration require translation
              hash: 585bd803134db999425fae322fd4e7259caaa27a
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Closes: '#1274'
                closes: '#1274'
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.3.2
          date: 2020-05-05T16:58:04.403Z
        - commits:
            - subject: Remove legacy fallback to DROP rule in iptables
              hash: 31957566e5f5b21910988319472721ce2a931a38
              body: >
                This has not been necessary for a long time, and wwe can now
                remove it.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Add an ESTABLISHED flag to API iptables rules
              hash: 7b1f03ced509cdbdbea950e079ba2fab5c3699bb
              body: >
                This allows a response to an input with dport=`supevisor api
                port` and

                is required when the host OS is doing stateful firewalling.


                This should not affect things when stateful firewalling is not
                in

                effect, as the standard OUTPUT chain policy is ACCEPT, so we're
                just

                being explicit about it.
              footer:
                Change-type: patch
                change-type: patch
                Backport-to: 'next, current, sunset'
                backport-to: 'next, current, sunset'
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Add ESR information to repo.yml
              hash: 7f5395da885146ccf707fa52f0916afa7c832eeb
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.3.1
          date: 2020-05-05T11:18:20.667Z
    - subject: Update balena-supervisor from v10.11.0 to v11.3.0
      hash: 02dfac89f28dbf94f5069a68613147674f6c6c8b
      body: |
        Update balena-supervisor from v10.11.0 to v11.3.0
      footer:
        Changelog-entry: Update balena-supervisor from v10.11.0 to v11.3.0
        changelog-entry: Update balena-supervisor from v10.11.0 to v11.3.0
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Added Bearer Authorization spec
              hash: 2007a98940ea93f8064b045fce52133a4b48bac0
              body: ''
              footer:
                Closes: '#1249'
                closes: '#1249'
                Change-type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.3.0
          date: 2020-05-04T17:26:19.216Z
        - commits:
            - subject: Added explanation README for running specific tests
              hash: a8ac3d0bc9344653d68c43fe3298171b379823d7
              body: ''
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.2.0
          date: 2020-04-30T19:05:08.820Z
        - commits:
            - subject: Remove coverage running and modules
              hash: 6c360c2273ad2ab66ed254a1172f138d4c1430d8
              body: >
                The coverage no longer works with es2020, and nobody really pays
                any

                attention to the coverage as it is.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.11
          date: 2020-04-28T12:56:50.014Z
        - commits:
            - subject: Update balena-register-device to fix provisioning
              hash: 7c27a561a8401054304fb967d5805b446e0cb3a1
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.10
          date: 2020-04-27T17:48:09.624Z
        - commits:
            - subject: Added protocol to semver.org link
              hash: f9d7951cc5c1b20e989d04471a73d491118b3dfe
              body: ''
              footer:
                Closes: '#1256'
                closes: '#1256'
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.1.9
          date: 2020-04-22T21:42:29.017Z
        - commits:
            - subject: Actually remove dbus-native dependency
              hash: 508708aa32a56f23cc3a8df9e8071d340879a936
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.8
          date: 2020-04-21T13:30:10.250Z
        - commits:
            - subject: Fix livepush predicate for POSIX sh in entry.sh
              hash: e2eba6280d19e5d74c9e3bb7bbfeea797378b08d
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.7
          date: 2020-04-21T11:59:25.840Z
        - commits:
            - subject: Remove double printing of API status error
              hash: f599799950c9182cf97ef40dd894feb25c833e67
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.6
          date: 2020-04-21T08:57:07.074Z
        - commits:
            - subject:  Upgrade migrations to work with knex
              hash: f79142482921bf925e8bbf879b04ea533b5e01cd
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: "\U0001F4C4 Upgrade knex to avoid CVE-2019-10757"
              hash: a43d71d1ac6d6d09b3fb6375a5ad97690fd979c1
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.5
          date: 2020-04-15T12:40:19.254Z
        - commits:
            - subject: "\U0001F50E Also watch js files during livepush"
              hash: aa46be93d43540793245c0f6c2e895f32fb44e1e
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Clear changed files after successful livepush invocation
              hash: 4f2a534075ae2c6037070ef90f38a3066d08c53e
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Use livepush commands for copying and running dev specific steps
              hash: 67c3055fd4be341248a213828550b2b04ccc2677
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.4
          date: 2020-04-14T09:53:51.068Z
        - commits:
            - subject: "\U0001F680 Update supervisor to node12"
              hash: 826eec2e4fe29860d23cf6c2276390b5c7f26a09
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.3
          date: 2020-04-13T13:40:05.787Z
        - commits:
            - subject: Move from dbus-native to dbus
              hash: 37feb7e325ccf8639680e9a1f274b5755e5d35a2
              body: ''
              footer:
                Closes: '#1049'
                closes: '#1049'
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.2
          date: 2020-04-13T09:36:34.724Z
        - commits:
            - subject: Update copy-webpack-plugin
              hash: e5f1a6b6ed7473ebfaa9f67ec0d258e9edef38b7
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Update ts-loader to 6.x
              hash: 59f300df629422284665b19b5cf9d931bfc30fcf
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Update fork-ts-checker-webpack-plugin to 4.x
              hash: 9ed36ec00651199dc92afee1a41e6ef5bb8534c7
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.1.1
          date: 2020-04-10T11:51:52.777Z
        - commits:
            - subject: Support matching on device type within contracts
              hash: c9c0e650cb0f6655ac5a6c545e6b009c6fe6fa1c
              body: ''
              footer:
                Closes: '#1191'
                closes: '#1191'
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.0
          date: 2020-04-09T09:47:30.853Z
        - commits:
            - subject: Workaround a circular dependency
              hash: a59af6abe894000cd9cdc43d6963bdfc572e2f2b
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.0.9
          date: 2020-04-08T16:43:14.411Z
        - commits:
            - subject: Link sqlite with a system sqlite for quicker builds
              hash: b6dde69c4f8b52fa4928242d5b04d9c203f64c65
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.0.8
          date: 2020-04-08T13:06:43.833Z
        - commits:
            - subject: Convert application-manager.coffee to javascript
              hash: a2ec35456b8bc23641144fb0f7136d1d364f1fce
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.0.7
          date: 2020-04-08T11:18:00.532Z
        - commits:
            - subject: Don't sync test files with livepush
              hash: 6dda0efa1fc54765450aac235393883f293b9bc5
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.0.6
          date: 2020-04-08T07:44:13.444Z
        - commits:
            - subject: Add newTargetState event and use it for backup loading
              hash: 0a429f60a5dc93a428e5e88932e7d2bbcdb81b36
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.0.5
          date: 2020-04-07T13:53:23.726Z
        - commits:
            - subject: Don't wrap UpdatesLockedErrors with a detailed error
              hash: dda627021991f45818ce723e0ee83c085b2c785d
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.0.4
          date: 2020-04-07T12:15:24.426Z
        - commits:
            - subject: Allow spaces in volume definitions
              hash: 0950b66c52f2af10fcd44cb60f1b18007dd8aef0
              body: ''
              footer:
                Closes: '#1247'
                closes: '#1247'
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.0.3
          date: 2020-04-07T09:38:43.764Z
        - commits:
            - subject: Update to balena-register-device 6.0.1
              hash: 81927d78612aa5944aab8a1322735e32c311d927
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.0.2
          date: 2020-04-06T16:47:10.397Z
        - commits:
            - subject: Don't mangle names when minimising with webpack
              hash: 6fe3bfa4f2668fd364a977ccf4830e91b07fd47a
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.0.1
          date: 2020-04-06T12:39:03.990Z
        - commits:
            - subject:  Update synchronisation scripts for supervisor development
              hash: 8ab63656bd483645fe0238fee2a1824158f3f453
              body: >
                We move the old sync.js script to tools/, and delete the
                now-broken

                sync-debug.js.


                We add a command `npm run sync`, which starts a livepush process

                with the supervisor on a device.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: "\U0001F527 Move to an alpine base image and drop i386-nlp support"
              hash: 3690acbd70df726030b648a1c32a9b2b21015232
              body: >
                We also remove the Makefile to go to a simpler build system, as
                long with

                the retry_docker_push.sh file. We remove the rest of the
                automation tools

                as they're no longer used and update the circle.yml file.


                We also remove debug builds, as these aren't needed moving
                forward, and were

                only to enable livepush builds.
              footer:
                Change-type: major
                change-type: major
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.0.0
          date: 2020-04-06T12:07:51.757Z
        - commits:
            - subject: Convert test/18-startup.coffee to typescript
              hash: d3221ca235aa0bd22191516f3eeebcabdf32e94b
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Convert test/19-compose-utils.coffee to javascript
              hash: 70b07055513f8948bf4c9867718ed4df3df61bc1
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Convert test/18-compose-network.coffee to javascript
              hash: 98e956831a4f8dc9e7e08bc98b21c0f8dd89e263
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Convert test/17-config-utils.spec.coffee to javascript
              hash: d3cf650ac48e94a1f7040b72b497e11945671015
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Convert test/16-ports.spec.coffee to typescript
              hash: dcb01cb8632c6a438e3989e6cbcdf2639d0367ba
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Convert test/15-conversions.spec.coffee to javascript
              hash: 515fb059f409ba33b0537c778e7d8191bf387a48
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Convert test/12-logger.spec.coffee to javascript
              hash: fd4cec31e7473d53ffa6a8650b341e7dec49a2cf
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.11.3
          date: 2020-04-02T13:29:44.498Z
        - commits:
            - subject: Pass in deviceId when fetching device tags
              hash: 3c59944ce126570cc814626f20a9d67d6e67ff4d
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Closes: '#1237'
                closes: '#1237'
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.11.2
          date: 2020-03-31T11:48:13.361Z
        - commits:
            - subject: "\U0001F527 Update resin-lint -> balena-lint in lintstaged"
              hash: 2433f9a343d26233fff3d5bed14a548feded23ad
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.11.1
          date: 2020-03-30T17:41:43.882Z
    - subject: Update os-config from 1.1.1 to 1.1.3
      hash: 6119e57e24ecf30077da00d47057b688940e43ae
      body: |
        Updates for rust 1.36 and improvements related to getrandom on devices
        with lower entropy.

        Update os-config from 1.1.1 to 1.1.3
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update os-config from 1.1.1 to 1.1.3
        changelog-entry: Update os-config from 1.1.1 to 1.1.3
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
      nested:
        - version: os-config-1.1.3
          date: 2020-03-24T17:32:02.000Z
          commits:
            - hash: ae2daf2a2005c5706ac65e0c6dd67283d35b0f2b
              author: Zahari Petkov
              footers:
                change-type: patch
                signed-off-by: Zahari Petkov <zahari@balena.io>
              subject: Reorder module dependencies
              body: null
            - hash: b5947fea2b08a5daf87695b9347ad104e0e9160c
              author: Zahari Petkov
              footers:
                change-type: patch
                signed-off-by: Zahari Petkov <zahari@balena.io>
              subject: Pin serde version to v1.0.94
              body: |-
                Needed since meta-rust is not configuring the i686-poky-linux
                target correctly for 64-bit atomics support.
        - version: os-config-1.1.2
          date: 2020-02-04T12:37:15.000Z
          commits:
            - hash: 73593533237275c346987d6f70b776445e901829
              author: Zahari Petkov
              footers:
                change-type: patch
                signed-off-by: Zahari Petkov <zahari@balena.io>
              subject: Block on random until success
              body: >-
                On Raspberry Pi Zero W sometimes getrandom is not ready yet at
                the moment of

                os-config launch:

                ```

                could not initialize thread_rng: All entropy sources failed
                (permanently unavailable);

                cause: getrandom not ready (not ready yet);

                cause: Resource temporarily unavailable;

                ```

                This change makes sure we are cycling until a random sequence is
                populated successfully.
            - hash: 14a19bf24e258c01a294bd7adfa808fddee59096
              author: Zubair Lutfullah Kakakhel
              footers:
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              subject: Use parse_filters instead of parse
              body: parse_filters is deprecated
  version: 2.50.0
  date: 2020-05-13T16:49:21.997Z
- commits:
    - subject: 'balena-host: Ignore environment file if it does not exist'
      hash: 692a06a70536b9fcda79d5a0b28b23f384b9bb78
      body: >
        Instruct the service to ignore the environment file if it does not
        exist.

        This avoids the service failing if the file does not exist.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Bump balena-engine to 18.09.17
      hash: ab54fcc710e8a7ef1857dae40710f6d2972e2ef7
      body: |
        Fixes the bug in mobynit caused by the recent work on the graphdriver
        system
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
    - subject: 'networkmanager: Use absolute path in drop-in'
      hash: 27f6f9467853b8308b5f27121878c61fc0d8dbf4
      body: |
        systemd requires executable paths to be absolute. This causes an error
        in the system journal.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Sven Schwermer <sven.schwermer@disruptive-technologies.com>
        signed-off-by: Sven Schwermer <sven.schwermer@disruptive-technologies.com>
      author: Sven Schwermer
    - subject: Update ModemManager to v1.12.8
      hash: 64685fe79eebc7b59ec4e11b32d9491085928334
      body: |
        Fixes #1859
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update ModemManager to v1.12.8
        changelog-entry: Update ModemManager to v1.12.8
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
    - subject: Update balena-engine to 18.09.16
      hash: 2d0d1b7f8f4ef93d0778ed3ab9c3c2d87d978113
      body: |
        which includes Roman's work to fix the layer leaking bugs
        Also switch to 18.09-balena branch to prepare for the release of
        balena-engine 19.03
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-engine to 18.09.16
        changelog-entry: Update balena-engine to 18.09.16
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
    - subject: Add support for using udev by-state links in balenaOS
      hash: d1a351cc574655be3079844263dbeeb62190d028
      body: |
        Fixes #1092
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support for using udev by-state links in balenaOS
        changelog-entry: Add support for using udev by-state links in balenaOS
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Add initramfs module to regenerate default filesystem UUIDs
      hash: b802528c7427f50e96b88665f53071f1408b0baa
      body: |
        This module is launched at early boot and regenerates filesystem UUIDs
        if required.

        This commit is a re-work of previous work by Andrei Gherzan.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add initramfs module to regenerate default filesystem UUIDs
        changelog-entry: Add initramfs module to regenerate default filesystem UUIDs
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Create udev state symlinks for all partitions
      hash: b7f63b18bcebf663d4d4d366dc78abe08c15925d
      body: >
        When a partition filesystem label is detected, udev checks whether the

        device belongs to the same disk as the root partitition passed in the

        kernel command line by the bootloader. Only if it does, it creates a
        by-state

        link to it.


        By using this by-state links we avoid filesystem label clashes as the

        system will always use partitions in the same drive as root (as

        instructed by the bootloader who is the source of truth).
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Create udev state symlinks for all partitions
        changelog-entry: Create udev state symlinks for all partitions
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: 'initramfs-framework: Add os-helpers to module prepare'
      hash: 291930ecd3fc7d02ae0b0f6a4012c34f0e697c10
      body: |
        The different initramfs modules make use of os-helpers so let the
        prepare module source them.

        Also, Store initramfs logs to a tmpfs location /run/initramfs

        This commit is a re-work of previous work by Andrei Gherzan.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Fix initramfs fsck warnings for the boot partition
      hash: 67a59e09c3ae628b4a44828b9152050b9374c2c3
      body: |
        When running fsck, the tool will complain when needed gconv modules are
        missing. Include them in the initramfs where we fsck the boot partition.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix initramfs fsck warnings for the boot partition
        changelog-entry: Fix initramfs fsck warnings for the boot partition
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Switch to built-in FAT kernel configs
      hash: d892362e92f8af709aa000dfb328f2931aedfb85
      body: |
        balenaOS uses FAT as a fs type for the boot/first partition. This is
        currently hardcoded so let's have the related kernel configs built in
        the kernel image. In this way we don't have to handle kernel modules in
        the initramfs (when needed).
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Switch to built-in FAT kernel configs
        changelog-entry: Switch to built-in FAT kernel configs
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-supervisor from v10.8.0 to v10.11.0
      hash: 284f5198d7a6a2fba656af35dd7afb8e0091290f
      body: |
        Update balena-supervisor from v10.8.0 to v10.11.0
      footer:
        Changelog-entry: Update balena-supervisor from v10.8.0 to v10.11.0
        changelog-entry: Update balena-supervisor from v10.8.0 to v10.11.0
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Add BALENA_DEVICE_ARCH environment variable for containers
              hash: 3af89cd13fce04f43332c1d4502e2edf07a22141
              body: ''
              footer:
                Closes: '#1232'
                closes: '#1232'
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.11.0
          date: 2020-03-30T15:42:53.398Z
        - commits:
            - subject: Don't throw an error when getting an unhealthy state
              hash: 6b827a3f57f242e36e2a008632a28199ba569f63
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.10.15
          date: 2020-03-30T09:10:59.937Z
        - commits:
            - subject: Convert src/device-api/common.coffee to javascript
              hash: 15fca80d2ddb16b368f0d2c34fb56b5b9bb6217f
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.14
          date: 2020-03-28T13:43:13.705Z
        - commits:
            - subject: Switch to mz for the proxyvisor
              hash: 6ab69e1a69cf839538812aff3b9dc72c5a7937ef
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Convert proxyvisor to javascript
              hash: c1e5b98ae562851be61f74583743298803bf5195
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.13
          date: 2020-03-27T17:53:13.782Z
        - commits:
            - subject: Remove unnecessary code from application-manager
              hash: 686f72ecf78d3f7a1b93102fd161cca8c562bfb7
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Switch to a named export for application-manager
              hash: 968e2ba0fb1dc99b826e8f32a23d10945697f340
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.12
          date: 2020-03-26T23:53:03.757Z
        - commits:
            - subject: Convert device-api/v1 to javascript
              hash: 56c13fb96346e9100a60f1da881f6cf670c2793f
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.11
          date: 2020-03-25T12:19:20.194Z
        - commits:
            - subject: Update livepush
              hash: 2ff8fccb5e71a851634f8bd668f63526f48ea4c4
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.10.10
          date: 2020-03-24T18:10:13.063Z
        - commits:
            - subject: Add type checking for javascript files
              hash: 9c3295c91248f125e20ccfb10a064f2a2def0431
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.9
          date: 2020-03-24T16:40:43.161Z
        - commits:
            - subject: Pin resin-cli-visuals to avoid build error of lzma-native
              hash: 35e73941c57ff63164cf0876fbb9509107e5e3f2
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Update dependencies
              hash: f2c606e1f9d37b6fefc345e42659b9ed364cba40
              body: |
                We also pin livepush in place while
                https://github.com/balena-io-modules/livepush/issues/67
                is fixed.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.10.8
          date: 2020-03-24T14:54:44.950Z
        - commits:
            - subject: Avoid any transpilation of node_modules
              hash: 8fccc4a107fa965dfd60a861ba5e831c12632631
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.7
          date: 2020-03-24T12:46:30.864Z
        - commits:
            - subject: >-
                Add transpilation for javascript files to ease node 6
                compatibility
              hash: 8fc11df95912c6fd15d05c1cdc9fcdba854b2727
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Add a precheck that linting/tests work on node 10
              hash: 7945bb5a77f29775233dea2695e1c20d79545f57
              body: |
                This allows us to avoid re-linting for every arch
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Update to balena-lint and enable javascript linting
              hash: 81966446d97b3989e65be22b7d2dec379d3bcb32
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.6
          date: 2020-03-24T09:31:13.247Z
        - commits:
            - subject: 'Tests: Add missing await'
              hash: 7e6d32516de84dbaed222651e48895dc0136b2e7
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.5
          date: 2020-03-23T19:05:23.280Z
        - commits:
            - subject: 'docs: Clarify update locks for multicontainer applications'
              hash: a6b0c50d8effc9c63fe92d68cb4efbe397a1e05f
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Gareth Davies <gareth@balena.io>
                signed-off-by: Gareth Davies <gareth@balena.io>
              author: Gareth Davies
          version: balena-supervisor-10.10.4
          date: 2020-03-16T21:12:52.849Z
        - commits:
            - subject: 'logging: fix up some typos'
              hash: ab7e8b55140cc3169e9337f8c29a77468b13be7c
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
          version: balena-supervisor-10.10.3
          date: 2020-03-16T19:31:23.505Z
        - commits:
            - subject: Bump acorn from 5.7.3 to 5.7.4
              hash: f8363fc72b21386cc3561be576d8f21ec0463c89
              body: >
                Bumps [acorn](https://github.com/acornjs/acorn) from 5.7.3 to
                5.7.4.

                - [Release notes](https://github.com/acornjs/acorn/releases)

                -
                [Commits](https://github.com/acornjs/acorn/compare/5.7.3...5.7.4)
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: 'dependabot[bot] <support@github.com>'
                signed-off-by: 'dependabot[bot] <support@github.com>'
              author: 'dependabot[bot]'
          version: balena-supervisor-10.10.2
          date: 2020-03-16T15:05:54.513Z
        - commits:
            - subject: Update dependencies
              hash: 6e3db3bd602d30ae3d377a1526c9b904c90a6cf3
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.1
          date: 2020-03-13T17:21:22.854Z
        - commits:
            - subject: Allow semver comparison on l4t versions in contracts
              hash: 5c50f656c33954de6f4c07f8b6c892b4bf9953cf
              body: >
                We add an implicit .0 to the end of l4t versions which do not
                fulfill

                semver, which allows us to always match using comparison
                operators, such

                as < and <=.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Allow l4t versions with three numbers as well as two
              hash: 7d47661928288160c0a636cb630cb0ccc2292d91
              body: ''
              footer:
                Closes: '#1210'
                closes: '#1210'
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.10.0
          date: 2020-03-06T15:56:42.924Z
        - commits:
            - subject: 'config: Support loading SSDT via ConfigFS'
              hash: e0d2bdfaa98fe8c8d56fe981e530e6c96aef92a6
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
          version: balena-supervisor-10.9.2
          date: 2020-03-05T13:33:03.818Z
        - commits:
            - subject: Convert device-state module to typescript
              hash: c21da8f3dbafe965ad0fae12b027066208debd12
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Improve application-manager typings
              hash: 23094425555f0d1ef9c04c2bc500c19f62984503
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Improve and extend internal typings
              hash: e161888516e7f234154245cfc8c9f82b6e2b656b
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.9.1
          date: 2020-02-25T07:53:23.189Z
        - commits:
            - subject: >-
                Add a containerId request parameter for journal-logs api
                endpoint, and pass it along to journalctl process options.
              hash: b5772740ae3685fceceeda513fca4ff86a183d14
              body: ''
              footer:
                Change-Type: minor
                change-type: minor
                Signed-off-by: Ivan <ivanign04.alt@gmail.com>
                signed-off-by: Ivan <ivanign04.alt@gmail.com>
              author: Ivan
          version: balena-supervisor-10.9.0
          date: 2020-02-24T00:17:42.799Z
  version: 2.49.0
  date: 2020-05-01T11:04:38.074Z
- commits:
    - subject: >-
        Add the linux-firmware recipe from the Poky zeus-22.0.1 release and
        package various iwlwifi firmware separately
      hash: bd9aff4b3bdfdfe9b5c8dd1bbee397154d6144fd
      body: |
        We also package separately the firmware for Intel Wireless-AC 9260
        cards and also package separetely the wifi and bluetooth firmware for
        Intel Wireless-AX MAC which is found in the Intel NUC10I7FNH.
      footer:
        Changelog-entry: >-
          Add the linux-firmware recipe from the Poky zeus-22.0.1 release and
          package various iwlwifi firmware separately
        changelog-entry: >-
          Add the linux-firmware recipe from the Poky zeus-22.0.1 release and
          package various iwlwifi firmware separately
        Change-type: minor
        change-type: minor
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: >-
        Add regulatory.db (Wireless Central Regulatory Domain Database) to
        rootfs so kernel versions >= v4.15 can load it (for Poky Thud and
        Warrior based board)
      hash: da7a018e680f24be5dcce92f04eac4804493cad8
      body: |
        This package adds to rootfs the regulatory database into
        /lib/firmware/regulatory.db which can be loaded by kernel versions
        >= v4.15 for Poky Thud and Warrior based boards.
      footer:
        Changelog-entry: >-
          Add regulatory.db (Wireless Central Regulatory Domain Database) to
          rootfs so kernel versions >= v4.15 can load it (for Poky Thud and
          Warrior based board)
        changelog-entry: >-
          Add regulatory.db (Wireless Central Regulatory Domain Database) to
          rootfs so kernel versions >= v4.15 can load it (for Poky Thud and
          Warrior based board)
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: >-
        Do not send SIGKILL directly to user containers (set KillMode=process in
        balena.service)
      hash: f4df857f8fb2b811d9e23b0419c99894eaa5bb32
      body: |
        We need to allow user containers to do some clean-up if they wish to on
        reboot / shutdown through systemctl so let's add KillMode set to process
        so that systemd won't directly kill the user containers first.

        For reference see also upstream moby:
        https://github.com/moby/moby/pull/23636/commits/
        db435f526ac5703276ad1add28188c0c8c6e4c2a
      footer:
        Changelog-entry: >-
          Do not send SIGKILL directly to user containers (set KillMode=process
          in balena.service)
        changelog-entry: >-
          Do not send SIGKILL directly to user containers (set KillMode=process
          in balena.service)
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update balena-supervisor from  to v10.8.0
      hash: 9df958be8693140f0358cc1527a2f3058df940f2
      body: |
        Update balena-supervisor from  to v10.8.0
      footer:
        Changelog-entry: Update balena-supervisor from  to v10.8.0
        changelog-entry: Update balena-supervisor from  to v10.8.0
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Update config.json documentation for disabling NM connectivity checks
      hash: 527d322eaaa3e9184d4b57c2aeb76337ec233457
      body: ''
      footer:
        Changelog-entry: Update config.json documentation for disabling NM connectivity checks
        changelog-entry: Update config.json documentation for disabling NM connectivity checks
        Change-type: patch
        change-type: patch
        Signed-off-by: Gareth Davies gareth@balena.io
        signed-off-by: Gareth Davies gareth@balena.io
      author: Gareth Davies
    - subject: Fix a typo in a NetworkManager plugin path
      hash: ebd97f14fbbb71663e24590e9f1a3c1b9d42d8bd
      body: |
        ppp version is 2.4.7. Without defining the right path, the path defaults
        to v2.4.5 in NM configure scripts.

        Lets pass it here to keep it correct.

        Should not have any actual affect. NM plugin was built with reference
        to the 2.4.7 headers. Just the directoy path would say 2.4.5 misleading
        some debug effort
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix a typo in a NetworkManager plugin path
        changelog-entry: Fix a typo in a NetworkManager plugin path
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Remove unnecessary openvpn v2.4.4 recipe in meta-resin-pyro.
      hash: bf3bacb6d44863687365129e1c282d36003ceaa9
      body: |
        This is an old version of openvpn. Devices still on pyro should be using
        the openvpn version from meta-balena-common and not this one. Removing
        this to prevent any accidents even and some cleanup.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Remove unnecessary openvpn v2.4.4 recipe in meta-resin-pyro.
        changelog-entry: Remove unnecessary openvpn v2.4.4 recipe in meta-resin-pyro.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Use a weak default assignment in a recipe for customer trying to
        override a variable in his layer
      hash: 9c9a30845702cbda314a58efa2ff9349199cfcc6
      body: |
        Fixes #1828
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Use a weak default assignment in a recipe for customer trying to
          override a variable in his layer
        changelog-entry: >-
          Use a weak default assignment in a recipe for customer trying to
          override a variable in his layer
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.48.0
  date: 2020-03-20T09:20:53.311Z
- commits:
    - subject: >-
        Affects 2.45+ on all devices. Fix dangling sshd services on failed
        connections that would grow and cause cpu load to keep rising. See issue
        1837 in meta-balena for more detail.
      hash: 0759f60bda559377bfb10361167222d4e0de6d01
      body: |
        This reverts commit 6d5de094c3f0d9f2f06a1c58abc5eb9dc256cf79.
        Fixes #1837
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Affects 2.45+ on all devices. Fix dangling sshd services on failed
          connections that would grow and cause cpu load to keep rising. See
          issue 1837 in meta-balena for more detail.
        changelog-entry: >-
          Affects 2.45+ on all devices. Fix dangling sshd services on failed
          connections that would grow and cause cpu load to keep rising. See
          issue 1837 in meta-balena for more detail.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.47.1
  date: 2020-02-13T11:54:53.438Z
- commits:
    - subject: Update usb-modeswitch-data to version 20191128
      hash: d0c007e5b77cff3e3b78b7a5b91747b1c8662b4d
      body: |
        We also delete the patch that switched the 12d1:1f01 modems to
        NCM mode with that specific MessageContent because that made
        other Huawei modems that used the same vid:pid combination
        unusable in that mode. So now these modems will work in the old
        Hilink mode using cdc_ether instead.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update usb-modeswitch-data to version 20191128
        changelog-entry: Update usb-modeswitch-data to version 20191128
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update usb-modeswitch to version 2.5.2
      hash: f74a51dc5cf969b4aab1ae3eff36e512cf78d1f0
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update usb-modeswitch to version 2.5.2
        changelog-entry: Update usb-modeswitch to version 2.5.2
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update to ModemManager v1.12.4
      hash: fd45ee88dfa87b6e3b39dc8bf16acbb36c64328a
      body: |
        Fixes #1805
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update to ModemManager v1.12.4
        changelog-entry: Update to ModemManager v1.12.4
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update libmbim to version 1.22.0
      hash: f765a2e2c586f29f7c18813947f860e19dc354e9
      body: |
        We also stop applying the clang.patch since we do not
        use clang at the moment but we keep it here for future
        reference in case we ever switch from gcc
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libmbim to version 1.22.0
        changelog-entry: Update libmbim to version 1.22.0
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update libqmi to version 1.24.4
      hash: 755c7cd7d5106e99256adc291a7c95db711b0ae8
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libqmi to version 1.24.4
        changelog-entry: Update libqmi to version 1.24.4
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Add periodic vacuuming of journald log files
      hash: e45761e1e3b57a1f42075924741063ac94fc788c
      body: |
        Daily vacuuming of log files to avoid the partition filling up if
        corrupted files appear.

        Fixes #1792
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add periodic vacuuming of journald log files
        changelog-entry: Add periodic vacuuming of journald log files
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: >-
        No user impact. Increase limit for maximum initramfs size from 12MB to
        32MB. This helps reduce unnecessary overrides in integration layers.
      hash: ea2fdb68801d62f8126bb15e8e67d0a14709dd4a
      body: |
        Some devices have special tools in the initramfs that bloat it.
        e.g. Jetson family have tegra-firmware-xusb etc.

        IMAGE_ROOTFS_MAXSIZE triggers an error if the rootfs goes beyond this
        limit. This does not force the rootfs to an empty fixed size.

        We can comfortably increase the max size to 32MB to reduce unnecessary
        patches in the device integration layers.

        We'll still be covered by the full resin-rootA size limit.
        Fixes #1790
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          No user impact. Increase limit for maximum initramfs size from 12MB to
          32MB. This helps reduce unnecessary overrides in integration layers.
        changelog-entry: >-
          No user impact. Increase limit for maximum initramfs size from 12MB to
          32MB. This helps reduce unnecessary overrides in integration layers.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Match licenses with license files.
      hash: d53ba3570daf05c8592220b2949a441f6e06e662
      body: |
        Apache 2.0 and MIT, though similar, are not the same license.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Enable sixaxis support in bluez5
      hash: 74be7b20bf3a9eb71bf5318a96248e087b7ce441
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Enable sixaxis support in bluez5
        changelog-entry: Enable sixaxis support in bluez5
        Signed-off-by: Alexis Svinartchouk <alexis@balena.io>
        signed-off-by: Alexis Svinartchouk <alexis@balena.io>
      author: Alexis Svinartchouk
    - subject: Addressing review comments
      hash: 57047830db238a127c09f283870ecf3d0992578b
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Gareth Davies <gareth@balena.io>
        signed-off-by: Gareth Davies <gareth@balena.io>
      author: Gareth Davies
    - subject: Update config.json documentation
      hash: f294336c3c8d9d8c08075a299b6bb377eb95f922
      body: ''
      footer:
        Changelog-entry: Update config.json documentation
        changelog-entry: Update config.json documentation
        Change-type: patch
        change-type: patch
        Signed-off-by: Gareth Davies <gareth@balena.io>
        signed-off-by: Gareth Davies <gareth@balena.io>
      author: Gareth Davies
    - subject: Increase DNS clients timeout to 15 seconds
      hash: b4122eeea971dfc9325885cc7c896c733cf60920
      body: >
        The DNS clients (applications) resolver libraries use the timeout value
        in

        /etc/resolv.conf to set the time between DNS attempts. The default is 5

        secs which for slow networks like cellular mean lots of DNS requests on

        a bandwidth sensitive channel.


        This change modifies the default to 15 secs. This timeout only applies

        when DNS servers are unresponsive so it will not affect the normal

        functionality.


        Fixes #1800
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Increase DNS clients timeout to 15 seconds
        changelog-entry: Increase DNS clients timeout to 15 seconds
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Fix supervisor nested changelogs
      hash: 6bbe46404f36ae9b2719750d9bfc9daf5b12c88c
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix supervisor nested changelogs
        changelog-entry: Fix supervisor nested changelogs
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Enable memory overcommit
      hash: 20d9e3114dc28683ea2c15cecfcae6ff93d22bec
      body: |
        Move the memory overcommit settings from the Raspberry Pi integration
        layer to meta-balena so it applies to all device types.

        Fixes #1791
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Enable memory overcommit
        changelog-entry: Enable memory overcommit
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Add uinput kernel module
      hash: 7ec6b796787fc0afb2234e8ddb654f1b4a761708
      body: |
        Add uinput user level driver support directly from meta-balena
        as this will benefit all our customers.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add uinput kernel module
        changelog-entry: Add uinput kernel module
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Make sure to add in rootfs the wifi firmware for wl18xx
      hash: 37b9f59d4c7521805883ef3bf8e0bbc21d26622e
      body: |
        Since poky thud, the linux-firmware recipe in poky is packaging
        the wl18xx firmware in its own package rather than add it in the
        linux-firmware-wl12xx package.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Make sure to add in rootfs the wifi firmware for wl18xx
        changelog-entry: Make sure to add in rootfs the wifi firmware for wl18xx
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Add supported USB WiFi dongle
      hash: b82982940548da60daa3d7a854316de96ec82e45
      body: |
        The RT5572 chipset based Panda PAU09 N600 was
        added as a supported dongle across all the
        Balena supported devices
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add supported USB WiFi dongle
        changelog-entry: Add supported USB WiFi dongle
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
  version: 2.47.0
  date: 2020-01-29T17:30:33.484Z
- commits:
    - subject: Americanize the README.md
      hash: 13b5397eb127f8626a45041b84be7aed9b149709
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
  version: 2.46.2
  date: 2020-01-17T19:05:59.781Z
- commits:
    - subject: >-
        Disable by default the option to stop u-boot autoboot by pressing CTRL+C
        in all OS versions
      hash: 621037371b3c272ecb6bfd50cfbdad4eca0a02ea
      body: |
        We do not want by default that any OS variants allow for stopping the
        autoboot in any way and letting users enter the u-boot shell. This can
        be overwritten by setting OS_DEV_UBOOT_DELAY to 1.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Disable by default the option to stop u-boot autoboot by pressing
          CTRL+C in all OS versions
        changelog-entry: >-
          Disable by default the option to stop u-boot autoboot by pressing
          CTRL+C in all OS versions
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Increase NTP polling time to around 4.5 hours.
      hash: 4a47b9297b37277a9aece0ea322e706dbe473f12
      body: |
        This commit increases the default NTP poll rate to around 4.5 hours.

        BalenaOS uses chronyd for time synchronization, and it allows to specify
        a minpoll and maxpoll values per server with a power of two number of
        seconds for the minimum and maximum polling time respectively.

        With those constraints, the change set both limits to 2^14s (4.55h) for
        all servers.

        An architectural decision has been made not to make this configurable.

        Fixes #1780.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Increase NTP polling time to around 4.5 hours.
        changelog-entry: Increase NTP polling time to around 4.5 hours.
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: >-
        Disable the option to stop u-boot autoboot by pressing CTRL+C in
        production OS version
      hash: 2abb791f0df7c4936f0c6814b27291281dc922e0
      body: |
        We do not want that production OS variants allow for stopping
        the autoboot in any way and letting users enter the u-boot shell.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Disable the option to stop u-boot autoboot by pressing CTRL+C in
          production OS version
        changelog-entry: >-
          Disable the option to stop u-boot autoboot by pressing CTRL+C in
          production OS version
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.46.1
  date: 2020-01-01T03:50:49.765Z
- commits:
    - subject: Update to ModemManager v1.12.2
      hash: 2c4d223d90701b7dbe7ed42f2b5bdaab396db4d3
      body: |
        Fixes #1775

        Removed the two patches we included in favor of corresponding
        configure arguments since they had to be updated anyway.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update to ModemManager v1.12.2
        changelog-entry: Update to ModemManager v1.12.2
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update libmbim to version 1.20.2
      hash: 01a15a047156c2491081e31a12c0a2a278a015d8
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libmbim to version 1.20.2
        changelog-entry: Update libmbim to version 1.20.2
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update libqmi to version 1.24.2
      hash: dad937f2a5ec8c894518f683e636c17a23a20869
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libqmi to version 1.24.2
        changelog-entry: Update libqmi to version 1.24.2
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update balena-supervisor to v10.6.27
      hash: 426dd85c0396f713e8f2571334bbd547b5a22642
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v10.6.27
        changelog-entry: Update balena-supervisor to v10.6.27
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: >-
        Tweak how the flasher asserts that internal media is valid for being
        installed balena OS on
      hash: 4b50d967db309366865b791e39f84ab00c0e9330
      body: |
        It is better to use fdisk to check that an internal media
        is a suitable block device rather than using the shell
        internal block testing feature. This is because there is
        at least a case when the kernel lists an ASMT 2115 controller
        as /dev/sda but that is not an actual drive so it cannot be
        written to and the flashing procedure will error out.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Tweak how the flasher asserts that internal media is valid for being
          installed balena OS on
        changelog-entry: >-
          Tweak how the flasher asserts that internal media is valid for being
          installed balena OS on
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Remove networkmanager stale temporary files at startup
      hash: 1234b29d7a4b007fd25247d38d9027e4f6e9e709
      body: >
        Reports indicate that NetworkManager can leave stale temporary files on

        the state partition that over time can affect the device's operability.


        This commit removes the timestamps.XXXXXX and seen-bssids.XXXXXX files
        on

        startup to avoid this situation.


        Fixes #1747
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Remove networkmanager stale temporary files at startup
        changelog-entry: Remove networkmanager stale temporary files at startup
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: 'networkmanager: Rework patches to remove fuzzing'
      hash: fbe8c83e8234c842d83c344243d2fe782c8ebb0a
      body: |
        This commit removes the build warning when applying patches.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Update openvpn to v2.4.7
      hash: 5c7d3ae1296636dae7b0de67a9c0f8c66d996d1c
      body: >
        Fetched from:

        *
        https://git.openembedded.org/meta-openembedded/commit/meta-networking/recipes-support/openvpn/openvpn_2.4.7.bb?id=c1c8895609ae70a1b735e8625c19046c25184ee4

        *
        https://git.openembedded.org/meta-openembedded/commit/meta-networking/recipes-support/openvpn/openvpn/openvpn?id=910891d722085c56c474ac72788898b94c5ed193
      footer:
        Connects-to: '#1740'
        connects-to: '#1740'
        Change-type: patch
        change-type: patch
        Changelog-entry: Update openvpn to v2.4.7
        changelog-entry: Update openvpn to v2.4.7
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: >-
        Enable kernel configs for USB_SERIAL, USB_SERIAL_PL2303 and HFS for all
        devices
      hash: 03b95db4e073969718f0a60d8b0e80db4ce0680b
      body: |
        Fixes #1770
        Fixes #1761
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Enable kernel configs for USB_SERIAL, USB_SERIAL_PL2303 and HFS for
          all devices
        changelog-entry: >-
          Enable kernel configs for USB_SERIAL, USB_SERIAL_PL2303 and HFS for
          all devices
      author: Zubair Lutfullah Kakakhel
    - subject: 'image-resin.bbclass: Mark do_populate_lic_deploy with nostamp'
      hash: 3004762e71383e6ed8134de526966c6dd660fca2
      body: |
        We inherit do_populate_lic_deploy from poky. It uses IMAGE_NAME
        which includes DATETIME

        DATETIME changes between runs so we can sometimes get into a state
        where the do_populate_lic_deploy task has its stamp file set.

        But when our subsequent deploy_image_license_manifest task runs, the
        DATETIME is different. Hence we get into a state where we have to
        run cleanall on the resin-image-flasher recipe to clean up directories.

        Lets mark do_populate_lic_deploy with nostamp. This should make it
        run every time we need to run deploy_image_license_manifest with the
        most up to date DATETIME variable to prevent any hiccups
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Namespace the hello-world healthcheck image
      hash: 4ec47419b97cf5ca6fe15436a32348e1dc7b5d9d
      body: |
        Fixes #1630

        Need to make the script go in the background in ExecStartPost=.
        Otherwise, the service status never gets to active/running resulting
        it in remaining stuck in an endless loop.

        If the health-check load fails for whatever reason, the subsequent
        engine healthcheck will fail retriggering the healthcheck load.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Namespace the hello-world healthcheck image
        changelog-entry: Namespace the hello-world healthcheck image
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v10.6.17
      hash: 72100a55f62820b0cb8a48307a70d01633744e70
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v10.6.17
        changelog-entry: Update balena-supervisor to v10.6.17
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Update balena-supervisor to v10.6.13
      hash: 7ac91f9557f90417dc152c5621d4cff6d53c17e1
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v10.6.13
        changelog-entry: Update balena-supervisor to v10.6.13
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Update CODEOWNERS
      hash: bb8ac081d50893d9d0881b0f08c68cbb626c3590
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.46.0
  date: 2019-12-23T17:06:33.086Z
- commits:
    - subject: >-
        Fix for a race condition where occasionally the supervisor might not be
        able to come up during boot. Also can be caused by using
        io.balena.features.balena-socket and app container restart always
        policy. Affects meta-balena 2.44.0 and 2.45.0. To be fixed in 2.44.1 and
        2.46.0
      hash: 7cf43d9f939b1d960cb677c48ca9f91b668d2dc3
      body: |
        Fixes #1748
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Fix for a race condition where occasionally the supervisor might not
          be able to come up during boot. Also can be caused by using
          io.balena.features.balena-socket and app container restart always
          policy. Affects meta-balena 2.44.0 and 2.45.0. To be fixed in 2.44.1
          and 2.46.0
        changelog-entry: >-
          Fix for a race condition where occasionally the supervisor might not
          be able to come up during boot. Also can be caused by using
          io.balena.features.balena-socket and app container restart always
          policy. Affects meta-balena 2.44.0 and 2.45.0. To be fixed in 2.44.1
          and 2.46.0
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Rename resin to balena where possible
      hash: 02a932405705ce28fca6137cfae16fab5bc952fb
      body: ''
      footer:
        Change-type: patch
        change-type: patch
      author: Pagan Gazzard
    - subject: Add leading new line for PACKAGE_INSTALL variable
      hash: e79c470b3eaa8d6e763103fa20858fbed61ff292
      body: |
        Without the leading space, the last package name
        of the PACKAGE_INSTALL variable from other recipes,
        is concatenated with the one added in this recipe resulting
        in the following error
        opkg_prepare_url_for_install
        Couldn't find anything to satisfy
        'kernel-module-sdhci-pciinitramfs-module-console-null-workaround'
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add leading new line for PACKAGE_INSTALL variable
        changelog-entry: Add leading new line for PACKAGE_INSTALL variable
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
    - subject: Set `net.ipv4.ip_local_port_range` to recommended range (49152-65535)
      hash: 8ef6a5b56a2b7ba43081a0f30f99d6f736015533
      body: ''
      footer:
        Connects-to: '#1726'
        connects-to: '#1726'
        Change-type: patch
        change-type: patch
        Changelog-entry: Set `net.ipv4.ip_local_port_range` to recommended range (49152-65535)
        changelog-entry: Set `net.ipv4.ip_local_port_range` to recommended range (49152-65535)
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: 'No user impact, subtle fix in rollback version checks'
      hash: 38717507b93962d199e07d9093382b8db4ec5d81
      body: |
        ESR releases have the VERSION string in /etc/os-release in a date
        format. 2019.10.0 etc.
        We added META_BALENA_VERSION in os-release from v2.38.0 via
        b0e0c77a26f3fad51e2923ab416fdd2af2a5a033

        Lets use META_BALENA_VERSION if available for our os version checks.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: 'No user impact, subtle fix in rollback version checks'
        changelog-entry: 'No user impact, subtle fix in rollback version checks'
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.45.1
  date: 2019-11-21T16:48:38.743Z
- commits:
    - subject: Increase persistent journal size to 32M
      hash: ad77ca2402f41fec5b730d556006ef5e86bdacd5
      body: ''
      footer:
        Connects-to: '#1646'
        connects-to: '#1646'
        Change-type: patch
        change-type: patch
        Changelog-entry: Increase persistent journal size to 32M
        changelog-entry: Increase persistent journal size to 32M
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: Move persistent logs from state to data partition
      hash: f69ff379ffac39dffcc126ac374b50533dcdef31
      body: ''
      footer:
        Connects-to: '#1646'
        connects-to: '#1646'
        Change-type: minor
        change-type: minor
        Changelog-entry: Move persistent logs from state to data partition
        changelog-entry: Move persistent logs from state to data partition
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: Add wpa-supplicant recipe and update to v2.9
      hash: 139f76b73918e12aa8082896a7a017d2ad5df739
      body: >
        Fetched from
        http://cgit.openembedded.org/openembedded-core/commit/meta/recipes-connectivity/wpa-supplicant?id=95507898ad6a7b88c83ef376c1cb8b3b3a685c96
      footer:
        Connects-to: '#1711'
        connects-to: '#1711'
        Change-type: patch
        change-type: patch
        Changelog-entry: Add wpa-supplicant recipe and update to v2.9
        changelog-entry: Add wpa-supplicant recipe and update to v2.9
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: >-
        Improve robustness by making variou services restart if they stop for
        some reason
      hash: 074f42aeaf98d2ede68a29d7f7d97cd17dc61f15
      body: |
        The default behaviour is Restart=on-abort inherited from upstream.
        Lets make it Restart=always

        Fixes #1702
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Improve robustness by making variou services restart if they stop for
          some reason
        changelog-entry: >-
          Improve robustness by making variou services restart if they stop for
          some reason
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Build net/dummy as module
      hash: ffd5bd2183ca1ea4d3f62bae118b7269b8280002
      body: |
        Add dummy net driver support, which is used to
        check if a container is privileged during
        udev initialization.

        Building it as module ensures that dummy
        devices are not needlessly created during boot.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Build net/dummy as module
        changelog-entry: Build net/dummy as module
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.45.0
  date: 2019-10-30T14:34:36.798Z
- commits:
    - subject: >-
        Make uboot dev images autoboot delay build time configurable. Default is
        no delay
      hash: ff9e5c26ce7caa694725d7009943db0713655be6
      body: |
        Customers usually don't need this delay during u-boot. Also in some
        cases, hardware attached on the uart pins might pause uboot preventing
        customers from using dev images easily.

        But we do need this delay during our development work on bsps etc.

        Lets make this autoboot delay build time configurable

        Also make the BOOTDELAY -2 which is better than 0 as that completely
        prevents any char on serial from interrupting boot.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Make uboot dev images autoboot delay build time configurable. Default
          is no delay
        changelog-entry: >-
          Make uboot dev images autoboot delay build time configurable. Default
          is no delay
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Reduce systemd logging level from info to notice
      hash: 9e8f949c561b4e904f2e492e0267923b73782c4c
      body: |
        Reduces redundant logs.

        Fixes #1691
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Reduce systemd logging level from info to notice
        changelog-entry: Reduce systemd logging level from info to notice
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'resin-supervisor: Expose container ID via env variable'
      hash: 27d76cd9441ad427342f53b7e5b865129dd05557
      body: >
        The supervisor needs to know its container ID on the context of
        different

        engine objects cleanup tasks, so it can understand what objects are

        related to itself.


        Depends on gh-1679

        See also

        - balena-io/balena-supervisor#1038

        - balena-os/balena-engine#174

        - balena-os/balena-engine-cli#8
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Roman Mazur <roman@balena.io>
        signed-off-by: Roman Mazur <roman@balena.io>
      author: Roman Mazur
    - subject: 'kernel-devsrc: Copy vdso.lds.S file in source archive if available'
      hash: 70bb9f53e5a50703050c45411c3a63906c17bf42
      body: |
        Necessary to avoid error:
        "No rule to make target 'arch/arm64/kernel/vdso/vdso.lds', needed
        by 'arch/arm64/kernel/vdso/vdso.so.dbg'"
        when doing "make  modules_prepare"
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: 'kernel-devsrc: Copy vdso.lds.S file in source archive if available'
        changelog-entry: 'kernel-devsrc: Copy vdso.lds.S file in source archive if available'
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
    - subject: >-
        Disable PasswordAuthentication in sshd in production images as an extra
        precautionary measure.
      hash: 67bff0700e921a8adbceb4a3b77af2ed39415fa8
      body: |
        PasswordAuthentication defaults to yes. Make it no for production
        images.

        Fixes #1678

        Also some whitespace fixes.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Disable PasswordAuthentication in sshd in production images as an
          extra precautionary measure.
        changelog-entry: >-
          Disable PasswordAuthentication in sshd in production images as an
          extra precautionary measure.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-engine to 18.9.10
      hash: 9fa56fef4b2b34671951a09e241bb2623dd6d96c
      body: |
        Includes feature to populate container environment with container id
        variable and bug fix for tagging deltas on the fly.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-engine to 18.9.10
        changelog-entry: Update balena-engine to 18.9.10
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
    - subject: 'hostapp-update-hooks: Filter out automount for inactive sysroot'
      hash: 894a3b1e2ae705efe9267bab226886c58ad646a7
      body: |
        'findmnt' returns both systemd-1 and the correct TARGET.
        No failure is currently observed because this two line output
        is filtered trough 'basename'.

        Use ext4 FSTYPE to filter out the automount with SOURCE
        "systemd-1" when determining the new parition label
        in the u-boot update hook, just like we do for grub.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: >-
        Add support for hooks 2.0 enabling finer granularity during HostOS
        updates.
      hash: 0d33e5a82cab1fa58729d9a9ce7ea37be05cacc3
      body: |
        Add support for hooks 2.0
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Add support for hooks 2.0 enabling finer granularity during HostOS
          updates.
        changelog-entry: >-
          Add support for hooks 2.0 enabling finer granularity during HostOS
          updates.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v10.3.7
      hash: 4562d35527c1b0087c7e55af30de8ab6eb1aa990
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v10.3.7
        changelog-entry: Update balena-supervisor to v10.3.7
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Add support for balena cloud SSH public keys
      hash: 76e774ff132d7cf23a729c3d587c9fd1354a969f
      body: |
        When we have an API endpoint and key, we can query the API to get the
        user public keys and use them to try to authenticate over SSH.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support for balena cloud SSH public keys
        changelog-entry: Add support for balena cloud SSH public keys
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Map any user to root using libnss-ato
      hash: 55ba5767199205ee945a5e69152a28e023e35397
      body: |
        This module was included to be able to map any user to root. This
        is required by the balena-cloud backend.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Map any user to root using libnss-ato
        changelog-entry: Map any user to root using libnss-ato
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Add option to disable kernel headers from being built.
      hash: 1f5940898a654c770858f802ea978ddb986082f4
      body: |
        These can take quite a bit of build time. Add an option to disable
        the recipes from being built.

        Fixes #1659
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add option to disable kernel headers from being built.
        changelog-entry: Add option to disable kernel headers from being built.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.44.0
  date: 2019-10-03T06:28:45.031Z
- commits:
    - subject: Update NetworkManager to 1.20.2
      hash: bcb6d85cc3b75d2f41a64fc9a6e0e15b428040f1
      body: |
        Fixes #1660
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update NetworkManager to 1.20.2
        changelog-entry: Update NetworkManager to 1.20.2
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update ModemManager to 1.10.6
      hash: f6c82203c1a8f0613a900ce9d8ce749087fab99d
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update ModemManager to 1.10.6
        changelog-entry: Update ModemManager to 1.10.6
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.43.0
  date: 2019-09-13T15:33:28.973Z
- commits:
    - subject: >-
        A small fix in initramfs when /dev/console is invalid due to whatever
        reason
      hash: b5574aeb86ea6b6763f1c25c4b53a45d3e207eb5
      body: |
        We would just check for the existence of console=null in kernel cmdline

        A better way would be to check the presence of a valid symlink for fd0,
        fd1 and fd2. And assign them to /dev/null if unavailable.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          A small fix in initramfs when /dev/console is invalid due to whatever
          reason
        changelog-entry: >-
          A small fix in initramfs when /dev/console is invalid due to whatever
          reason
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add automated testing for external kernel module header tarballs
      hash: aef272d20b471308790bfa63426f73a3ce334884
      body: |
        We'd like to run a simple hello-world external module build test using
        the headers we have generated. This recipe does that in a docker
        container
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add automated testing for external kernel module header tarballs
        changelog-entry: Add automated testing for external kernel module header tarballs
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Make sure correct utsrelease.h is packaged
      hash: 5f9717081524d475009f5bf9277b30bf29c1c371
      body: |
        It was observed that on some machines (Variscite mx8m) the
        utsrelease.h header is regenerated with incomplete content when
        running "make prepare0" (utsrelease.h will not contain the short
        git revision although the kernel's abiversion includes it and
        as such the external modules built using this utsrelease.h header
        will fail to load because of this mismatch).
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Make sure correct utsrelease.h is packaged
        changelog-entry: Make sure correct utsrelease.h is packaged
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Fix a bug where application containers with new systemd versions were
        failing to start in cases. Switch to systemd cgroup driver in
        balenaEngine
      hash: a79f18a3e094721d1fc134afbae7a4773b697414
      body: |
        The default driver is cgroupfs. We switch to systemd so that there is
        one cgroup manager in our OS.

        Otherwise, systemd will have its own cgroup manager and cgroupfs will
        be another cgroup manager via balenaEngine daemon.

        Fixes #1645 which contains more information
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Fix a bug where application containers with new systemd versions were
          failing to start in cases. Switch to systemd cgroup driver in
          balenaEngine
        changelog-entry: >-
          Fix a bug where application containers with new systemd versions were
          failing to start in cases. Switch to systemd cgroup driver in
          balenaEngine
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.42.0
  date: 2019-09-13T08:06:05.129Z
- commits:
    - subject: Update ModemManager to version 1.10.4
      hash: 6f300a3fc01521ceadd3f8a50c9157d070525dde
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update ModemManager to version 1.10.4
        changelog-entry: Update ModemManager to version 1.10.4
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Fix for some innocous systemd tmpfile warnings /var/run -> /run ones
      hash: 25bb6364dfff2a65d7f53f71a35ef74f24f7d7a9
      body: >
        Otherwise systemd complains:

        localhost systemd-tmpfiles[525]:
        [/etc/tmpfiles.d/balena-tmpfiles.conf:1] Line references path below
        legacy directory /var/run/, updating /var/run/docker.pid 
        /run/docker.pid; please update the tmpfiles.d/ drop-in file accordingly.

        localhost systemd-tmpfiles[525]:
        [/etc/tmpfiles.d/balena-tmpfiles.conf:2] Line references path below
        legacy directory /var/run/, updating /var/run/balena.pid 
        /run/balena.pid; please update the tmpfiles.d/ drop-in file accordingly.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix for some innocous systemd tmpfile warnings /var/run -> /run ones
        changelog-entry: Fix for some innocous systemd tmpfile warnings /var/run -> /run ones
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Fix for rollbacks where the inactive partition mount was unavailable
        when altboot triggered
      hash: 856a3d1ad8dbf3b7a87689bbedac23c9148b3d79
      body: |
        PR #1441 changed mnt-sysroot-inactive to an automount. But there is no
        way to easily add a udev dependency to the automount. As a result,
        when rollbacks tries to access the inactive partition, it fails.
        Let's add systemd-udev-settle.service to the rollback services.

        This will only delay the first boot after a HUP which is reasonable.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Fix for rollbacks where the inactive partition mount was unavailable
          when altboot triggered
        changelog-entry: >-
          Fix for rollbacks where the inactive partition mount was unavailable
          when altboot triggered
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'kernel-resin: Enable FTDI USB-serial convertors driver'
      hash: 40616a274cd7f055397b5acda0fdd6540e797410
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
  version: 2.41.1
  date: 2019-09-03T13:27:47.892Z
- commits:
    - subject: Fix a hang in initramfs for warrior production images
      hash: 4c44265a7dd13760a89c235068500bf6f315f651
      body: |
        When `console=null` is passed in the kernel cmdline for production
        images, the system doesn't boot. Traced to initramfs not starting any
        process such as udev with the right file descripters for 0,1,2

        Add workaround for that issue. This got exposed with a systemd bump.
        More details here https://github.com/systemd/systemd/issues/13332
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix a hang in initramfs for warrior production images
        changelog-entry: Fix a hang in initramfs for warrior production images
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-engine to 18.09.8
      hash: 9bcd0ffcc7d6efde45f2bc1eaeaafe1092374c40
      body: |
        Includes improvements and fixes to the journald logdriver
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-engine to 18.09.8
        changelog-entry: Update balena-engine to 18.09.8
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
    - subject: Avoid overlayfs mounts in poky's volatile-binds
      hash: b7b6163d955a3bf76a1759b60ed82ccc5fcce6d0
      body: |
        Our root filesystem is overlayfs or aufs. When latter, the system
        crashes when reading a lower directory file. We avoid this by always
        falling back to copy and mount (as if overlayfs is not available).

        Fixes #1618
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Avoid overlayfs mounts in poky's volatile-binds
        changelog-entry: Avoid overlayfs mounts in poky's volatile-binds
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.41.0
  date: 2019-08-22T14:25:04.139Z
- commits:
    - subject: Update balena-supervisor to v10.2.2
      hash: 3afbe138f115fa15611cb823caa6664dbb093a8b
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v10.2.2
        changelog-entry: Update balena-supervisor to v10.2.2
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: >-
        Workaround for a cornercase bug in PersistentLogging where journalctl
        filled the state partition. Vacuum the journal on boot.
      hash: 8284da08f245ed6da8308d558bb8dfcc66de9691
      body: |
        We have found a rare corner case bug where the journal bloats beyond
        its limit and fills the state partition. Triggering a vacuum on reboot
        helps a bit in case the device is restarted to recover its function.

        Fixes #1423
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Workaround for a cornercase bug in PersistentLogging where journalctl
          filled the state partition. Vacuum the journal on boot.
        changelog-entry: >-
          Workaround for a cornercase bug in PersistentLogging where journalctl
          filled the state partition. Vacuum the journal on boot.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.40.0
  date: 2019-08-14T09:40:49.562Z
- commits:
    - subject: 'usb-modeswitch-data: Switch Huawei E3372 12d1:1f01 to mbim mode'
      hash: bb672725f4460402af64ecb7d74d33526f5ed7c1
      body: |
        Customer reported Huawei E3372 not working
        anymore starting with balenaOS v2.32.
        The fix for this appears to be switching the modem with
        vid and pid 12d1:1f01 from the cdc_ether legacy mode to
        the faster mbim mode and setting mtu=1460 in the modem
        connection file.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: >-
        Fix rollback altboots to prevent good reboots by supervisor triggering
        rollback.
      hash: 7e5843d6542d13d278d2a42da2f787ada8bfa229
      body: |
        After a HUP, until rollbacks clears its state, the supervisor(or user)
        can trigger good reboots. These reboots might be seen by the bootloader
        as bad reboots.

        To prevent this from happening, add a service that clears the bootcount
        upon good reboots. This only runs if the rollback services have not
        cleared their flag files in the state partition.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Fix rollback altboots to prevent good reboots by supervisor triggering
          rollback.
        changelog-entry: >-
          Fix rollback altboots to prevent good reboots by supervisor triggering
          rollback.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Devices using u-boot. Remove any BOOTDELAY for production images. Add a
        2 seconds delay for development images
      hash: f50952f6e91541f4c07ef14612a71174b9417124
      body: |
        We'd like to split dev and prod uboot config fragments. Dev images can
        have a 2 second u-boot delay to facilitate debugging. While prod images
        shouldn't really pause at this stage of the boot.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Devices using u-boot. Remove any BOOTDELAY for production images. Add
          a 2 seconds delay for development images
        changelog-entry: >-
          Devices using u-boot. Remove any BOOTDELAY for production images. Add
          a 2 seconds delay for development images
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Devices using u-boot. Enable CONFIG_CMD_SETEXPR for all devices.
        Required for rollbacks to work
      hash: 7051a1bda83d53e08148eea953ee2653fd915743
      body: |
        We'd like to enable some config options for all devices via meta-balena

        The support is mainline since warrior. Lets copy it in meta-balena
        to get it in the previous layers as well.

        We need CMD_SETEXPR to be enabled for rollbacks to work. So enable it
        via the config fragment
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Devices using u-boot. Enable CONFIG_CMD_SETEXPR for all devices.
          Required for rollbacks to work
        changelog-entry: >-
          Devices using u-boot. Enable CONFIG_CMD_SETEXPR for all devices.
          Required for rollbacks to work
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Devices using u-boot. Enable rollback-altboot by handling bootcount via
        meta-balena.
      hash: aa0a389ea92a71123813f291833fea61f4965164
      body: |
        U-boot has its own bootcount framework. However, that will require
        handling in each device type. We will use u-boot shell commands
        env import -t, env export -t, fatload, fatwrite
        to read/write/increment bootcount in env_resin.h.

        This will allow us to scale to lots of devices.

        A flag os_bootcount_skip is left for devices that are unable to support
        fatwrite in u-boot (in some rare cases). This will allow a device to
        not support rollback-altboot and still function.

        This patch requires that CMD_SETEXPR be enabled in u-boot config
        options.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Devices using u-boot. Enable rollback-altboot by handling bootcount
          via meta-balena.
        changelog-entry: >-
          Devices using u-boot. Enable rollback-altboot by handling bootcount
          via meta-balena.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Production Devices using u-boot. Enable CONFIG_RESET_TO_RETRY to reset a
        device in case it drops into a u-boot shell
      hash: 1f7ead33c284f4dc8e2a3d78b2a922a9b778e05c
      body: |
        We'd like to enable some options in all boards header files via
        meta-balena. This patch adds a task to include config_resin.h into
        config_default.h (which is included in all board header files).
        We can then add a config option via meta-balena that will be enabled for
        all devices.

        This patch enables CONFIG_RESET_TO_RETRY. If for whatever strange reason
        (accidental fs issue in u-boot etc), this will trigger a u-boot reset
        command the device in 15 seconds.

        Note This requires that the device's u-boot supports the reset command
        which it probably should.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Production Devices using u-boot. Enable CONFIG_RESET_TO_RETRY to reset
          a device in case it drops into a u-boot shell
        changelog-entry: >-
          Production Devices using u-boot. Enable CONFIG_RESET_TO_RETRY to reset
          a device in case it drops into a u-boot shell
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Remove confusing networkmanager https connectivity warning
      hash: fbdf643988e4aea76507139b2fc59ef7ad0132af
      body: |
        Fixes #1597

        The warning doesn't apply for our use case and confuses customers
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Remove confusing networkmanager https connectivity warning
        changelog-entry: Remove confusing networkmanager https connectivity warning
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Increase fs.inotify.max_user_instances to 512
      hash: a4f6c8591af9793935a9981a0f0c25fb7b957312
      body: |
        This defaults to 128. BoB hit the limit. Increase to 512
        Fixes #1592
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Increase fs.inotify.max_user_instances to 512
        changelog-entry: Increase fs.inotify.max_user_instances to 512
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v10.0.3
      hash: ad9bdc7236600eb4399761643b772eadd95df662
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v10.0.3
        changelog-entry: Update balena-supervisor to v10.0.3
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Fix balena hello-world healthcheck
      hash: e0826741f9a829f2af34afbc9bc1f9920f8ae4e6
      body: |
        We load the hello-world image after starting the balena daemon.
        ExecStartPost should run after the daemon is initialized but chaining a
        15 second sleep for good measure.

        We load the hello-world image here so that devices out in the field and
        on prem devices don't need to pull from dockerhub which would require
        external internet connectivity.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix balena hello-world healthcheck
        changelog-entry: Fix balena hello-world healthcheck
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add nf_table kernel modules
      hash: 9bca94f29b29098c7177231ee3a9251f1d48dd32
      body: |
        Fixes #1589
        Also, debian buster defaults to requiring nf_tables
        rootfs size impact ~+310K
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add nf_table kernel modules
        changelog-entry: Add nf_table kernel modules
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'hostapp-update-hooks: Use correct source for inactive sysroot'
      hash: f13c837cdc9b1a106ea711785178fc397035ada7
      body: |
        Use ext4 FSTYPE to filter out automount with SOURCE
        "systemd-1" when determining the new parition label
        in the grub update hook.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: >-
        Add extra healthcheck to balena service. It will spin up a hello-world
        container as well
      hash: 15169084fe9355e6be997712a614e383a71555c9
      body: |
        Occasionally balena ps and balena info work but the balena daemon is
        unable to start a new container. This is usually when something in runc
        or containerd is not functioning correctly.

        Add a healthcheck to spin up a simple hello-world container as well.

        The trade-off here is that there will be a few extra writes to disk
        every healthcheck timeout. But there will be a benefit that if runc
        or containerd is in a bad state, the healthcheck will fail and systemd
        will restart the balena daemon to recover the application container

        Fixes #1391
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Add extra healthcheck to balena service. It will spin up a hello-world
          container as well
        changelog-entry: >-
          Add extra healthcheck to balena service. It will spin up a hello-world
          container as well
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v9.18.8
      hash: 41af8ba6ef5b234b819aa0181b7e14e476f68c43
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v9.18.8
        changelog-entry: Update balena-supervisor to v9.18.8
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: 'image-resin.bbclass: fixed a typo'
      hash: 64a4fc9a7cff18a6dced9f352317761ced7dc563
      body: |
        Fixing a typo in the image size sanity check to ensure the
        correct calculation of FAT overhead sectors.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kylemharding@gmail.com>
        signed-off-by: Kyle Harding <kylemharding@gmail.com>
      author: Kyle Harding
    - subject: 'kernel-resin: Add support for CH340 family of usb-serial adapters'
      hash: 941aef5490cf4a120f74cb243c3fbbd8911bcc49
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: 'kernel-resin: Add support for CH340 family of usb-serial adapters'
        changelog-entry: 'kernel-resin: Add support for CH340 family of usb-serial adapters'
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
    - subject: 'resin-proxy-config: add missing reserved ip ranges to default noproxy'
      hash: 49ed2ea12d495defe033be6f2a9e155ff2fc7875
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: Reduce data partition size from 1G to 192M
      hash: 2270940edfd32a4dd3a3670aa1fb62eb2557f706
      body: |
        The data partition contains the supervisor which is only about 61M on
        the pi3. We compress the data partition later on so don't notice these
        zeros. But lets reduce the size of the data partition to eat less
        space whenever an uncompressed image is used anywhere. e.g. when
        extracting the zip to dd or using balena-migrate etc.

        The partition expands on first boot to fill the rest of the disk
        anyways.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Reduce data partition size from 1G to 192M
        changelog-entry: Reduce data partition size from 1G to 192M
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.39.0
  date: 2019-07-31T10:56:32.370Z
- commits:
    - subject: 'resin-proxy-config: fix up incorrect bash subshell command'
      hash: 0c8de756c22f635b2ef499848b724f1350f555b0
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
  version: 2.38.3
  date: 2019-07-10T08:16:25.713Z
- commits:
    - subject: >-
        Update to kernel-modules-headers v0.0.20 to fix missing target modpost
        binary on kernel 5.0.3
      hash: 13bea65dd8201e91b65121ffc2d7bce5d41eedab
      body: |
        This version fixes the missing target modpost binary
        on kernel version 5.0.3.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Update to kernel-modules-headers v0.0.20 to fix missing target modpost
          binary on kernel 5.0.3
        changelog-entry: >-
          Update to kernel-modules-headers v0.0.20 to fix missing target modpost
          binary on kernel 5.0.3
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: >-
        Update to kernel-modules-headers v0.0.19 to fix target objtool compile
        issue on kernel 5.0.3
      hash: 10846e50674185b7c3126e45ad42f3927c822415
      body: |
        This version fixes the use of wrong fixdep binary (the bug makes it use
        target fixdep binary instead of cross fixdep binary) used for compiling
        the target objtool binary on kernel version 5.0.3.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Update to kernel-modules-headers v0.0.19 to fix target objtool compile
          issue on kernel 5.0.3
        changelog-entry: >-
          Update to kernel-modules-headers v0.0.19 to fix target objtool compile
          issue on kernel 5.0.3
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.38.2
  date: 2019-06-27T12:37:01.764Z
- commits:
    - subject: Add warrior to compatible layers for meta-balena-common
      hash: 0ba0bc35ceeb78e03baebf79b738885d532734fc
      body: |
        In addition we delete krogoth and morty from the supported list
        as we also removed the actual layers from the repository.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add warrior to compatible layers for meta-balena-common
        changelog-entry: Add warrior to compatible layers for meta-balena-common
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Fix image-resin.bbclass to be able to use deprecated layers
      hash: 9e8fed3a7170040d4ba887bfd8fc018b97de5d12
      body: |
        Fixes #1564

        This bbclass uses the common layer path advertised by BBLAYERS to find
        the paths to different resources in board repository. For example
        machine json - to get the slug and advertise it in os-release. After
        renaming the common layer (resin to balena) and because we support old
        references to the old common layer name (by including a dummy
        deprecation layer), we need to make sure this class can cope now with
        both cases.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix image-resin.bbclass to be able to use deprecated layers
        changelog-entry: Fix image-resin.bbclass to be able to use deprecated layers
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix kernel-devsrc on thud when kernel version < 4.10
      hash: c4cd6307ac3ae86a8d34b91d9dc82b6d3310db9b
      body: >
        Thud breaks when building against kernel version < 4.10. This is a known

        issue which is fixed in poky warrior[1]. This patch includes a

        workaround for thud.


        [1]
        http://lists.openembedded.org/pipermail/openembedded-core/2019-February/278695.html
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix kernel-devsrc on thud when kernel version < 4.10
        changelog-entry: Fix kernel-devsrc on thud when kernel version < 4.10
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.38.1
  date: 2019-06-20T12:30:28.452Z
- commits:
    - subject: Fix VERSION_ID os-release to be semver complient
      hash: fecb50757c10e392d46dec6fd24360f778a87a43
      body: |
        Poky, following os-release(5), sanitizes VERSION_ID accordingly but in
        doing so it produces a nonisemver compliant version. For example:

            VERSION="2.37.0+rev1"
            VERSION_ID="2.37.0-rev1"

        This patch reverts that to make sure rev is a build tag.

        Fixes #1560
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix VERSION_ID os-release to be semver complient
        changelog-entry: Fix VERSION_ID os-release to be semver complient
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Introduce META_BALENA_VERSION in os-release
      hash: b0e0c77a26f3fad51e2923ab416fdd2af2a5a033
      body: >
        Since #1550, os-release doesn't reference meta-balena distro version
        anymore. Restore

        that by providing this information in a new variable called
        META_BALENA_VERSION.


        Fixes #1558
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Introduce META_BALENA_VERSION in os-release
        changelog-entry: Introduce META_BALENA_VERSION in os-release
      author: Andrei Gherzan
    - subject: >-
        Fix a case where changes to u-boot were not regenerating the config file
        at build time and using stale values.
      hash: b40271867c3249566775cfb870a6176bc47d503f
      body: |
        Currently once config_resin.h is generated, a change in these variables
        doesn't regenerate the file. Add vardeps so that bitbake can regenerate
        config_resin.h in case these variables are changed.

        Fixes #1530
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Fix a case where changes to u-boot were not regenerating the config
          file at build time and using stale values.
        changelog-entry: >-
          Fix a case where changes to u-boot were not regenerating the config
          file at build time and using stale values.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Use all.rp_filter=2 as the default value in balenaOS
      hash: 2fe90f3316a9394db0a060ec976d23fa97d4f00a
      body: >
        This change backports a PR[1] that is already in systemd and will come

        included by default from the version in Yocto warrior.


        In summary, with this change we fix newer NM which stopped handling

        rp_filter when connected to multiple interfaces. See "device: disable

        rp_filter handling" commit from NM. Without this change, only the

        default route will me usable and binding to a specific interface will

        break connectivity if that interface is not also the default route for

        the target IP.


        [1]https://github.com/systemd/systemd/pull/10971/commits/6caa14f763c11630f28d587b3caa5f0e6dc96165
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Use all.rp_filter=2 as the default value in balenaOS
        changelog-entry: Use all.rp_filter=2 as the default value in balenaOS
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Persist bluetooth storage data over reboots
      hash: 3815e42f24167c0ce84a39cf0653434bacb0bd88
      body: |
        Currently, bluez's storage data is set to /var/lib/bluetooth which
        in turn is a tmpfs location. We want this location persistent so we can
        save paired devices over reboot. We do that by adding the corresponding
        bind mount to the state partition and setting bluez to depend on this
        mount unit.

        Fixes #1544
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Persist bluetooth storage data over reboots
        changelog-entry: Persist bluetooth storage data over reboots
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Drop support for morty and krogoth Yocto versions
      hash: 85c1eda1eeade2e5d5a1153d9c737225de0b3ee2
      body: |
        We have been deprecating these layers since v2.30.0. It's time to drop
        this support completely.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Drop support for morty and krogoth Yocto versions
        changelog-entry: Drop support for morty and krogoth Yocto versions
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Add Yocto Warrior support
      hash: b86ee8945ba71ccdae9d7d0d52b2822db39d4c6a
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add Yocto Warrior support
        changelog-entry: Add Yocto Warrior support
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Set both VERSION_ID and VERSION in os-release to host OS version
      hash: 40347f618b3b70ccc5f40e924990197ae9fa7e6b
      body: >
        VERSION and VERSION_ID had a slightly different semantics in balenaOS.

        VERSION was referring to the BalenaOS (host OS) version (which is coming
        from

        device repositories) while VERSION_ID was set to the DISTRO_VERSION.

        This brings confusion so we change it to adhere to

        https://www.freedesktop.org/software/systemd/man/os-release.html.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Set both VERSION_ID and VERSION in os-release to host OS version
        changelog-entry: Set both VERSION_ID and VERSION in os-release to host OS version
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Bump balena-engine to 18.9.6
      hash: 3af08fe6d30b5f0f8148c6820cda1cca3076bf00
      body: |
        In preparation for warrior. Bumps containerd which works with the newer
        systemd in warrior.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Bump balena-engine to 18.9.6
        changelog-entry: Bump balena-engine to 18.9.6
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Downgrade balena-supervisor to v9.15.7
      hash: c3616e19967e30726048018161fd4763d3d45773
      body: |
        This is done because a feature (RESIN_SUPERVISOR_MIXPANEL_REPORT) needs
        more work before releasing in production.
      footer:
        Changelog-entry: Downgrade balena-supervisor to v9.15.7
        changelog-entry: Downgrade balena-supervisor to v9.15.7
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Switch from dropbear to openSSH
      hash: ef33f21cdb7283c6f62590b1fe3d37c7fbd4df99
      body: |
        This is done for the "AuthorizedKeysCommand" in openSSH which in turn is
        used by the balena backend.

        Fixes #1388
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Switch from dropbear to openSSH
        changelog-entry: Switch from dropbear to openSSH
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Rename meta-resin-common to meta-balena-common
      hash: db96dfc3864399a5029fa8e78bc7fe518f3ae63a
      body: |
        Follow the resin to balena rename on the common yocto layer.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Rename meta-resin-common to meta-balena-common
        changelog-entry: Rename meta-resin-common to meta-balena-common
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Add wifi firmware for rtl8192su
      hash: 875bd033eb400b6338c7c70417fcd78586a184cf
      body: |
        Fixes #1511
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add wifi firmware for rtl8192su
        changelog-entry: Add wifi firmware for rtl8192su
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.38.0
  date: 2019-06-14T15:11:59.348Z
- commits:
    - subject: Update balena-supervisor to v9.15.8
      hash: 4fcdf63860d17612ef10ff9c721b9f58c8b8c023
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v9.15.8
        changelog-entry: Update balena-supervisor to v9.15.8
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: 'kernel-modules-headers: Update to v0.0.18'
      hash: 9c1fb61a96351c112b98544117b90c4986445516
      body: |
        This update includes an arch64 fix (module.lds) and one for passing the
        correct LD flags.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'os-config: Update to v1.1.1 to fix mDNS'
      hash: 8d44decba7a252bfb4399622898d18e28367c4fa
      body: |
        os-config has a dependency on reqwest which broke mdns on 9.6. The new
        os-config updated this version to one that restored this functionality.

        Partially fixes: #1531
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix busybox nslookup mdns lookups
      hash: 157a06ad295a1f03635f8291dfc4dfe3358caa9c
      body: |
        Since 1.29, busybox switched to an internal implementation of the
        resolver based on a feature config, NSLOOKUP_BIG. This is enabled by
        default and it's meant to be musl compatible. In BalenaOS we use glibc
        and we rely on it for being able to resolve names using NSS modules
        (libmdns).
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix busybox nslookup mdns lookups
        changelog-entry: Fix busybox nslookup mdns lookups
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-supervisor to v9.15.4
      hash: a6e1c40853e4bad20de9172f688eb074f8d24b86
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v9.15.4
        changelog-entry: Update balena-supervisor to v9.15.4
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Improve logging and version comparison in linux-firmware cleanup class
      hash: 6500c7f020133833b820f9152c22b8e45794542c
      body: |
        This adds an easier to debug logging that shows both removed and kept
        firmwares. For example:

         Cleaning iwlwifi firmware version 8000C to minimum API version 34.
           Removing iwlwifi-8000C-13.ucode.
           Removing iwlwifi-8000C-22.ucode.
           Removing iwlwifi-8000C-21.ucode.
           Removing iwlwifi-8000C-31.ucode.
           Removing iwlwifi-8000C-16.ucode.
           Removing iwlwifi-8000C-27.ucode.
           Leaving iwlwifi-8000C-34.ucode in place.
           Leaving iwlwifi-8000C-36.ucode in place.

        Also, this commit improves the version comparison which was comparing
        strings and not integers. Now we try integer comparison and fallback to
        string when parse fails.

        Finally, the task's vardeps expands varflags to correctly retrigger on
        change.

        Fixes #1527
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Improve logging and version comparison in linux-firmware cleanup class
        changelog-entry: Improve logging and version comparison in linux-firmware cleanup class
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Sync ModemManager recipe with upstream
      hash: e0be8f152c88a5635b5d18249c5f882caf9e31c5
      body: >
        We also pushed the latest update we did in BalenaOS to upstream:

        http://lists.openembedded.org/pipermail/openembedded-devel/2019-May/199743.html
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Sync ModemManager recipe with upstream
        changelog-entry: Sync ModemManager recipe with upstream
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update NetworkManager to 1.18.0
      hash: 808f6f1790357b4f282a15cbb72c603ee77f63d3
      body: >
        Fixes #1492


        Pushed to upstream as well:

        http://lists.openembedded.org/pipermail/openembedded-devel/2019-May/199742.html
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update NetworkManager to 1.18.0
        changelog-entry: Update NetworkManager to 1.18.0
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.37.0
  date: 2019-05-29T14:57:13.320Z
- commits:
    - subject: Cleanup old versions of iwlwifi firmware files in Yocto Thud
      hash: 65122b0689d75d49b338595ec6813b1acad59223
      body: |
        This is done so we can save considerable amount of space on the root
        partition.

        See #810
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto Thud
        changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto Thud
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.36.0
  date: 2019-05-20T13:07:11.168Z
- commits:
    - subject: Update kernel-module-headers to version v0.0.16
      hash: 410311755dec70ba4040fcfbcb5ace59884b4644
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update kernel-module-headers to version v0.0.16
        changelog-entry: Update kernel-module-headers to version v0.0.16
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Add uboot support for unified kernel cmdline arguments
      hash: 35046288e2878f85e4bc33a0cb993e32d4d5aa9a
      body: |
        This adds set_os_cmdline which defines os_cmdline so that BSPs can
        import it in their bootargs and pass it to kernel accordingly. Also, as
        part of os_cmdline, there is an argument added when the booted image is
        a flasher. This can be used in the OS for various flasher specific
        checks.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add uboot support for unified kernel cmdline arguments
        changelog-entry: Add uboot support for unified kernel cmdline arguments
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Switch flasher detection in initramfs to flasher boot parameter
      hash: 93e3c7286c52c6f91bf4252338955f6d7fd97fc2
      body: |
        Fixes #1488
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Switch flasher detection in initramfs to flasher boot parameter
        changelog-entry: Switch flasher detection in initramfs to flasher boot parameter
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-supervisor to v9.15.0
      hash: b99419662683f44c09f4369424f450b90f9d0a5a
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v9.15.0
        changelog-entry: Update balena-supervisor to v9.15.0
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Improve boot speed by only mounting the inactive partition when needed
      hash: 28fc12ef94bc8e9a083bc5b1e8052fdb685453c2
      body: |
        The inactive partition is only needed for HUP or rollbacks. This commit
        changes the mnt-sysroot-inactive.service unit to an automount so that
        the partition is only mounted when used. This improves boot time.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Improve boot speed by only mounting the inactive partition when needed
        changelog-entry: Improve boot speed by only mounting the inactive partition when needed
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix openssl dependency of balena-unique-key
      hash: 2159c397b0560d03441806573e14bfbcf52a7e7b
      body: |
        Since yocto thud, and more specifically since poky switched to
        openssl 1.1 line, the openssl binary is provided by 'openssl-bin'. On
        that version, 'openssl' doesn't provide this binary making the uuid
        generation script fail.

        This patch makes 'openssl-bin' the default dependency but does that in a
        way that older yocto versions can overwrite it back to the old provider
        (openssl package).
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix openssl dependency of balena-unique-key
        changelog-entry: Fix openssl dependency of balena-unique-key
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Do not spawn getty in production images
      hash: 93b3298cbb343f3ebf3a03725f6f0298974bed8f
      body: |
        This code was deleted by commit
        9a8f1f1b744248964d4d1b2eb2c8dd732a753980 by mistake so let's
        add it back.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Do not spawn getty in production images
        changelog-entry: Do not spawn getty in production images
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.35.0
  date: 2019-05-18T22:39:09.735Z
- commits:
    - subject: Update balena-supervisor to v9.14.10
      hash: 70b9acb15806f0a276f80ab18e9f7ad4aa02d83b
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v9.14.10
        changelog-entry: Update balena-supervisor to v9.14.10
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
  version: 2.34.1
  date: 2019-05-14T10:20:59.175Z
- commits:
    - subject: >-
        Add support to update a connectivity section in NetworkManager via
        config.json
      hash: 2585af4a34abcd6ced3dcd0c70913ef1cdfe019d
      body: |
        We'd like connectivity checking so that Network Manager can update
        route metrics for devices that have multiple network interfaces.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Add support to update a connectivity section in NetworkManager via
          config.json
        changelog-entry: >-
          Add support to update a connectivity section in NetworkManager via
          config.json
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'systemd: Fix journald configuration file'
      hash: b1cc7829758969112aae599ea0b986624596b8c6
      body: |
        9a8f1f1b744248964d4d1b2eb2c8dd732a753980 switched to a config file
        fragment but when doing so the section was missed. This patch fixes
        that.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: >-
        Add --max-download-attempts=10 to balenaEngine service to improve
        performance on shaky networks
      hash: c699d5c13cea6a525c9d6a54152c781bd3885ecc
      body: |
        This should improve performance on flaky connections.

        Fixes #1493
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Add --max-download-attempts=10 to balenaEngine service to improve
          performance on shaky networks
        changelog-entry: >-
          Add --max-download-attempts=10 to balenaEngine service to improve
          performance on shaky networks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-engine to 18.09.5
      hash: 0894326a372e14056fede8c7acda67fa83e39284
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-engine to 18.09.5
        changelog-entry: Update balena-engine to 18.09.5
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Log initramfs messages to kernel dmesg to capture fsck, partition expand
        etc. command output
      hash: 580a6fb37f5c077d3c80957db02d7cfd3376fdc5
      body: |
        We run some operations in the initramfs. fsck, expand partitions etc.
        Any error messages or warnings printed here are invisible in production
        images. This line from debian initramfs-tools configures the initramfs
        shell to log all output in /dev/kmsg so the dmesg shows the output of
        initramfs commands as well.
        Fixes #1459
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Log initramfs messages to kernel dmesg to capture fsck, partition
          expand etc. command output
        changelog-entry: >-
          Log initramfs messages to kernel dmesg to capture fsck, partition
          expand etc. command output
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'kernel-resin: Add FAT fs specific configs to RESIN_CONFIGS'
      hash: a09550d9633eaba9b55ce2c98d9a43a5b52dfe6f
      body: |
        Add FAT fs specific configs, necessary to mount the
        boot partition
      footer:
        Change-type: minor
        change-type: minor
        Changlog-entry: Add FAT fs specific configs to RESIN_CONFIGS
        changlog-entry: Add FAT fs specific configs to RESIN_CONFIGS
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
    - subject: Update balena-supervisor to v9.14.9
      hash: 167164b41957981b67c90dd78a19073a2b231878
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v9.14.9
        changelog-entry: Update balena-supervisor to v9.14.9
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Introduce meta-balena yocto thud support
      hash: b2fea323b337bd6868f3f41b70f8bdb688b11bb8
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Introduce meta-balena yocto thud support
        changelog-entry: Introduce meta-balena yocto thud support
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update os-config to 1.1.0
      hash: 0ff476e2724525b96e3d72fc00d22423af2d6cb4
      body: |
        This version includes rust 1.33 support which we use in balenaOS.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update os-config to 1.1.0
        changelog-entry: Update os-config to 1.1.0
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.34.0
  date: 2019-05-10T10:24:10.994Z
- commits:
    - subject: Fixes for sysroot symlinks creation
      hash: b7a6412e6368d3d562ff1ca2fb06be92a24a8548
      body: |
        When we set the udev rule we use IMPORT{program} to know what symlinks
        to create in the sysroot directory. The problem is that we don't use
        absolute paths and from the documentation udev uses /usr/lib/udev as the
        default path while we install the invoked script in /lib/udev.

        ```
          Execute an external program specified as the assigned value. If no
          absolute path is given, the program is expected to live in
          /usr/lib/udev; otherwise, the absolute path must be specified.
        ```

        This PR changes the udev rule to use an absolute path for the
        resin_update_state_probe script. Also it fixes some typos in the script
        itself.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fixes for sysroot symlinks creation
        changelog-entry: Fixes for sysroot symlinks creation
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'libmbim: Refresh patches after last update to avoid build warnings'
      hash: 3b3bfcd8c74070797b55ab2a6e7079cc320581a6
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'modemmanager: Refresh patches after last update to avoid build warnings'
      hash: 83ccf2a4a131b8a116ab90e6272734ac67d73781
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Make security flags inclusion yocto version specific
      hash: 9571c572e4abcd1ea5951fa408b1543bc40db8c9
      body: >
        Since thud, poky distro file on which balena OS is based, already

        includes security_flags.inc. Because of this change, this version throws

        a build warning similar to:


        WARNING Duplicate inclusion for
        /build/../layers/poky/meta/conf/distro/include/security_flags.inc

        in
        /build/../layers/meta-resin/meta-balena-thud/conf/distro/include/balena-os-yocto-version.inc


        This happens because again, we import `poky` and `security_flags` but

        since thud, poky includes security_flags by default. In order to avoid

        this warning we import it (security_flags) now using an .inc file at the

        level of the yocto version meta-balena layer. There is as well a small

        additional wrinkle here. We switch the include statement from `require`

        to `include` so new layers (like thud) don't have to carry this hack in

        the future.


        This commit prepares meta-balena for thud support.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Make security flags inclusion yocto version specific
        changelog-entry: Make security flags inclusion yocto version specific
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'systemd: Make directory warning patch yocto version specific'
      hash: 7bedeb98520b6b1bc995b4484f6b61d347a0befe
      body: |
        We used to have this patch applied for all the supported yocto versions.
        Since thud, this patch is included by default so this change backports
        it on all the rest of the supported mate-balena yocto version specific
        layers.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Replace wireless tools by iw
      hash: 81839342bebec4ca915f091607bb3977dc02d675
      body: |
        From yocto thud, wireless-tools recipe was removed and the iw can be
        used as a replacement. We switch as well in preparation for thud
        support.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Replace wireless tools by iw
        changelog-entry: Replace wireless tools by iw
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'systemd: Use a conf.d file for journald configuration'
      hash: 9a8f1f1b744248964d4d1b2eb2c8dd732a753980
      body: |
        Since yocto thud systemd main configuration files are part of another
        recipe - systemd-conf. See poky commit:
        28c2f0dfe3ae06d87772b2a88fcace5a03e09143

        This commit prepares meta-balena for thud support.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Set go verison to 1.10.8 to match balena-engine requirements
      hash: 1f92a80e4a768bdff4646ccd31cc5c815a114be6
      body: |
        The reason for including this version is that balena-engine requires
        newer go compiler and also we want to unify it across our supported
        yocto versions to avoid eventual possible runtime issues.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Set go verison to 1.10.8 to match balena-engine requirements
        changelog-entry: Set go verison to 1.10.8 to match balena-engine requirements
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-engine to 18.09.3
      hash: 53ce14708251cda410f2e870b6ec9342e7e4e1e4
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        CHangelog-entry: Update balena-engine to 18.09.3
        changelog-entry: Update balena-engine to 18.09.3
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-supervisor to v9.14.6
      hash: 0ec51a88d9389b9f71a4bb4b2e33fda9464cde8c
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v9.14.6
        changelog-entry: Update balena-supervisor to v9.14.6
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: 'resin-u-boot: make devtool-compatible'
      hash: fb727b680fbfad8db39c2b491e49f1568c111436
      body: >
        devtool moves the files from the WORKDIR into ${S}/oe-local-files which
        makes

        copying of env_resin.h fail if the u-boot source is being modified using

        devtool. Since devtool also alters FILESPATH to include said
        oe-local-files

        directory, we can iterate over those paths instead of relying on
        WORKDIR.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Sven Schwermer <sven.schwermer@disruptive-technologies.com>
        signed-off-by: Sven Schwermer <sven.schwermer@disruptive-technologies.com>
      author: Sven Schwermer
    - subject: 'docker-disk: Disable unnecessary docker pid check'
      hash: d7583f3373de1188240e65a8e30def281657e0d0
      body: |
        By checking for a pid you are prevented from building Balena inside
        of a privileged container with a bind mount on /var/run/docker.sock

        The "Test docker execute permission" stanza is adequate for testing
        if docker is operational.
      footer:
        Change-type: minor
        change-type: minor
        Changlog-entry: Disable unnecessary docker pid check
        changlog-entry: Disable unnecessary docker pid check
        Signed-off-by: Armin Schlegel <armin.schlegel@gmx.de>
        signed-off-by: Armin Schlegel <armin.schlegel@gmx.de>
      author: Armin Schlegel
    - subject: Update libmbim to version 1.18.0
      hash: 677159770b7cfa0eb0a6611094ea7673f67883d3
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libmbim to version 1.18.0
        changelog-entry: Update libmbim to version 1.18.0
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update libqmi to version 1.22.2
      hash: 8047b6b9ec42ef4aab9798e516e4ded54a62a252
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libqmi to version 1.22.2
        changelog-entry: Update libqmi to version 1.22.2
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update to ModemManager v1.10.0
      hash: 774b270a7f963740b4c209efc6c66085a7d7c906
      body: |
        Fixes #1457
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update to ModemManager v1.10.0
        changelog-entry: Update to ModemManager v1.10.0
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: >-
        Add a OS_KERNEL_CMDLINE parameter that allows BSPs to easily add extra
        kernel cmdline args to production images
      hash: 4b607b32495737f6f83f12e891188ab008b0de47
      body: |
        balenaOS comes in two flavours, production/development. production
        images have various options passed to the kernel cmdline.
        Currently some devices BSPs have those options passed and some dont.
        It'll be hard to keep the common options consistent.
        e.g. consoleblank=0 is passed for some devices and not for others.

        We'd like the extra options we pass to be in one place. All BSPs can
        then append this variable in their respective recipe/bootloader config
        etc.

        Fixes #1464
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Add a OS_KERNEL_CMDLINE parameter that allows BSPs to easily add extra
          kernel cmdline args to production images
        changelog-entry: >-
          Add a OS_KERNEL_CMDLINE parameter that allows BSPs to easily add extra
          kernel cmdline args to production images
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.33.0
  date: 2019-05-02T13:26:16.845Z
- commits:
    - subject: 'balena-supervisor: Update to v9.14.0'
      hash: 215ba6f6e03ac7a9575046ebdf054cd6091cd8f4
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: 'readme: Replace resin with balena where appropriate'
      hash: ab578aecc50d9f2e88e935251a5d9025ccd95069
      body: |
        To be more consistent in naming.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Roman Mazur <mazur.roman@gmail.com>
        signed-off-by: Roman Mazur <mazur.roman@gmail.com>
      author: Roman Mazur
    - subject: Add systemd-analyze to production images as well
      hash: ae99502356d994dee5896164afbe7df8bde00d6a
      body: |
        We'd like to track boot time in production images as well.
        As we currently have space in the OS, lets add it.

        Size increase 1.2Mb (pi3)
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add systemd-analyze to production images as well
        changelog-entry: Add systemd-analyze to production images as well
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Enable dbus interface for dnsmasq
      hash: 6886d08e1b37fa52055e743b05a68b069319dfd5
      body: |
        The dbus interface is useful for containers to qeury dnsmasq if needed.
        Fixes #1453
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Enable dbus interface for dnsmasq
        changelog-entry: Enable dbus interface for dnsmasq
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Disable docker bridge while pulling the supervisor container to remove
        runtime balena-engine warnings
      hash: 0764b2949784f5c34cf20f56b8a42c38f6d475c1
      body: |
        By default, the supervisor container is created with the default bridge
        network docker0. Which causes spurious warnings in balenaOS.

        Disable the bridge network during build as we don't need it
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Disable docker bridge while pulling the supervisor container to remove
          runtime balena-engine warnings
        changelog-entry: >-
          Disable docker bridge while pulling the supervisor container to remove
          runtime balena-engine warnings
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix typo in os-networkmanager that prevented it from working
      hash: d649dd317d9ca0a9c1aa4abcb5cf0c0ae8798f95
      body: |
        The device section in networkmanager.conf is [device] not [Device].
        Fix the typo
        Fixes #1448
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix typo in os-networkmanager that prevented it from working
        changelog-entry: Fix typo in os-networkmanager that prevented it from working
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Fix bug where fsck was run on the data partition on every boot even if
        it wasn't needed due to old system time.
      hash: aa0d2154eb8aeee220807211317eafe153f46378
      body: |
        e2fsck by default checks differences between the system time and the
        last filesystem mount timestamp.

        As we run on devices without an rtc, and we run the filesystem-expand
        service which runs fsck before ntp sync happens, this results in errors
        like

        Superblock last mount time (Thu Mar 14 17:13:02 2019,
              now = Mon Mar 11 15:29:56 2019) is in the future.
        Fix? yes

        This results in fsck running on the data partition on every boot which
        slows down the boot time.

        Add e2fsck.conf file with the broken_system_clock flag to prevent this
        check from running fsck on every boot. Quite a few distros do this as
        well.
        Fixes #1438
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Fix bug where fsck was run on the data partition on every boot even if
          it wasn't needed due to old system time.
        changelog-entry: >-
          Fix bug where fsck was run on the data partition on every boot even if
          it wasn't needed due to old system time.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix the balena version string reported by balena-engine info
      hash: 19c7a0e368ea4ff3d0ac525a7743bc9ee00257e7
      body: |
        The version is 17.13.3. We'll need to bump the version string as well
        now that versionbot is being used in the balena-engine repo.
        Fixes 1433
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix the balena version string reported by balena-engine info
        changelog-entry: Fix the balena version string reported by balena-engine info
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Only check mmc devices for flasher image presence by default.
      hash: 5da7792e8c85f49fed15488ca983c1252f120d8b
      body: |
        Currently mmc and usb devices are checked at every boot for the presence
        of flasher images. USB initialization is slow 1-3 seconds. This slows
        boot time significantly.

        Most device types dont need to check for the presence of flasher images
        in usb devies. Modify u-boot to only check for mmc devices.

        usb initialization happens in devices via the "usb start" command. This
        is usually configured in CONFIG_PREBOOT for devices. Devices will need
        to remove "usb start" from CONFIG_PREBOOT to benefit from any boot time
        optimization.

        We will need to run "usb start" ourselves via env_resin for any device
        that happens to be searching for flasher images in usb device types.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Only check mmc devices for flasher image presence by default.
        changelog-entry: Only check mmc devices for flasher image presence by default.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Remove an extra redundant copy of udev rules database
      hash: 2e5a48350f359d516b4cf395d46c453434d53422
      body: |
        These files are used to generate /etc/udev/hwdb.bin at build time.
        "During runtime, only the binary database is used." from
        https://www.freedesktop.org/software/systemd/man/hwdb.html

        Remove these files from the final os image to save us 5.9Mb.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Remove an extra redundant copy of udev rules database
        changelog-entry: Remove an extra redundant copy of udev rules database
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Un-upx mobynit and os-config to speed them up a bit. Approx 1 second
        boost to boot time.
      hash: d1e710fd78ddbcc2142d10d1bade43b54a99dee7
      body: |
        We have space in the OS now. Avoid compressing os-config to speed it
        up a bit.

        Example compression levels for pi0

        root@62d0b9a:/mnt/data# du -hs os-config*
        2.6M    os-config
        700K    os-config_upxed
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Un-upx mobynit and os-config to speed them up a bit. Approx 1 second
          boost to boot time.
        changelog-entry: >-
          Un-upx mobynit and os-config to speed them up a bit. Approx 1 second
          boost to boot time.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.32.0
  date: 2019-04-08T17:06:17.364Z
- commits:
    - subject: Update resin-supervisor to v9.11.3
      hash: 7ad04ea5594fc1cf5f378b9cab3c75b2ee6f0e6e
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update resin-supervisor to v9.11.3
        changelog-entry: Update resin-supervisor to v9.11.3
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.31.5
  date: 2019-03-21T14:43:57.016Z
- commits:
    - subject: 'resin-supervisor: Recreate on start if config has changed'
      hash: 20032211302d25300c09310e169cafa01375e35e
      body: >
        Fix the ordering of the conditional check when starting the supervisor
        container;

        only check that the values being passed into the environment match the
        ones held

        in the config IF the container already exists.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Rich Bayliss <rich@balena.io>
        signed-off-by: Rich Bayliss <rich@balena.io>
      author: Rich Bayliss
  version: 2.31.4
  date: 2019-03-20T23:25:52.136Z
- commits:
    - subject: Update resin-supervisor to v9.11.2
      hash: abb864096b5b473893aa7011a685ed8df97a28ee
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update resin-supervisor to v9.11.2
        changelog-entry: Update resin-supervisor to v9.11.2
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
  version: 2.31.3
  date: 2019-03-20T20:18:02.522Z
- commits:
    - subject: Update resin-supervisor to v9.11.1
      hash: 0993710382367b865ce81113dbe5566e5814da10
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update resin-supervisor to v9.11.1
        changelog-entry: Update resin-supervisor to v9.11.1
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
  version: 2.31.2
  date: 2019-03-19T21:33:42.542Z
- commits:
    - subject: Update resin-supervisor to v9.11.0
      hash: 8b1380bce8a664ef228b054c2b065521acbb48aa
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update resin-supervisor to v9.11.0
        changelog-entry: Update resin-supervisor to v9.11.0
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
  version: 2.31.1
  date: 2019-03-18T19:21:24.218Z
- commits:
    - subject: 'README:md: Document dnsServers behaviour'
      hash: ad441b8367d65fe780beef35b20f8d4898bdd339
      body: |
        Taken from fa3de6987e3bc82ab6d85038c637f1871e5269cb commit message
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexis Svinartchouk <alexis@balena.io>
        signed-off-by: Alexis Svinartchouk <alexis@balena.io>
      author: Alexis Svinartchouk
    - subject: Update resin-supervisor to v9.9.0
      hash: 133dde58bde7c4d54ad157374bb3e7062a599e31
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v9.9.0
        changelog-entry: Update resin-supervisor to v9.9.0
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Cleanup old versions of iwlwifi firmware files in Yocto sumo
      hash: 5db4441e50b2d47cd7658845c12508b50808d5ee
      body: |
        This is done so we can save considerable amount of space on the root
        partition.

        See #810
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto sumo
        changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto sumo
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Remove polkit dependency in balenaOS
      hash: 4fddf1a54ac13ed4acd3f65096afccf6a5f7a5ef
      body: |
        Fixes #1404
        See #810
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Remove polkit dependency in balenaOS
        changelog-entry: Remove polkit dependency in balenaOS
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Remove support for XFS file system
      hash: bbf5675973da6adf8fa8f8b671606fbffaef834e
      body: |
        This is done so we can save space on the root file system.

        See #810
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Remove support for XFS file system
        changelog-entry: Remove support for XFS file system
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'resin-init: update resin.io reference to balenaOS'
      hash: 593fcb558b1afe3892560fdd7e0c315c9459466f
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
  version: 2.31.0
  date: 2019-03-08T14:31:27.986Z
- commits:
    - subject: 'resin-supervisor: Recreate on start if config has changed'
      hash: 3ce04f93b1894f86be5d838bcc24335aaa161233
      body: |
        When starting the supervisor container, check that the values being
        passed into the environment match the ones held in the config.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Rich Bayliss <rich@balena.io>
        signed-off-by: Rich Bayliss <rich@balena.io>
      author: Rich Bayliss
    - subject: >-
        Generate the temporary kernel-devsrc compressed archive in WORKDIR
        instead of B
      hash: ed5fe09c9dfb4f5dd07bae691b277b9d2f38f718
      body: |
        It is best to not create anything in ${B} even if just temporary because
        it alters the directory in ways which can break other parts of the build
        system. For example, if there is a leftover kernel_source.tar.gz in B,
        then the current kernel-devsrc will create a hardlink of this file in
        the kernel source tree and then the command:
        tar -czf ${B}/kernel_source.tar.gz -C "$kerneldir/../" .

        will fail like:
        tar: ./kernel/kernel_source.tar.gz: file changed as we read it
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Generate the temporary kernel-devsrc compressed archive in WORKDIR
          instead of B
        changelog-entry: >-
          Generate the temporary kernel-devsrc compressed archive in WORKDIR
          instead of B
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: 'balena-engine: Update to include fix for signal SIGRTMIN+3'
      hash: 0e19efb71526097cad4037336f7a410782189fa0
      body: |
        See https://github.com/opencontainers/runc/issues/1766.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Reduce sleeps while trying to mount partition to speed up boot
      hash: 73b69ae792330741603e0a4fc7878b2ec9ed0462
      body: |
        There is no need to wait 1 second if a label hasn't appeared. Other
        services depend on these partitions to be mounted. Reduce sleep to 0.1
        second.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Reduce sleeps while trying to mount partition to speed up boot
        changelog-entry: Reduce sleeps while trying to mount partition to speed up boot
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'resin-expand: Reduce sleep duration to speed up boot'
      hash: 6c69d676d36ed6a94ca094037515dd5ee4a5697a
      body: |
        There is no need to sleep for 1 second if a label isn't visible.
        Other services depend on the partitons mounted. Reduce sleep to 0.1
        second.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'initrdscripts: Reduce sleep to speed up boot'
      hash: 4a6cb8ae75e275de389dc3ef9dfbd52c3bdd72f1
      body: |
        There is no need to sleep for 1 second if the label hasn't been found.
        There is nothing else running on the device in the initramfs.
        Check every 0.05 seconds.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Make balena-host daemon socket activated to reduce baseline cpu/memory
        usage
      hash: 0d0cb22118e08d710640697561853a1227b64b92
      body: |
        Fixes #1405

        We'd like the balena-host daemon to be socket activated so that it does
        not consume any cpu/memory resource until used.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Make balena-host daemon socket activated to reduce baseline cpu/memory
          usage
        changelog-entry: >-
          Make balena-host daemon socket activated to reduce baseline cpu/memory
          usage
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update resin-supervisor to v9.8.6
      hash: 3124067996edded74e52cf9b87ec5dc9ee95c730
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v9.8.6
        changelog-entry: Update resin-supervisor to v9.8.6
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: >-
        Add support for aufs 4.18.11+, 4.19, 4.20 variants and update 4.14,
        4.14.56+, 4.15, 4.16, 4.17, 4.18
      hash: 9c8b60cf92aa7a25f424532956439b518ec96201
      body: |
        We add support for 4.18.11+, 4.19, 4.19.17+, 4.20, 4.20.4+.
        Also, update 4.14, 4.14.56+, 4.15, 4.16, 4.17, 4.18.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Add support for aufs 4.18.11+, 4.19, 4.20 variants and update 4.14,
          4.14.56+, 4.15, 4.16, 4.17, 4.18
        changelog-entry: >-
          Add support for aufs 4.18.11+, 4.19, 4.20 variants and update 4.14,
          4.14.56+, 4.15, 4.16, 4.17, 4.18
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: 'balena-engine: Bump to include runc patch'
      hash: f56f08136e9c855637ff28880fb593dba53d452b
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Improve kernel-module-headers for v4.18+ kernels
      hash: 0931b97b76ef2d04697468f027b53247803b51d4
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Improve kernel-module-headers for v4.18+ kernels
        changelog-entry: Improve kernel-module-headers for v4.18+ kernels
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v9.8.3
      hash: 76a72c58095d0d1b45a552f62b75bb5ec18813c6
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-supervisor to v9.8.3
        changelog-entry: Update balena-supervisor to v9.8.3
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: >-
        Ask chrony to quickly take measurements from custom NTP servers when
        they are added
      hash: 8cb1664a2650b1a60849efaf009b205e8e796816
      body: |
        By default, chrony will slowly and gracefully take measurements from
        the new ntp server. The burst 4/10 command will make chrony take 4 good
        measurements within 2 seconds each. It will try up to 10 times.
        Fixes #1385
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Ask chrony to quickly take measurements from custom NTP servers when
          they are added
        changelog-entry: >-
          Ask chrony to quickly take measurements from custom NTP servers when
          they are added
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Disable in-tree rtl8192cu driver
      hash: 95a5c13ee40cc958b142b00e19a4349d66a8b808
      body: |
        We will only have the out of tree module which allegedly
        is more stable:
        https://github.com/raspberrypi/linux/issues/1866

        The configs for disabling it were added but apparently
        they were never applied.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Disable in-tree rtl8192cu driver
        changelog-entry: Disable in-tree rtl8192cu driver
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Prevent rollbacks from running if the previous OS is before v2.30.0
      hash: fee00ba8b841d3e8634960c37c3e96c994c18567
      body: |
        v2.30.0 is a more mature version for rollbacks. Prevent rollbacks
        from running on OS
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Prevent rollbacks from running if the previous OS is before v2.30.0
        changelog-entry: Prevent rollbacks from running if the previous OS is before v2.30.0
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Change rollbacks to accept hex partition numbers for jetsons
      hash: 11b540777b76163493564407c9bdd7be98215f02
      body: |
        The partition numbers are hex and not integers. This is obvious when
        using the jetson family of devices as their partition numbering starts
        at 0xc.

        - Change integer comparisons to string comparisons.
        - Convert current_part_idx to hex for a valid string comparison
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Change rollbacks to accept hex partition numbers for jetsons
        changelog-entry: Change rollbacks to accept hex partition numbers for jetsons
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Convert partition numbers to hex in u-boot hook. Shouldn't affect any
        device.
      hash: 6c646e5c275f881c255e49d206a15d6fbbba3276
      body: |
        From u-boot docs:
        "Almost all U-Boot commands expect numbers to be entered in hexadecimal
        input format"

        We only hit this in the jetson family as the boot partition there is
        0xc. Add a simple conversion to hex. This should not affect any devices
        that use <9 partition numbers. And allow us to use the same hook
        from meta-balena accross all devices. Currently the jetson family has
        its own custom hook with this one-liner.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Convert partition numbers to hex in u-boot hook. Shouldn't affect any
          device.
        changelog-entry: >-
          Convert partition numbers to hex in u-boot hook. Shouldn't affect any
          device.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Reduce default reboot/poweroff timeouts from 30 minutes to 10 minutes
      hash: 59c923777e6145288df5b6e77ca33a21323b68e3
      body: >
        The default timeout for poweroff/reboot targets is 30 minutes. That is

        too long. Reduce it to 10 minutes.


        We might start hitting this when the supervisor starts rebooting devices

        more gracefully after
        https://github.com/balena-io/balena-supervisor/issues/861

        is resolved.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Reduce default reboot/poweroff timeouts from 30 minutes to 10 minutes
        changelog-entry: Reduce default reboot/poweroff timeouts from 30 minutes to 10 minutes
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Configure systemd tmpfiles to ignore supervisor tmp directories
      hash: ebb0a930c7c8f8ec348858009a0ff3fd0c58b70b
      body: |
        There are tmp directories supervisor assumes nobody touches in which
        things like update lock files are stored. This patch configures systemd
        tmpfiles to ignore these tmp paths.

        Fixes #1377
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Configure systemd tmpfiles to ignore supervisor tmp directories
        changelog-entry: Configure systemd tmpfiles to ignore supervisor tmp directories
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fixed "Can't have overlapping partitions." error in flasher
      hash: 299e2c7974c408a0a2ff762bc263f266c69d5a98
      body: |
        Fixed typo that caused flashing process to block
        on some corrupted eMMCs due to parted command failure.

        Flashing process hanged during boot with this log:
        - Error: Can't have overlapping partitions.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fixed "Can't have overlapping partitions." error in flasher
        changelog-entry: Fixed "Can't have overlapping partitions." error in flasher
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: Define default DNS servers behaviour with and without google DNS
      hash: fa3de6987e3bc82ab6d85038c637f1871e5269cb
      body: |
        This implements a default logic for `dnsServers` attribute in
        `config.json` as it follows:

        * when dnsServers is not defined, or empty, the default value of it will
        be considered google DNS (8.8.8.8)
        * when dnsServers is "null", the system will not alter dnsServers to the
        default server as stated above
        * when dnsServers is defined and not "null" it will be considered as
        such without any additional servers servers

        Fixes ##1348
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Define default DNS servers behaviour with and without google DNS
        changelog-entry: Define default DNS servers behaviour with and without google DNS
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-supervisor to v9.4.2
      hash: 4d66971c840b6142c7e22c5538b5c34356b9f880
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-supervisor to v9.4.2
        changelog-entry: Update balena-supervisor to v9.4.2
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Fix for some warnings
      hash: 1d92f8c3bcc21a7c0b21b12f65f1051616f04b78
      body: >
        From
        http://cgit.openembedded.org/openembedded-core/commit/meta/recipes-kernel/linux/kernel-devsrc.bb?h=thud&id=fd74848c3c06901a77057ca03f7c01aff08ee34a
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix for some warnings
        changelog-entry: Fix for some warnings
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix tini filename after balena-engine rename
      hash: 47980f05d3fa7c8a46b297431e0398b2da03e22e
      body: |
        Since balena-engine rename, the daemon is looking for
        `balena-engine-init` when running containers with `--init`. Fix the tini
        filename to comply with this.

        Fixes #1368
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix tini filename after balena-engine rename
        changelog-entry: Fix tini filename after balena-engine rename
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: >-
        Fix nm dispatcher hook when there are no custom ntp servers in
        config.json
      hash: 0b75ee48cee005d78e08d8c68722cc2374567123
      body: |
        If there are no custom ntp servers, the added_server_file doesn't exist
        Add a check and avoid running the script if the file does not exist

        Fixes #1362
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Fix nm dispatcher hook when there are no custom ntp servers in
          config.json
        changelog-entry: >-
          Fix nm dispatcher hook when there are no custom ntp servers in
          config.json
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Improve persistent logging systemd service dependencies
      hash: 0ce1d8576b7e33083784cb3123d2ad2c53091513
      body: |
        We need the state partition and boot partition ready before we try
        to run the persistent logging service.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Improve persistent logging systemd service dependencies
        changelog-entry: Improve persistent logging systemd service dependencies
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v9.3.0
      hash: dc5ed342a39c32d2efa00197e4ce7578e8de20f9
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-supervisor to v9.3.0
        changelog-entry: Update balena-supervisor to v9.3.0
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Use the new revision for balena source code
      hash: a52207c03253fcc0cc219a4e1a100b46ea44e226
      body: |
        The 17.12-resin branch was modified and the old revision is not
        there anymore.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Use the new revision for balena source code
        changelog-entry: Use the new revision for balena source code
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: >-
        Add a workaround for a bug where the chronyc online command in network
        manager hook would get stuck and eat cpu cycles
      hash: 6fe830882bf8ee62dc6db09b5a8a6f099d64fe41
      body: >
        We have noticed devices in support that show high cpu usage because

        the process chronyc online seems to be eating up 50% cpu.


        This is probably fixed upstream
        https://github.com/mlichvar/chrony/commit/6863e43269fe27ce2744eb643295f31c00ec176d#diff-50898f0cb35139d87132f4732a029213


        Add a timeout in any case as its a lower risk option
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Add a workaround for a bug where the chronyc online command in network
          manager hook would get stuck and eat cpu cycles
        changelog-entry: >-
          Add a workaround for a bug where the chronyc online command in network
          manager hook would get stuck and eat cpu cycles
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix img to rootfs dependency when img is invalidated
      hash: 3050840935541c14ded2f9a6a1517d73dfc5ec18
      body: |
        There can be cases where a image type gets invalidated (due to a
        variable change or so) and the dependency of it not. For example the img
        type can get invalidated while the hostapp ext3 type doesn't. The img
        generatiton script consumes/uses the rootfs generated by the hostapp
        type but, it references the artifact based on IMAGE_NAME variable which
        includes a time stamp. See bitbake.conf:

        IMAGE_NAME = "${IMAGE_BASENAME}-${MACHINE}-${DATETIME}"

        When that happens, the new timestamp will change and img will fail to
        find the old artifact of hostapp. Change this behaviour by using the
        symlink reference IMAGE_LINK_NAME which doesn't include a timestamp.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix img to rootfs dependency when img is invalidated
        changelog-entry: Fix img to rootfs dependency when img is invalidated
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Have boot partition type configurable as FAT32
      hash: a582d10ca72ff0d865783252b87160f03b2045bb
      body: |
        When BALENA_BOOT_FAT32 is 1, it will instruct the raw image generator to
        create the filesystem using 32 as file allocation tables type and, as
        well, create the boot partition as fat32 type.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Have boot partition type configurable as FAT32
        changelog-entry: Have boot partition type configurable as FAT32
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Deprecate morty and krogoth
      hash: 9d311fd13ad2af4b17a7a9a512e2f667e4ff9f58
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Deprecate morty and krogoth
        changelog-entry: Deprecate morty and krogoth
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Deploy kernel source as a build artifact as well for external module
        compilation
      hash: bfc7a67cb6b6f38617bb810f2b5c1e051ebf6a4a
      body: |
        We want to build the kernel-devsrc recipe so that we can package the
        kernel source tarball. This tarball will allow users to use the source
        package and compile or cross compile kernel modules
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Deploy kernel source as a build artifact as well for external module
          compilation
        changelog-entry: >-
          Deploy kernel source as a build artifact as well for external module
          compilation
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'kernel-devsrc: Tarball up the kernel source and deploy it.'
      hash: 4da9fdc90001f64f2bd8852cd4cf8a8de3b02cbb
      body: |
        The kernel-devsrc recipe only builds a package by default. We'd like
        to tarball the source and share it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'kernel-modules-headers: Use the build directory for artifacts'
      hash: 3e09d127d86729a94cd9a600a6f4f7568b4d6315
      body: |
        Otherwise the module header tarball appears in the kernel source
        directory and is tarballed again by the kernel-devsrc recipe
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'docs: Add documentation on nested changelogs'
      hash: d02c8f877914b8173af4f4fd051d4e5626a2aeae
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Giovanni Garufi <giovanni@balena.io>
        signed-off-by: Giovanni Garufi <giovanni@balena.io>
      author: Giovanni Garufi
    - subject: 'VersionBot: update upstream name and url'
      hash: 203ddc055b3ea63bfa953a8917fdcd2a4961c012
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Giovanni Garufi <giovanni@balena.io>
        signed-off-by: Giovanni Garufi <giovanni@balena.io>
      author: Giovanni Garufi
  version: 2.30.0
  date: 2019-02-28T16:10:14.839Z
- commits:
    - subject: OS will default apps.json to an empty json file
      hash: c935fcfd72dfefa5188d90edc48cd1b01dbadec2
      body: |
        Currently, because we bind mount apps.json unconditionally, when this
        file doesn't exist, balena engine will create a directory on the data
        filesystem. This breaks when we add an apps.json file after the
        supervisor container was already created.

        Fixes #1325
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: OS will default apps.json to an empty json file
        changelog-entry: OS will default apps.json to an empty json file
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-engine to include low entropy fixes
      hash: 32726b55b9e4b0a33e6357bfbe4b0169bcf253a7
      body: |
        This includes changes which target fixing hanging on low entropy
        situation.

        Fixes #1208
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-engine to include low entropy fixes
        changelog-entry: Update balena-engine to include low entropy fixes
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Move an NM patch to the right place to reduce a warning
      hash: f823ee173d52519113bb9513972aa9eaf3816355
      body: |
        We get a warning that the file was not found when other versions of NM
        are parsed.

        Warning networkmanager_1.10.6.bb: Unable to get checksum for
        networkmanager SRC_URI entry balena-client-id.patch: file could not
        be found
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Move an NM patch to the right place to reduce a warning
        changelog-entry: Move an NM patch to the right place to reduce a warning
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v9.0.1
      hash: 73a8bf6d0b45b052f05403ad6bf84504be2d918d
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-supervisor to v9.0.1
        changelog-entry: Update balena-supervisor to v9.0.1
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
    - subject: Fix cases where RESIN_BOOT_PARTITION_FILES includes invalid entries
      hash: c10653eb0b17e3997fb77182cf62b9cdc143f25c
      body: |
        Fixes #1330
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix cases where RESIN_BOOT_PARTITION_FILES includes invalid entries
        changelog-entry: Fix cases where RESIN_BOOT_PARTITION_FILES includes invalid entries
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Enable some common linux kernel serial device drivers
      hash: 1fa8c951327d1356410152f944003f98a9b68112
      body: |
        Fixes #1327
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Enable some common linux kernel serial device drivers
        changelog-entry: Enable some common linux kernel serial device drivers
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: >-
        Configure NetworkManager to only ignore our vpn interface but manage
        other tun devices
      hash: 2a5415c4a9a1b9c1e3da8a340be4ba307174c42d
      body: |
        Under the current configuration we instruct NetworkManager through its
        configuration to completely ignore all the tun devices. This was
        enforced as an extra precation as we run an openvpn client which
        connects to the balena-cloud backend. This client creates, on the host,
        the interface `resin-tun` currently (rename pending). We want to loosen
        up this restriction to only unmanage this specific device - `resin-tun`
        - so that users can take advantage of NetworkManager managing other tun
        devices.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Configure NetworkManager to only ignore our vpn interface but manage
          other tun devices
        changelog-entry: >-
          Configure NetworkManager to only ignore our vpn interface but manage
          other tun devices
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'networkmanager: Add pppd to FILES'
      hash: b05bc683b6517318a3ebef56010d671ae07804c1
      body: >
        Without this, we get a QA error


        ERROR networkmanager-1.14.4-r0 do_package QA Issue networkmanager

        Files/directories were installed but not shipped in any package
          ... nm-pppd-plugin.so
        Please set FILES such that these items are packaged. Alternatively

        if they are unneeded, avoid installing them or delete them within
        do_install.

        networkmanager 1 installed and not shipped files. [installed-vs-shipped]
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'networkmanager: Add balena-client-id.patch in bbappend'
      hash: 35c4822bbff164a4a4f3a769f0d1fabbda61f33b
      body: |
        Move this in bbappend. The 1.12 recipe was bumped to 1.14.
        We'd like to keep our edits in bbappend
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Bump network manager from v1.12.2 to v1.14.4
      hash: 0b8be376090d9bff4f41a362e4bcc250e0c664e9
      body: >
        Update recipe from upstream meta-openembedded

        http://cgit.openembedded.org/meta-openembedded/commit/meta-networking/recipes-connectivity/networkmanager?id=331b717b862e3599b99942acb64c1d6b03806042


        Difference in size ~ +400K
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Bump network manager from v1.12.2 to v1.14.4
        changelog-entry: Bump network manager from v1.12.2 to v1.14.4
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v8.7.0
      hash: ff552b96370e06a357db69d57cbbad5db08433db
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v8.7.0
        changelog-entry: Update balena-supervisor to v8.7.0
        Change-type: minor
        change-type: minor
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
    - subject: Fix test cases for kernel module header compilation
      hash: 53793e1e591f2e0d4534c38fcb0585ace2d0d181
      body: |
        For some reason, using xargs -I a produced spurious difficult to trace
        errors. Rework test case using a loop. Do the arch check using Yoctos
        QA framework that runs on all packages. Otherwise, we'd have to manually
        map various compatible arches e.g. aarch64 - arm8, 80386 - x86

        bberror does not exit the do_compile task. Add exit 1 to make sure that
        if an error is found, the task is marked as failed. Otherwise the
        error becomes a heisenbug as bitbake proceeds after do_compile.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix test cases for kernel module header compilation
        changelog-entry: Fix test cases for kernel module header compilation
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Add chrony v3.2 recipe in various layers to keep minimum chrony version
        on devices above v3.2
      hash: 898ce1a6c0a18c91478f704f4014ec2fcd1fedce
      body: >
        We added an option in chrony.conf (hwtimestamp) via meta-resin-common.

        That option is supported in newer versions of chrony.


        Add chrony 3.2 recipe from meta-openembedded sumo

        http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Add chrony v3.2 recipe in various layers to keep minimum chrony
          version on devices above v3.2
        changelog-entry: >-
          Add chrony v3.2 recipe in various layers to keep minimum chrony
          version on devices above v3.2
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'chrony/pyro: Add v3.2 recipe'
      hash: c3fbd6fe368ae1ca2472f15414d319f802e2989c
      body: >
        We added an option in chrony.conf (hwtimestamp) via meta-resin-common.

        That option is supported in newer versions of chrony.


        Add chrony 3.2 recipe from meta-openembedded sumo

        http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'chrony/morty: Add v3.2 recipe'
      hash: 75f44470da8e5bf99bdf4cd4ea45cbb798909604
      body: >
        We added an option in chrony.conf (hwtimestamp) via meta-resin-common.

        That option is supported in newer versions of chrony.


        Add chrony 3.2 recipe from meta-openembedded sumo

        http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'chrony/krogoth: Bump recipe version to v3.2'
      hash: 59ac08ea58e59e2d61cc53cadea1b835eb5b4e31
      body: >
        We added an option in chrony.conf (hwtimestamp) via meta-resin-common.

        That option is supported in newer versions of chrony.


        Add chrony 3.2 recipe from meta-openembedded sumo

        http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update resin-supervisor to v8.6.8
      hash: a9cf9b06e9775612f2397c7abaca507428558722
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v8.6.8
        changelog-entry: Update resin-supervisor to v8.6.8
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.29.0
  date: 2018-12-19T06:20:13.246Z
- commits:
    - subject: Update os-config to 1.0.0
      hash: e9a428ae474c9a9e4573ae1071978b19e332f0b8
      body: |
        The main feature this brings is support for custom certificates base64
        encoded in config.json.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update os-config to 1.0.0
        changelog-entry: Update os-config to 1.0.0
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update libqmi to version 1.20.2
      hash: 19bb5410ac28a89db7193490001ea358bbb37912
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libqmi to version 1.20.2
        changelog-entry: Update libqmi to version 1.20.2
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update libmbim to version 1.16.2
      hash: 7e8d7520288c916f694fe6cdf1d43fa0d0a275e3
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libmbim to version 1.16.2
        changelog-entry: Update libmbim to version 1.16.2
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: 'kernel-modules-headers: Add basic sanity test'
      hash: 51ff1d707273a27369e91b6cf99257633f0b9e21
      body: |
        Test if the ELFs inside the kernel module header tarball are the
        correct architecture and don't have the sysroot as the interpreter
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix kernel module header generation
      hash: 706829bc46c593048909686a67faef064adf6232
      body: |
        63baa421 introduced a bug where the tools in the header tarballs were
        compiled with the incorrect HOSTCC parameter. As a result the tools
        inside the tarball were compiled for x86-64 instead of the native
        device architecture. And they had the incorrect ld interpreter path
        as well.

        Update to v0.0.12 to fix that.
        This release also adds objtool support needed by the intel nuc image.

        Fixes #1302
        Fixes #1303
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix kernel module header generation
        changelog-entry: Fix kernel module header generation
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'image-resin.bbclass: Fix config.json pretty format'
      hash: 889d989a3d9059825d7d346fbf0e728be9869994
      body: |
        Fixes #1300
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Allow supervisor update on unmanaged devices
      hash: b8705936f0a081a2f33f3fb590a90e4805547e9d
      body: |
        When the device hasn't joined a backend, there is no API key available
        and the update supervisor tool currently just bails out. This blocks
        switching the supervisor version on an unmanaged device.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Allow supervisor update on unmanaged devices
        changelog-entry: Allow supervisor update on unmanaged devices
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update resin-supervisor to v8.6.3
      hash: 1f0a1b16102847412e0165ff01125a4d50ab4c81
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v8.6.3
        changelog-entry: Update resin-supervisor to v8.6.3
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
  version: 2.28.0
  date: 2018-12-05T15:21:33.157Z
- commits:
    - subject: Expose randomMacAddressScan config.json knob
      hash: 69d2340ccf5691085bebeb92478475cd3278bbb9
      body: |
        For now only allow `wifi.scan-rand-mac-address` configurable from
        config.json using `randomMacAddressScan` as the json key.

        config.json snippet example:

        "os": {
          "network" : {
            "wifi": {
              "randomMacAddressScan": false
            }
          }
        }

        We include a set of tests for this tool which are ran at build time.

        Fixes #1294
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Expose randomMacAddressScan config.json knob
        changelog-entry: Expose randomMacAddressScan config.json knob
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Move modemmanager udev rules in /lib/udev/rules.d
      hash: 1d7f81ee8b8ca5fd73417598ac8b15d8f99b28ed
      body: |
        The path where the udev rules are currently installed (etc) will be
        shadowned at runtime because the etc udev rules path is bindmounted for
        use with custom configuration from `config.json`.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Move modemmanager udev rules in /lib/udev/rules.d
        changelog-entry: Move modemmanager udev rules in /lib/udev/rules.d
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix modemmanager bbappend files
      hash: 304b7079ec0261a4467cd384b83b456348af6a0c
      body: |
        The bbappend uses a local `resin-files` directory for additional file
        entries but some of these files ended up in `files`. This works well if
        the recipe used is the one in the same directory as the `files`
        subdirectory will be used by default. The problem shows when the recipe
        is not in the same directoy as bitbake will not be able to find needed
        bbappended files.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix modemmanager bbappend files
        changelog-entry: Fix modemmanager bbappend files
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'dnsmasq: Define 8.8.8.8 as a fallback nameserver'
      hash: 8ae0b2aef3ac2816c2a336b2dcc5d6f6a9c726c0
      body: |
        Fixes #1293
      footer:
        Change-type: minor
        change-type: minor
        Changel-log-entry: Restore 8.8.8.8 as fallback DNS server
        changel-log-entry: Restore 8.8.8.8 as fallback DNS server
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Increase timeout for filesystem label
      hash: 9184e01e4f42b95df53f440b4638a8acd9877a9c
      body: |
        The label is actually a udev symlink, but we're keeping
        this naming to be consistent across the file.

        The error seen is that the balena-host service wasn't
        able to start because of a mnt-sysroot-active.service dependency:
        resin-partition-mounter[440]: ERROR: Timeout while waiting
        for filesystem label to appear

        By increasing this timeout, the filesystem symlink should
        already exist, at the time the mnt-sysroot-active service is
        looking for this dependency.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Increase timeout for filesystem label
        changelog-entry: Increase timeout for filesystem label
        Signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
      author: Vicentiu Galanopulo
    - subject: Add support for Huawei ME936 modem in MBIM mode
      hash: 5e214c0faa2d8a06e23553d6523523b3ad15d8bd
      body: |
        Add udev rule and helper script to switch this modem to MBIM mode
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support for Huawei ME936 modem in MBIM mode
        changelog-entry: Add support for Huawei ME936 modem in MBIM mode
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Backport systemd sd-shutdown improvements for sumo versions
      hash: 2643ef9959734c794880fecb36284db35e0565df
      body: |
        OS 2.26.0+rev1 reports the following at reboot:
        systemd-shutdown[1]: Failed to wait for process: Protocol error
        systemd-shutdown[1]: Failed to wait for process: Protocol error

        As per systemd/systemd#8155 (comment), systemd/systemd#8429
        needs to be backported.

        We currently backport these patches for sumo only
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Backport systemd sd-shutdown improvements for sumo versions
        changelog-entry: Backport systemd sd-shutdown improvements for sumo versions
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Include avahi d-bus introspection files in rootfs
      hash: d98f0d47369135f1c88429aac58b73aced3d4f6c
      body: >
        Poky removes the dbus introspection description documents for avahi.

        See:

        http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=59a08907eafffde664079b9a2068f47131dd3f5d


        dbus-native node module requires this data to be available to allow

        access to interfaces.


        Fixes #1140
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Include avahi d-bus introspection files in rootfs
        changelog-entry: Include avahi d-bus introspection files in rootfs
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix custom udev rules when rule is removed from config.json
      hash: dbf42dd1ddcbb45be0320d8d4b4bd93c9522ec34
      body: |
        Fixes #1271
        When os.udevRules is completely removed from config.json, any previous
        rules are left there. Remove them.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix custom udev rules when rule is removed from config.json
        changelog-entry: Fix custom udev rules when rule is removed from config.json
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'resin-mounts: Add NetworkManager conf.d bind mounts'
      hash: a94a3b3490319a3e6a5de373a773348eada532ba
      body: |
        This bind mount is used for passing custom config options to
        NetworkManager via config.json
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add support to pass custom configuration to NetworkManager
      hash: 8370f01078b6971f2b6c2707f679a3cc581702d2
      body: |
        This allows extra config fragments to be passed to NetworkManager
        via config.json
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support to pass custom configuration to NetworkManager
        changelog-entry: Add support to pass custom configuration to NetworkManager
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'README.md: Add info about SSH and Avahi services'
      hash: 778785283d372689af654c42b3c42cfc02ecdcfb
      body: |
        Fixes #1274
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Avoid xtables lock in resin-proxy-config
      hash: f2bed69f1825e270be695ada997bc10120a2bae8
      body: |
        There are other components setting up iptables rules - for example
        balena. In order to avoid a lock race, run iptables commands with a 10
        seconds wait flag.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Avoid xtables lock in resin-proxy-config
        changelog-entry: Avoid xtables lock in resin-proxy-config
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Migrate the supervisor to balena repositories
      hash: 0905256113d58ce4644e975144d71b20f532a35d
      body: |
        This has changed from "resin" to "balena" due to the rename
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Migrate the supervisor to balena repositories
        changelog-entry: Migrate the supervisor to balena repositories
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update balena-supervisor to v8.3.5
      hash: d0ec760020b7778ac9116dde803393a1f444228f
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-supervisor to v8.3.5
        changelog-entry: Update balena-supervisor to v8.3.5
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Update supported modems list
      hash: 9c966ff98f7bd1e9478a6f49164118c6b0b8a0d8
      body: |
        We remove SIM7100E in favour of SIM7600E and
        also add Huawei ME909s-120.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update supported modems list
        changelog-entry: Update supported modems list
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.27.0
  date: 2018-11-23T14:49:56.671Z
- commits:
    - subject: Rename resin-unique-key to balena-unique-key
      hash: da871aeb64dffcb84c2fad75b299f661cab40c3d
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Rename resin-unique-key to balena-unique-key
        changelog-entry: Rename resin-unique-key to balena-unique-key
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Don't let resin-unique-key rewrite config.json
      hash: 58685dd3accb19b159adc933d3b203c615675343
      body: |
        Fixes #1262
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Don't let resin-unique-key rewrite config.json
        changelog-entry: Don't let resin-unique-key rewrite config.json
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.26.0
  date: 2018-11-05T15:22:47.685Z
- commits:
    - subject: Generate ssh host key at first boot (not at first connection)
      hash: aea0382c5e6c26933767a931f3a0df45e3cde233
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Generate ssh host key at first boot (not at first connection)
        changelog-entry: Generate ssh host key at first boot (not at first connection)
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix extraneous space in kernel-resin.bbclass config
      hash: bf3124d468dfce8e9b4909965dfea05752835b33
      body: |
        This extra space leads to kernel config check error
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix extraneous space in kernel-resin.bbclass config
        changelog-entry: Fix extraneous space in kernel-resin.bbclass config
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Drop obsolete eval from kernel-resin's do_kernel_resin_reconfigure
      hash: 1b882e69d125c4cd84a8ebd8298eb294d52d5574
      body: |
        This is not needed as bitbake already expands KERNEL_CONFIG_COMMAND
        See Poky commit 95909bc788bef1baabead94231dffb3b7f59fb00 for details
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Drop obsolete eval from kernel-resin's do_kernel_resin_reconfigure
        changelog-entry: Drop obsolete eval from kernel-resin's do_kernel_resin_reconfigure
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Add SyslogIdentifier for balena and resin-supervisor healthdog services
      hash: 23fadcc59cc2b353b68264220e35fa1c06b97444
      body: ''
      footer:
        Changelog-entry: >-
          Add SyslogIdentifier for balena and resin-supervisor healthdog
          services
        changelog-entry: >-
          Add SyslogIdentifier for balena and resin-supervisor healthdog
          services
        Change-type: minor
        change-type: minor
        Signed-off-by: Matthew McGinn <mamcgi@gmail.com>
        signed-off-by: Matthew McGinn <mamcgi@gmail.com>
      author: Matthew McGinn
  version: 2.25.0
  date: 2018-11-02T15:58:49.876Z
- commits:
    - subject: Update resin-supervisor to v8.0.0
      hash: 01511f5902e83f80e93a37b5e5cffd59654e5c04
      body: ''
      footer:
        Changelog-entry: Update resin-supervisor to v8.0.0
        changelog-entry: Update resin-supervisor to v8.0.0
        Change-type: patch
        change-type: patch
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
  version: 2.24.1
  date: 2018-11-01T16:25:19.386Z
- commits:
    - subject: 'resin-info: Small tweak for balenaCloud product'
      hash: 74f795dc2251266622f44f0a32162adfbbc432e3
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: Update resin-supervisor to v7.25.8
      hash: 4806e3340d75cb76437311bd44a93e40360f90ed
      body: ''
      footer:
        Changelog-entry: Update resin-supervisor to v7.25.8
        changelog-entry: Update resin-supervisor to v7.25.8
        Change-type: patch
        change-type: patch
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
    - subject: Rename resinOS to balenaOS
      hash: d2a7e648b2ccefe46f67fb02c0f382c958aad5e5
      body: |
        As part of resin rename to balena, we rename the distro file including
        the OS name which is part of the distro name. This ends up in the
        dashboard as part of the OS version.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Rename resinOS to balenaOS
        changelog-entry: Rename resinOS to balenaOS
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.24.0
  date: 2018-10-24T01:06:11.405Z
- commits:
    - subject: Update resin-supervisor to v7.25.5
      hash: 21d97fc5d73e2a97760b9328d099ea8b7daaee39
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v7.25.5
        changelog-entry: Update resin-supervisor to v7.25.5
        Signed-off-by: Cameron Diver <cameron@resin.io>
        signed-off-by: Cameron Diver <cameron@resin.io>
      author: Cameron Diver
    - subject: 'recipes-containers: Increase healthcheck timeout to 180s'
      hash: fb966719844dfd045a03440242a412d641c7b791
      body: |
        The original 60s might be slow for some devices where balena
        is busy with a task and the hardware is slow for various
        reasons (ie. Pi1/Zero). In those cases even if the device
        is functioning correctly, the healthcheck will assess the
        device as unhealthy and restart balena and/or the supervisor.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Gergely Imreh <gergely@balena.io>
        signed-off-by: Gergely Imreh <gergely@balena.io>
      author: Gergely Imreh
    - subject: '.gitignore: add node_modules and package-lock files'
      hash: becc602a39ec9c788e4f1765ec696f2f71ceb321
      body: |
        These files are generated by the CI when running the automatic
        versioning. Since this is not a node project both can be simply ignored.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Giovanni Garufi <giovanni@resin.io>
        signed-off-by: Giovanni Garufi <giovanni@resin.io>
      author: Giovanni Garufi
  version: 2.23.0
  date: 2018-10-22T22:10:11.913Z
- commits:
    - subject: Update resin-supervisor to v7.25.3
      hash: dd4966235420be328f6280fa170d17f5570dbfa2
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update resin-supervisor to v7.25.3
        changelog-entry: Update resin-supervisor to v7.25.3
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
  version: 2.22.1
  date: 2018-10-20T04:01:35.497Z
- commits:
    - subject: Update resin-supervisor to v7.25.2
      hash: 999d0e07e426d175168da46557855f4dee724ee2
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v7.25.2
        changelog-entry: Update resin-supervisor to v7.25.2
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Include a CONTRIBUTING.md file
      hash: a38f167752e68db524f55bb5bec97d8a03692283
      body: |
        Fixes #422
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Include a CONTRIBUTING.md file
        changelog-entry: Include a CONTRIBUTING.md file
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update to ModemManager v1.8.2
      hash: cd6386ffedbe4e4c4959b0f2941826c324029cb1
      body: |
        Fixes #1209
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update to ModemManager v1.8.2
        changelog-entry: Update to ModemManager v1.8.2
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Updates on contributing-device-support.md
      hash: 75ee54d48a40476e6de5076ffc238cb6fad25041
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Updates on contributing-device-support.md
        changelog-entry: Updates on contributing-device-support.md
        Signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
      author: Vicentiu Galanopulo
  version: 2.22.0
  date: 2018-10-19T18:42:10.962Z
- commits:
    - subject: Improve systemd service ordering in rollbacks
      hash: 1d729dec436d0cb2eeb8a6799a8b978aceba8f8d
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Improve systemd service ordering in rollbacks
        changelog-entry: Improve systemd service ordering in rollbacks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update resin-supervisor to v7.24.1
      hash: e5a882a75ca49828cabcba227c4972d9e4d753d9
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v7.24.1
        changelog-entry: Update resin-supervisor to v7.24.1
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.21.0
  date: 2018-10-18T17:23:01.640Z
- commits:
    - subject: Avoid expander on flasher based on root kernel argument
      hash: c155f8edfa543d29c7efafe2fb6c80d633b82dc1
      body: |
        The current implementation checks for the existance of the `flash-boot`
        label. This breaks when after flashing the flashing device is left
        plugged. Change this with a check based on the root kernel argument.

        Fixes #1210
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Avoid expander on flasher based on root kernel argument
        changelog-entry: Avoid expander on flasher based on root kernel argument
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: 'resin-vars: Implement custom ssh keys service'
      hash: 6d2e43d4693208c8df9436ea1f96c844b4faeb75
      body: >
        This patch adds support for translating SSH public keys from config.json

        to an authorize_keys file. We use `authorize_keys_local` file as the

        destination file of this translation so we can differentiate in between
        keys

        brought locally from config.json and keys brought from the balena
        backend

        through os-config an avoid racing issues with this tool (os-config). The
        final

        `authorize_keys` file will be merged at every ssh connection in the
        dropbear

        service.


        These SSH custom public keys in config.json are assumed to be provided

        as an array in `.os.sshKeys`. Example:

        {
          [...]
          "os": {
            "sshKeys": [
              "ssh-rsa ABCDEFGHIJKLMNOPQRSTUVWXYZ",
              "ssh-rsa 0123456789"
            ]
          },
          [...]
        }


        Fixes #608
      footer:
        Change-type: minor
        change-type: minor
        Change-log-entry: Add support for custom SSH public keys in config.json
        change-log-entry: Add support for custom SSH public keys in config.json
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: Fix redsocks interface creation when no proxy configured
      hash: 4d278e425a5624863ff62771c8db9b4c9bcf6821
      body: |
        When we have no redsocks configuration don't create the redsocks
        interface.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix redsocks interface creation when no proxy configured
        changelog-entry: Fix redsocks interface creation when no proxy configured
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: >-
        Replace NM's DHCP request option "Client indentifier" with udhcpc style
        option
      hash: 99b4e423003442a67f1fb45b1f4ae8d201c73b99
      body: |
        This patch replaces the "Client identifier" option from
        DHCP packets sent by NM to resemble the way udhcpc does it.

        The reason is that the Cisco RV325 router with fw older than
        v1.2.1.14 doesn't reply to DHCP requests or discovery packages
        if the "Client identifier" option is formatted in NM's style.

        Even though this is a bug in the router's fw, we are going to
        fix it here because we encountered clients that couldn't get
        an IP address on these routers and we want to avoid that
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Replace NM's DHCP request option "Client indentifier" with udhcpc
          style option
        changelog-entry: >-
          Replace NM's DHCP request option "Client indentifier" with udhcpc
          style option
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
    - subject: Fix for rollbacks in case of old balenaOS version
      hash: 814c39fb750104f1aef748a083a3384e5a594d9c
      body: |
        In some cases, the previous rootfs hooks are not functional (which can
        be the case when the hooks don't exist in older versions of balenaOS).

        With this patch, rollbacks will be stopped and a reboot will happen
        preventing further attempts by rollback-health to keep retrying and
        rolling back
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix for rollbacks in case of old balenaOS version
        changelog-entry: Fix for rollbacks in case of old balenaOS version
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update resin-supervisor to v7.21.4
      hash: 4c1f5c7cdaf889b67098832b36ccd0cc39c58b0e
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v7.21.4
        changelog-entry: Update resin-supervisor to v7.21.4
        Signed-off-by: Cameron Diver <cameron@resin.io>
        signed-off-by: Cameron Diver <cameron@resin.io>
      author: Cameron Diver
    - subject: Warn if rules are found in /etc/udev/rules.d
      hash: f228de23f388859d7cf3847fc608863bab2c6857
      body: |
        The /etc/udev/rules.d folder is now used by os-udevrules. We warn if
        there are rules in /etc/udev/rules.d installed by recipes in other
        layers

        This warning will become an error in a few releases.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Warn if rules are found in /etc/udev/rules.d
        changelog-entry: Warn if rules are found in /etc/udev/rules.d
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add support to load custom udev rules from config.json
      hash: f127232b8c7009c954f8467c32776c5fceee8c12
      body: |
        os-udevrules will parse config.json for any udev rules and copy the
        rules in /etc/udev/rules.d/key.rules

        udev rules can be passed via config.json in the following format

          "settings": {
            "udevrules": {
              "60": "single line. Remember to escape the double quotes",
              "99": "multi line \n2nd line"
           }
         }

        The above snippet will appear as /etc/udev/rules.d/60.rules
        and /etc/udev/rules.d/99.rules

        The first time rules are added/modified, these rules will be added and
        udevd will be asked to reload rules and re-trigger.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support to load custom udev rules from config.json
        changelog-entry: Add support to load custom udev rules from config.json
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'aufs-util: Package auplink separately'
      hash: f8d0ae01bae540dcf52ebbbdc6315c86f7efa684
      body: |
        From the aufs-util package only the auplink binary is needed and that
        dependency is from balena. So we package auplink in a separate package
        and just install that package into the rootfs.
      footer:
        Change-type: minor
        change-type: minor
        Chanelog-entry: Only add auplink binary into the rootfs to decrease rootfs size
        chanelog-entry: Only add auplink binary into the rootfs to decrease rootfs size
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Enable kernel config dependencies for MBIM and QMI
      hash: fd7c661209532296b8e6f7ce74328ffbc5ab8053
      body: |
        MBIM and QMI support needs USB_NET_DRIVERS and USB_USBNET enabled.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Enable kernel config dependencies for MBIM and QMI
        changelog-entry: Enable kernel config dependencies for MBIM and QMI
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Set UPX to use LZMA compression by default
      hash: 69bc7e1c6c8382d69b57b662518909c4f7824644
      body: |
        In my testing lzma offers at least 30-40% better compression and it is
        introduced from v3.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Set UPX to use LZMA compression by default
        changelog-entry: Set UPX to use LZMA compression by default
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: Downgrade UPX to 3.94 for ARM
      hash: 23423b875f2d892ce136c9a3e2f56692592c873d
      body: |
        3.95 introduced a data/instruction cache inconsistency bug:
        https://github.com/upx/upx/issues/225. As this only afects this version,
        we downgrade it for the affected architecture.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Downgrade UPX to 3.94 for ARM
        changelog-entry: Downgrade UPX to 3.94 for ARM
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: Balena update for rollbacks. mobynit can now mount rootfs from sysroot.
      hash: 008608db1b67dd9de0445ef6e1920bb0302f618e
      body: |
        This patch bumps the balena version in meta-resin.

        The update in balena adds support to pass an argument to mobynit which
        allows mobynit to mount a rootfs from a custom path.

        The command ./mobynit -sysroot /mnt/sysroot/inactive will mount the
        rootfs partition from /mnt/sysroot/inactive and return the destination
        path in stdout.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Balena update for rollbacks. mobynit can now mount rootfs from
          sysroot.
        changelog-entry: >-
          Balena update for rollbacks. mobynit can now mount rootfs from
          sysroot.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix proxy when using containers over bridge network
      hash: 3df6e1906e1138a8cd10d15ac3008685b90f75f8
      body: |
        Before multicontainer support in resin, the user container was running
        over the host's network stack which means that all the packets were
        treated as locally emitted ones. In this case, the communication was
        redirected as per the OUTPUT iptable rule only.
        In the "multicontainer world" the user containers run on top of bridge
        network which makes the host act as a socksifying router. In this case,
        the packets won't go through the OUTPUT chain and the redirection to
        redsocks needs to happen at PREROUTING chain.
        This change adds a redirect rule at PREROUTING for TCP packets to
        redsocks to redirect packets from the containers to redsocks too.

        As well, this adds support for redirecting DNS UDP packets to redsocks.
        This is implemented as iptables rules which are only added if the
        redsocks configuration has a `dnsu2t` section.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix proxy when using containers over bridge network
        changelog-entry: Fix proxy when using containers over bridge network
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: 'Add support for aufs 4.9.9+, 4.9.94+, 4.18'
      hash: bc91ca07f0a44aaffb68720fc10f3e524491d92d
      body: |
        Also, update 4.9, 4.10, 4.11.7+, 4.12, 4.13, 4.14, 4.14.56+, 4.15,
        4.16, 4.17.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: 'Add support for aufs 4.9.9+, 4.9.94+, 4.18'
        changelog-entry: 'Add support for aufs 4.9.9+, 4.9.94+, 4.18'
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Add rollback-altboot service before balena service
      hash: 9c35e9c8b418b9253d53df48b783babc9d116006
      body: |
        We would like resin-altboot service to run before balena starts
        resin-altboot checks if the boot configuration is set to run
        resinOS from rootA(B) but we are actually running rootB(A) due to
        something.

        If rollback-altboot triggers, it will run hooks to refresh boot files
        and reboot. There is no point starting balena in such a device state
        as that will only slow down the hooks from running.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add rollback-altboot service before balena service
        changelog-entry: Add rollback-altboot service before balena service
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add Automated Rollback recipe
      hash: fdfc451d1a8a95b1c9b9ee2d0fc8f736c094251b
      body: |
        This recipe adds a few systemd services and scripts that handle
        automated OS rollback functionality.

        The rollback-altboot.service checks if we are running in altboot mode
        i.e. resinOS_uEnv.txt says we should boot resin_root_part=3. But we are
        actually running resinOS from resin_root_part=2. This can happen if
        a reboot happened without clearing upgrade_available in resinOS_uEnv
        txt file. A kernel panic happened etc.

        The rollback-altboot script runs hostapp-update hooks to change the
        bootfiles.

        The rollback-health.service runs rollback-health which checks if vpn is
        online and balena is healthy after a hostapp-update.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add Automated Rollback recipe
        changelog-entry: Add Automated Rollback recipe
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add Automated Rollback support in u-boot env_resin.h
      hash: c6145d1f535098ef46f44d44d061b04fd7174f77
      body: |
        This patch adds a simple check in env_resin.h.

        If bootcount is found to be greater than bootlimit, switch the
        partitions. Both bootcount and bootlimit are standard u-boot env
        variables.

        To enable rollback in devices, devices have to do the following in
        their u-boot

        Enable CONFIG_CMD_SETEXPR, CONFIG_BOOTCOUNT_LIMIT and depending on the
        device, save the bootcount in some persistant location whether that
        is an area in the SoC or an ext partition etc.

        If you are using the CONFIG_BOOTCOUNT_EXT driver, use only the boot
        partition and use the filename "bootcount.env"

        E.g. for rpi3
        CONFIG_CMD_SETEXPR=y
        CONFIG_BOOTCOUNT_LIMIT=y
        CONFIG_SYS_BOOTCOUNT_ADDR=0x02300000
        CONFIG_BOOTCOUNT_EXT=y
        CONFIG_SYS_BOOTCOUNT_EXT_DEVPART=0:1
        CONFIG_SYS_BOOTCOUNT_EXT_NAME="bootcount.env"
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add Automated Rollback support in u-boot env_resin.h
        changelog-entry: Add Automated Rollback support in u-boot env_resin.h
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add a hook to support Automated Rollbacks
      hash: b93b655e9cad7ad439a603ddedc9a965a909c037
      body: |
        This hook leaves breadcrumbs for the rollback-altboot and
        rollback-health service after a HUP.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add a hook to support Automated Rollbacks
        changelog-entry: Add a hook to support Automated Rollbacks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update HUP grub hook to support Automated Rollbacks
      hash: 620d7a4466dd2aea0c3c5e4ffc95ac22e7f7651c
      body: |
        Devices that support automated os rollbacks will have two extra
        variables upgrade_available and resin_root_part in their grub.cfg
        files.

        Check for the presense of those variables and update them if they
        exist.

        Otherwise stick to the previous way of updating grub.cfg

        For devices using grub 2.0, devices will have to mirror the pattern
        that exists in u-boot.
        i.e.
         Add a variable upgrade_available to grub.cfg (HUP hooks update this)
         Add a variable bootcount to grubenv that increments if
         upgrade_available is set
         Add logic in grub.cfg to boot the alternate rootB/A if bootcount
         reaches 2.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update HUP grub hook to support Automated Rollbacks
        changelog-entry: Update HUP grub hook to support Automated Rollbacks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update HUP u-boot hook to support Automated Rollbacks
      hash: 76e103304264d88178b4948c020acf1f27246f85
      body: |
        u-boot uses an upgrade_avaiable flag to update bootcount to reduce
        writes to sd card.

        If upgrade_available=0, u-boot won't bother updating the bootcount
        variable. During HUP, we'll set upgrade_available=1 so that u-boot
        starts counting.

        It'll be the job of the new OS and the rollback services to set
        upgrade_available=0

        For some devices, u-boot will save the bootcount in the boot partition
        in /mnt/boot/bootcount.env. Remove that counter when running hooks
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update HUP u-boot hook to support Automated Rollbacks
        changelog-entry: Update HUP u-boot hook to support Automated Rollbacks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Move kernel-image-initramfs from resin-image recipe to
        packagegroup-resin.inc
      hash: bfa0cc20d3bb1b6a26d87507b196b54ab6d672aa
      body: |
        We add the package here as this file is included in the flasher image
        recipe as well
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Move kernel-image-initramfs from resin-image recipe to
          packagegroup-resin.inc
        changelog-entry: >-
          Move kernel-image-initramfs from resin-image recipe to
          packagegroup-resin.inc
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Have 99-resin-grub hostapp-update-hook decide which grub to use
      hash: ec0c373a8fa9dfd7ae989615646c76a4ab87f531
      body: |
        We move the decision of using either grub legacy or grub EFI from the
        board specific layer to here so that all boards can benefit from these
        changes.

        Additionally, we make it so that this hostapp-update-hook also deletes
        the unnecessary grub.cfg file.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Have 99-resin-grub hostapp-update-hook decide which grub to use
        changelog-entry: Have 99-resin-grub hostapp-update-hook decide which grub to use
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
  version: 2.20.0
  date: 2018-10-18T08:16:00.360Z
- commits:
    - subject: Update Balena to fix tty console hanging in some cases
      hash: 06ae0837d2823587858437d5eb41b8fc5be8e7c6
      body: |
        https://github.com/resin-os/balena/pull/101
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update Balena to fix tty console hanging in some cases
        changelog-entry: Update Balena to fix tty console hanging in some cases
        Signed-off-by: Petros Angelatos <petrosagg@gmail.com>
        signed-off-by: Petros Angelatos <petrosagg@gmail.com>
      author: Petros Angelatos
    - subject: >-
        Pin down cargo deps (using Cargo.lock) to versions known working with
        rust 1.24.1 (for sumo)
      hash: ef3e76f2d343e8cd367214b4b5ce52b3b97be262
      body: |
        With Sumo 19.0.1, when building cargo 0.25.0 we get:
        | error[E0425]: cannot find function `read_to_string` in module `fs`
        |   --> /yocto/resin-board/build/tmp/work/x86_64-linux/cargo-native/
        0.25.0-r0/cargo_home/registry/src/github.com-1ecc6299db9ec823/
        libssh2-sys-0.2.11/build.rs:99:26
        let config = fs::read_to_string("libssh2/src/libssh2_config_cmake.h.in")
        ^^^^^^^^^^^^^^ did you mean `read_string`?

        This is just one example of a package that fails like this. There are
        multiple packages in the cargo source tree that fail with this error.

        The cargo bbclass does a:
        cargo build -v --target x86_64-linux --release

        This has the following effect:
        NOTE:- cargo build -v --target x86_64-linux --release.
        Updating registry `https://github.com/rust-lang/crates.io-index`

        Updating the registry will result in using the versions pinned upstream.
        In our case, it will be using newer versions of packages that require a
        newer rust version (read_to_string was added in rust 1.26.0). But at the
        same time, the meta-rust layer which we use has an older rust version.
        (currently meta-rust on sumo branch has rust at version 1.24.1)

        The fix for such a case would be to use a Cargo.lock file which pins
        the packages to versions which are known to work with rust 1.24.1,
        the version we use in sumo.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Pin down cargo deps (using Cargo.lock) to versions known working with
          rust 1.24.1 (for sumo)
        changelog-entry: >-
          Pin down cargo deps (using Cargo.lock) to versions known working with
          rust 1.24.1 (for sumo)
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Remove duplicate packaging of bcm43143
      hash: cef8864000507af337a52e47722274921ccb5982
      body: |
        Yocto Sumo 19.0.1 already packages this firmware separately so let's
        remove the duplication we do here.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Remove duplicate packaging of bcm43143
        changelog-entry: Remove duplicate packaging of bcm43143
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Set ModemManager to ignore Inca Roads Serial Device
      hash: 107ab6747db748201742bf495a1c0f41fb28f1fe
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Set ModemManager to ignore Inca Roads Serial Device
        changelog-entry: Set ModemManager to ignore Inca Roads Serial Device
        Signed-off-by: Petros Angelatos <petrosagg@gmail.com>
        signed-off-by: Petros Angelatos <petrosagg@gmail.com>
      author: Petros Angelatos
    - subject: Add support for aufs 4.14.56+
      hash: 28746ab0d4d14c0def56382b1c1747c009362107
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support for aufs 4.14.56+
        changelog-entry: Add support for aufs 4.14.56+
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Update resin-supervisor to v7.19.7
      hash: 9e595a0cab47b044d445d8aeab23e27a6cff58cc
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v7.19.7
        changelog-entry: Update resin-supervisor to v7.19.7
        Signed-off-by: Cameron Diver <cameron@resin.io>
        signed-off-by: Cameron Diver <cameron@resin.io>
      author: Cameron Diver
  version: 2.19.0
  date: 2018-09-23T15:05:11.877Z
- commits:
    - subject: Add a parsable representation of the changelog
      hash: f6c58c1e4da805e5e53da0af08128b7fb4adb87e
      body: |
        This file allows other components to uniquely parse the information that
        is contained in the changelog. It will be automatically managed by
        versionist by appending the new commits on top. This is needed to
        provide nested-changelogs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Giovanni Garufi <giovanni@resin.io>
        signed-off-by: Giovanni Garufi <giovanni@resin.io>
        Changelog-entry: Add a parsable representation of the changelog
        changelog-entry: Add a parsable representation of the changelog
      author: Giovanni Garufi
  version: 2.18.1
  date: 2018-09-14T12:50:23.575Z
- version: v2.18.0
  date: 2018-09-12T00:00:00.000Z
  commits:
    - subject: >-
        Update grub hooks to prepare to load kernel from root [Zubair Lutfullah
        Kakakhel]
    - subject: 'Update resin-supervisor to v7.19.4 [Cameron Diver]'
    - subject: >-
        Kernel-resin.bbclass: Enable CONFIG_IP_NF_TARGET_LOG as a module [John
        (Jack) Brown]
    - subject: 'Balena: Update to current HEAD of 17.12-resin [Andrei Gherzan]'
    - subject: 'Compress os-config with UPX on arm64 too [Andrei Gherzan]'
    - subject: 'Update upx to 3.95 [Andrei Gherzan]'
    - subject: >-
        Add support to skip flasher detection in env_resin.h [Zubair Lutfullah
        Kakakhel]
    - subject: 'Add the kernel to the rootfs [Zubair Lutfullah Kakakhel]'
    - subject: 'Rework resin-supervisor systemd dependency on balena [Florin Sarbu]'
    - subject: 'Enhanced security options for dropbear - sumo [Andrei Gherzan]'
    - subject: 'Enhanced security options for dropbear - rocko [Andrei Gherzan]'
    - subject: 'Enhanced security options for dropbear - pyro [Andrei Gherzan]'
    - subject: 'Enhanced security options for dropbear - morty [Andrei Gherzan]'
    - subject: 'Enhanced security options for dropbear - krogoth [Andrei Gherzan]'
- commits:
    - subject: >-
        Resin-proxy-config: The no_proxy file fails to parse when missing EOL
        [Rich Bayliss]
  date: 2018-09-03T00:00:00.000Z
  version: 2.17.0
- commits:
    - subject: 'Os-config: UPX is broken on aarch64 [Theodor Gherzan]'
    - subject: 'Allow flasher types to pin preloaded devices [Theodor Gherzan]'
    - subject: 'Disable PIE for go [Zubair Lutfullah Kakakhel]'
    - subject: 'Disable PIE for balena [Zubair Lutfullah Kakakhel]'
  date: 2018-08-31T00:00:00.000Z
  version: 2.16.0
- commits:
    - subject: 'Bump balena version to latest 17.12-resin [Zubair Lutfullah Kakakhel]'
    - subject: 'Update NetworkManager to 1.12.2 [Andrei Gherzan]'
    - subject: 'Avoid os-config-devicekey / uuid service race [Andrei Gherzan]'
    - subject: 'Move the rw copy of config.json out of /tmp for flasher [Andrei Gherzan]'
    - subject: 'Fix dashboard feedback on fast flashing devices [Andrei Gherzan]'
    - subject: 'Fix ucl dependency in upx [Andrei Gherzan]'
    - subject: 'Update kernel-modules-headers to v0.0.11 [Andrei Gherzan]'
  date: 2018-08-28T00:00:00.000Z
  version: 2.15.0
- commits:
    - subject: 'Update resin supervisor to v7.16.6 [Cameron Diver]'
  date: 2018-08-13T00:00:00.000Z
  version: 2.14.3
- commits:
    - subject: 'Update usb-modeswitch to version 2.5.0 [Florin Sarbu]'
    - subject: 'Fix kernel-modules-headers compile missing bio.h [Florin Sarbu]'
    - subject: 'Enable kernel config CONFIG_USB_SERIAL_CP210X as module [Andrei Gherzan]'
    - subject: 'Update resin supervisor to v7.16.4 [Cameron Diver]'
  date: 2018-08-13T00:00:00.000Z
  version: 2.14.2
- commits:
    - subject: 'Fix ModemManager journald logs [Andrei Gherzan]'
    - subject: 'Fix openvpn journald logs [Andrei Gherzan]'
    - subject: 'Set maximum openvpn reconnect timeout to 2 minutes [Andrei Gherzan]'
    - subject: >-
        Resin-image: Handle absolute paths in RESIN_BOOT_PARTITION_FILES [Andrei
        Gherzan]
    - subject: 'Exclude writable files from image''s fingerprints file [Andrei Gherzan]'
    - subject: 'Update resin-supervisor to v7.16.2 [Andrei Gherzan]'
    - subject: >-
        Use v4 API calls, move auth token into the request header [Gergely
        Imreh]
    - subject: 'Fix no-pie variable name in tini rocko [Andrei Gherzan]'
    - subject: 'Fix alternative builds warnings in busybox [Andrei Gherzan]'
    - subject: 'Don''t compile mobynit in rocko with PIE [Andrei Gherzan]'
    - subject: 'Fix key replace build warnings [Andrei Gherzan]'
    - subject: 'Update go in krogoth to v1.9.4 [Andrei Gherzan]'
    - subject: 'Update go in morty to v1.9.4 [Andrei Gherzan]'
    - subject: 'Update go in pyro to v1.9.4 [Andrei Gherzan]'
    - subject: 'Update balena to version 17.12 [Andrei Gherzan]'
    - subject: >-
        Fix when ntp servers passed via config.json and dhcp [Zubair Lutfullah
        Kakakhel]
    - subject: 'Disable PIE for the aufs-util package for Rocko boards [Andrei Gherzan]'
    - subject: 'Disable PIE for the aufs-util package for Sumo boards [Florin Sarbu]'
    - subject: 'Update resin supervisor to v7.16.0 [Andrei Gherzan]'
    - subject: 'Document supported modems [Andrei Gherzan]'
  date: 2018-08-02T00:00:00.000Z
  version: 2.14.1
- commits:
    - subject: >-
        Allow re-run of useradd commands in docker-disk's entry.sh [Andrei
        Gherzan]
    - subject: 'Update rust to 1.20 and cargo to 0.21.0 in Morty [Andrei Gherzan]'
    - subject: 'Update rust to 1.20 and cargo to 0.21.0 in Krogoth [Andrei Gherzan]'
    - subject: >-
        Unify managed and unmanaged images and introduce os-config [Andrei
        Gherzan]
  date: 2018-07-17T00:00:00.000Z
  version: 2.14.0
- commits:
    - subject: 'Update resin-supervisor v 7.14.0 [Cameron Diver]'
    - subject: 'Fix rootfs fingerprints on poky rocko or newer [Andrei Gherzan]'
    - subject: 'Reboot device if there is a kernel panic [Zubair Lutfullah Kakakhel]'
  date: 2018-07-13T00:00:00.000Z
  version: 2.13.6
- commits:
    - subject: 'Update resin-supervisor to v7.13.2 [Cameron Diver]'
  date: 2018-07-09T00:00:00.000Z
  version: 2.13.5
- commits:
    - subject: 'Avoid overwriting SECURITY_CFLAGS for tini recipe [Andrei Gherzan]'
    - subject: 'Fix tini segfault after sumo update [Andrei Gherzan]'
  date: 2018-07-09T00:00:00.000Z
  version: 2.13.4
- commits:
    - subject: 'Update ModemManager to 1.8.0 [Andrei Gherzan]'
    - subject: 'Switch NetworkManager to using the internal DHCP client [Andrei Gherzan]'
    - subject: 'Update NetworkManager to 1.12.0 [Andrei Gherzan]'
    - subject: 'Update resin-supervisor to 7.13.1 [Cameron Diver]'
  date: 2018-07-05T00:00:00.000Z
  version: 2.13.3
- commits:
    - subject: 'Update balena to fix boot lag [Andrei Gherzan]'
    - subject: 'Set DHCP timeout to infinity for IPv4 [Florin Sarbu]'
    - subject: 'Add aufs support for kernels 4.15, 4.16 and 4.17 [Florin Sarbu]'
  date: 2018-06-28T00:00:00.000Z
  version: 2.13.2
- commits:
    - subject: >-
        Fix mobynit runtime crash when compiled with gcc 7.3.0 with static PIE
        support enabled [Florin Sarbu]
    - subject: 'Fix typo in balena systemd service [Andrei Gherzan]'
    - subject: >-
        Various fixes for issues introduced by the switch to chrony [Andrei
        Gherzan]
    - subject: 'Fsck all partitions if resin-data isn''t seen [Zubair Lutfullah Kakakhel]'
    - subject: 'Remove jethro and fido yocto versions support [Andrei Gherzan]'
    - subject: 'Update resin-supervisor to 7.11.0 [Cameron Diver]'
    - subject: 'Replace systemd-timesyncd with chrony [Zubair Lutfullah Kakakhel]'
    - subject: 'Set ModemManager to ignore STM32F407 devices [Andrei Gherzan]'
  date: 2018-06-15T00:00:00.000Z
  version: 2.13.1
- commits:
    - subject: 'Update resin-supervisor to 7.10.0 [Cameron Diver]'
    - subject: 'Add support for yocto sumo [Andrei Gherzan]'
    - subject: 'Update Readme.md with more yocto versions [Zubair Lutfullah Kakakhel]'
    - subject: >-
        Docker-resin-supverisor-disk: Update supervisor to version 7.9.0 [Akis
        Kesoglou]
    - subject: >-
        Docker-resin-supverisor-disk: Update supervisor to version 7.5.6
        [Cameron Diver]
  date: 2018-06-06T00:00:00.000Z
  version: 2.13.0
- commits:
    - subject: 'Fix typo in timeinit-timestamp service [Andrei Gherzan]'
    - subject: 'Use system clock at boot based on RTC when available [Andrei Gherzan]'
    - subject: 'Update Network Manager to version 1.10.2 [Florin Sarbu]'
    - subject: 'Adds Teensy udev rules [Henry Miskin]'
  date: 2018-05-04T00:00:00.000Z
  version: 2.12.7
- commits:
    - subject: 'Initialize system clock using the build time [Andrei Gherzan]'
    - subject: 'Fix typo in resin-mounts [Mans Zigher]'
    - subject: 'Update supervisor to v7.4.3 [Pablo Carranza Velez]'
    - subject: 'Update supervisor to v7.4.2 [Akis Kesoglou]'
    - subject: 'Move to Supervisor v7.4.1. [Heds Simons]'
    - subject: >-
        Pass self-signed CA data to the Supervisor and for Docker registry
        trust. [Heds Simons]
    - subject: >-
        Extract `balenaRootCA` property from `config.json` to allow
        interoperation with a self-signed service. [Heds Simons]
    - subject: >-
        Split resin specific changes in dnsmasq in a separate bbappend [Andrei
        Gherzan]
    - subject: 'Allow not existing supervisor.conf file [Bruno Binet]'
    - subject: >-
        Remove remnants of 1.x updater, which is not needed anymore [Gergely
        Imreh]
    - subject: >-
        Allow update resin spervisor when API endpoint is not available [Andrei
        Gherzan]
    - subject: >-
        Apply upstream patch for redsocks to fix http-config regression [Gergely
        Imreh]
    - subject: 'Update supervisor to v7.1.20 [Akis Kesoglou]'
  date: 2018-04-30T00:00:00.000Z
  version: 2.12.6
- commits:
    - subject: 'Fig slang configure build warning [Andrei Gherzan]'
    - subject: 'Fix racing issue of state label existance in initramfs [Andrei Gherzan]'
    - subject: 'Stop dependending on udev settle at boot [Andrei Gherzan]'
  date: 2018-03-22T00:00:00.000Z
  version: 2.12.5
- commits:
    - subject: 'Fix persistent logging [Andrei Gherzan]'
    - subject: 'USB Modem (CDC ACM) support enabled as kernel module [Andrei Gherzan]'
    - subject: 'Update supervisor to v7.1.18 [Pablo Carranza Velez]'
    - subject: >-
        Add support for persistent NetworkManager state directory [Andrei
        Gherzan]
  date: 2018-03-20T00:00:00.000Z
  version: 2.12.4
- commits:
    - subject: 'Update supervisor to v7.1.14 [Florin Sarbu]'
  date: 2018-03-15T00:00:00.000Z
  version: 2.12.3
- commits:
    - subject: 'Update supervisor to v7.1.11 [Akis Kesoglou]'
    - subject: 'Balena: Update package to include deadlock fix [Andrei Gherzan]'
    - subject: 'Remove bashisms in resin-init-flasher recipe [Andrei Gherzan]'
  date: 2018-03-14T00:00:00.000Z
  version: 2.12.2
- commits:
    - subject: 'Disable openvpn time-based tls key renegotiation [Will Boyce]'
  date: 2018-03-12T00:00:00.000Z
  version: 2.12.1
- commits:
    - subject: 'Update supervisor to v7.1.7 [Theodor Gherzan]'
  date: 2018-03-09T00:00:00.000Z
  version: 2.12.0
- commits:
    - subject: 'Update supervisor to v7.1.3 [Andrei Gherzan]'
  date: 2018-03-09T00:00:00.000Z
  version: 2.11.2
- commits:
    - subject: >-
        Resin-vars: Assume VPN port 443 if 1723 is provided in config.json
        [Andrei Gherzan]
    - subject: 'Make update-resin-supervisor POSIX compliant [Andrei Gherzan]'
    - subject: 'Add resin-openvpn.service alias for openvpn.service [Andrei Gherzan]'
  date: 2018-03-08T00:00:00.000Z
  version: 2.11.1
- commits:
    - subject: >-
        Fix docker-disk when docker build fails to not leave root files behind
        [Andrei Gherzan]
    - subject: 'Update supervisor to v7.1.0 [Pablo Carranza Velez]'
    - subject: 'Fix connectivity in flasher images [Andrei Gherzan]'
    - subject: 'Add missing kernel config dependency for leds-gpio [Andrei Gherzan]'
  date: 2018-03-08T00:00:00.000Z
  version: 2.11.0
- commits:
    - subject: 'Fix docker-disk when not including any docker image [Florin Sarbu]'
  date: 2018-02-28T00:00:00.000Z
  version: 2.10.1
- commits:
    - subject: >-
        Make sure rocko update doesn't add packages resinOS doesn't depend on
        [Andrei Gherzan]
    - subject: 'Run bluetoothd with --experimental flag [Andrei Gherzan]'
    - subject: 'Resin-image-flasher fixes for rocko support [Andrei Gherzan]'
    - subject: >-
        Use the correct, full yocto CC/CXX variables when using go [Andrei
        Gherzan]
    - subject: 'Fix 8000c in PACKAGES [Andrei Gherzan]'
    - subject: >-
        Always have /lib/modules directory in rootfs as supervisor requires it
        [Andrei Gherzan]
    - subject: >-
        Fix console output when running resinOS with systemd >= 232 [Andrei
        Gherzan]
    - subject: >-
        Bring back the package which includes firmware for wilwifi 8000c [Andrei
        Gherzan]
    - subject: 'Update OpenVPN to 2.4.3 [Andrei Gherzan]'
    - subject: >-
        Replace deprecated variable IMAGE_DEPENDS from image_types_resin.bbclass
        [Florin Sarbu]
    - subject: >-
        Replace deprecated variable IMAGE_DEPENDS from resin-image-flasher.bb
        [Florin Sarbu]
    - subject: >-
        Adapt sysroot services/units to be used with resinOS in container
        [Andrei Gherzan]
    - subject: 'Remove deprecated firmware: 8000c [Andrei Gherzan]'
    - subject: >-
        Resin-state-reset: This service now only removes the root-overlay
        [Andrei Gherzan]
    - subject: 'Fix resin-provisioner 1.0.4 compile error on Poky Rocko [Florin Sarbu]'
    - subject: >-
        Make resin-provisioner only package the resulted go binary [Florin
        Sarbu]
    - subject: 'Prepare the balena recipe for Poky Rocko [Florin Sarbu]'
    - subject: >-
        Use update-alternatives for deploying resolv.conf through dnsmasq
        [Florin Sarbu]
    - subject: >-
        Make ModemManager depend on libxslt-native at build-time for Poky Rocko
        [Florin Sarbu]
    - subject: 'Add initial structure for supporting Poky Rocko [Florin Sarbu]'
    - subject: >-
        Do not apply the use_atomic_key_generation_in_all_cases patch for
        dropbear 2017.75 or newer [Florin Sarbu]
    - subject: 'Make image-resin.bbclass depend on jq-native at buildtime [Florin Sarbu]'
    - subject: >-
        Fix ucl-native ACC conformance test configure error on gcc6 [Florin
        Sarbu]
    - subject: 'Update ModemManager to version 1.7.990 [Florin Sarbu]'
    - subject: >-
        Rename partition mount services to <label>.service and handle stopping
        services [Andrei Gherzan]
    - subject: 'Rename openvpn-resin service to openvpn [Andrei Gherzan]'
    - subject: >-
        Kernel-resin: Fix warnings about CONFIG_DEVPTS_MULTIPLE_INSTANCES
        [Andrei Gherzan]
    - subject: 'Update supervisor to v6.6.3 [Pablo Carranza Velez]'
    - subject: 'Let systemd handle openvpn run directory [Andrei Gherzan]'
    - subject: 'Add support for running resinOS in a docker container [Andrei Gherzan]'
    - subject: 'Add fs check for boot partition in initramfs [Andrei Gherzan]'
    - subject: 'Fix kernel-modules-headers when building from sstate [Andrei Gherzan]'
    - subject: >-
        Avoid mount warnings when using systemd mount units on files [Andrei
        Gherzan]
    - subject: 'Add support for private docker registry [Bruno Binet]'
    - subject: 'Docker-disk: Various improvements [Andrei Gherzan]'
    - subject: 'Networkmanager: Use bash-completion bbclass [Andrei Gherzan]'
    - subject: 'Use VPN port from config.json (defaulting it to 443) [Andrei Gherzan]'
    - subject: 'Housekeeping: adding PR template [Gergely Imreh]'
    - subject: 'Replace busybox less by GNU less [Andrei Gherzan]'
    - subject: >-
        Fix BALENA_STORAGE when machine specific definition is used [Andrei
        Gherzan]
    - subject: 'Coreutils: Set uptime to use procfs for accurate uptime [Andrei Gherzan]'
  date: 2018-02-27T00:00:00.000Z
  version: 2.10.0
- commits:
    - subject: 'Install os-release file in the boot partition [Andrei Gherzan]'
    - subject: 'Update balena to include locks fix [Andrei Gherzan]'
    - subject: 'Healthdog: Fix RPATH on newer meta-rust [Andrei Gherzan]'
    - subject: 'Update supervisor to v6.6.0 [Pablo Carranza Velez]'
  date: 2018-01-26T00:00:00.000Z
  version: 2.9.7
- commits:
    - subject: 'Update supervisor to v6.5.9 [Pablo Carranza Velez]'
  date: 2018-01-12T00:00:00.000Z
  version: 2.9.6
- commits:
    - subject: 'Update supervisor to v6.5.8 [Pablo Carranza Velez]'
  date: 2018-01-11T00:00:00.000Z
  version: 2.9.5
- commits:
    - subject: >-
        Systemd: Backport patch to fix Remote DOS of systemd-resolve service
        [Andrei Gherzan]
    - subject: >-
        Hostapp-update: Bind mount /dev from host so we can resolv labels
        [Andrei Gherzan]
    - subject: >-
        NetworkManager: Allow managing non-balena bridge interfaces [Andrei
        Gherzan]
  date: 2018-01-10T00:00:00.000Z
  version: 2.9.4
- commits:
    - subject: 'Add lsof package [Florin Sarbu]'
    - subject: 'Bring back resin-device-progress in resin-image [Andrei Gherzan]'
    - subject: 'Update supervisor to v6.5.7 [Pablo Carranza Velez]'
    - subject: 'Make hostapp-update-hooks rollback on failure optional [Gergely Imreh]'
  date: 2018-01-09T00:00:00.000Z
  version: 2.9.3
- commits:
    - subject: 'Activate memory/swap cgroups in kernel [Andrei Gherzan]'
    - subject: >-
        Make the grub hostapp update hook also work with non-EFI grub configs
        [Florin Sarbu]
  date: 2017-12-18T00:00:00.000Z
  version: 2.9.2
- commits:
    - subject: 'Update supervisor to v6.5.3 [Pablo Carranza Velez]'
    - subject: >-
        Pass /mnt/root/var/lib/docker as DOCKER_ROOT to the supervisor [Florin
        Sarbu]
  date: 2017-12-12T00:00:00.000Z
  version: 2.9.1
- commits:
    - subject: 'Update supervisor to v6.5.1 [Pablo Carranza Velez]'
    - subject: >-
        Use healthcheck with systemd and healthdog for supervisor [Andrei
        Gherzan]
    - subject: 'Update supervisor to v6.5.0 [Pablo Carranza Velez]'
    - subject: >-
        Fix openvpn reporting when connectivity goes out, due to a filesystem
        permissions issue [Pablo Carranza Velez]
    - subject: 'Update balena cu include healthcheck support [Andrei Gherzan]'
    - subject: 'Add healthdog monitoring of balena [Andrei Gherzan]'
    - subject: 'Run the update container as privileged [Florin Sarbu]'
    - subject: 'Fix 0-bootfiles when running hooks [Andrei Gherzan]'
    - subject: 'Add the lsblk binary to the flasher rootfs [Florin Sarbu]'
    - subject: >-
        Add boot partition space check for 0-bootfiles hostapp-update hook
        [Andrei Gherzan]
    - subject: >-
        Fix hostapp-update to run the hooks for the OS we update to [Andrei
        Gherzan]
    - subject: 'Switch to balena [Andrei Gherzan]'
  date: 2017-12-11T00:00:00.000Z
  version: 2.9.0
- commits:
    - subject: 'Kernel-modules-headers: Include aarch64 fix [Theodor Gherzan]'
  date: 2017-12-01T00:00:00.000Z
  version: 2.8.1
- commits:
    - subject: 'Support for legacy bootloaders [Theodor Gherzan]'
    - subject: 'Update NetworkManager to version 1.10.0 [Florin Sarbu]'
    - subject: 'Update aufs for kernel versions from 4.4 to 4.13 [Florin Sarbu]'
  date: 2017-11-30T00:00:00.000Z
  version: 2.8.0
- commits:
    - subject: >-
        Do our best to ensure we copy to internal media the config.json after
        resin-device-register was able to register the board [Florin Sarbu]
  date: 2017-11-17T00:00:00.000Z
  version: 2.7.8
- commits:
    - subject: >-
        Delete the provisioning key after registering, to fix VPN authentication
        in flasher images [Pablo Carranza Velez]
    - subject: >-
        Resin-image-initramfs: Include ext4 filesystem check module in our
        initramfs [Florin Sarbu]
    - subject: 'Hostapp-update-hooks: fix typos in hook [Gergely Imreh]'
    - subject: >-
        Image-resin.bbclass: Add build time dependency on coreutils-native
        [Florin Sarbu]
    - subject: >-
        Hostapp-update-hooks: Use boot files list from the 'next' OS [Andrei
        Gherzan]
    - subject: >-
        Add required kernel config dependency for being able to use redsocks
        [Florin Sarbu]
    - subject: >-
        Check for enough space in boot partition to support atomic copy
        operations [Andrei Gherzan]
    - subject: 'Update libmbim to version 1.14.2 [Florin Sarbu]'
    - subject: 'Update libqmi to version 1.18.0 [Florin Sarbu]'
  date: 2017-11-17T00:00:00.000Z
  version: 2.7.7
- commits:
    - subject: 'Add supervisor for the intel-quark family [Theodor Gherzan]'
    - subject: 'Update ModemManager to version 1.6.10 [Florin Sarbu]'
    - subject: 'Update supervisor to v6.4.2 [Pablo Carranza Velez]'
  date: 2017-11-06T00:00:00.000Z
  version: 2.7.6
- commits:
    - subject: 'Ensure OpenVPN is restarted when config.json changes [Will Newton]'
    - subject: 'Support grub boards with hostapp-update-hooks [Theodor Gherzan]'
  date: 2017-10-30T00:00:00.000Z
  version: 2.7.5
- commits:
    - subject: 'Update supervisor to v6.3.6 [Pablo Carranza Velez]'
  date: 2017-10-24T00:00:00.000Z
  version: 2.7.4
- commits:
    - subject: 'Update API call in update-resin-supervisor for pine 5 [Gergely Imreh]'
    - subject: >-
        Fix start-resin-supervisor to start even when no supervisor image
        present [Gergely Imreh]
    - subject: 'Update supervisor to v6.3.5 [Akis Kesoglou]'
    - subject: 'Fix fsck of boot partition with dosfstools [Will Newton]'
    - subject: 'Backport ModemManager flow control patches [Will Newton]'
    - subject: 'Update dnsmasq to 2.78 [Will Newton]'
  date: 2017-10-20T00:00:00.000Z
  version: 2.7.3
- commits:
    - subject: 'Fix mkfs.hostapp-ext4 with pyro [Andrei Gherzan]'
    - subject: 'Fix a syntax error in image_types_resin [Andrei Gherzan]'
    - subject: 'Add a fixed goarch.bbclass for pyro [Will Newton]'
    - subject: 'Docker: Improved pull progress reporting [Akis Kesoglou]'
    - subject: 'Update supervisor to v6.3.1 [Akis Kesoglou]'
  date: 2017-10-05T00:00:00.000Z
  version: 2.7.2
- commits:
    - subject: 'Update docker [Theodor Gherzan]'
    - subject: 'Ensure docker links with systemd in pyro [Will Newton]'
  date: 2017-10-04T00:00:00.000Z
  version: 2.7.1
- commits:
    - subject: 'Add support for overaly2 in mobynit [Theodor Gherzan]'
    - subject: 'GPT support [Theodor Gherzan]'
    - subject: >-
        Update-resin-supervisor: device API key is substituted incorrectly
        [Gergely Imreh]
    - subject: 'Support kernel 4.13 [Will Newton]'
    - subject: 'Update supervisor to v6.3.0 [Akis Kesoglou]'
  date: 2017-10-04T00:00:00.000Z
  version: 2.7.0
- commits:
    - subject: 'Fixes for Pyro-based flasher images [Will Newton]'
    - subject: 'Sort config.json keys [Will Newton]'
  date: 2017-09-27T00:00:00.000Z
  version: 2.6.1
- commits:
    - subject: 'Provide generic hostapp update hooks [Andrei Gherzan]'
    - subject: 'Deploy a list of boot files in root partition [Andrei Gherzan]'
    - subject: 'Update supervisor to v6.2.9 [Pablo Carranza Velez]'
    - subject: 'Add usbutils package [Will Newton]'
    - subject: 'Switch docker to inherit from Go class [Will Newton]'
    - subject: 'Enable zram kernel module by default [Will Newton]'
    - subject: >-
        Make sure hci bluetooth interfaces are activated once booted [Florin
        Sarbu]
    - subject: 'Enable kernel stack protection [Will Newton]'
    - subject: 'Enable Yocto security flags on all builds [Will Newton]'
    - subject: >-
        Update gnutls to 3.5.9 in morty because of blocking NetworkManager
        [Robert Fritzsche]
  date: 2017-09-20T00:00:00.000Z
  version: 2.6.0
- commits:
    - subject: >-
        Force use of host's docker daemon for the docker-disk recipe [Florin
        Sarbu]
    - subject: 'Remove unused plymouth files to reduce size [Michal Mazurek]'
  date: 2017-09-13T00:00:00.000Z
  version: 2.5.1
- commits:
    - subject: 'Remove obsolete Go recipes [Will Newton]'
    - subject: 'Dynamically link docker [Petros Angelatos]'
    - subject: 'Include connectivity firmwares in Pyro [Will Newton]'
    - subject: 'Add glib-2.0-native dependencies for Pyro [Will Newton]'
    - subject: 'Switch to hostapp enabled rootfs [Petros Angelatos]'
    - subject: 'Update docker to 17.06 [Petros Angelatos]'
    - subject: 'Update modem manager to 1.6.8 [Andrei Gherzan]'
    - subject: 'Use poky go recipes for Pyro and above [Will Newton]'
    - subject: 'Patch mtools directory creation [Will Newton]'
    - subject: 'Enable building Docker on Yocto Pyro [Will Newton]'
    - subject: 'Enable fsck for resin-state partition [Will Newton]'
    - subject: 'Add host tool dependencies for Yocto Pyro [Will Newton]'
    - subject: 'Move systemd sanity check to image recipes [Will Newton]'
    - subject: 'Disable rarely used kernel configs for size [Will Newton]'
  date: 2017-09-12T00:00:00.000Z
  version: 2.5.0
- commits:
    - subject: 'Update NetworkManager to 1.8.2 [Andrei Gherzan]'
    - subject: 'Only install systemd-analyze in development images [Will Newton]'
    - subject: >-
        Avoid removing the supervisor container when the supervisor exits [Pablo
        Carranza Velez]
    - subject: 'Update supervisor to v6.2.5 [Pablo Carranza Velez]'
  date: 2017-08-31T00:00:00.000Z
  version: 2.4.2
- commits:
    - subject: >-
        Fix variable referencing in default variable substitution inside
        prepare-openvpn script [Florin Sarbu]
  date: 2017-08-24T00:00:00.000Z
  version: 2.4.1
- commits:
    - subject: 'Use separate line for version in changelog file [Andrei Gherzan]'
    - subject: 'Run OpenVPN service as openvpn user [Andreas Fitzek]'
    - subject: 'Update supervisor to v6.2.1 [Akis Kesoglou]'
    - subject: 'Watch for VPN config changes in config.json [Pagan Gazzard]'
  date: 2017-08-23T00:00:00.000Z
  version: 2.4.0
- commits:
    - subject: >-
        Resize the splash logo to full screen instead of half screen [Gergely
        Imreh]
    - subject: 'Set docker bridge subnet to 10.114.101.1/24 [Petros Angelatos]'
    - subject: 'Re-enable UPX compression on AArch64 [Will Newton]'
    - subject: 'Resin-device-progress: fix typos that broke script [Gergely Imreh]'
    - subject: 'Upgrade upx to 3.94 [Will Newton]'
    - subject: 'Set deviceType in config.json [Will Newton]'
    - subject: 'Update supervisor to v6.1.3 [Pablo Carranza Velez]'
    - subject: 'Fix typo in resin-persistent-logs [Will Newton]'
    - subject: 'Use BBCLASSEXTEND rather than inherit native [Florin Sarbu]'
  date: 2017-08-16T00:00:00.000Z
  version: 2.3.0
- commits:
    - subject: 'Update supervisor to v6.1.2 [Pablo Carranza Velez]'
    - subject: 'Support building with Yocto Pyro [Will Newton]'
    - subject: 'Disable resin-sample NetworkManager connection [Will Newton]'
    - subject: 'Remove support for Yocto Daisy [Will Newton]'
  date: 2017-07-28T00:00:00.000Z
  version: 2.2.0
- commits:
    - subject: 'Update supervisor to v6.0.1 [Pablo Carranza Velez]'
    - subject: 'Add support for overlay2 as docker storage driver [Andrei Gherzan]'
    - subject: >-
        Detect filesystem type automatically in resin mount systemd services
        [Michal Mazurek]
    - subject: 'Fix util-linux to work with ubifs [Michal Mazurek]'
    - subject: 'Allow setting DNS servers in config.json [Will Newton]'
    - subject: >-
        Make sure resin-state-reset doesn't end up in an inconsistent state
        [Andrei Gherzan]
    - subject: 'Remove latest supervisor tag as it is not used anymore [Andrei Gherzan]'
    - subject: 'Add NTP configuration service [Will Newton]'
    - subject: 'Use full list of resin NTP servers [Will Newton]'
    - subject: 'Document config.json keys in README.md [Will Newton]'
    - subject: >-
        Document Change-type and Changelog-entry git commit footers [Andrei
        Gherzan]
    - subject: 'Add systemd as a required distro feature [Will Newton]'
  date: 2017-07-19T00:00:00.000Z
  version: 2.1.0
- commits:
    - subject: 'Fix splash image migration in flasher images [Andrei Gherzan]'
    - subject: 'Add missing netfilter configs for our redsocks usage [Florin Sarbu]'
  date: 2017-07-06T00:00:00.000Z
  version: 2.0.9
- commits:
    - subject: 'Resin-vars: Fetch all the vars in resin-vars [Pagan Gazzard]'
    - subject: 'Add comment in supervisor.conf for clarity [Petros Angelatos]'
    - subject: 'Prevent supervisor from killing itself [Pablo Carranza Velez]'
    - subject: >-
        Store both image and tag in the temporary supervisor.conf [Pablo
        Carranza Velez]
    - subject: 'Use current changelog format with versionist [Andrei Gherzan]'
    - subject: >-
        Update supervisor to v5.1.0 and use aarch64-supervisor for aarch64
        [Pablo Carranza Velez]
    - subject: 'Validate docker config from disk to avoid panicing [Petros Angelatos]'
    - subject: 'Versionist: add support for full versionist use [Gergely Imreh]'
  date: 2017-07-04T00:00:00.000Z
  version: 2.0.8
- commits:
    - subject: 'Add support for transparent proxy redirection using redsocks [Pablo]'
    - subject: 'Add prerequisites for ipk packages in resinOS images [Andrei]'
    - subject: 'Update supervisor to v5.0.0 [Pablo]'
    - subject: 'Allow downloading a missing supervisor [Will]'
    - subject: 'Add busybox patch to fix tar unpacking [Will]'
    - subject: 'Include support for the RT5572 wireless chipset [Theodor]'
    - subject: 'Add a quirk for /etc/mtab [Will]'
    - subject: 'Switch to resin.io ntp pool [petrosagg]'
    - subject: 'Undefine backwards compatibilty variable, INITRAMFS_TASK [Theodor]'
    - subject: 'Enable CONFIG_KEYS, docker 17 requirment [Theodor]'
    - subject: 'Update NetworkManager to 1.8.0 [Andrei]'
    - subject: 'Update supervisor to v4.3.1 [Andrei]'
    - subject: 'Set NetworkManager connection attempts to infinity [petrosagg]'
    - subject: 'Update Docker to 17.03.1 [Theodor]'
    - subject: 'Include fsck.vfat in resinOS [Andrei]'
  date: 2017-06-28T00:00:00.000Z
  version: 2.0.7
- commits:
    - subject: 'Update supervisor to v4.2.4 [Pablo]'
  date: 2017-06-06T00:00:00.000Z
  version: 2.0.6
- commits:
    - subject: 'Fix dependencies for mount service in /var/lib [Andrei]'
    - subject: 'Various build fixes when using other package formats like ipk [Andrei]'
    - subject: >-
        Define IMAGE_NAME_SUFFIX, needed for resinhup, for Yocto versions older
        than Morty [Florin]
    - subject: >-
        Add support for modifying the regulatory domain for wifi interfaces
        [Michal]
    - subject: 'Add support for qmi and mbim cell modems [Joshua]'
    - subject: >-
        Disable all password logins on production images, rather than just root
        logins - this gets rid of the password prompt dialog that users have
        seen. [Page]
  date: 2017-06-02T00:00:00.000Z
  version: 2.0.5
- commits:
    - subject: >-
        Enable the resin-uboot implementation to also boot flasher images from
        USB media [Florin]
    - subject: 'Use supervisor tag as supervisor recipe PV [Andrei]'
  date: 2017-05-16T00:00:00.000Z
  version: 2.0.4
- commits:
    - subject: 'Copy resinOS_uEnv.txt from external to internal media [Theodor]'
    - subject: 'Fix resin-state-conf copying mechanism [Theodor]'
    - subject: 'Don''t fingerprint config.json [Andrei]'
    - subject: 'Prevent resin-unique-key from running concurrently [Michal]'
    - subject: 'Add iwlwifi 8265 firmware [Florin]'
    - subject: 'Disable coredumps [Jon]'
    - subject: 'Add bind mounts for systemd persistent data [Jon]'
    - subject: 'Update supervisor to v4.2.2 [Page]'
    - subject: 'Explicitly set CONFIG_HIDRAW=y [Michal]'
    - subject: 'Fix symlink creation in resinhup_backwards_compatible_link() [Michal]'
  date: 2017-05-10T00:00:00.000Z
  version: 2.0.3
- commits:
    - subject: 'Fix build of kernel-modules-headers on kernel 4.8+ [Andrei]'
    - subject: 'Use ondemand as default governor [Andrei]'
    - subject: 'Do not force fsck on the data partition [Theodor]'
    - subject: >-
        Switch to the new device register endpoint which exchanges the
        provisioning key for a device api key [Page]
    - subject: >-
        Switch to using a device api key for api calls and vpn authentication if
        it is present [Page]
  date: 2017-04-24T00:00:00.000Z
  version: 2.0.2
- commits:
    - subject: 'Don''t use getty generator even for development images [Andrei]'
    - subject: 'Fix resinos-img image compression [Theodor]'
    - subject: 'Revert 05288ce19781f9ab3b8c528f49537516b58db050 [Theodor]'
    - subject: 'Update NetworkManager to version 1.6.2 [Florin]'
    - subject: 'Update supervisor to v4.1.2 [Pablo]'
    - subject: 'Add aufs hashes for more kernel versions [fboudra]'
    - subject: 'Calculate IMAGE_ROOTFS_MAXSIZE dynamically [fboudra]'
    - subject: 'Don''t attempt UPX compression on aarch64 [fboudra]'
    - subject: 'Tidy arch detection in kernel-modules-headers [fboudra]'
  date: 2017-04-19T00:00:00.000Z
  version: 2.0.1
- date: 2017-03-31T00:00:00.000Z
  version: 2.0.0
- commits:
    - subject: 'Update supervisor to v4.1.1 [Pablo]'
    - subject: >-
        Replace echo with info in the resindataexpander initramfs script
        [Florin]
    - subject: 'Don''t stop plymouth at boot [Andrei]'
  date: 2017-03-31T00:00:00.000Z
  version: 2.0.0-rc6
- commits:
    - subject: 'Fix busybox switch_root when console=null [Andrei]'
    - subject: 'Make the initrams framework also parse root=LABEL= params [Florin]'
    - subject: 'Fix audit disable dependencies [Theodor]'
    - subject: 'Properly implement the ro_rootfs script [Theodor]'
    - subject: 'Make rootfs identical to resinhup packages [Andrei]'
  date: 2017-03-24T00:00:00.000Z
  version: 2.0.0-rc5
- commits:
    - subject: >-
        Enable by-partuuid symlinks for our DOS partition scheme also for Poky
        Jethro and Poky Krogoth based boards [Florin]
    - subject: 'Ship with e2fsprogs-tune2fs [Michal]'
  date: 2017-03-17T00:00:00.000Z
  version: 2.0.0-rc4
- commits:
    - subject: 'Fix flasher detection in initramfs scripts [Andrei]'
    - subject: 'Fix initramfs-framework build on morty [Andrei]'
  date: 2017-03-14T00:00:00.000Z
  version: 2.0.0-rc3
- commits:
    - subject: 'Fix initramfs-framework for non-morty boards [Theodor]'
    - subject: 'Fix flasher when it might corrupt the internal device [Andrei]'
  date: 2017-03-14T00:00:00.000Z
  version: 2.0.0-rc2
- commits:
    - subject: 'Use stateless flasher partitions [Andrei]'
    - subject: 'Refactor persistent logging [Theodor]'
    - subject: 'Add support for RDT promote [Andrei]'
    - subject: 'Fix image flag files on non uboot boards [Andrei]'
    - subject: 'Update supervisor to v4.0.0 [Pablo]'
    - subject: >-
        Change "test -z" with "test -n" in the U-Boot MMC scanning procedure
        [Florin]
    - subject: 'Implement MMC scanning for U-Boot [Andrei]'
    - subject: 'Resin-info should not be present in our production images [Theodor]'
    - subject: 'Implement resin-uboot based on v2.0 specification [Andrei]'
  date: 2017-03-10T00:00:00.000Z
  version: 2.0.0-rc1
- commits:
    - subject: 'Fix a compile error on krogoth boards [Andrei]'
  date: 2017-02-27T00:00:00.000Z
  version: 2.0.0-beta13
- commits:
    - subject: 'Disable audit subsystem [Theodor]'
    - subject: 'Run openvpn on flasher too [Andrei]'
    - subject: 'Add VARIANT/VARIANT_ID in os-release [Andrei]'
    - subject: >-
        Modify partitions label, define entire resinOS space used to 700MiB and
        other minor changes [Andrei]
    - subject: 'Update supervisor to v3.0.1 [Pablo]'
    - subject: 'Configure an armv7ve repository for the Resin Supervisor [Michal]'
    - subject: >-
        Fix the location where to create the resinhup bundles when using poky
        morty [Florin]
    - subject: >-
        Introduce debug tools package group add mkfs.ext4 in resin-image
        [Andrei]
    - subject: 'Halve the UUID length to 16 bytes [Michal]'
  date: 2017-02-27T00:00:00.000Z
  version: 2.0.0-beta12
- commits:
    - subject: 'Fix sectors per track for targets smaller than 512 MB [Andrei]'
  date: 2017-02-15T00:00:00.000Z
  version: 2.0.0-beta11
- commits:
    - subject: 'Introduce new host OS versioning scheme [Andrei]'
    - subject: 'Add jethro support [Andrei]'
    - subject: 'Fix missing quotes when testing for IMGDEPLOYDIR [Florin]'
  date: 2017-02-13T00:00:00.000Z
  version: 2.0.0-beta10
- commits:
    - subject: 'Use static resolv.conf [Andrei]'
    - subject: 'Switch rootfs to ext4 [Andrei]'
    - subject: 'Adapt resinhup for poky morty migration [Florin]'
    - subject: 'Add support for multiple entries in INTERNAL_DEVICE_KERNEL [Andrei]'
    - subject: 'Fix bug with the .docker mountpoint [Theodor]'
    - subject: 'Remove the supervisor container in the update script [Pablo]'
    - subject: 'Do not remove the supervisor container in every start [Pablo]'
    - subject: 'Update supervisor to v3.0.0 [Pablo]'
  date: 2017-02-07T00:00:00.000Z
  version: 2.0.0-beta.9
- commits:
    - subject: 'Add xt_set kernel module for all of our devices [Theodor]'
    - subject: 'Make /home/root/.docker writable [Theodor]'
    - subject: >-
        Prevent docker from thrashing the page cache using posix_fadvise
        [petrosagg]
    - subject: 'Introduce meta-resin-morty for using meta-resin with poky morty [Florin]'
    - subject: 'Add resinhup machine independent support in U-Boot [Andrei]'
    - subject: 'Remove BTRFS support from the kernel [Michal]'
    - subject: 'Backport dropbear atomic hostkey generation patch [Florin]'
    - subject: 'Update supervisor to v2.9.0 [Pablo]'
    - subject: 'Rewrite prepare-openvpn (style) and make it fail on error [Michal]'
    - subject: 'Ensure prepare-openvpn.service starts after var-volatile.mount [Michal]'
  date: 2017-01-27T00:00:00.000Z
  version: 2.0.0-beta.8
- commits:
    - subject: 'Fix supervisor.conf''s SUPERVISOR_TAG variable [Florin]'
  date: 2016-12-05T00:00:00.000Z
  version: 2.0.0-beta.7
- commits:
    - subject: >-
        Deactivate CONFIG_WATCHDOG_NOWAYOUT to make sure we can shutdown
        [Andrei]
  date: 2016-12-05T00:00:00.000Z
  version: 2.0.0-beta.6
- commits:
    - subject: >-
        Add inode tuning (1 inode for 8192 bytes ) in mkfs.ext4 for the
        resin-data partition [Praneeth]
    - subject: 'Fix missing [Manager] section for systemd watchdog setting [Florin]'
    - subject: 'Add missing dependency for the resin-supervisor.service [Theodor]'
    - subject: 'Specify the supervisor tag with a local variable [Theodor]'
    - subject: 'Update supervisor to v2.8.3 [Pablo]'
    - subject: >-
        Activate kernel configs for supporting iptables REJECT, MASQUERADE
        targets [Florin]
    - subject: 'systemd: enable watchdog at 10 seconds [Florin]'
    - subject: >-
        Allow resin-init-flasher to also flash both MLO and regular u-boot at
        the same time [Florin]
    - subject: 'Fix page size detection in go for arm64 boards [Andrei]'
  date: 2016-11-30T00:00:00.000Z
  version: 2.0.0-beta.5
- commits:
    - subject: 'Update supervisor to v2.8.2 [Pablo]'
  date: 2016-11-09T00:00:00.000Z
  version: 2.0.0-beta.4
- commits:
    - subject: >-
        Generate SUPERVISOR_REPOSITORY dynamically so no need to define it in
        `resin-<board>` anymore [Andrei]
    - subject: 'Fix container name conflict when creating a docker container [petrosagg]'
    - subject: 'Don''t compress docker binary anymore with UPX [Andrei]'
    - subject: 'Fix /var/lib/docker corruption after power cut [petrosagg]'
    - subject: 'Truncate hostname to 7 characters [Michal]'
    - subject: 'Fix aufs patching on non git kernel sources [Andrei]'
    - subject: 'Update supervisor to v2.8.1 [Pablo]'
  date: 2016-11-04T00:00:00.000Z
  version: 2.0.0-beta.3
- commits:
    - subject: 'Update supervisor to v2.7.1 [Pablo]'
    - subject: 'Move supervisor.conf from /etc to /etc/resin-supervisor [Theodor]'
    - subject: 'Update supervisor to v2.7.0 [Pablo]'
    - subject: 'Add guide for new board adoption [Florin]'
    - subject: 'Update supervisor to v2.6.2 [Pablo]'
  date: 2016-10-25T00:00:00.000Z
  version: 2.0.0-beta.2
- commits:
    - subject: 'Configure kernel with CONFIG_SECCOMP [Andrei]'
    - subject: 'Update kernel-module-headers to v0.0.7 [Lorenzo]'
    - subject: 'Implement persistent logging functionality [Andrei]'
    - subject: 'Increase the root filesystem size to 300M [Andrei]'
    - subject: 'Bump supervisor to 2.5.2 [Andrei]'
    - subject: 'Added a warning when skipping pulling the supervisor [Page]'
    - subject: 'Achieve read-only root filesystem [Theodor]'
    - subject: >-
        Implement aufs fetch and unpack functionality in kernel-resin.bbclass
        [Florin]
    - subject: >-
        Use aufs as docker storage driver with ext4 as backing filesystem
        instead of btrfs [Florin]
    - subject: 'Replace connman with NetworkManager [Michal]'
    - subject: 'Generate config.json from the build system [Theodor]'
    - subject: 'Add usb-modeswitch [Michal]'
    - subject: 'Allow hostname to be defined through config.json [Theodor]'
    - subject: 'Expose docker socket over TCP on development images [Andrei]'
    - subject: 'Integrate and configure avahi [Andrei]'
    - subject: 'Start using gzip archives for kernel module headers [Andrei]'
    - subject: 'Replace DEBUG_IMAGE with DEVELOPMENT_IMAGE [Theodor]'
    - subject: 'Update supervisor to v2.5.0 [Pablo]'
  date: 2016-10-11T00:00:00.000Z
  version: 2.0.0-beta.1
- commits:
    - subject: 'Update supervisor to v2.3.0 [Pablo]'
  date: 2016-09-27T00:00:00.000Z
  version: 1.16.0
- commits:
    - subject: 'Update supervisor to v2.2.1 [petrosagg]'
  date: 2016-09-24T00:00:00.000Z
  version: 1.15.0
- commits:
    - subject: 'Update supervisor to v2.2.0 [Kostas]'
  date: 2016-09-23T00:00:00.000Z
  version: 1.14.0
- date: 2016-09-23T00:00:00.000Z
  version: 1.13.0
- commits:
    - subject: 'Update supervisor to v2.1.1 [Pablo]'
    - subject: 'Add device-type.json file to the boot partitions of our images [Florin]'
    - subject: >-
        Enable kernel modules ip6table_nat, nf_nat_ipv6 and subset of ip_set
        [Florin]
    - subject: 'Change openvpn to use config file from /run [Florin]'
    - subject: 'Change partition type of resin-conf from vfat to ext4 [Theodor]'
    - subject: 'Move config.json to resin-boot partition [Theodor]'
    - subject: 'Change resin-boot mount point from /boot to /mnt/boot [Theodor]'
    - subject: 'Make dropbear host key generation atomic [Michal]'
    - subject: >-
        Change the TUN device used by OpenVPN to resin-vpn to minimize conflict
        with user applications using tun0 [Praneeth]
    - subject: 'Update supervisor to v2.1.0 [Pablo]'
    - subject: 'Use FHS structure in the root of resinhup packages [Andrei]'
  date: 2016-09-21T00:00:00.000Z
  version: 1.12.0
- commits:
    - subject: 'Backport STOPSIGNAL fix for docker [petrosagg]'
    - subject: 'Make Docker log to journald [Michal]'
  date: 2016-08-31T00:00:00.000Z
  version: 1.11.0
- date: 2016-08-24T00:00:00.000Z
  version: 1.1.0
- commits:
    - subject: 'Provide custom splash logo for our flasher type [Theodor]'
    - subject: 'Update supervisor to v1.14.0 [Pablo]'
    - subject: >-
        Set the default supervisor tag in /etc/supervisor.conf to the bundled
        supervisor tag. [Page]
    - subject: 'Update firmware: iwlwifi-7265D-10 -> iwlwifi-7265D-13 [Michal]'
  date: 2016-08-24T00:00:00.000Z
  version: 1.9.0
- commits:
    - subject: 'Fix plymouth output to tty1 [Theodor]'
    - subject: 'Use FAT16 filesystems as we do for partitions [Andrei]'
    - subject: >-
        Fix boltdb alignment issue for armv5 in docker, fixes docker 1.10.3 on
        armv5 devices [Lorenzo]
    - subject: >-
        Include firmware for iwlwifi-8000C-13 - 6th generation Intel NUC
        [Andrei]
    - subject: 'Disable DHCP server functionality from dnsmasq [Florin]'
    - subject: 'Update supervisor to v1.13.0 [Andrei]'
    - subject: >-
        Start dropbearkey.service at boot and don't wait for first connection
        [Andrei]
    - subject: >-
        Both remove systemd-serialgetty symlinks and disable
        systemd-getty-generator for non-debug builds [Florin]
    - subject: >-
        Disable ntp from connman and rely only on systemd-timesyncd with
        selected timeservers [Florin]
  date: 2016-08-02T00:00:00.000Z
  version: 1.8.0
- commits:
    - subject: 'Various meta-resin layer tweaks [Andrei]'
    - subject: 'Add support for resinhup when running kernel modules operations [Andrei]'
    - subject: 'Update supervisor to 1.12.1 [Pablo]'
  date: 2016-07-14T00:00:00.000Z
  version: 1.7.0
- date: 2016-07-06T00:00:00.000Z
  version: 1.6.0
- commits:
    - subject: 'Update resin supervisor to v1.11.6 [Florin]'
    - subject: 'Refactor openvpn dependencies [Florin]'
  date: 2016-07-04T00:00:00.000Z
  version: 1.5.0
- commits:
    - subject: 'Replace STAGING_BUILD by DEBUG_IMAGE and various refactorings [Andrei]'
    - subject: 'Update to latest kernel-modules-headers [Florin]'
  date: 2016-06-27T00:00:00.000Z
  version: 1.4.0
- commits:
    - subject: 'Implement mechanism for compressed kernel modules [Andrei]'
    - subject: 'Fix connman multiple IP over DHCP [Andrei]'
    - subject: >-
        Have the ability to inject custom docker images for connectable builds
        [Andrei]
    - subject: 'Integrate resin-provisioner [Andrei]'
    - subject: 'Include slug and machine in os-release [Andrei]'
    - subject: 'Define and implement resin connectable builds [Andrei]'
    - subject: >-
        Split the registration and uuid generation, of a device, into separate
        packages [Theodor]
    - subject: 'Sanitize target arch for x86 machines [Florin]'
    - subject: >-
        Ensure kernel build artefacts are present for kernel-modules-headers
        [Florin]
    - subject: 'Add "set -e" to resin-init-flasher [Florin]'
    - subject: 'Add recipe for deploying an archive with kernel modules headers [Florin]'
    - subject: >-
        Have the ability at build time to configure the preloaded docker image
        in the BTRFS partition [Andrei]
  date: 2016-06-24T00:00:00.000Z
  version: 1.3.0
- commits:
    - subject: 'Remove board specific bootloader handling from the flasher [Florin]'
    - subject: 'Provide script to inject board specific flashing procedures [Theodor]'
    - subject: 'Implement and document host OS new versioning scheme [Andrei]'
    - subject: 'Set PreferredTechnologies to "wifi,ethernet" [Florin]'
    - subject: 'Do not add nameserver routes in the kernel IP routing table [Florin]'
    - subject: 'Add support for migration to docker engine 1.10 in resinhup [Andrei]'
    - subject: >-
        Move resin-image sdcard file in the rootfs instead of the boot partition
        [Florin]
    - subject: 'Add compression mechanism for binaries, using upx [Theodor]'
    - subject: 'Switch to docker 1.10.3 [Theodor]'
    - subject: 'Remove deprecated mmcroot from flasher init script [Andrei]'
    - subject: 'Deploy license.manifest [Andrei]'
  date: 2016-06-08T00:00:00.000Z
  version: 1.2.0
- commits:
    - subject: 'Add build information in the target rootfs [Florin]'
    - subject: 'Don''t bind mount /etc/resolv.conf anymore [Florin]'
    - subject: 'Have dnsmasq listen on 127.0.0.2 instead of 127.0.0.1 [Florin]'
  date: 2016-04-20T00:00:00.000Z
  version: 1.1.4
- commits:
    - subject: >-
        Add resin-init-board as a runtime dependency to resin-init-flasher
        [Florin]
  date: 2016-04-13T00:00:00.000Z
  version: 1.1.3
- commits:
    - subject: 'Execute resin-init-board from the flasher also [Florin]'
    - subject: 'Use realpath from coreutils-native for generating SD images [Andrei]'
    - subject: 'Add rsync to our image [Theodor]'
    - subject: 'Add p2p to NetworkInterfaceBlacklist in connman main.conf file [Florin]'
    - subject: >-
        Add dnsmasq and do changes to connman so dnsmasq is used according to
        our platform needs [Florin]
    - subject: 'Define "rce" as a provider for the docker package [Florin]'
  date: 2016-04-13T00:00:00.000Z
  version: 1.1.2
- commits:
    - subject: >-
        Make resin-supervisor-disk's PV variable not contain the ':' character
        [Florin]
    - subject: >-
        Workaround for "docker images behavior" -
        https://bugzilla.redhat.com/show_bug.cgi?id=1312934 [Florin]
    - subject: >-
        Have device registration provided by supervisor in resin-image and
        resin-device-register in resin-image-flasher [Andrei]
    - subject: 'Include crda in resin images [Andrei]'
    - subject: 'Add support for hid-multitouch - available as kernel module [Andrei]'
    - subject: 'Simplify os-release version and add some resin specific info [Andrei]'
    - subject: 'Set IMAGE_ROOTFS_SIZE to zero as default [Florin]'
    - subject: 'Update layer with the ability to use jethro [Theodor]'
  date: 2016-03-03T00:00:00.000Z
  version: 1.1.1
- commits:
    - subject: 'Migrate repositories to github [Florin]'
    - subject: 'Add resinhup package for running hostOS updates [Andrei]'
    - subject: 'Export deltaEndpoint as DELTA_ENDPOINT [Andrei]'
  date: 2016-02-16T00:00:00.000Z
  version: 1.1.0
- commits:
    - subject: >-
        Upgrade systemd to version 216 and add volatile-binds dependency
        [Florin]
    - subject: 'Fix racing issue on edison [Andrei]'
    - subject: 'Add support ts7700 [Theodor]'
    - subject: 'Remove obsolete pseudo patch. This patch is now in poky [Florin]'
    - subject: 'Remove obsolete bash patches. These patches are now in poky [Florin]'
    - subject: 'Ensure connman systemd service is enabled on boot [Florin]'
    - subject: 'Change OOM Adjust Score of RCE to -900 [Praneeth]'
    - subject: 'Change OOM Adjust Score of Connman to -1000 [Praneeth]'
    - subject: 'Change OOM Adjust Score of OpenVPN to -1000 [Praneeth]'
  date: 2016-02-03T00:00:00.000Z
  version: 1.0.6
- date: 2016-01-20T00:00:00.000Z
  version: 1.0.5
