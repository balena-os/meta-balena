- commits:
    - subject: >-
        Disable by default the option to stop u-boot autoboot by pressing CTRL+C
        in all OS versions
      hash: 621037371b3c272ecb6bfd50cfbdad4eca0a02ea
      body: |
        We do not want by default that any OS variants allow for stopping the
        autoboot in any way and letting users enter the u-boot shell. This can
        be overwritten by setting OS_DEV_UBOOT_DELAY to 1.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Disable by default the option to stop u-boot autoboot by pressing
          CTRL+C in all OS versions
        changelog-entry: >-
          Disable by default the option to stop u-boot autoboot by pressing
          CTRL+C in all OS versions
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Increase NTP polling time to around 4.5 hours.
      hash: 4a47b9297b37277a9aece0ea322e706dbe473f12
      body: |
        This commit increases the default NTP poll rate to around 4.5 hours.

        BalenaOS uses chronyd for time synchronization, and it allows to specify
        a minpoll and maxpoll values per server with a power of two number of
        seconds for the minimum and maximum polling time respectively.

        With those constraints, the change set both limits to 2^14s (4.55h) for
        all servers.

        An architectural decision has been made not to make this configurable.

        Fixes #1780.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Increase NTP polling time to around 4.5 hours.
        changelog-entry: Increase NTP polling time to around 4.5 hours.
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: >-
        Disable the option to stop u-boot autoboot by pressing CTRL+C in
        production OS version
      hash: 2abb791f0df7c4936f0c6814b27291281dc922e0
      body: |
        We do not want that production OS variants allow for stopping
        the autoboot in any way and letting users enter the u-boot shell.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Disable the option to stop u-boot autoboot by pressing CTRL+C in
          production OS version
        changelog-entry: >-
          Disable the option to stop u-boot autoboot by pressing CTRL+C in
          production OS version
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.46.1
  date: 2020-01-01T03:50:49.765Z
- commits:
    - subject: Update to ModemManager v1.12.2
      hash: 2c4d223d90701b7dbe7ed42f2b5bdaab396db4d3
      body: |
        Fixes #1775

        Removed the two patches we included in favor of corresponding
        configure arguments since they had to be updated anyway.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update to ModemManager v1.12.2
        changelog-entry: Update to ModemManager v1.12.2
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update libmbim to version 1.20.2
      hash: 01a15a047156c2491081e31a12c0a2a278a015d8
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libmbim to version 1.20.2
        changelog-entry: Update libmbim to version 1.20.2
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update libqmi to version 1.24.2
      hash: dad937f2a5ec8c894518f683e636c17a23a20869
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libqmi to version 1.24.2
        changelog-entry: Update libqmi to version 1.24.2
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update balena-supervisor to v10.6.27
      hash: 426dd85c0396f713e8f2571334bbd547b5a22642
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v10.6.27
        changelog-entry: Update balena-supervisor to v10.6.27
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: >-
        Tweak how the flasher asserts that internal media is valid for being
        installed balena OS on
      hash: 4b50d967db309366865b791e39f84ab00c0e9330
      body: |
        It is better to use fdisk to check that an internal media
        is a suitable block device rather than using the shell
        internal block testing feature. This is because there is
        at least a case when the kernel lists an ASMT 2115 controller
        as /dev/sda but that is not an actual drive so it cannot be
        written to and the flashing procedure will error out.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Tweak how the flasher asserts that internal media is valid for being
          installed balena OS on
        changelog-entry: >-
          Tweak how the flasher asserts that internal media is valid for being
          installed balena OS on
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Remove networkmanager stale temporary files at startup
      hash: 1234b29d7a4b007fd25247d38d9027e4f6e9e709
      body: >
        Reports indicate that NetworkManager can leave stale temporary files on

        the state partition that over time can affect the device's operability.


        This commit removes the timestamps.XXXXXX and seen-bssids.XXXXXX files
        on

        startup to avoid this situation.


        Fixes #1747
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Remove networkmanager stale temporary files at startup
        changelog-entry: Remove networkmanager stale temporary files at startup
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: 'networkmanager: Rework patches to remove fuzzing'
      hash: fbe8c83e8234c842d83c344243d2fe782c8ebb0a
      body: |
        This commit removes the build warning when applying patches.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Update openvpn to v2.4.7
      hash: 5c7d3ae1296636dae7b0de67a9c0f8c66d996d1c
      body: >
        Fetched from:

        *
        https://git.openembedded.org/meta-openembedded/commit/meta-networking/recipes-support/openvpn/openvpn_2.4.7.bb?id=c1c8895609ae70a1b735e8625c19046c25184ee4

        *
        https://git.openembedded.org/meta-openembedded/commit/meta-networking/recipes-support/openvpn/openvpn/openvpn?id=910891d722085c56c474ac72788898b94c5ed193
      footer:
        Connects-to: '#1740'
        connects-to: '#1740'
        Change-type: patch
        change-type: patch
        Changelog-entry: Update openvpn to v2.4.7
        changelog-entry: Update openvpn to v2.4.7
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: >-
        Enable kernel configs for USB_SERIAL, USB_SERIAL_PL2303 and HFS for all
        devices
      hash: 03b95db4e073969718f0a60d8b0e80db4ce0680b
      body: |
        Fixes #1770
        Fixes #1761
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Enable kernel configs for USB_SERIAL, USB_SERIAL_PL2303 and HFS for
          all devices
        changelog-entry: >-
          Enable kernel configs for USB_SERIAL, USB_SERIAL_PL2303 and HFS for
          all devices
      author: Zubair Lutfullah Kakakhel
    - subject: 'image-resin.bbclass: Mark do_populate_lic_deploy with nostamp'
      hash: 3004762e71383e6ed8134de526966c6dd660fca2
      body: |
        We inherit do_populate_lic_deploy from poky. It uses IMAGE_NAME
        which includes DATETIME

        DATETIME changes between runs so we can sometimes get into a state
        where the do_populate_lic_deploy task has its stamp file set.

        But when our subsequent deploy_image_license_manifest task runs, the
        DATETIME is different. Hence we get into a state where we have to
        run cleanall on the resin-image-flasher recipe to clean up directories.

        Lets mark do_populate_lic_deploy with nostamp. This should make it
        run every time we need to run deploy_image_license_manifest with the
        most up to date DATETIME variable to prevent any hiccups
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Namespace the hello-world healthcheck image
      hash: 4ec47419b97cf5ca6fe15436a32348e1dc7b5d9d
      body: |
        Fixes #1630

        Need to make the script go in the background in ExecStartPost=.
        Otherwise, the service status never gets to active/running resulting
        it in remaining stuck in an endless loop.

        If the health-check load fails for whatever reason, the subsequent
        engine healthcheck will fail retriggering the healthcheck load.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Namespace the hello-world healthcheck image
        changelog-entry: Namespace the hello-world healthcheck image
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v10.6.17
      hash: 72100a55f62820b0cb8a48307a70d01633744e70
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v10.6.17
        changelog-entry: Update balena-supervisor to v10.6.17
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Update balena-supervisor to v10.6.13
      hash: 7ac91f9557f90417dc152c5621d4cff6d53c17e1
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v10.6.13
        changelog-entry: Update balena-supervisor to v10.6.13
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Update CODEOWNERS
      hash: bb8ac081d50893d9d0881b0f08c68cbb626c3590
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.46.0
  date: 2019-12-23T17:06:33.086Z
- commits:
    - subject: >-
        Fix for a race condition where occasionally the supervisor might not be
        able to come up during boot. Also can be caused by using
        io.balena.features.balena-socket and app container restart always
        policy. Affects meta-balena 2.44.0 and 2.45.0. To be fixed in 2.44.1 and
        2.46.0
      hash: 7cf43d9f939b1d960cb677c48ca9f91b668d2dc3
      body: |
        Fixes #1748
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Fix for a race condition where occasionally the supervisor might not
          be able to come up during boot. Also can be caused by using
          io.balena.features.balena-socket and app container restart always
          policy. Affects meta-balena 2.44.0 and 2.45.0. To be fixed in 2.44.1
          and 2.46.0
        changelog-entry: >-
          Fix for a race condition where occasionally the supervisor might not
          be able to come up during boot. Also can be caused by using
          io.balena.features.balena-socket and app container restart always
          policy. Affects meta-balena 2.44.0 and 2.45.0. To be fixed in 2.44.1
          and 2.46.0
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Rename resin to balena where possible
      hash: 02a932405705ce28fca6137cfae16fab5bc952fb
      body: ''
      footer:
        Change-type: patch
        change-type: patch
      author: Pagan Gazzard
    - subject: Add leading new line for PACKAGE_INSTALL variable
      hash: e79c470b3eaa8d6e763103fa20858fbed61ff292
      body: |
        Without the leading space, the last package name
        of the PACKAGE_INSTALL variable from other recipes,
        is concatenated with the one added in this recipe resulting
        in the following error
        opkg_prepare_url_for_install
        Couldn't find anything to satisfy
        'kernel-module-sdhci-pciinitramfs-module-console-null-workaround'
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add leading new line for PACKAGE_INSTALL variable
        changelog-entry: Add leading new line for PACKAGE_INSTALL variable
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
    - subject: Set `net.ipv4.ip_local_port_range` to recommended range (49152-65535)
      hash: 8ef6a5b56a2b7ba43081a0f30f99d6f736015533
      body: ''
      footer:
        Connects-to: '#1726'
        connects-to: '#1726'
        Change-type: patch
        change-type: patch
        Changelog-entry: Set `net.ipv4.ip_local_port_range` to recommended range (49152-65535)
        changelog-entry: Set `net.ipv4.ip_local_port_range` to recommended range (49152-65535)
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: 'No user impact, subtle fix in rollback version checks'
      hash: 38717507b93962d199e07d9093382b8db4ec5d81
      body: |
        ESR releases have the VERSION string in /etc/os-release in a date
        format. 2019.10.0 etc.
        We added META_BALENA_VERSION in os-release from v2.38.0 via
        b0e0c77a26f3fad51e2923ab416fdd2af2a5a033

        Lets use META_BALENA_VERSION if available for our os version checks.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: 'No user impact, subtle fix in rollback version checks'
        changelog-entry: 'No user impact, subtle fix in rollback version checks'
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.45.1
  date: 2019-11-21T16:48:38.743Z
- commits:
    - subject: Increase persistent journal size to 32M
      hash: ad77ca2402f41fec5b730d556006ef5e86bdacd5
      body: ''
      footer:
        Connects-to: '#1646'
        connects-to: '#1646'
        Change-type: patch
        change-type: patch
        Changelog-entry: Increase persistent journal size to 32M
        changelog-entry: Increase persistent journal size to 32M
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: Move persistent logs from state to data partition
      hash: f69ff379ffac39dffcc126ac374b50533dcdef31
      body: ''
      footer:
        Connects-to: '#1646'
        connects-to: '#1646'
        Change-type: minor
        change-type: minor
        Changelog-entry: Move persistent logs from state to data partition
        changelog-entry: Move persistent logs from state to data partition
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: Add wpa-supplicant recipe and update to v2.9
      hash: 139f76b73918e12aa8082896a7a017d2ad5df739
      body: >
        Fetched from
        http://cgit.openembedded.org/openembedded-core/commit/meta/recipes-connectivity/wpa-supplicant?id=95507898ad6a7b88c83ef376c1cb8b3b3a685c96
      footer:
        Connects-to: '#1711'
        connects-to: '#1711'
        Change-type: patch
        change-type: patch
        Changelog-entry: Add wpa-supplicant recipe and update to v2.9
        changelog-entry: Add wpa-supplicant recipe and update to v2.9
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: >-
        Improve robustness by making variou services restart if they stop for
        some reason
      hash: 074f42aeaf98d2ede68a29d7f7d97cd17dc61f15
      body: |
        The default behaviour is Restart=on-abort inherited from upstream.
        Lets make it Restart=always

        Fixes #1702
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Improve robustness by making variou services restart if they stop for
          some reason
        changelog-entry: >-
          Improve robustness by making variou services restart if they stop for
          some reason
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Build net/dummy as module
      hash: ffd5bd2183ca1ea4d3f62bae118b7269b8280002
      body: |
        Add dummy net driver support, which is used to
        check if a container is privileged during
        udev initialization.

        Building it as module ensures that dummy
        devices are not needlessly created during boot.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Build net/dummy as module
        changelog-entry: Build net/dummy as module
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.45.0
  date: 2019-10-30T14:34:36.798Z
- commits:
    - subject: >-
        Make uboot dev images autoboot delay build time configurable. Default is
        no delay
      hash: ff9e5c26ce7caa694725d7009943db0713655be6
      body: |
        Customers usually don't need this delay during u-boot. Also in some
        cases, hardware attached on the uart pins might pause uboot preventing
        customers from using dev images easily.

        But we do need this delay during our development work on bsps etc.

        Lets make this autoboot delay build time configurable

        Also make the BOOTDELAY -2 which is better than 0 as that completely
        prevents any char on serial from interrupting boot.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Make uboot dev images autoboot delay build time configurable. Default
          is no delay
        changelog-entry: >-
          Make uboot dev images autoboot delay build time configurable. Default
          is no delay
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Reduce systemd logging level from info to notice
      hash: 9e8f949c561b4e904f2e492e0267923b73782c4c
      body: |
        Reduces redundant logs.

        Fixes #1691
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Reduce systemd logging level from info to notice
        changelog-entry: Reduce systemd logging level from info to notice
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'resin-supervisor: Expose container ID via env variable'
      hash: 27d76cd9441ad427342f53b7e5b865129dd05557
      body: >
        The supervisor needs to know its container ID on the context of
        different

        engine objects cleanup tasks, so it can understand what objects are

        related to itself.


        Depends on gh-1679

        See also

        - balena-io/balena-supervisor#1038

        - balena-os/balena-engine#174

        - balena-os/balena-engine-cli#8
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Roman Mazur <roman@balena.io>
        signed-off-by: Roman Mazur <roman@balena.io>
      author: Roman Mazur
    - subject: 'kernel-devsrc: Copy vdso.lds.S file in source archive if available'
      hash: 70bb9f53e5a50703050c45411c3a63906c17bf42
      body: |
        Necessary to avoid error:
        "No rule to make target 'arch/arm64/kernel/vdso/vdso.lds', needed
        by 'arch/arm64/kernel/vdso/vdso.so.dbg'"
        when doing "make  modules_prepare"
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: 'kernel-devsrc: Copy vdso.lds.S file in source archive if available'
        changelog-entry: 'kernel-devsrc: Copy vdso.lds.S file in source archive if available'
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
    - subject: >-
        Disable PasswordAuthentication in sshd in production images as an extra
        precautionary measure.
      hash: 67bff0700e921a8adbceb4a3b77af2ed39415fa8
      body: |
        PasswordAuthentication defaults to yes. Make it no for production
        images.

        Fixes #1678

        Also some whitespace fixes.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Disable PasswordAuthentication in sshd in production images as an
          extra precautionary measure.
        changelog-entry: >-
          Disable PasswordAuthentication in sshd in production images as an
          extra precautionary measure.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-engine to 18.9.10
      hash: 9fa56fef4b2b34671951a09e241bb2623dd6d96c
      body: |
        Includes feature to populate container environment with container id
        variable and bug fix for tagging deltas on the fly.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-engine to 18.9.10
        changelog-entry: Update balena-engine to 18.9.10
        Signed-off-by: Robert Günzler <robertg@balena.io>
        signed-off-by: Robert Günzler <robertg@balena.io>
      author: Robert Günzler
    - subject: 'hostapp-update-hooks: Filter out automount for inactive sysroot'
      hash: 894a3b1e2ae705efe9267bab226886c58ad646a7
      body: |
        'findmnt' returns both systemd-1 and the correct TARGET.
        No failure is currently observed because this two line output
        is filtered trough 'basename'.

        Use ext4 FSTYPE to filter out the automount with SOURCE
        "systemd-1" when determining the new parition label
        in the u-boot update hook, just like we do for grub.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: >-
        Add support for hooks 2.0 enabling finer granularity during HostOS
        updates.
      hash: 0d33e5a82cab1fa58729d9a9ce7ea37be05cacc3
      body: |
        Add support for hooks 2.0
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Add support for hooks 2.0 enabling finer granularity during HostOS
          updates.
        changelog-entry: >-
          Add support for hooks 2.0 enabling finer granularity during HostOS
          updates.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v10.3.7
      hash: 4562d35527c1b0087c7e55af30de8ab6eb1aa990
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v10.3.7
        changelog-entry: Update balena-supervisor to v10.3.7
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Add support for balena cloud SSH public keys
      hash: 76e774ff132d7cf23a729c3d587c9fd1354a969f
      body: |
        When we have an API endpoint and key, we can query the API to get the
        user public keys and use them to try to authenticate over SSH.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support for balena cloud SSH public keys
        changelog-entry: Add support for balena cloud SSH public keys
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Map any user to root using libnss-ato
      hash: 55ba5767199205ee945a5e69152a28e023e35397
      body: |
        This module was included to be able to map any user to root. This
        is required by the balena-cloud backend.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Map any user to root using libnss-ato
        changelog-entry: Map any user to root using libnss-ato
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Add option to disable kernel headers from being built.
      hash: 1f5940898a654c770858f802ea978ddb986082f4
      body: |
        These can take quite a bit of build time. Add an option to disable
        the recipes from being built.

        Fixes #1659
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add option to disable kernel headers from being built.
        changelog-entry: Add option to disable kernel headers from being built.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.44.0
  date: 2019-10-03T06:28:45.031Z
- commits:
    - subject: Update NetworkManager to 1.20.2
      hash: bcb6d85cc3b75d2f41a64fc9a6e0e15b428040f1
      body: |
        Fixes #1660
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update NetworkManager to 1.20.2
        changelog-entry: Update NetworkManager to 1.20.2
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update ModemManager to 1.10.6
      hash: f6c82203c1a8f0613a900ce9d8ce749087fab99d
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update ModemManager to 1.10.6
        changelog-entry: Update ModemManager to 1.10.6
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.43.0
  date: 2019-09-13T15:33:28.973Z
- commits:
    - subject: >-
        A small fix in initramfs when /dev/console is invalid due to whatever
        reason
      hash: b5574aeb86ea6b6763f1c25c4b53a45d3e207eb5
      body: |
        We would just check for the existence of console=null in kernel cmdline

        A better way would be to check the presence of a valid symlink for fd0,
        fd1 and fd2. And assign them to /dev/null if unavailable.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          A small fix in initramfs when /dev/console is invalid due to whatever
          reason
        changelog-entry: >-
          A small fix in initramfs when /dev/console is invalid due to whatever
          reason
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add automated testing for external kernel module header tarballs
      hash: aef272d20b471308790bfa63426f73a3ce334884
      body: |
        We'd like to run a simple hello-world external module build test using
        the headers we have generated. This recipe does that in a docker
        container
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add automated testing for external kernel module header tarballs
        changelog-entry: Add automated testing for external kernel module header tarballs
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Make sure correct utsrelease.h is packaged
      hash: 5f9717081524d475009f5bf9277b30bf29c1c371
      body: |
        It was observed that on some machines (Variscite mx8m) the
        utsrelease.h header is regenerated with incomplete content when
        running "make prepare0" (utsrelease.h will not contain the short
        git revision although the kernel's abiversion includes it and
        as such the external modules built using this utsrelease.h header
        will fail to load because of this mismatch).
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Make sure correct utsrelease.h is packaged
        changelog-entry: Make sure correct utsrelease.h is packaged
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Fix a bug where application containers with new systemd versions were
        failing to start in cases. Switch to systemd cgroup driver in
        balenaEngine
      hash: a79f18a3e094721d1fc134afbae7a4773b697414
      body: |
        The default driver is cgroupfs. We switch to systemd so that there is
        one cgroup manager in our OS.

        Otherwise, systemd will have its own cgroup manager and cgroupfs will
        be another cgroup manager via balenaEngine daemon.

        Fixes #1645 which contains more information
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Fix a bug where application containers with new systemd versions were
          failing to start in cases. Switch to systemd cgroup driver in
          balenaEngine
        changelog-entry: >-
          Fix a bug where application containers with new systemd versions were
          failing to start in cases. Switch to systemd cgroup driver in
          balenaEngine
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.42.0
  date: 2019-09-13T08:06:05.129Z
- commits:
    - subject: Update ModemManager to version 1.10.4
      hash: 6f300a3fc01521ceadd3f8a50c9157d070525dde
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update ModemManager to version 1.10.4
        changelog-entry: Update ModemManager to version 1.10.4
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Fix for some innocous systemd tmpfile warnings /var/run -> /run ones
      hash: 25bb6364dfff2a65d7f53f71a35ef74f24f7d7a9
      body: >
        Otherwise systemd complains:

        localhost systemd-tmpfiles[525]:
        [/etc/tmpfiles.d/balena-tmpfiles.conf:1] Line references path below
        legacy directory /var/run/, updating /var/run/docker.pid →
        /run/docker.pid; please update the tmpfiles.d/ drop-in file accordingly.

        localhost systemd-tmpfiles[525]:
        [/etc/tmpfiles.d/balena-tmpfiles.conf:2] Line references path below
        legacy directory /var/run/, updating /var/run/balena.pid →
        /run/balena.pid; please update the tmpfiles.d/ drop-in file accordingly.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix for some innocous systemd tmpfile warnings /var/run -> /run ones
        changelog-entry: Fix for some innocous systemd tmpfile warnings /var/run -> /run ones
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Fix for rollbacks where the inactive partition mount was unavailable
        when altboot triggered
      hash: 856a3d1ad8dbf3b7a87689bbedac23c9148b3d79
      body: |
        PR #1441 changed mnt-sysroot-inactive to an automount. But there is no
        way to easily add a udev dependency to the automount. As a result,
        when rollbacks tries to access the inactive partition, it fails.
        Let's add systemd-udev-settle.service to the rollback services.

        This will only delay the first boot after a HUP which is reasonable.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Fix for rollbacks where the inactive partition mount was unavailable
          when altboot triggered
        changelog-entry: >-
          Fix for rollbacks where the inactive partition mount was unavailable
          when altboot triggered
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'kernel-resin: Enable FTDI USB-serial convertors driver'
      hash: 40616a274cd7f055397b5acda0fdd6540e797410
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
  version: 2.41.1
  date: 2019-09-03T13:27:47.892Z
- commits:
    - subject: Fix a hang in initramfs for warrior production images
      hash: 4c44265a7dd13760a89c235068500bf6f315f651
      body: |
        When `console=null` is passed in the kernel cmdline for production
        images, the system doesn't boot. Traced to initramfs not starting any
        process such as udev with the right file descripters for 0,1,2

        Add workaround for that issue. This got exposed with a systemd bump.
        More details here https://github.com/systemd/systemd/issues/13332
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix a hang in initramfs for warrior production images
        changelog-entry: Fix a hang in initramfs for warrior production images
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-engine to 18.09.8
      hash: 9bcd0ffcc7d6efde45f2bc1eaeaafe1092374c40
      body: |
        Includes improvements and fixes to the journald logdriver
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-engine to 18.09.8
        changelog-entry: Update balena-engine to 18.09.8
        Signed-off-by: Robert Günzler <robertg@balena.io>
        signed-off-by: Robert Günzler <robertg@balena.io>
      author: Robert Günzler
    - subject: Avoid overlayfs mounts in poky's volatile-binds
      hash: b7b6163d955a3bf76a1759b60ed82ccc5fcce6d0
      body: |
        Our root filesystem is overlayfs or aufs. When latter, the system
        crashes when reading a lower directory file. We avoid this by always
        falling back to copy and mount (as if overlayfs is not available).

        Fixes #1618
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Avoid overlayfs mounts in poky's volatile-binds
        changelog-entry: Avoid overlayfs mounts in poky's volatile-binds
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.41.0
  date: 2019-08-22T14:25:04.139Z
- commits:
    - subject: Update balena-supervisor to v10.2.2
      hash: 3afbe138f115fa15611cb823caa6664dbb093a8b
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v10.2.2
        changelog-entry: Update balena-supervisor to v10.2.2
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: >-
        Workaround for a cornercase bug in PersistentLogging where journalctl
        filled the state partition. Vacuum the journal on boot.
      hash: 8284da08f245ed6da8308d558bb8dfcc66de9691
      body: |
        We have found a rare corner case bug where the journal bloats beyond
        its limit and fills the state partition. Triggering a vacuum on reboot
        helps a bit in case the device is restarted to recover its function.

        Fixes #1423
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Workaround for a cornercase bug in PersistentLogging where journalctl
          filled the state partition. Vacuum the journal on boot.
        changelog-entry: >-
          Workaround for a cornercase bug in PersistentLogging where journalctl
          filled the state partition. Vacuum the journal on boot.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.40.0
  date: 2019-08-14T09:40:49.562Z
- commits:
    - subject: 'usb-modeswitch-data: Switch Huawei E3372 12d1:1f01 to mbim mode'
      hash: bb672725f4460402af64ecb7d74d33526f5ed7c1
      body: |
        Customer reported Huawei E3372 not working
        anymore starting with balenaOS v2.32.
        The fix for this appears to be switching the modem with
        vid and pid 12d1:1f01 from the cdc_ether legacy mode to
        the faster mbim mode and setting mtu=1460 in the modem
        connection file.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: >-
        Fix rollback altboots to prevent good reboots by supervisor triggering
        rollback.
      hash: 7e5843d6542d13d278d2a42da2f787ada8bfa229
      body: |
        After a HUP, until rollbacks clears its state, the supervisor(or user)
        can trigger good reboots. These reboots might be seen by the bootloader
        as bad reboots.

        To prevent this from happening, add a service that clears the bootcount
        upon good reboots. This only runs if the rollback services have not
        cleared their flag files in the state partition.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Fix rollback altboots to prevent good reboots by supervisor triggering
          rollback.
        changelog-entry: >-
          Fix rollback altboots to prevent good reboots by supervisor triggering
          rollback.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Devices using u-boot. Remove any BOOTDELAY for production images. Add a
        2 seconds delay for development images
      hash: f50952f6e91541f4c07ef14612a71174b9417124
      body: |
        We'd like to split dev and prod uboot config fragments. Dev images can
        have a 2 second u-boot delay to facilitate debugging. While prod images
        shouldn't really pause at this stage of the boot.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Devices using u-boot. Remove any BOOTDELAY for production images. Add
          a 2 seconds delay for development images
        changelog-entry: >-
          Devices using u-boot. Remove any BOOTDELAY for production images. Add
          a 2 seconds delay for development images
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Devices using u-boot. Enable CONFIG_CMD_SETEXPR for all devices.
        Required for rollbacks to work
      hash: 7051a1bda83d53e08148eea953ee2653fd915743
      body: |
        We'd like to enable some config options for all devices via meta-balena

        The support is mainline since warrior. Lets copy it in meta-balena
        to get it in the previous layers as well.

        We need CMD_SETEXPR to be enabled for rollbacks to work. So enable it
        via the config fragment
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Devices using u-boot. Enable CONFIG_CMD_SETEXPR for all devices.
          Required for rollbacks to work
        changelog-entry: >-
          Devices using u-boot. Enable CONFIG_CMD_SETEXPR for all devices.
          Required for rollbacks to work
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Devices using u-boot. Enable rollback-altboot by handling bootcount via
        meta-balena.
      hash: aa0a389ea92a71123813f291833fea61f4965164
      body: |
        U-boot has its own bootcount framework. However, that will require
        handling in each device type. We will use u-boot shell commands
        env import -t, env export -t, fatload, fatwrite
        to read/write/increment bootcount in env_resin.h.

        This will allow us to scale to lots of devices.

        A flag os_bootcount_skip is left for devices that are unable to support
        fatwrite in u-boot (in some rare cases). This will allow a device to
        not support rollback-altboot and still function.

        This patch requires that CMD_SETEXPR be enabled in u-boot config
        options.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Devices using u-boot. Enable rollback-altboot by handling bootcount
          via meta-balena.
        changelog-entry: >-
          Devices using u-boot. Enable rollback-altboot by handling bootcount
          via meta-balena.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Production Devices using u-boot. Enable CONFIG_RESET_TO_RETRY to reset a
        device in case it drops into a u-boot shell
      hash: 1f7ead33c284f4dc8e2a3d78b2a922a9b778e05c
      body: |
        We'd like to enable some options in all boards header files via
        meta-balena. This patch adds a task to include config_resin.h into
        config_default.h (which is included in all board header files).
        We can then add a config option via meta-balena that will be enabled for
        all devices.

        This patch enables CONFIG_RESET_TO_RETRY. If for whatever strange reason
        (accidental fs issue in u-boot etc), this will trigger a u-boot reset
        command the device in 15 seconds.

        Note This requires that the device's u-boot supports the reset command
        which it probably should.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Production Devices using u-boot. Enable CONFIG_RESET_TO_RETRY to reset
          a device in case it drops into a u-boot shell
        changelog-entry: >-
          Production Devices using u-boot. Enable CONFIG_RESET_TO_RETRY to reset
          a device in case it drops into a u-boot shell
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Remove confusing networkmanager https connectivity warning
      hash: fbdf643988e4aea76507139b2fc59ef7ad0132af
      body: |
        Fixes #1597

        The warning doesn't apply for our use case and confuses customers
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Remove confusing networkmanager https connectivity warning
        changelog-entry: Remove confusing networkmanager https connectivity warning
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Increase fs.inotify.max_user_instances to 512
      hash: a4f6c8591af9793935a9981a0f0c25fb7b957312
      body: |
        This defaults to 128. BoB hit the limit. Increase to 512
        Fixes #1592
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Increase fs.inotify.max_user_instances to 512
        changelog-entry: Increase fs.inotify.max_user_instances to 512
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v10.0.3
      hash: ad9bdc7236600eb4399761643b772eadd95df662
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v10.0.3
        changelog-entry: Update balena-supervisor to v10.0.3
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Fix balena hello-world healthcheck
      hash: e0826741f9a829f2af34afbc9bc1f9920f8ae4e6
      body: |
        We load the hello-world image after starting the balena daemon.
        ExecStartPost should run after the daemon is initialized but chaining a
        15 second sleep for good measure.

        We load the hello-world image here so that devices out in the field and
        on prem devices don't need to pull from dockerhub which would require
        external internet connectivity.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix balena hello-world healthcheck
        changelog-entry: Fix balena hello-world healthcheck
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add nf_table kernel modules
      hash: 9bca94f29b29098c7177231ee3a9251f1d48dd32
      body: |
        Fixes #1589
        Also, debian buster defaults to requiring nf_tables
        rootfs size impact ~+310K
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add nf_table kernel modules
        changelog-entry: Add nf_table kernel modules
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'hostapp-update-hooks: Use correct source for inactive sysroot'
      hash: f13c837cdc9b1a106ea711785178fc397035ada7
      body: |
        Use ext4 FSTYPE to filter out automount with SOURCE
        "systemd-1" when determining the new parition label
        in the grub update hook.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: >-
        Add extra healthcheck to balena service. It will spin up a hello-world
        container as well
      hash: 15169084fe9355e6be997712a614e383a71555c9
      body: |
        Occasionally balena ps and balena info work but the balena daemon is
        unable to start a new container. This is usually when something in runc
        or containerd is not functioning correctly.

        Add a healthcheck to spin up a simple hello-world container as well.

        The trade-off here is that there will be a few extra writes to disk
        every healthcheck timeout. But there will be a benefit that if runc
        or containerd is in a bad state, the healthcheck will fail and systemd
        will restart the balena daemon to recover the application container

        Fixes #1391
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Add extra healthcheck to balena service. It will spin up a hello-world
          container as well
        changelog-entry: >-
          Add extra healthcheck to balena service. It will spin up a hello-world
          container as well
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v9.18.8
      hash: 41af8ba6ef5b234b819aa0181b7e14e476f68c43
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v9.18.8
        changelog-entry: Update balena-supervisor to v9.18.8
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: 'image-resin.bbclass: fixed a typo'
      hash: 64a4fc9a7cff18a6dced9f352317761ced7dc563
      body: |
        Fixing a typo in the image size sanity check to ensure the
        correct calculation of FAT overhead sectors.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kylemharding@gmail.com>
        signed-off-by: Kyle Harding <kylemharding@gmail.com>
      author: Kyle Harding
    - subject: 'kernel-resin: Add support for CH340 family of usb-serial adapters'
      hash: 941aef5490cf4a120f74cb243c3fbbd8911bcc49
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: 'kernel-resin: Add support for CH340 family of usb-serial adapters'
        changelog-entry: 'kernel-resin: Add support for CH340 family of usb-serial adapters'
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
    - subject: 'resin-proxy-config: add missing reserved ip ranges to default noproxy'
      hash: 49ed2ea12d495defe033be6f2a9e155ff2fc7875
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: Reduce data partition size from 1G to 192M
      hash: 2270940edfd32a4dd3a3670aa1fb62eb2557f706
      body: |
        The data partition contains the supervisor which is only about 61M on
        the pi3. We compress the data partition later on so don't notice these
        zeros. But lets reduce the size of the data partition to eat less
        space whenever an uncompressed image is used anywhere. e.g. when
        extracting the zip to dd or using balena-migrate etc.

        The partition expands on first boot to fill the rest of the disk
        anyways.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Reduce data partition size from 1G to 192M
        changelog-entry: Reduce data partition size from 1G to 192M
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.39.0
  date: 2019-07-31T10:56:32.370Z
- commits:
    - subject: 'resin-proxy-config: fix up incorrect bash subshell command'
      hash: 0c8de756c22f635b2ef499848b724f1350f555b0
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
  version: 2.38.3
  date: 2019-07-10T08:16:25.713Z
- commits:
    - subject: >-
        Update to kernel-modules-headers v0.0.20 to fix missing target modpost
        binary on kernel 5.0.3
      hash: 13bea65dd8201e91b65121ffc2d7bce5d41eedab
      body: |
        This version fixes the missing target modpost binary
        on kernel version 5.0.3.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Update to kernel-modules-headers v0.0.20 to fix missing target modpost
          binary on kernel 5.0.3
        changelog-entry: >-
          Update to kernel-modules-headers v0.0.20 to fix missing target modpost
          binary on kernel 5.0.3
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: >-
        Update to kernel-modules-headers v0.0.19 to fix target objtool compile
        issue on kernel 5.0.3
      hash: 10846e50674185b7c3126e45ad42f3927c822415
      body: |
        This version fixes the use of wrong fixdep binary (the bug makes it use
        target fixdep binary instead of cross fixdep binary) used for compiling
        the target objtool binary on kernel version 5.0.3.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Update to kernel-modules-headers v0.0.19 to fix target objtool compile
          issue on kernel 5.0.3
        changelog-entry: >-
          Update to kernel-modules-headers v0.0.19 to fix target objtool compile
          issue on kernel 5.0.3
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.38.2
  date: 2019-06-27T12:37:01.764Z
- commits:
    - subject: Add warrior to compatible layers for meta-balena-common
      hash: 0ba0bc35ceeb78e03baebf79b738885d532734fc
      body: |
        In addition we delete krogoth and morty from the supported list
        as we also removed the actual layers from the repository.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add warrior to compatible layers for meta-balena-common
        changelog-entry: Add warrior to compatible layers for meta-balena-common
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Fix image-resin.bbclass to be able to use deprecated layers
      hash: 9e8fed3a7170040d4ba887bfd8fc018b97de5d12
      body: |
        Fixes #1564

        This bbclass uses the common layer path advertised by BBLAYERS to find
        the paths to different resources in board repository. For example
        machine json - to get the slug and advertise it in os-release. After
        renaming the common layer (resin to balena) and because we support old
        references to the old common layer name (by including a dummy
        deprecation layer), we need to make sure this class can cope now with
        both cases.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix image-resin.bbclass to be able to use deprecated layers
        changelog-entry: Fix image-resin.bbclass to be able to use deprecated layers
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix kernel-devsrc on thud when kernel version < 4.10
      hash: c4cd6307ac3ae86a8d34b91d9dc82b6d3310db9b
      body: >
        Thud breaks when building against kernel version < 4.10. This is a known

        issue which is fixed in poky warrior[1]. This patch includes a

        workaround for thud.


        [1]
        http://lists.openembedded.org/pipermail/openembedded-core/2019-February/278695.html
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix kernel-devsrc on thud when kernel version < 4.10
        changelog-entry: Fix kernel-devsrc on thud when kernel version < 4.10
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.38.1
  date: 2019-06-20T12:30:28.452Z
- commits:
    - subject: Fix VERSION_ID os-release to be semver complient
      hash: fecb50757c10e392d46dec6fd24360f778a87a43
      body: |
        Poky, following os-release(5), sanitizes VERSION_ID accordingly but in
        doing so it produces a nonisemver compliant version. For example:

            VERSION="2.37.0+rev1"
            VERSION_ID="2.37.0-rev1"

        This patch reverts that to make sure rev is a build tag.

        Fixes #1560
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix VERSION_ID os-release to be semver complient
        changelog-entry: Fix VERSION_ID os-release to be semver complient
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Introduce META_BALENA_VERSION in os-release
      hash: b0e0c77a26f3fad51e2923ab416fdd2af2a5a033
      body: >
        Since #1550, os-release doesn't reference meta-balena distro version
        anymore. Restore

        that by providing this information in a new variable called
        META_BALENA_VERSION.


        Fixes #1558
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Introduce META_BALENA_VERSION in os-release
        changelog-entry: Introduce META_BALENA_VERSION in os-release
      author: Andrei Gherzan
    - subject: >-
        Fix a case where changes to u-boot were not regenerating the config file
        at build time and using stale values.
      hash: b40271867c3249566775cfb870a6176bc47d503f
      body: |
        Currently once config_resin.h is generated, a change in these variables
        doesn't regenerate the file. Add vardeps so that bitbake can regenerate
        config_resin.h in case these variables are changed.

        Fixes #1530
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Fix a case where changes to u-boot were not regenerating the config
          file at build time and using stale values.
        changelog-entry: >-
          Fix a case where changes to u-boot were not regenerating the config
          file at build time and using stale values.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Use all.rp_filter=2 as the default value in balenaOS
      hash: 2fe90f3316a9394db0a060ec976d23fa97d4f00a
      body: >
        This change backports a PR[1] that is already in systemd and will come

        included by default from the version in Yocto warrior.


        In summary, with this change we fix newer NM which stopped handling

        rp_filter when connected to multiple interfaces. See "device: disable

        rp_filter handling" commit from NM. Without this change, only the

        default route will me usable and binding to a specific interface will

        break connectivity if that interface is not also the default route for

        the target IP.


        [1]https://github.com/systemd/systemd/pull/10971/commits/6caa14f763c11630f28d587b3caa5f0e6dc96165
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Use all.rp_filter=2 as the default value in balenaOS
        changelog-entry: Use all.rp_filter=2 as the default value in balenaOS
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Persist bluetooth storage data over reboots
      hash: 3815e42f24167c0ce84a39cf0653434bacb0bd88
      body: |
        Currently, bluez's storage data is set to /var/lib/bluetooth which
        in turn is a tmpfs location. We want this location persistent so we can
        save paired devices over reboot. We do that by adding the corresponding
        bind mount to the state partition and setting bluez to depend on this
        mount unit.

        Fixes #1544
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Persist bluetooth storage data over reboots
        changelog-entry: Persist bluetooth storage data over reboots
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Drop support for morty and krogoth Yocto versions
      hash: 85c1eda1eeade2e5d5a1153d9c737225de0b3ee2
      body: |
        We have been deprecating these layers since v2.30.0. It's time to drop
        this support completely.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Drop support for morty and krogoth Yocto versions
        changelog-entry: Drop support for morty and krogoth Yocto versions
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Add Yocto Warrior support
      hash: b86ee8945ba71ccdae9d7d0d52b2822db39d4c6a
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add Yocto Warrior support
        changelog-entry: Add Yocto Warrior support
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Set both VERSION_ID and VERSION in os-release to host OS version
      hash: 40347f618b3b70ccc5f40e924990197ae9fa7e6b
      body: >
        VERSION and VERSION_ID had a slightly different semantics in balenaOS.

        VERSION was referring to the BalenaOS (host OS) version (which is coming
        from

        device repositories) while VERSION_ID was set to the DISTRO_VERSION.

        This brings confusion so we change it to adhere to

        https://www.freedesktop.org/software/systemd/man/os-release.html.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Set both VERSION_ID and VERSION in os-release to host OS version
        changelog-entry: Set both VERSION_ID and VERSION in os-release to host OS version
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Bump balena-engine to 18.9.6
      hash: 3af08fe6d30b5f0f8148c6820cda1cca3076bf00
      body: |
        In preparation for warrior. Bumps containerd which works with the newer
        systemd in warrior.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Bump balena-engine to 18.9.6
        changelog-entry: Bump balena-engine to 18.9.6
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Downgrade balena-supervisor to v9.15.7
      hash: c3616e19967e30726048018161fd4763d3d45773
      body: |
        This is done because a feature (RESIN_SUPERVISOR_MIXPANEL_REPORT) needs
        more work before releasing in production.
      footer:
        Changelog-entry: Downgrade balena-supervisor to v9.15.7
        changelog-entry: Downgrade balena-supervisor to v9.15.7
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Switch from dropbear to openSSH
      hash: ef33f21cdb7283c6f62590b1fe3d37c7fbd4df99
      body: |
        This is done for the "AuthorizedKeysCommand" in openSSH which in turn is
        used by the balena backend.

        Fixes #1388
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Switch from dropbear to openSSH
        changelog-entry: Switch from dropbear to openSSH
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Rename meta-resin-common to meta-balena-common
      hash: db96dfc3864399a5029fa8e78bc7fe518f3ae63a
      body: |
        Follow the resin to balena rename on the common yocto layer.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Rename meta-resin-common to meta-balena-common
        changelog-entry: Rename meta-resin-common to meta-balena-common
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Add wifi firmware for rtl8192su
      hash: 875bd033eb400b6338c7c70417fcd78586a184cf
      body: |
        Fixes #1511
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add wifi firmware for rtl8192su
        changelog-entry: Add wifi firmware for rtl8192su
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.38.0
  date: 2019-06-14T15:11:59.348Z
- commits:
    - subject: Update balena-supervisor to v9.15.8
      hash: 4fcdf63860d17612ef10ff9c721b9f58c8b8c023
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v9.15.8
        changelog-entry: Update balena-supervisor to v9.15.8
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: 'kernel-modules-headers: Update to v0.0.18'
      hash: 9c1fb61a96351c112b98544117b90c4986445516
      body: |
        This update includes an arch64 fix (module.lds) and one for passing the
        correct LD flags.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'os-config: Update to v1.1.1 to fix mDNS'
      hash: 8d44decba7a252bfb4399622898d18e28367c4fa
      body: |
        os-config has a dependency on reqwest which broke mdns on 9.6. The new
        os-config updated this version to one that restored this functionality.

        Partially fixes: #1531
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix busybox nslookup mdns lookups
      hash: 157a06ad295a1f03635f8291dfc4dfe3358caa9c
      body: |
        Since 1.29, busybox switched to an internal implementation of the
        resolver based on a feature config, NSLOOKUP_BIG. This is enabled by
        default and it's meant to be musl compatible. In BalenaOS we use glibc
        and we rely on it for being able to resolve names using NSS modules
        (libmdns).
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix busybox nslookup mdns lookups
        changelog-entry: Fix busybox nslookup mdns lookups
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-supervisor to v9.15.4
      hash: a6e1c40853e4bad20de9172f688eb074f8d24b86
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v9.15.4
        changelog-entry: Update balena-supervisor to v9.15.4
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Improve logging and version comparison in linux-firmware cleanup class
      hash: 6500c7f020133833b820f9152c22b8e45794542c
      body: |
        This adds an easier to debug logging that shows both removed and kept
        firmwares. For example:

         Cleaning iwlwifi firmware version 8000C to minimum API version 34.
           Removing iwlwifi-8000C-13.ucode.
           Removing iwlwifi-8000C-22.ucode.
           Removing iwlwifi-8000C-21.ucode.
           Removing iwlwifi-8000C-31.ucode.
           Removing iwlwifi-8000C-16.ucode.
           Removing iwlwifi-8000C-27.ucode.
           Leaving iwlwifi-8000C-34.ucode in place.
           Leaving iwlwifi-8000C-36.ucode in place.

        Also, this commit improves the version comparison which was comparing
        strings and not integers. Now we try integer comparison and fallback to
        string when parse fails.

        Finally, the task's vardeps expands varflags to correctly retrigger on
        change.

        Fixes #1527
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Improve logging and version comparison in linux-firmware cleanup class
        changelog-entry: Improve logging and version comparison in linux-firmware cleanup class
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Sync ModemManager recipe with upstream
      hash: e0be8f152c88a5635b5d18249c5f882caf9e31c5
      body: >
        We also pushed the latest update we did in BalenaOS to upstream:

        http://lists.openembedded.org/pipermail/openembedded-devel/2019-May/199743.html
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Sync ModemManager recipe with upstream
        changelog-entry: Sync ModemManager recipe with upstream
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update NetworkManager to 1.18.0
      hash: 808f6f1790357b4f282a15cbb72c603ee77f63d3
      body: >
        Fixes #1492


        Pushed to upstream as well:

        http://lists.openembedded.org/pipermail/openembedded-devel/2019-May/199742.html
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update NetworkManager to 1.18.0
        changelog-entry: Update NetworkManager to 1.18.0
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.37.0
  date: 2019-05-29T14:57:13.320Z
- commits:
    - subject: Cleanup old versions of iwlwifi firmware files in Yocto Thud
      hash: 65122b0689d75d49b338595ec6813b1acad59223
      body: |
        This is done so we can save considerable amount of space on the root
        partition.

        See #810
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto Thud
        changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto Thud
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.36.0
  date: 2019-05-20T13:07:11.168Z
- commits:
    - subject: Update kernel-module-headers to version v0.0.16
      hash: 410311755dec70ba4040fcfbcb5ace59884b4644
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update kernel-module-headers to version v0.0.16
        changelog-entry: Update kernel-module-headers to version v0.0.16
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Add uboot support for unified kernel cmdline arguments
      hash: 35046288e2878f85e4bc33a0cb993e32d4d5aa9a
      body: |
        This adds set_os_cmdline which defines os_cmdline so that BSPs can
        import it in their bootargs and pass it to kernel accordingly. Also, as
        part of os_cmdline, there is an argument added when the booted image is
        a flasher. This can be used in the OS for various flasher specific
        checks.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add uboot support for unified kernel cmdline arguments
        changelog-entry: Add uboot support for unified kernel cmdline arguments
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Switch flasher detection in initramfs to flasher boot parameter
      hash: 93e3c7286c52c6f91bf4252338955f6d7fd97fc2
      body: |
        Fixes #1488
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Switch flasher detection in initramfs to flasher boot parameter
        changelog-entry: Switch flasher detection in initramfs to flasher boot parameter
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-supervisor to v9.15.0
      hash: b99419662683f44c09f4369424f450b90f9d0a5a
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v9.15.0
        changelog-entry: Update balena-supervisor to v9.15.0
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Improve boot speed by only mounting the inactive partition when needed
      hash: 28fc12ef94bc8e9a083bc5b1e8052fdb685453c2
      body: |
        The inactive partition is only needed for HUP or rollbacks. This commit
        changes the mnt-sysroot-inactive.service unit to an automount so that
        the partition is only mounted when used. This improves boot time.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Improve boot speed by only mounting the inactive partition when needed
        changelog-entry: Improve boot speed by only mounting the inactive partition when needed
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix openssl dependency of balena-unique-key
      hash: 2159c397b0560d03441806573e14bfbcf52a7e7b
      body: |
        Since yocto thud, and more specifically since poky switched to
        openssl 1.1 line, the openssl binary is provided by 'openssl-bin'. On
        that version, 'openssl' doesn't provide this binary making the uuid
        generation script fail.

        This patch makes 'openssl-bin' the default dependency but does that in a
        way that older yocto versions can overwrite it back to the old provider
        (openssl package).
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix openssl dependency of balena-unique-key
        changelog-entry: Fix openssl dependency of balena-unique-key
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Do not spawn getty in production images
      hash: 93b3298cbb343f3ebf3a03725f6f0298974bed8f
      body: |
        This code was deleted by commit
        9a8f1f1b744248964d4d1b2eb2c8dd732a753980 by mistake so let's
        add it back.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Do not spawn getty in production images
        changelog-entry: Do not spawn getty in production images
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.35.0
  date: 2019-05-18T22:39:09.735Z
- commits:
    - subject: Update balena-supervisor to v9.14.10
      hash: 70b9acb15806f0a276f80ab18e9f7ad4aa02d83b
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v9.14.10
        changelog-entry: Update balena-supervisor to v9.14.10
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
  version: 2.34.1
  date: 2019-05-14T10:20:59.175Z
- commits:
    - subject: >-
        Add support to update a connectivity section in NetworkManager via
        config.json
      hash: 2585af4a34abcd6ced3dcd0c70913ef1cdfe019d
      body: |
        We'd like connectivity checking so that Network Manager can update
        route metrics for devices that have multiple network interfaces.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Add support to update a connectivity section in NetworkManager via
          config.json
        changelog-entry: >-
          Add support to update a connectivity section in NetworkManager via
          config.json
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'systemd: Fix journald configuration file'
      hash: b1cc7829758969112aae599ea0b986624596b8c6
      body: |
        9a8f1f1b744248964d4d1b2eb2c8dd732a753980 switched to a config file
        fragment but when doing so the section was missed. This patch fixes
        that.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: >-
        Add --max-download-attempts=10 to balenaEngine service to improve
        performance on shaky networks
      hash: c699d5c13cea6a525c9d6a54152c781bd3885ecc
      body: |
        This should improve performance on flaky connections.

        Fixes #1493
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Add --max-download-attempts=10 to balenaEngine service to improve
          performance on shaky networks
        changelog-entry: >-
          Add --max-download-attempts=10 to balenaEngine service to improve
          performance on shaky networks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-engine to 18.09.5
      hash: 0894326a372e14056fede8c7acda67fa83e39284
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-engine to 18.09.5
        changelog-entry: Update balena-engine to 18.09.5
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Log initramfs messages to kernel dmesg to capture fsck, partition expand
        etc. command output
      hash: 580a6fb37f5c077d3c80957db02d7cfd3376fdc5
      body: |
        We run some operations in the initramfs. fsck, expand partitions etc.
        Any error messages or warnings printed here are invisible in production
        images. This line from debian initramfs-tools configures the initramfs
        shell to log all output in /dev/kmsg so the dmesg shows the output of
        initramfs commands as well.
        Fixes #1459
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Log initramfs messages to kernel dmesg to capture fsck, partition
          expand etc. command output
        changelog-entry: >-
          Log initramfs messages to kernel dmesg to capture fsck, partition
          expand etc. command output
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'kernel-resin: Add FAT fs specific configs to RESIN_CONFIGS'
      hash: a09550d9633eaba9b55ce2c98d9a43a5b52dfe6f
      body: |
        Add FAT fs specific configs, necessary to mount the
        boot partition
      footer:
        Change-type: minor
        change-type: minor
        Changlog-entry: Add FAT fs specific configs to RESIN_CONFIGS
        changlog-entry: Add FAT fs specific configs to RESIN_CONFIGS
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
    - subject: Update balena-supervisor to v9.14.9
      hash: 167164b41957981b67c90dd78a19073a2b231878
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v9.14.9
        changelog-entry: Update balena-supervisor to v9.14.9
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Introduce meta-balena yocto thud support
      hash: b2fea323b337bd6868f3f41b70f8bdb688b11bb8
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Introduce meta-balena yocto thud support
        changelog-entry: Introduce meta-balena yocto thud support
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update os-config to 1.1.0
      hash: 0ff476e2724525b96e3d72fc00d22423af2d6cb4
      body: |
        This version includes rust 1.33 support which we use in balenaOS.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update os-config to 1.1.0
        changelog-entry: Update os-config to 1.1.0
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.34.0
  date: 2019-05-10T10:24:10.994Z
- commits:
    - subject: Fixes for sysroot symlinks creation
      hash: b7a6412e6368d3d562ff1ca2fb06be92a24a8548
      body: |
        When we set the udev rule we use IMPORT{program} to know what symlinks
        to create in the sysroot directory. The problem is that we don't use
        absolute paths and from the documentation udev uses /usr/lib/udev as the
        default path while we install the invoked script in /lib/udev.

        ```
          Execute an external program specified as the assigned value. If no
          absolute path is given, the program is expected to live in
          /usr/lib/udev; otherwise, the absolute path must be specified.
        ```

        This PR changes the udev rule to use an absolute path for the
        resin_update_state_probe script. Also it fixes some typos in the script
        itself.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fixes for sysroot symlinks creation
        changelog-entry: Fixes for sysroot symlinks creation
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'libmbim: Refresh patches after last update to avoid build warnings'
      hash: 3b3bfcd8c74070797b55ab2a6e7079cc320581a6
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'modemmanager: Refresh patches after last update to avoid build warnings'
      hash: 83ccf2a4a131b8a116ab90e6272734ac67d73781
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Make security flags inclusion yocto version specific
      hash: 9571c572e4abcd1ea5951fa408b1543bc40db8c9
      body: >
        Since thud, poky distro file on which balena OS is based, already

        includes security_flags.inc. Because of this change, this version throws

        a build warning similar to:


        WARNING Duplicate inclusion for
        /build/../layers/poky/meta/conf/distro/include/security_flags.inc

        in
        /build/../layers/meta-resin/meta-balena-thud/conf/distro/include/balena-os-yocto-version.inc


        This happens because again, we import `poky` and `security_flags` but

        since thud, poky includes security_flags by default. In order to avoid

        this warning we import it (security_flags) now using an .inc file at the

        level of the yocto version meta-balena layer. There is as well a small

        additional wrinkle here. We switch the include statement from `require`

        to `include` so new layers (like thud) don't have to carry this hack in

        the future.


        This commit prepares meta-balena for thud support.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Make security flags inclusion yocto version specific
        changelog-entry: Make security flags inclusion yocto version specific
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'systemd: Make directory warning patch yocto version specific'
      hash: 7bedeb98520b6b1bc995b4484f6b61d347a0befe
      body: |
        We used to have this patch applied for all the supported yocto versions.
        Since thud, this patch is included by default so this change backports
        it on all the rest of the supported mate-balena yocto version specific
        layers.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Replace wireless tools by iw
      hash: 81839342bebec4ca915f091607bb3977dc02d675
      body: |
        From yocto thud, wireless-tools recipe was removed and the iw can be
        used as a replacement. We switch as well in preparation for thud
        support.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Replace wireless tools by iw
        changelog-entry: Replace wireless tools by iw
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'systemd: Use a conf.d file for journald configuration'
      hash: 9a8f1f1b744248964d4d1b2eb2c8dd732a753980
      body: |
        Since yocto thud systemd main configuration files are part of another
        recipe - systemd-conf. See poky commit:
        28c2f0dfe3ae06d87772b2a88fcace5a03e09143

        This commit prepares meta-balena for thud support.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Set go verison to 1.10.8 to match balena-engine requirements
      hash: 1f92a80e4a768bdff4646ccd31cc5c815a114be6
      body: |
        The reason for including this version is that balena-engine requires
        newer go compiler and also we want to unify it across our supported
        yocto versions to avoid eventual possible runtime issues.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Set go verison to 1.10.8 to match balena-engine requirements
        changelog-entry: Set go verison to 1.10.8 to match balena-engine requirements
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-engine to 18.09.3
      hash: 53ce14708251cda410f2e870b6ec9342e7e4e1e4
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        CHangelog-entry: Update balena-engine to 18.09.3
        changelog-entry: Update balena-engine to 18.09.3
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-supervisor to v9.14.6
      hash: 0ec51a88d9389b9f71a4bb4b2e33fda9464cde8c
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v9.14.6
        changelog-entry: Update balena-supervisor to v9.14.6
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: 'resin-u-boot: make devtool-compatible'
      hash: fb727b680fbfad8db39c2b491e49f1568c111436
      body: >
        devtool moves the files from the WORKDIR into ${S}/oe-local-files which
        makes

        copying of env_resin.h fail if the u-boot source is being modified using

        devtool. Since devtool also alters FILESPATH to include said
        oe-local-files

        directory, we can iterate over those paths instead of relying on
        WORKDIR.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Sven Schwermer <sven.schwermer@disruptive-technologies.com>
        signed-off-by: Sven Schwermer <sven.schwermer@disruptive-technologies.com>
      author: Sven Schwermer
    - subject: 'docker-disk: Disable unnecessary docker pid check'
      hash: d7583f3373de1188240e65a8e30def281657e0d0
      body: |
        By checking for a pid you are prevented from building Balena inside
        of a privileged container with a bind mount on /var/run/docker.sock

        The "Test docker execute permission" stanza is adequate for testing
        if docker is operational.
      footer:
        Change-type: minor
        change-type: minor
        Changlog-entry: Disable unnecessary docker pid check
        changlog-entry: Disable unnecessary docker pid check
        Signed-off-by: Armin Schlegel <armin.schlegel@gmx.de>
        signed-off-by: Armin Schlegel <armin.schlegel@gmx.de>
      author: Armin Schlegel
    - subject: Update libmbim to version 1.18.0
      hash: 677159770b7cfa0eb0a6611094ea7673f67883d3
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libmbim to version 1.18.0
        changelog-entry: Update libmbim to version 1.18.0
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update libqmi to version 1.22.2
      hash: 8047b6b9ec42ef4aab9798e516e4ded54a62a252
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libqmi to version 1.22.2
        changelog-entry: Update libqmi to version 1.22.2
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update to ModemManager v1.10.0
      hash: 774b270a7f963740b4c209efc6c66085a7d7c906
      body: |
        Fixes #1457
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update to ModemManager v1.10.0
        changelog-entry: Update to ModemManager v1.10.0
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: >-
        Add a OS_KERNEL_CMDLINE parameter that allows BSPs to easily add extra
        kernel cmdline args to production images
      hash: 4b607b32495737f6f83f12e891188ab008b0de47
      body: |
        balenaOS comes in two flavours, production/development. production
        images have various options passed to the kernel cmdline.
        Currently some devices BSPs have those options passed and some dont.
        It'll be hard to keep the common options consistent.
        e.g. consoleblank=0 is passed for some devices and not for others.

        We'd like the extra options we pass to be in one place. All BSPs can
        then append this variable in their respective recipe/bootloader config
        etc.

        Fixes #1464
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Add a OS_KERNEL_CMDLINE parameter that allows BSPs to easily add extra
          kernel cmdline args to production images
        changelog-entry: >-
          Add a OS_KERNEL_CMDLINE parameter that allows BSPs to easily add extra
          kernel cmdline args to production images
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.33.0
  date: 2019-05-02T13:26:16.845Z
- commits:
    - subject: 'balena-supervisor: Update to v9.14.0'
      hash: 215ba6f6e03ac7a9575046ebdf054cd6091cd8f4
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: 'readme: Replace resin with balena where appropriate'
      hash: ab578aecc50d9f2e88e935251a5d9025ccd95069
      body: |
        To be more consistent in naming.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Roman Mazur <mazur.roman@gmail.com>
        signed-off-by: Roman Mazur <mazur.roman@gmail.com>
      author: Roman Mazur
    - subject: Add systemd-analyze to production images as well
      hash: ae99502356d994dee5896164afbe7df8bde00d6a
      body: |
        We'd like to track boot time in production images as well.
        As we currently have space in the OS, lets add it.

        Size increase 1.2Mb (pi3)
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add systemd-analyze to production images as well
        changelog-entry: Add systemd-analyze to production images as well
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Enable dbus interface for dnsmasq
      hash: 6886d08e1b37fa52055e743b05a68b069319dfd5
      body: |
        The dbus interface is useful for containers to qeury dnsmasq if needed.
        Fixes #1453
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Enable dbus interface for dnsmasq
        changelog-entry: Enable dbus interface for dnsmasq
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Disable docker bridge while pulling the supervisor container to remove
        runtime balena-engine warnings
      hash: 0764b2949784f5c34cf20f56b8a42c38f6d475c1
      body: |
        By default, the supervisor container is created with the default bridge
        network docker0. Which causes spurious warnings in balenaOS.

        Disable the bridge network during build as we don't need it
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Disable docker bridge while pulling the supervisor container to remove
          runtime balena-engine warnings
        changelog-entry: >-
          Disable docker bridge while pulling the supervisor container to remove
          runtime balena-engine warnings
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix typo in os-networkmanager that prevented it from working
      hash: d649dd317d9ca0a9c1aa4abcb5cf0c0ae8798f95
      body: |
        The device section in networkmanager.conf is [device] not [Device].
        Fix the typo
        Fixes #1448
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix typo in os-networkmanager that prevented it from working
        changelog-entry: Fix typo in os-networkmanager that prevented it from working
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Fix bug where fsck was run on the data partition on every boot even if
        it wasn't needed due to old system time.
      hash: aa0d2154eb8aeee220807211317eafe153f46378
      body: |
        e2fsck by default checks differences between the system time and the
        last filesystem mount timestamp.

        As we run on devices without an rtc, and we run the filesystem-expand
        service which runs fsck before ntp sync happens, this results in errors
        like

        Superblock last mount time (Thu Mar 14 17:13:02 2019,
              now = Mon Mar 11 15:29:56 2019) is in the future.
        Fix? yes

        This results in fsck running on the data partition on every boot which
        slows down the boot time.

        Add e2fsck.conf file with the broken_system_clock flag to prevent this
        check from running fsck on every boot. Quite a few distros do this as
        well.
        Fixes #1438
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Fix bug where fsck was run on the data partition on every boot even if
          it wasn't needed due to old system time.
        changelog-entry: >-
          Fix bug where fsck was run on the data partition on every boot even if
          it wasn't needed due to old system time.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix the balena version string reported by balena-engine info
      hash: 19c7a0e368ea4ff3d0ac525a7743bc9ee00257e7
      body: |
        The version is 17.13.3. We'll need to bump the version string as well
        now that versionbot is being used in the balena-engine repo.
        Fixes 1433
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix the balena version string reported by balena-engine info
        changelog-entry: Fix the balena version string reported by balena-engine info
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Only check mmc devices for flasher image presence by default.
      hash: 5da7792e8c85f49fed15488ca983c1252f120d8b
      body: |
        Currently mmc and usb devices are checked at every boot for the presence
        of flasher images. USB initialization is slow 1-3 seconds. This slows
        boot time significantly.

        Most device types dont need to check for the presence of flasher images
        in usb devies. Modify u-boot to only check for mmc devices.

        usb initialization happens in devices via the "usb start" command. This
        is usually configured in CONFIG_PREBOOT for devices. Devices will need
        to remove "usb start" from CONFIG_PREBOOT to benefit from any boot time
        optimization.

        We will need to run "usb start" ourselves via env_resin for any device
        that happens to be searching for flasher images in usb device types.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Only check mmc devices for flasher image presence by default.
        changelog-entry: Only check mmc devices for flasher image presence by default.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Remove an extra redundant copy of udev rules database
      hash: 2e5a48350f359d516b4cf395d46c453434d53422
      body: |
        These files are used to generate /etc/udev/hwdb.bin at build time.
        "During runtime, only the binary database is used." from
        https://www.freedesktop.org/software/systemd/man/hwdb.html

        Remove these files from the final os image to save us 5.9Mb.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Remove an extra redundant copy of udev rules database
        changelog-entry: Remove an extra redundant copy of udev rules database
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Un-upx mobynit and os-config to speed them up a bit. Approx 1 second
        boost to boot time.
      hash: d1e710fd78ddbcc2142d10d1bade43b54a99dee7
      body: |
        We have space in the OS now. Avoid compressing os-config to speed it
        up a bit.

        Example compression levels for pi0

        root@62d0b9a:/mnt/data# du -hs os-config*
        2.6M    os-config
        700K    os-config_upxed
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Un-upx mobynit and os-config to speed them up a bit. Approx 1 second
          boost to boot time.
        changelog-entry: >-
          Un-upx mobynit and os-config to speed them up a bit. Approx 1 second
          boost to boot time.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.32.0
  date: 2019-04-08T17:06:17.364Z
- commits:
    - subject: Update resin-supervisor to v9.11.3
      hash: 7ad04ea5594fc1cf5f378b9cab3c75b2ee6f0e6e
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update resin-supervisor to v9.11.3
        changelog-entry: Update resin-supervisor to v9.11.3
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.31.5
  date: 2019-03-21T14:43:57.016Z
- commits:
    - subject: 'resin-supervisor: Recreate on start if config has changed'
      hash: 20032211302d25300c09310e169cafa01375e35e
      body: >
        Fix the ordering of the conditional check when starting the supervisor
        container;

        only check that the values being passed into the environment match the
        ones held

        in the config IF the container already exists.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Rich Bayliss <rich@balena.io>
        signed-off-by: Rich Bayliss <rich@balena.io>
      author: Rich Bayliss
  version: 2.31.4
  date: 2019-03-20T23:25:52.136Z
- commits:
    - subject: Update resin-supervisor to v9.11.2
      hash: abb864096b5b473893aa7011a685ed8df97a28ee
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update resin-supervisor to v9.11.2
        changelog-entry: Update resin-supervisor to v9.11.2
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
  version: 2.31.3
  date: 2019-03-20T20:18:02.522Z
- commits:
    - subject: Update resin-supervisor to v9.11.1
      hash: 0993710382367b865ce81113dbe5566e5814da10
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update resin-supervisor to v9.11.1
        changelog-entry: Update resin-supervisor to v9.11.1
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
  version: 2.31.2
  date: 2019-03-19T21:33:42.542Z
- commits:
    - subject: Update resin-supervisor to v9.11.0
      hash: 8b1380bce8a664ef228b054c2b065521acbb48aa
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update resin-supervisor to v9.11.0
        changelog-entry: Update resin-supervisor to v9.11.0
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
  version: 2.31.1
  date: 2019-03-18T19:21:24.218Z
- commits:
    - subject: 'README:md: Document dnsServers behaviour'
      hash: ad441b8367d65fe780beef35b20f8d4898bdd339
      body: |
        Taken from fa3de6987e3bc82ab6d85038c637f1871e5269cb commit message
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexis Svinartchouk <alexis@balena.io>
        signed-off-by: Alexis Svinartchouk <alexis@balena.io>
      author: Alexis Svinartchouk
    - subject: Update resin-supervisor to v9.9.0
      hash: 133dde58bde7c4d54ad157374bb3e7062a599e31
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v9.9.0
        changelog-entry: Update resin-supervisor to v9.9.0
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Cleanup old versions of iwlwifi firmware files in Yocto sumo
      hash: 5db4441e50b2d47cd7658845c12508b50808d5ee
      body: |
        This is done so we can save considerable amount of space on the root
        partition.

        See #810
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto sumo
        changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto sumo
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Remove polkit dependency in balenaOS
      hash: 4fddf1a54ac13ed4acd3f65096afccf6a5f7a5ef
      body: |
        Fixes #1404
        See #810
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Remove polkit dependency in balenaOS
        changelog-entry: Remove polkit dependency in balenaOS
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Remove support for XFS file system
      hash: bbf5675973da6adf8fa8f8b671606fbffaef834e
      body: |
        This is done so we can save space on the root file system.

        See #810
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Remove support for XFS file system
        changelog-entry: Remove support for XFS file system
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'resin-init: update resin.io reference to balenaOS'
      hash: 593fcb558b1afe3892560fdd7e0c315c9459466f
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
  version: 2.31.0
  date: 2019-03-08T14:31:27.986Z
- commits:
    - subject: 'resin-supervisor: Recreate on start if config has changed'
      hash: 3ce04f93b1894f86be5d838bcc24335aaa161233
      body: |
        When starting the supervisor container, check that the values being
        passed into the environment match the ones held in the config.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Rich Bayliss <rich@balena.io>
        signed-off-by: Rich Bayliss <rich@balena.io>
      author: Rich Bayliss
    - subject: >-
        Generate the temporary kernel-devsrc compressed archive in WORKDIR
        instead of B
      hash: ed5fe09c9dfb4f5dd07bae691b277b9d2f38f718
      body: |
        It is best to not create anything in ${B} even if just temporary because
        it alters the directory in ways which can break other parts of the build
        system. For example, if there is a leftover kernel_source.tar.gz in B,
        then the current kernel-devsrc will create a hardlink of this file in
        the kernel source tree and then the command:
        tar -czf ${B}/kernel_source.tar.gz -C "$kerneldir/../" .

        will fail like:
        tar: ./kernel/kernel_source.tar.gz: file changed as we read it
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Generate the temporary kernel-devsrc compressed archive in WORKDIR
          instead of B
        changelog-entry: >-
          Generate the temporary kernel-devsrc compressed archive in WORKDIR
          instead of B
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: 'balena-engine: Update to include fix for signal SIGRTMIN+3'
      hash: 0e19efb71526097cad4037336f7a410782189fa0
      body: |
        See https://github.com/opencontainers/runc/issues/1766.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Reduce sleeps while trying to mount partition to speed up boot
      hash: 73b69ae792330741603e0a4fc7878b2ec9ed0462
      body: |
        There is no need to wait 1 second if a label hasn't appeared. Other
        services depend on these partitions to be mounted. Reduce sleep to 0.1
        second.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Reduce sleeps while trying to mount partition to speed up boot
        changelog-entry: Reduce sleeps while trying to mount partition to speed up boot
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'resin-expand: Reduce sleep duration to speed up boot'
      hash: 6c69d676d36ed6a94ca094037515dd5ee4a5697a
      body: |
        There is no need to sleep for 1 second if a label isn't visible.
        Other services depend on the partitons mounted. Reduce sleep to 0.1
        second.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'initrdscripts: Reduce sleep to speed up boot'
      hash: 4a6cb8ae75e275de389dc3ef9dfbd52c3bdd72f1
      body: |
        There is no need to sleep for 1 second if the label hasn't been found.
        There is nothing else running on the device in the initramfs.
        Check every 0.05 seconds.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Make balena-host daemon socket activated to reduce baseline cpu/memory
        usage
      hash: 0d0cb22118e08d710640697561853a1227b64b92
      body: |
        Fixes #1405

        We'd like the balena-host daemon to be socket activated so that it does
        not consume any cpu/memory resource until used.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Make balena-host daemon socket activated to reduce baseline cpu/memory
          usage
        changelog-entry: >-
          Make balena-host daemon socket activated to reduce baseline cpu/memory
          usage
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update resin-supervisor to v9.8.6
      hash: 3124067996edded74e52cf9b87ec5dc9ee95c730
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v9.8.6
        changelog-entry: Update resin-supervisor to v9.8.6
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: >-
        Add support for aufs 4.18.11+, 4.19, 4.20 variants and update 4.14,
        4.14.56+, 4.15, 4.16, 4.17, 4.18
      hash: 9c8b60cf92aa7a25f424532956439b518ec96201
      body: |
        We add support for 4.18.11+, 4.19, 4.19.17+, 4.20, 4.20.4+.
        Also, update 4.14, 4.14.56+, 4.15, 4.16, 4.17, 4.18.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Add support for aufs 4.18.11+, 4.19, 4.20 variants and update 4.14,
          4.14.56+, 4.15, 4.16, 4.17, 4.18
        changelog-entry: >-
          Add support for aufs 4.18.11+, 4.19, 4.20 variants and update 4.14,
          4.14.56+, 4.15, 4.16, 4.17, 4.18
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: 'balena-engine: Bump to include runc patch'
      hash: f56f08136e9c855637ff28880fb593dba53d452b
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Improve kernel-module-headers for v4.18+ kernels
      hash: 0931b97b76ef2d04697468f027b53247803b51d4
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Improve kernel-module-headers for v4.18+ kernels
        changelog-entry: Improve kernel-module-headers for v4.18+ kernels
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v9.8.3
      hash: 76a72c58095d0d1b45a552f62b75bb5ec18813c6
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-supervisor to v9.8.3
        changelog-entry: Update balena-supervisor to v9.8.3
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: >-
        Ask chrony to quickly take measurements from custom NTP servers when
        they are added
      hash: 8cb1664a2650b1a60849efaf009b205e8e796816
      body: |
        By default, chrony will slowly and gracefully take measurements from
        the new ntp server. The burst 4/10 command will make chrony take 4 good
        measurements within 2 seconds each. It will try up to 10 times.
        Fixes #1385
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Ask chrony to quickly take measurements from custom NTP servers when
          they are added
        changelog-entry: >-
          Ask chrony to quickly take measurements from custom NTP servers when
          they are added
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Disable in-tree rtl8192cu driver
      hash: 95a5c13ee40cc958b142b00e19a4349d66a8b808
      body: |
        We will only have the out of tree module which allegedly
        is more stable:
        https://github.com/raspberrypi/linux/issues/1866

        The configs for disabling it were added but apparently
        they were never applied.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Disable in-tree rtl8192cu driver
        changelog-entry: Disable in-tree rtl8192cu driver
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Prevent rollbacks from running if the previous OS is before v2.30.0
      hash: fee00ba8b841d3e8634960c37c3e96c994c18567
      body: |
        v2.30.0 is a more mature version for rollbacks. Prevent rollbacks
        from running on OS
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Prevent rollbacks from running if the previous OS is before v2.30.0
        changelog-entry: Prevent rollbacks from running if the previous OS is before v2.30.0
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Change rollbacks to accept hex partition numbers for jetsons
      hash: 11b540777b76163493564407c9bdd7be98215f02
      body: |
        The partition numbers are hex and not integers. This is obvious when
        using the jetson family of devices as their partition numbering starts
        at 0xc.

        - Change integer comparisons to string comparisons.
        - Convert current_part_idx to hex for a valid string comparison
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Change rollbacks to accept hex partition numbers for jetsons
        changelog-entry: Change rollbacks to accept hex partition numbers for jetsons
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Convert partition numbers to hex in u-boot hook. Shouldn't affect any
        device.
      hash: 6c646e5c275f881c255e49d206a15d6fbbba3276
      body: |
        From u-boot docs:
        "Almost all U-Boot commands expect numbers to be entered in hexadecimal
        input format"

        We only hit this in the jetson family as the boot partition there is
        0xc. Add a simple conversion to hex. This should not affect any devices
        that use <9 partition numbers. And allow us to use the same hook
        from meta-balena accross all devices. Currently the jetson family has
        its own custom hook with this one-liner.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Convert partition numbers to hex in u-boot hook. Shouldn't affect any
          device.
        changelog-entry: >-
          Convert partition numbers to hex in u-boot hook. Shouldn't affect any
          device.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Reduce default reboot/poweroff timeouts from 30 minutes to 10 minutes
      hash: 59c923777e6145288df5b6e77ca33a21323b68e3
      body: >
        The default timeout for poweroff/reboot targets is 30 minutes. That is

        too long. Reduce it to 10 minutes.


        We might start hitting this when the supervisor starts rebooting devices

        more gracefully after
        https://github.com/balena-io/balena-supervisor/issues/861

        is resolved.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Reduce default reboot/poweroff timeouts from 30 minutes to 10 minutes
        changelog-entry: Reduce default reboot/poweroff timeouts from 30 minutes to 10 minutes
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Configure systemd tmpfiles to ignore supervisor tmp directories
      hash: ebb0a930c7c8f8ec348858009a0ff3fd0c58b70b
      body: |
        There are tmp directories supervisor assumes nobody touches in which
        things like update lock files are stored. This patch configures systemd
        tmpfiles to ignore these tmp paths.

        Fixes #1377
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Configure systemd tmpfiles to ignore supervisor tmp directories
        changelog-entry: Configure systemd tmpfiles to ignore supervisor tmp directories
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fixed "Can't have overlapping partitions." error in flasher
      hash: 299e2c7974c408a0a2ff762bc263f266c69d5a98
      body: |
        Fixed typo that caused flashing process to block
        on some corrupted eMMCs due to parted command failure.

        Flashing process hanged during boot with this log:
        - Error: Can't have overlapping partitions.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fixed "Can't have overlapping partitions." error in flasher
        changelog-entry: Fixed "Can't have overlapping partitions." error in flasher
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: Define default DNS servers behaviour with and without google DNS
      hash: fa3de6987e3bc82ab6d85038c637f1871e5269cb
      body: |
        This implements a default logic for `dnsServers` attribute in
        `config.json` as it follows:

        * when dnsServers is not defined, or empty, the default value of it will
        be considered google DNS (8.8.8.8)
        * when dnsServers is "null", the system will not alter dnsServers to the
        default server as stated above
        * when dnsServers is defined and not "null" it will be considered as
        such without any additional servers servers

        Fixes ##1348
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Define default DNS servers behaviour with and without google DNS
        changelog-entry: Define default DNS servers behaviour with and without google DNS
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-supervisor to v9.4.2
      hash: 4d66971c840b6142c7e22c5538b5c34356b9f880
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-supervisor to v9.4.2
        changelog-entry: Update balena-supervisor to v9.4.2
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Fix for some warnings
      hash: 1d92f8c3bcc21a7c0b21b12f65f1051616f04b78
      body: >
        From
        http://cgit.openembedded.org/openembedded-core/commit/meta/recipes-kernel/linux/kernel-devsrc.bb?h=thud&id=fd74848c3c06901a77057ca03f7c01aff08ee34a
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix for some warnings
        changelog-entry: Fix for some warnings
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix tini filename after balena-engine rename
      hash: 47980f05d3fa7c8a46b297431e0398b2da03e22e
      body: |
        Since balena-engine rename, the daemon is looking for
        `balena-engine-init` when running containers with `--init`. Fix the tini
        filename to comply with this.

        Fixes #1368
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix tini filename after balena-engine rename
        changelog-entry: Fix tini filename after balena-engine rename
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: >-
        Fix nm dispatcher hook when there are no custom ntp servers in
        config.json
      hash: 0b75ee48cee005d78e08d8c68722cc2374567123
      body: |
        If there are no custom ntp servers, the added_server_file doesn't exist
        Add a check and avoid running the script if the file does not exist

        Fixes #1362
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Fix nm dispatcher hook when there are no custom ntp servers in
          config.json
        changelog-entry: >-
          Fix nm dispatcher hook when there are no custom ntp servers in
          config.json
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Improve persistent logging systemd service dependencies
      hash: 0ce1d8576b7e33083784cb3123d2ad2c53091513
      body: |
        We need the state partition and boot partition ready before we try
        to run the persistent logging service.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Improve persistent logging systemd service dependencies
        changelog-entry: Improve persistent logging systemd service dependencies
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v9.3.0
      hash: dc5ed342a39c32d2efa00197e4ce7578e8de20f9
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-supervisor to v9.3.0
        changelog-entry: Update balena-supervisor to v9.3.0
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Use the new revision for balena source code
      hash: a52207c03253fcc0cc219a4e1a100b46ea44e226
      body: |
        The 17.12-resin branch was modified and the old revision is not
        there anymore.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Use the new revision for balena source code
        changelog-entry: Use the new revision for balena source code
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: >-
        Add a workaround for a bug where the chronyc online command in network
        manager hook would get stuck and eat cpu cycles
      hash: 6fe830882bf8ee62dc6db09b5a8a6f099d64fe41
      body: >
        We have noticed devices in support that show high cpu usage because

        the process chronyc online seems to be eating up 50% cpu.


        This is probably fixed upstream
        https://github.com/mlichvar/chrony/commit/6863e43269fe27ce2744eb643295f31c00ec176d#diff-50898f0cb35139d87132f4732a029213


        Add a timeout in any case as its a lower risk option
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Add a workaround for a bug where the chronyc online command in network
          manager hook would get stuck and eat cpu cycles
        changelog-entry: >-
          Add a workaround for a bug where the chronyc online command in network
          manager hook would get stuck and eat cpu cycles
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix img to rootfs dependency when img is invalidated
      hash: 3050840935541c14ded2f9a6a1517d73dfc5ec18
      body: |
        There can be cases where a image type gets invalidated (due to a
        variable change or so) and the dependency of it not. For example the img
        type can get invalidated while the hostapp ext3 type doesn't. The img
        generatiton script consumes/uses the rootfs generated by the hostapp
        type but, it references the artifact based on IMAGE_NAME variable which
        includes a time stamp. See bitbake.conf:

        IMAGE_NAME = "${IMAGE_BASENAME}-${MACHINE}-${DATETIME}"

        When that happens, the new timestamp will change and img will fail to
        find the old artifact of hostapp. Change this behaviour by using the
        symlink reference IMAGE_LINK_NAME which doesn't include a timestamp.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix img to rootfs dependency when img is invalidated
        changelog-entry: Fix img to rootfs dependency when img is invalidated
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Have boot partition type configurable as FAT32
      hash: a582d10ca72ff0d865783252b87160f03b2045bb
      body: |
        When BALENA_BOOT_FAT32 is 1, it will instruct the raw image generator to
        create the filesystem using 32 as file allocation tables type and, as
        well, create the boot partition as fat32 type.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Have boot partition type configurable as FAT32
        changelog-entry: Have boot partition type configurable as FAT32
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Deprecate morty and krogoth
      hash: 9d311fd13ad2af4b17a7a9a512e2f667e4ff9f58
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Deprecate morty and krogoth
        changelog-entry: Deprecate morty and krogoth
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Deploy kernel source as a build artifact as well for external module
        compilation
      hash: bfc7a67cb6b6f38617bb810f2b5c1e051ebf6a4a
      body: |
        We want to build the kernel-devsrc recipe so that we can package the
        kernel source tarball. This tarball will allow users to use the source
        package and compile or cross compile kernel modules
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Deploy kernel source as a build artifact as well for external module
          compilation
        changelog-entry: >-
          Deploy kernel source as a build artifact as well for external module
          compilation
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'kernel-devsrc: Tarball up the kernel source and deploy it.'
      hash: 4da9fdc90001f64f2bd8852cd4cf8a8de3b02cbb
      body: |
        The kernel-devsrc recipe only builds a package by default. We'd like
        to tarball the source and share it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'kernel-modules-headers: Use the build directory for artifacts'
      hash: 3e09d127d86729a94cd9a600a6f4f7568b4d6315
      body: |
        Otherwise the module header tarball appears in the kernel source
        directory and is tarballed again by the kernel-devsrc recipe
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'docs: Add documentation on nested changelogs'
      hash: d02c8f877914b8173af4f4fd051d4e5626a2aeae
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Giovanni Garufi <giovanni@balena.io>
        signed-off-by: Giovanni Garufi <giovanni@balena.io>
      author: Giovanni Garufi
    - subject: 'VersionBot: update upstream name and url'
      hash: 203ddc055b3ea63bfa953a8917fdcd2a4961c012
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Giovanni Garufi <giovanni@balena.io>
        signed-off-by: Giovanni Garufi <giovanni@balena.io>
      author: Giovanni Garufi
  version: 2.30.0
  date: 2019-02-28T16:10:14.839Z
- commits:
    - subject: OS will default apps.json to an empty json file
      hash: c935fcfd72dfefa5188d90edc48cd1b01dbadec2
      body: |
        Currently, because we bind mount apps.json unconditionally, when this
        file doesn't exist, balena engine will create a directory on the data
        filesystem. This breaks when we add an apps.json file after the
        supervisor container was already created.

        Fixes #1325
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: OS will default apps.json to an empty json file
        changelog-entry: OS will default apps.json to an empty json file
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-engine to include low entropy fixes
      hash: 32726b55b9e4b0a33e6357bfbe4b0169bcf253a7
      body: |
        This includes changes which target fixing hanging on low entropy
        situation.

        Fixes #1208
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-engine to include low entropy fixes
        changelog-entry: Update balena-engine to include low entropy fixes
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Move an NM patch to the right place to reduce a warning
      hash: f823ee173d52519113bb9513972aa9eaf3816355
      body: |
        We get a warning that the file was not found when other versions of NM
        are parsed.

        Warning networkmanager_1.10.6.bb: Unable to get checksum for
        networkmanager SRC_URI entry balena-client-id.patch: file could not
        be found
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Move an NM patch to the right place to reduce a warning
        changelog-entry: Move an NM patch to the right place to reduce a warning
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v9.0.1
      hash: 73a8bf6d0b45b052f05403ad6bf84504be2d918d
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-supervisor to v9.0.1
        changelog-entry: Update balena-supervisor to v9.0.1
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
    - subject: Fix cases where RESIN_BOOT_PARTITION_FILES includes invalid entries
      hash: c10653eb0b17e3997fb77182cf62b9cdc143f25c
      body: |
        Fixes #1330
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix cases where RESIN_BOOT_PARTITION_FILES includes invalid entries
        changelog-entry: Fix cases where RESIN_BOOT_PARTITION_FILES includes invalid entries
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Enable some common linux kernel serial device drivers
      hash: 1fa8c951327d1356410152f944003f98a9b68112
      body: |
        Fixes #1327
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Enable some common linux kernel serial device drivers
        changelog-entry: Enable some common linux kernel serial device drivers
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: >-
        Configure NetworkManager to only ignore our vpn interface but manage
        other tun devices
      hash: 2a5415c4a9a1b9c1e3da8a340be4ba307174c42d
      body: |
        Under the current configuration we instruct NetworkManager through its
        configuration to completely ignore all the tun devices. This was
        enforced as an extra precation as we run an openvpn client which
        connects to the balena-cloud backend. This client creates, on the host,
        the interface `resin-tun` currently (rename pending). We want to loosen
        up this restriction to only unmanage this specific device - `resin-tun`
        - so that users can take advantage of NetworkManager managing other tun
        devices.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Configure NetworkManager to only ignore our vpn interface but manage
          other tun devices
        changelog-entry: >-
          Configure NetworkManager to only ignore our vpn interface but manage
          other tun devices
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'networkmanager: Add pppd to FILES'
      hash: b05bc683b6517318a3ebef56010d671ae07804c1
      body: >
        Without this, we get a QA error


        ERROR networkmanager-1.14.4-r0 do_package QA Issue networkmanager

        Files/directories were installed but not shipped in any package
          ... nm-pppd-plugin.so
        Please set FILES such that these items are packaged. Alternatively

        if they are unneeded, avoid installing them or delete them within
        do_install.

        networkmanager 1 installed and not shipped files. [installed-vs-shipped]
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'networkmanager: Add balena-client-id.patch in bbappend'
      hash: 35c4822bbff164a4a4f3a769f0d1fabbda61f33b
      body: |
        Move this in bbappend. The 1.12 recipe was bumped to 1.14.
        We'd like to keep our edits in bbappend
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Bump network manager from v1.12.2 to v1.14.4
      hash: 0b8be376090d9bff4f41a362e4bcc250e0c664e9
      body: >
        Update recipe from upstream meta-openembedded

        http://cgit.openembedded.org/meta-openembedded/commit/meta-networking/recipes-connectivity/networkmanager?id=331b717b862e3599b99942acb64c1d6b03806042


        Difference in size ~ +400K
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Bump network manager from v1.12.2 to v1.14.4
        changelog-entry: Bump network manager from v1.12.2 to v1.14.4
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v8.7.0
      hash: ff552b96370e06a357db69d57cbbad5db08433db
      body: ''
      footer:
        Changelog-entry: Update balena-supervisor to v8.7.0
        changelog-entry: Update balena-supervisor to v8.7.0
        Change-type: minor
        change-type: minor
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
    - subject: Fix test cases for kernel module header compilation
      hash: 53793e1e591f2e0d4534c38fcb0585ace2d0d181
      body: |
        For some reason, using xargs -I a produced spurious difficult to trace
        errors. Rework test case using a loop. Do the arch check using Yoctos
        QA framework that runs on all packages. Otherwise, we'd have to manually
        map various compatible arches e.g. aarch64 - arm8, 80386 - x86

        bberror does not exit the do_compile task. Add exit 1 to make sure that
        if an error is found, the task is marked as failed. Otherwise the
        error becomes a heisenbug as bitbake proceeds after do_compile.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix test cases for kernel module header compilation
        changelog-entry: Fix test cases for kernel module header compilation
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Add chrony v3.2 recipe in various layers to keep minimum chrony version
        on devices above v3.2
      hash: 898ce1a6c0a18c91478f704f4014ec2fcd1fedce
      body: >
        We added an option in chrony.conf (hwtimestamp) via meta-resin-common.

        That option is supported in newer versions of chrony.


        Add chrony 3.2 recipe from meta-openembedded sumo

        http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Add chrony v3.2 recipe in various layers to keep minimum chrony
          version on devices above v3.2
        changelog-entry: >-
          Add chrony v3.2 recipe in various layers to keep minimum chrony
          version on devices above v3.2
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'chrony/pyro: Add v3.2 recipe'
      hash: c3fbd6fe368ae1ca2472f15414d319f802e2989c
      body: >
        We added an option in chrony.conf (hwtimestamp) via meta-resin-common.

        That option is supported in newer versions of chrony.


        Add chrony 3.2 recipe from meta-openembedded sumo

        http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'chrony/morty: Add v3.2 recipe'
      hash: 75f44470da8e5bf99bdf4cd4ea45cbb798909604
      body: >
        We added an option in chrony.conf (hwtimestamp) via meta-resin-common.

        That option is supported in newer versions of chrony.


        Add chrony 3.2 recipe from meta-openembedded sumo

        http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'chrony/krogoth: Bump recipe version to v3.2'
      hash: 59ac08ea58e59e2d61cc53cadea1b835eb5b4e31
      body: >
        We added an option in chrony.conf (hwtimestamp) via meta-resin-common.

        That option is supported in newer versions of chrony.


        Add chrony 3.2 recipe from meta-openembedded sumo

        http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update resin-supervisor to v8.6.8
      hash: a9cf9b06e9775612f2397c7abaca507428558722
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v8.6.8
        changelog-entry: Update resin-supervisor to v8.6.8
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.29.0
  date: 2018-12-19T06:20:13.246Z
- commits:
    - subject: Update os-config to 1.0.0
      hash: e9a428ae474c9a9e4573ae1071978b19e332f0b8
      body: |
        The main feature this brings is support for custom certificates base64
        encoded in config.json.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update os-config to 1.0.0
        changelog-entry: Update os-config to 1.0.0
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update libqmi to version 1.20.2
      hash: 19bb5410ac28a89db7193490001ea358bbb37912
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libqmi to version 1.20.2
        changelog-entry: Update libqmi to version 1.20.2
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update libmbim to version 1.16.2
      hash: 7e8d7520288c916f694fe6cdf1d43fa0d0a275e3
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libmbim to version 1.16.2
        changelog-entry: Update libmbim to version 1.16.2
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: 'kernel-modules-headers: Add basic sanity test'
      hash: 51ff1d707273a27369e91b6cf99257633f0b9e21
      body: |
        Test if the ELFs inside the kernel module header tarball are the
        correct architecture and don't have the sysroot as the interpreter
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix kernel module header generation
      hash: 706829bc46c593048909686a67faef064adf6232
      body: |
        63baa421 introduced a bug where the tools in the header tarballs were
        compiled with the incorrect HOSTCC parameter. As a result the tools
        inside the tarball were compiled for x86-64 instead of the native
        device architecture. And they had the incorrect ld interpreter path
        as well.

        Update to v0.0.12 to fix that.
        This release also adds objtool support needed by the intel nuc image.

        Fixes #1302
        Fixes #1303
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix kernel module header generation
        changelog-entry: Fix kernel module header generation
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'image-resin.bbclass: Fix config.json pretty format'
      hash: 889d989a3d9059825d7d346fbf0e728be9869994
      body: |
        Fixes #1300
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Allow supervisor update on unmanaged devices
      hash: b8705936f0a081a2f33f3fb590a90e4805547e9d
      body: |
        When the device hasn't joined a backend, there is no API key available
        and the update supervisor tool currently just bails out. This blocks
        switching the supervisor version on an unmanaged device.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Allow supervisor update on unmanaged devices
        changelog-entry: Allow supervisor update on unmanaged devices
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update resin-supervisor to v8.6.3
      hash: 1f0a1b16102847412e0165ff01125a4d50ab4c81
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v8.6.3
        changelog-entry: Update resin-supervisor to v8.6.3
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
  version: 2.28.0
  date: 2018-12-05T15:21:33.157Z
- commits:
    - subject: Expose randomMacAddressScan config.json knob
      hash: 69d2340ccf5691085bebeb92478475cd3278bbb9
      body: |
        For now only allow `wifi.scan-rand-mac-address` configurable from
        config.json using `randomMacAddressScan` as the json key.

        config.json snippet example:

        "os": {
          "network" : {
            "wifi": {
              "randomMacAddressScan": false
            }
          }
        }

        We include a set of tests for this tool which are ran at build time.

        Fixes #1294
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Expose randomMacAddressScan config.json knob
        changelog-entry: Expose randomMacAddressScan config.json knob
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Move modemmanager udev rules in /lib/udev/rules.d
      hash: 1d7f81ee8b8ca5fd73417598ac8b15d8f99b28ed
      body: |
        The path where the udev rules are currently installed (etc) will be
        shadowned at runtime because the etc udev rules path is bindmounted for
        use with custom configuration from `config.json`.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Move modemmanager udev rules in /lib/udev/rules.d
        changelog-entry: Move modemmanager udev rules in /lib/udev/rules.d
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix modemmanager bbappend files
      hash: 304b7079ec0261a4467cd384b83b456348af6a0c
      body: |
        The bbappend uses a local `resin-files` directory for additional file
        entries but some of these files ended up in `files`. This works well if
        the recipe used is the one in the same directory as the `files`
        subdirectory will be used by default. The problem shows when the recipe
        is not in the same directoy as bitbake will not be able to find needed
        bbappended files.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix modemmanager bbappend files
        changelog-entry: Fix modemmanager bbappend files
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: 'dnsmasq: Define 8.8.8.8 as a fallback nameserver'
      hash: 8ae0b2aef3ac2816c2a336b2dcc5d6f6a9c726c0
      body: |
        Fixes #1293
      footer:
        Change-type: minor
        change-type: minor
        Changel-log-entry: Restore 8.8.8.8 as fallback DNS server
        changel-log-entry: Restore 8.8.8.8 as fallback DNS server
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Increase timeout for filesystem label
      hash: 9184e01e4f42b95df53f440b4638a8acd9877a9c
      body: |
        The label is actually a udev symlink, but we're keeping
        this naming to be consistent across the file.

        The error seen is that the balena-host service wasn't
        able to start because of a mnt-sysroot-active.service dependency:
        resin-partition-mounter[440]: ERROR: Timeout while waiting
        for filesystem label to appear

        By increasing this timeout, the filesystem symlink should
        already exist, at the time the mnt-sysroot-active service is
        looking for this dependency.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Increase timeout for filesystem label
        changelog-entry: Increase timeout for filesystem label
        Signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
      author: Vicentiu Galanopulo
    - subject: Add support for Huawei ME936 modem in MBIM mode
      hash: 5e214c0faa2d8a06e23553d6523523b3ad15d8bd
      body: |
        Add udev rule and helper script to switch this modem to MBIM mode
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support for Huawei ME936 modem in MBIM mode
        changelog-entry: Add support for Huawei ME936 modem in MBIM mode
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Backport systemd sd-shutdown improvements for sumo versions
      hash: 2643ef9959734c794880fecb36284db35e0565df
      body: |
        OS 2.26.0+rev1 reports the following at reboot:
        systemd-shutdown[1]: Failed to wait for process: Protocol error
        systemd-shutdown[1]: Failed to wait for process: Protocol error

        As per systemd/systemd#8155 (comment), systemd/systemd#8429
        needs to be backported.

        We currently backport these patches for sumo only
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Backport systemd sd-shutdown improvements for sumo versions
        changelog-entry: Backport systemd sd-shutdown improvements for sumo versions
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Include avahi d-bus introspection files in rootfs
      hash: d98f0d47369135f1c88429aac58b73aced3d4f6c
      body: >
        Poky removes the dbus introspection description documents for avahi.

        See:

        http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=59a08907eafffde664079b9a2068f47131dd3f5d


        dbus-native node module requires this data to be available to allow

        access to interfaces.


        Fixes #1140
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Include avahi d-bus introspection files in rootfs
        changelog-entry: Include avahi d-bus introspection files in rootfs
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix custom udev rules when rule is removed from config.json
      hash: dbf42dd1ddcbb45be0320d8d4b4bd93c9522ec34
      body: |
        Fixes #1271
        When os.udevRules is completely removed from config.json, any previous
        rules are left there. Remove them.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix custom udev rules when rule is removed from config.json
        changelog-entry: Fix custom udev rules when rule is removed from config.json
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'resin-mounts: Add NetworkManager conf.d bind mounts'
      hash: a94a3b3490319a3e6a5de373a773348eada532ba
      body: |
        This bind mount is used for passing custom config options to
        NetworkManager via config.json
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add support to pass custom configuration to NetworkManager
      hash: 8370f01078b6971f2b6c2707f679a3cc581702d2
      body: |
        This allows extra config fragments to be passed to NetworkManager
        via config.json
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support to pass custom configuration to NetworkManager
        changelog-entry: Add support to pass custom configuration to NetworkManager
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'README.md: Add info about SSH and Avahi services'
      hash: 778785283d372689af654c42b3c42cfc02ecdcfb
      body: |
        Fixes #1274
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Avoid xtables lock in resin-proxy-config
      hash: f2bed69f1825e270be695ada997bc10120a2bae8
      body: |
        There are other components setting up iptables rules - for example
        balena. In order to avoid a lock race, run iptables commands with a 10
        seconds wait flag.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Avoid xtables lock in resin-proxy-config
        changelog-entry: Avoid xtables lock in resin-proxy-config
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Migrate the supervisor to balena repositories
      hash: 0905256113d58ce4644e975144d71b20f532a35d
      body: |
        This has changed from "resin" to "balena" due to the rename
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Migrate the supervisor to balena repositories
        changelog-entry: Migrate the supervisor to balena repositories
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update balena-supervisor to v8.3.5
      hash: d0ec760020b7778ac9116dde803393a1f444228f
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-supervisor to v8.3.5
        changelog-entry: Update balena-supervisor to v8.3.5
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Update supported modems list
      hash: 9c966ff98f7bd1e9478a6f49164118c6b0b8a0d8
      body: |
        We remove SIM7100E in favour of SIM7600E and
        also add Huawei ME909s-120.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update supported modems list
        changelog-entry: Update supported modems list
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.27.0
  date: 2018-11-23T14:49:56.671Z
- commits:
    - subject: Rename resin-unique-key to balena-unique-key
      hash: da871aeb64dffcb84c2fad75b299f661cab40c3d
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Rename resin-unique-key to balena-unique-key
        changelog-entry: Rename resin-unique-key to balena-unique-key
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Don't let resin-unique-key rewrite config.json
      hash: 58685dd3accb19b159adc933d3b203c615675343
      body: |
        Fixes #1262
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Don't let resin-unique-key rewrite config.json
        changelog-entry: Don't let resin-unique-key rewrite config.json
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.26.0
  date: 2018-11-05T15:22:47.685Z
- commits:
    - subject: Generate ssh host key at first boot (not at first connection)
      hash: aea0382c5e6c26933767a931f3a0df45e3cde233
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Generate ssh host key at first boot (not at first connection)
        changelog-entry: Generate ssh host key at first boot (not at first connection)
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix extraneous space in kernel-resin.bbclass config
      hash: bf3124d468dfce8e9b4909965dfea05752835b33
      body: |
        This extra space leads to kernel config check error
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix extraneous space in kernel-resin.bbclass config
        changelog-entry: Fix extraneous space in kernel-resin.bbclass config
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Drop obsolete eval from kernel-resin's do_kernel_resin_reconfigure
      hash: 1b882e69d125c4cd84a8ebd8298eb294d52d5574
      body: |
        This is not needed as bitbake already expands KERNEL_CONFIG_COMMAND
        See Poky commit 95909bc788bef1baabead94231dffb3b7f59fb00 for details
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Drop obsolete eval from kernel-resin's do_kernel_resin_reconfigure
        changelog-entry: Drop obsolete eval from kernel-resin's do_kernel_resin_reconfigure
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Add SyslogIdentifier for balena and resin-supervisor healthdog services
      hash: 23fadcc59cc2b353b68264220e35fa1c06b97444
      body: ''
      footer:
        Changelog-entry: >-
          Add SyslogIdentifier for balena and resin-supervisor healthdog
          services
        changelog-entry: >-
          Add SyslogIdentifier for balena and resin-supervisor healthdog
          services
        Change-type: minor
        change-type: minor
        Signed-off-by: Matthew McGinn <mamcgi@gmail.com>
        signed-off-by: Matthew McGinn <mamcgi@gmail.com>
      author: Matthew McGinn
  version: 2.25.0
  date: 2018-11-02T15:58:49.876Z
- commits:
    - subject: Update resin-supervisor to v8.0.0
      hash: 01511f5902e83f80e93a37b5e5cffd59654e5c04
      body: ''
      footer:
        Changelog-entry: Update resin-supervisor to v8.0.0
        changelog-entry: Update resin-supervisor to v8.0.0
        Change-type: patch
        change-type: patch
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
  version: 2.24.1
  date: 2018-11-01T16:25:19.386Z
- commits:
    - subject: 'resin-info: Small tweak for balenaCloud product'
      hash: 74f795dc2251266622f44f0a32162adfbbc432e3
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: Update resin-supervisor to v7.25.8
      hash: 4806e3340d75cb76437311bd44a93e40360f90ed
      body: ''
      footer:
        Changelog-entry: Update resin-supervisor to v7.25.8
        changelog-entry: Update resin-supervisor to v7.25.8
        Change-type: patch
        change-type: patch
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
    - subject: Rename resinOS to balenaOS
      hash: d2a7e648b2ccefe46f67fb02c0f382c958aad5e5
      body: |
        As part of resin rename to balena, we rename the distro file including
        the OS name which is part of the distro name. This ends up in the
        dashboard as part of the OS version.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Rename resinOS to balenaOS
        changelog-entry: Rename resinOS to balenaOS
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.24.0
  date: 2018-10-24T01:06:11.405Z
- commits:
    - subject: Update resin-supervisor to v7.25.5
      hash: 21d97fc5d73e2a97760b9328d099ea8b7daaee39
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v7.25.5
        changelog-entry: Update resin-supervisor to v7.25.5
        Signed-off-by: Cameron Diver <cameron@resin.io>
        signed-off-by: Cameron Diver <cameron@resin.io>
      author: Cameron Diver
    - subject: 'recipes-containers: Increase healthcheck timeout to 180s'
      hash: fb966719844dfd045a03440242a412d641c7b791
      body: |
        The original 60s might be slow for some devices where balena
        is busy with a task and the hardware is slow for various
        reasons (ie. Pi1/Zero). In those cases even if the device
        is functioning correctly, the healthcheck will assess the
        device as unhealthy and restart balena and/or the supervisor.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Gergely Imreh <gergely@balena.io>
        signed-off-by: Gergely Imreh <gergely@balena.io>
      author: Gergely Imreh
    - subject: '.gitignore: add node_modules and package-lock files'
      hash: becc602a39ec9c788e4f1765ec696f2f71ceb321
      body: |
        These files are generated by the CI when running the automatic
        versioning. Since this is not a node project both can be simply ignored.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Giovanni Garufi <giovanni@resin.io>
        signed-off-by: Giovanni Garufi <giovanni@resin.io>
      author: Giovanni Garufi
  version: 2.23.0
  date: 2018-10-22T22:10:11.913Z
- commits:
    - subject: Update resin-supervisor to v7.25.3
      hash: dd4966235420be328f6280fa170d17f5570dbfa2
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update resin-supervisor to v7.25.3
        changelog-entry: Update resin-supervisor to v7.25.3
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
  version: 2.22.1
  date: 2018-10-20T04:01:35.497Z
- commits:
    - subject: Update resin-supervisor to v7.25.2
      hash: 999d0e07e426d175168da46557855f4dee724ee2
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v7.25.2
        changelog-entry: Update resin-supervisor to v7.25.2
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Include a CONTRIBUTING.md file
      hash: a38f167752e68db524f55bb5bec97d8a03692283
      body: |
        Fixes #422
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Include a CONTRIBUTING.md file
        changelog-entry: Include a CONTRIBUTING.md file
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update to ModemManager v1.8.2
      hash: cd6386ffedbe4e4c4959b0f2941826c324029cb1
      body: |
        Fixes #1209
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update to ModemManager v1.8.2
        changelog-entry: Update to ModemManager v1.8.2
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Updates on contributing-device-support.md
      hash: 75ee54d48a40476e6de5076ffc238cb6fad25041
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Updates on contributing-device-support.md
        changelog-entry: Updates on contributing-device-support.md
        Signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
      author: Vicentiu Galanopulo
  version: 2.22.0
  date: 2018-10-19T18:42:10.962Z
- commits:
    - subject: Improve systemd service ordering in rollbacks
      hash: 1d729dec436d0cb2eeb8a6799a8b978aceba8f8d
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Improve systemd service ordering in rollbacks
        changelog-entry: Improve systemd service ordering in rollbacks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update resin-supervisor to v7.24.1
      hash: e5a882a75ca49828cabcba227c4972d9e4d753d9
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v7.24.1
        changelog-entry: Update resin-supervisor to v7.24.1
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.21.0
  date: 2018-10-18T17:23:01.640Z
- commits:
    - subject: Avoid expander on flasher based on root kernel argument
      hash: c155f8edfa543d29c7efafe2fb6c80d633b82dc1
      body: |
        The current implementation checks for the existance of the `flash-boot`
        label. This breaks when after flashing the flashing device is left
        plugged. Change this with a check based on the root kernel argument.

        Fixes #1210
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Avoid expander on flasher based on root kernel argument
        changelog-entry: Avoid expander on flasher based on root kernel argument
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: 'resin-vars: Implement custom ssh keys service'
      hash: 6d2e43d4693208c8df9436ea1f96c844b4faeb75
      body: >
        This patch adds support for translating SSH public keys from config.json

        to an authorize_keys file. We use `authorize_keys_local` file as the

        destination file of this translation so we can differentiate in between
        keys

        brought locally from config.json and keys brought from the balena
        backend

        through os-config an avoid racing issues with this tool (os-config). The
        final

        `authorize_keys` file will be merged at every ssh connection in the
        dropbear

        service.


        These SSH custom public keys in config.json are assumed to be provided

        as an array in `.os.sshKeys`. Example:

        {
          [...]
          "os": {
            "sshKeys": [
              "ssh-rsa ABCDEFGHIJKLMNOPQRSTUVWXYZ",
              "ssh-rsa 0123456789"
            ]
          },
          [...]
        }


        Fixes #608
      footer:
        Change-type: minor
        change-type: minor
        Change-log-entry: Add support for custom SSH public keys in config.json
        change-log-entry: Add support for custom SSH public keys in config.json
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: Fix redsocks interface creation when no proxy configured
      hash: 4d278e425a5624863ff62771c8db9b4c9bcf6821
      body: |
        When we have no redsocks configuration don't create the redsocks
        interface.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix redsocks interface creation when no proxy configured
        changelog-entry: Fix redsocks interface creation when no proxy configured
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: >-
        Replace NM's DHCP request option "Client indentifier" with udhcpc style
        option
      hash: 99b4e423003442a67f1fb45b1f4ae8d201c73b99
      body: |
        This patch replaces the "Client identifier" option from
        DHCP packets sent by NM to resemble the way udhcpc does it.

        The reason is that the Cisco RV325 router with fw older than
        v1.2.1.14 doesn't reply to DHCP requests or discovery packages
        if the "Client identifier" option is formatted in NM's style.

        Even though this is a bug in the router's fw, we are going to
        fix it here because we encountered clients that couldn't get
        an IP address on these routers and we want to avoid that
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: >-
          Replace NM's DHCP request option "Client indentifier" with udhcpc
          style option
        changelog-entry: >-
          Replace NM's DHCP request option "Client indentifier" with udhcpc
          style option
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
    - subject: Fix for rollbacks in case of old balenaOS version
      hash: 814c39fb750104f1aef748a083a3384e5a594d9c
      body: |
        In some cases, the previous rootfs hooks are not functional (which can
        be the case when the hooks don't exist in older versions of balenaOS).

        With this patch, rollbacks will be stopped and a reboot will happen
        preventing further attempts by rollback-health to keep retrying and
        rolling back
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix for rollbacks in case of old balenaOS version
        changelog-entry: Fix for rollbacks in case of old balenaOS version
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update resin-supervisor to v7.21.4
      hash: 4c1f5c7cdaf889b67098832b36ccd0cc39c58b0e
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v7.21.4
        changelog-entry: Update resin-supervisor to v7.21.4
        Signed-off-by: Cameron Diver <cameron@resin.io>
        signed-off-by: Cameron Diver <cameron@resin.io>
      author: Cameron Diver
    - subject: Warn if rules are found in /etc/udev/rules.d
      hash: f228de23f388859d7cf3847fc608863bab2c6857
      body: |
        The /etc/udev/rules.d folder is now used by os-udevrules. We warn if
        there are rules in /etc/udev/rules.d installed by recipes in other
        layers

        This warning will become an error in a few releases.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Warn if rules are found in /etc/udev/rules.d
        changelog-entry: Warn if rules are found in /etc/udev/rules.d
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add support to load custom udev rules from config.json
      hash: f127232b8c7009c954f8467c32776c5fceee8c12
      body: |
        os-udevrules will parse config.json for any udev rules and copy the
        rules in /etc/udev/rules.d/key.rules

        udev rules can be passed via config.json in the following format

          "settings": {
            "udevrules": {
              "60": "single line. Remember to escape the double quotes",
              "99": "multi line \n2nd line"
           }
         }

        The above snippet will appear as /etc/udev/rules.d/60.rules
        and /etc/udev/rules.d/99.rules

        The first time rules are added/modified, these rules will be added and
        udevd will be asked to reload rules and re-trigger.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support to load custom udev rules from config.json
        changelog-entry: Add support to load custom udev rules from config.json
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: 'aufs-util: Package auplink separately'
      hash: f8d0ae01bae540dcf52ebbbdc6315c86f7efa684
      body: |
        From the aufs-util package only the auplink binary is needed and that
        dependency is from balena. So we package auplink in a separate package
        and just install that package into the rootfs.
      footer:
        Change-type: minor
        change-type: minor
        Chanelog-entry: Only add auplink binary into the rootfs to decrease rootfs size
        chanelog-entry: Only add auplink binary into the rootfs to decrease rootfs size
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Enable kernel config dependencies for MBIM and QMI
      hash: fd7c661209532296b8e6f7ce74328ffbc5ab8053
      body: |
        MBIM and QMI support needs USB_NET_DRIVERS and USB_USBNET enabled.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Enable kernel config dependencies for MBIM and QMI
        changelog-entry: Enable kernel config dependencies for MBIM and QMI
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Set UPX to use LZMA compression by default
      hash: 69bc7e1c6c8382d69b57b662518909c4f7824644
      body: |
        In my testing lzma offers at least 30-40% better compression and it is
        introduced from v3.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Set UPX to use LZMA compression by default
        changelog-entry: Set UPX to use LZMA compression by default
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: Downgrade UPX to 3.94 for ARM
      hash: 23423b875f2d892ce136c9a3e2f56692592c873d
      body: |
        3.95 introduced a data/instruction cache inconsistency bug:
        https://github.com/upx/upx/issues/225. As this only afects this version,
        we downgrade it for the affected architecture.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Downgrade UPX to 3.94 for ARM
        changelog-entry: Downgrade UPX to 3.94 for ARM
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: Balena update for rollbacks. mobynit can now mount rootfs from sysroot.
      hash: 008608db1b67dd9de0445ef6e1920bb0302f618e
      body: |
        This patch bumps the balena version in meta-resin.

        The update in balena adds support to pass an argument to mobynit which
        allows mobynit to mount a rootfs from a custom path.

        The command ./mobynit -sysroot /mnt/sysroot/inactive will mount the
        rootfs partition from /mnt/sysroot/inactive and return the destination
        path in stdout.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Balena update for rollbacks. mobynit can now mount rootfs from
          sysroot.
        changelog-entry: >-
          Balena update for rollbacks. mobynit can now mount rootfs from
          sysroot.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix proxy when using containers over bridge network
      hash: 3df6e1906e1138a8cd10d15ac3008685b90f75f8
      body: |
        Before multicontainer support in resin, the user container was running
        over the host's network stack which means that all the packets were
        treated as locally emitted ones. In this case, the communication was
        redirected as per the OUTPUT iptable rule only.
        In the "multicontainer world" the user containers run on top of bridge
        network which makes the host act as a socksifying router. In this case,
        the packets won't go through the OUTPUT chain and the redirection to
        redsocks needs to happen at PREROUTING chain.
        This change adds a redirect rule at PREROUTING for TCP packets to
        redsocks to redirect packets from the containers to redsocks too.

        As well, this adds support for redirecting DNS UDP packets to redsocks.
        This is implemented as iptables rules which are only added if the
        redsocks configuration has a `dnsu2t` section.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix proxy when using containers over bridge network
        changelog-entry: Fix proxy when using containers over bridge network
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: 'Add support for aufs 4.9.9+, 4.9.94+, 4.18'
      hash: bc91ca07f0a44aaffb68720fc10f3e524491d92d
      body: |
        Also, update 4.9, 4.10, 4.11.7+, 4.12, 4.13, 4.14, 4.14.56+, 4.15,
        4.16, 4.17.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: 'Add support for aufs 4.9.9+, 4.9.94+, 4.18'
        changelog-entry: 'Add support for aufs 4.9.9+, 4.9.94+, 4.18'
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Add rollback-altboot service before balena service
      hash: 9c35e9c8b418b9253d53df48b783babc9d116006
      body: |
        We would like resin-altboot service to run before balena starts
        resin-altboot checks if the boot configuration is set to run
        resinOS from rootA(B) but we are actually running rootB(A) due to
        something.

        If rollback-altboot triggers, it will run hooks to refresh boot files
        and reboot. There is no point starting balena in such a device state
        as that will only slow down the hooks from running.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add rollback-altboot service before balena service
        changelog-entry: Add rollback-altboot service before balena service
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add Automated Rollback recipe
      hash: fdfc451d1a8a95b1c9b9ee2d0fc8f736c094251b
      body: |
        This recipe adds a few systemd services and scripts that handle
        automated OS rollback functionality.

        The rollback-altboot.service checks if we are running in altboot mode
        i.e. resinOS_uEnv.txt says we should boot resin_root_part=3. But we are
        actually running resinOS from resin_root_part=2. This can happen if
        a reboot happened without clearing upgrade_available in resinOS_uEnv
        txt file. A kernel panic happened etc.

        The rollback-altboot script runs hostapp-update hooks to change the
        bootfiles.

        The rollback-health.service runs rollback-health which checks if vpn is
        online and balena is healthy after a hostapp-update.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add Automated Rollback recipe
        changelog-entry: Add Automated Rollback recipe
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add Automated Rollback support in u-boot env_resin.h
      hash: c6145d1f535098ef46f44d44d061b04fd7174f77
      body: |
        This patch adds a simple check in env_resin.h.

        If bootcount is found to be greater than bootlimit, switch the
        partitions. Both bootcount and bootlimit are standard u-boot env
        variables.

        To enable rollback in devices, devices have to do the following in
        their u-boot

        Enable CONFIG_CMD_SETEXPR, CONFIG_BOOTCOUNT_LIMIT and depending on the
        device, save the bootcount in some persistant location whether that
        is an area in the SoC or an ext partition etc.

        If you are using the CONFIG_BOOTCOUNT_EXT driver, use only the boot
        partition and use the filename "bootcount.env"

        E.g. for rpi3
        CONFIG_CMD_SETEXPR=y
        CONFIG_BOOTCOUNT_LIMIT=y
        CONFIG_SYS_BOOTCOUNT_ADDR=0x02300000
        CONFIG_BOOTCOUNT_EXT=y
        CONFIG_SYS_BOOTCOUNT_EXT_DEVPART=0:1
        CONFIG_SYS_BOOTCOUNT_EXT_NAME="bootcount.env"
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add Automated Rollback support in u-boot env_resin.h
        changelog-entry: Add Automated Rollback support in u-boot env_resin.h
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add a hook to support Automated Rollbacks
      hash: b93b655e9cad7ad439a603ddedc9a965a909c037
      body: |
        This hook leaves breadcrumbs for the rollback-altboot and
        rollback-health service after a HUP.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add a hook to support Automated Rollbacks
        changelog-entry: Add a hook to support Automated Rollbacks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update HUP grub hook to support Automated Rollbacks
      hash: 620d7a4466dd2aea0c3c5e4ffc95ac22e7f7651c
      body: |
        Devices that support automated os rollbacks will have two extra
        variables upgrade_available and resin_root_part in their grub.cfg
        files.

        Check for the presense of those variables and update them if they
        exist.

        Otherwise stick to the previous way of updating grub.cfg

        For devices using grub 2.0, devices will have to mirror the pattern
        that exists in u-boot.
        i.e.
         Add a variable upgrade_available to grub.cfg (HUP hooks update this)
         Add a variable bootcount to grubenv that increments if
         upgrade_available is set
         Add logic in grub.cfg to boot the alternate rootB/A if bootcount
         reaches 2.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update HUP grub hook to support Automated Rollbacks
        changelog-entry: Update HUP grub hook to support Automated Rollbacks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update HUP u-boot hook to support Automated Rollbacks
      hash: 76e103304264d88178b4948c020acf1f27246f85
      body: |
        u-boot uses an upgrade_avaiable flag to update bootcount to reduce
        writes to sd card.

        If upgrade_available=0, u-boot won't bother updating the bootcount
        variable. During HUP, we'll set upgrade_available=1 so that u-boot
        starts counting.

        It'll be the job of the new OS and the rollback services to set
        upgrade_available=0

        For some devices, u-boot will save the bootcount in the boot partition
        in /mnt/boot/bootcount.env. Remove that counter when running hooks
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update HUP u-boot hook to support Automated Rollbacks
        changelog-entry: Update HUP u-boot hook to support Automated Rollbacks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: >-
        Move kernel-image-initramfs from resin-image recipe to
        packagegroup-resin.inc
      hash: bfa0cc20d3bb1b6a26d87507b196b54ab6d672aa
      body: |
        We add the package here as this file is included in the flasher image
        recipe as well
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Move kernel-image-initramfs from resin-image recipe to
          packagegroup-resin.inc
        changelog-entry: >-
          Move kernel-image-initramfs from resin-image recipe to
          packagegroup-resin.inc
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Have 99-resin-grub hostapp-update-hook decide which grub to use
      hash: ec0c373a8fa9dfd7ae989615646c76a4ab87f531
      body: |
        We move the decision of using either grub legacy or grub EFI from the
        board specific layer to here so that all boards can benefit from these
        changes.

        Additionally, we make it so that this hostapp-update-hook also deletes
        the unnecessary grub.cfg file.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Have 99-resin-grub hostapp-update-hook decide which grub to use
        changelog-entry: Have 99-resin-grub hostapp-update-hook decide which grub to use
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
  version: 2.20.0
  date: 2018-10-18T08:16:00.360Z
- commits:
    - subject: Update Balena to fix tty console hanging in some cases
      hash: 06ae0837d2823587858437d5eb41b8fc5be8e7c6
      body: |
        https://github.com/resin-os/balena/pull/101
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update Balena to fix tty console hanging in some cases
        changelog-entry: Update Balena to fix tty console hanging in some cases
        Signed-off-by: Petros Angelatos <petrosagg@gmail.com>
        signed-off-by: Petros Angelatos <petrosagg@gmail.com>
      author: Petros Angelatos
    - subject: >-
        Pin down cargo deps (using Cargo.lock) to versions known working with
        rust 1.24.1 (for sumo)
      hash: ef3e76f2d343e8cd367214b4b5ce52b3b97be262
      body: |
        With Sumo 19.0.1, when building cargo 0.25.0 we get:
        | error[E0425]: cannot find function `read_to_string` in module `fs`
        |   --> /yocto/resin-board/build/tmp/work/x86_64-linux/cargo-native/
        0.25.0-r0/cargo_home/registry/src/github.com-1ecc6299db9ec823/
        libssh2-sys-0.2.11/build.rs:99:26
        let config = fs::read_to_string("libssh2/src/libssh2_config_cmake.h.in")
        ^^^^^^^^^^^^^^ did you mean `read_string`?

        This is just one example of a package that fails like this. There are
        multiple packages in the cargo source tree that fail with this error.

        The cargo bbclass does a:
        cargo build -v --target x86_64-linux --release

        This has the following effect:
        NOTE:- cargo build -v --target x86_64-linux --release.
        Updating registry `https://github.com/rust-lang/crates.io-index`

        Updating the registry will result in using the versions pinned upstream.
        In our case, it will be using newer versions of packages that require a
        newer rust version (read_to_string was added in rust 1.26.0). But at the
        same time, the meta-rust layer which we use has an older rust version.
        (currently meta-rust on sumo branch has rust at version 1.24.1)

        The fix for such a case would be to use a Cargo.lock file which pins
        the packages to versions which are known to work with rust 1.24.1,
        the version we use in sumo.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: >-
          Pin down cargo deps (using Cargo.lock) to versions known working with
          rust 1.24.1 (for sumo)
        changelog-entry: >-
          Pin down cargo deps (using Cargo.lock) to versions known working with
          rust 1.24.1 (for sumo)
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Remove duplicate packaging of bcm43143
      hash: cef8864000507af337a52e47722274921ccb5982
      body: |
        Yocto Sumo 19.0.1 already packages this firmware separately so let's
        remove the duplication we do here.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Remove duplicate packaging of bcm43143
        changelog-entry: Remove duplicate packaging of bcm43143
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Set ModemManager to ignore Inca Roads Serial Device
      hash: 107ab6747db748201742bf495a1c0f41fb28f1fe
      body: ''
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Set ModemManager to ignore Inca Roads Serial Device
        changelog-entry: Set ModemManager to ignore Inca Roads Serial Device
        Signed-off-by: Petros Angelatos <petrosagg@gmail.com>
        signed-off-by: Petros Angelatos <petrosagg@gmail.com>
      author: Petros Angelatos
    - subject: Add support for aufs 4.14.56+
      hash: 28746ab0d4d14c0def56382b1c1747c009362107
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support for aufs 4.14.56+
        changelog-entry: Add support for aufs 4.14.56+
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Update resin-supervisor to v7.19.7
      hash: 9e595a0cab47b044d445d8aeab23e27a6cff58cc
      body: ''
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v7.19.7
        changelog-entry: Update resin-supervisor to v7.19.7
        Signed-off-by: Cameron Diver <cameron@resin.io>
        signed-off-by: Cameron Diver <cameron@resin.io>
      author: Cameron Diver
  version: 2.19.0
  date: 2018-09-23T15:05:11.877Z
- commits:
    - subject: Add a parsable representation of the changelog
      hash: f6c58c1e4da805e5e53da0af08128b7fb4adb87e
      body: |
        This file allows other components to uniquely parse the information that
        is contained in the changelog. It will be automatically managed by
        versionist by appending the new commits on top. This is needed to
        provide nested-changelogs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Giovanni Garufi <giovanni@resin.io>
        signed-off-by: Giovanni Garufi <giovanni@resin.io>
        Changelog-entry: Add a parsable representation of the changelog
        changelog-entry: Add a parsable representation of the changelog
      author: Giovanni Garufi
  version: 2.18.1
  date: 2018-09-14T12:50:23.575Z
- version: v2.18.0
  date: 2018-09-12T00:00:00.000Z
  commits:
    - subject: >-
        Update grub hooks to prepare to load kernel from root [Zubair Lutfullah
        Kakakhel]
    - subject: 'Update resin-supervisor to v7.19.4 [Cameron Diver]'
    - subject: >-
        Kernel-resin.bbclass: Enable CONFIG_IP_NF_TARGET_LOG as a module [John
        (Jack) Brown]
    - subject: 'Balena: Update to current HEAD of 17.12-resin [Andrei Gherzan]'
    - subject: 'Compress os-config with UPX on arm64 too [Andrei Gherzan]'
    - subject: 'Update upx to 3.95 [Andrei Gherzan]'
    - subject: >-
        Add support to skip flasher detection in env_resin.h [Zubair Lutfullah
        Kakakhel]
    - subject: 'Add the kernel to the rootfs [Zubair Lutfullah Kakakhel]'
    - subject: 'Rework resin-supervisor systemd dependency on balena [Florin Sarbu]'
    - subject: 'Enhanced security options for dropbear - sumo [Andrei Gherzan]'
    - subject: 'Enhanced security options for dropbear - rocko [Andrei Gherzan]'
    - subject: 'Enhanced security options for dropbear - pyro [Andrei Gherzan]'
    - subject: 'Enhanced security options for dropbear - morty [Andrei Gherzan]'
    - subject: 'Enhanced security options for dropbear - krogoth [Andrei Gherzan]'
- commits:
    - subject: >-
        Resin-proxy-config: The no_proxy file fails to parse when missing EOL
        [Rich Bayliss]
  date: 2018-09-03T00:00:00.000Z
  version: 2.17.0
- commits:
    - subject: 'Os-config: UPX is broken on aarch64 [Theodor Gherzan]'
    - subject: 'Allow flasher types to pin preloaded devices [Theodor Gherzan]'
    - subject: 'Disable PIE for go [Zubair Lutfullah Kakakhel]'
    - subject: 'Disable PIE for balena [Zubair Lutfullah Kakakhel]'
  date: 2018-08-31T00:00:00.000Z
  version: 2.16.0
- commits:
    - subject: 'Bump balena version to latest 17.12-resin [Zubair Lutfullah Kakakhel]'
    - subject: 'Update NetworkManager to 1.12.2 [Andrei Gherzan]'
    - subject: 'Avoid os-config-devicekey / uuid service race [Andrei Gherzan]'
    - subject: 'Move the rw copy of config.json out of /tmp for flasher [Andrei Gherzan]'
    - subject: 'Fix dashboard feedback on fast flashing devices [Andrei Gherzan]'
    - subject: 'Fix ucl dependency in upx [Andrei Gherzan]'
    - subject: 'Update kernel-modules-headers to v0.0.11 [Andrei Gherzan]'
  date: 2018-08-28T00:00:00.000Z
  version: 2.15.0
- commits:
    - subject: 'Update resin supervisor to v7.16.6 [Cameron Diver]'
  date: 2018-08-13T00:00:00.000Z
  version: 2.14.3
- commits:
    - subject: 'Update usb-modeswitch to version 2.5.0 [Florin Sarbu]'
    - subject: 'Fix kernel-modules-headers compile missing bio.h [Florin Sarbu]'
    - subject: 'Enable kernel config CONFIG_USB_SERIAL_CP210X as module [Andrei Gherzan]'
    - subject: 'Update resin supervisor to v7.16.4 [Cameron Diver]'
  date: 2018-08-13T00:00:00.000Z
  version: 2.14.2
- commits:
    - subject: 'Fix ModemManager journald logs [Andrei Gherzan]'
    - subject: 'Fix openvpn journald logs [Andrei Gherzan]'
    - subject: 'Set maximum openvpn reconnect timeout to 2 minutes [Andrei Gherzan]'
    - subject: >-
        Resin-image: Handle absolute paths in RESIN_BOOT_PARTITION_FILES [Andrei
        Gherzan]
    - subject: 'Exclude writable files from image''s fingerprints file [Andrei Gherzan]'
    - subject: 'Update resin-supervisor to v7.16.2 [Andrei Gherzan]'
    - subject: >-
        Use v4 API calls, move auth token into the request header [Gergely
        Imreh]
    - subject: 'Fix no-pie variable name in tini rocko [Andrei Gherzan]'
    - subject: 'Fix alternative builds warnings in busybox [Andrei Gherzan]'
    - subject: 'Don''t compile mobynit in rocko with PIE [Andrei Gherzan]'
    - subject: 'Fix key replace build warnings [Andrei Gherzan]'
    - subject: 'Update go in krogoth to v1.9.4 [Andrei Gherzan]'
    - subject: 'Update go in morty to v1.9.4 [Andrei Gherzan]'
    - subject: 'Update go in pyro to v1.9.4 [Andrei Gherzan]'
    - subject: 'Update balena to version 17.12 [Andrei Gherzan]'
    - subject: >-
        Fix when ntp servers passed via config.json and dhcp [Zubair Lutfullah
        Kakakhel]
    - subject: 'Disable PIE for the aufs-util package for Rocko boards [Andrei Gherzan]'
    - subject: 'Disable PIE for the aufs-util package for Sumo boards [Florin Sarbu]'
    - subject: 'Update resin supervisor to v7.16.0 [Andrei Gherzan]'
    - subject: 'Document supported modems [Andrei Gherzan]'
  date: 2018-08-02T00:00:00.000Z
  version: 2.14.1
- commits:
    - subject: >-
        Allow re-run of useradd commands in docker-disk's entry.sh [Andrei
        Gherzan]
    - subject: 'Update rust to 1.20 and cargo to 0.21.0 in Morty [Andrei Gherzan]'
    - subject: 'Update rust to 1.20 and cargo to 0.21.0 in Krogoth [Andrei Gherzan]'
    - subject: >-
        Unify managed and unmanaged images and introduce os-config [Andrei
        Gherzan]
  date: 2018-07-17T00:00:00.000Z
  version: 2.14.0
- commits:
    - subject: 'Update resin-supervisor v 7.14.0 [Cameron Diver]'
    - subject: 'Fix rootfs fingerprints on poky rocko or newer [Andrei Gherzan]'
    - subject: 'Reboot device if there is a kernel panic [Zubair Lutfullah Kakakhel]'
  date: 2018-07-13T00:00:00.000Z
  version: 2.13.6
- commits:
    - subject: 'Update resin-supervisor to v7.13.2 [Cameron Diver]'
  date: 2018-07-09T00:00:00.000Z
  version: 2.13.5
- commits:
    - subject: 'Avoid overwriting SECURITY_CFLAGS for tini recipe [Andrei Gherzan]'
    - subject: 'Fix tini segfault after sumo update [Andrei Gherzan]'
  date: 2018-07-09T00:00:00.000Z
  version: 2.13.4
- commits:
    - subject: 'Update ModemManager to 1.8.0 [Andrei Gherzan]'
    - subject: 'Switch NetworkManager to using the internal DHCP client [Andrei Gherzan]'
    - subject: 'Update NetworkManager to 1.12.0 [Andrei Gherzan]'
    - subject: 'Update resin-supervisor to 7.13.1 [Cameron Diver]'
  date: 2018-07-05T00:00:00.000Z
  version: 2.13.3
- commits:
    - subject: 'Update balena to fix boot lag [Andrei Gherzan]'
    - subject: 'Set DHCP timeout to infinity for IPv4 [Florin Sarbu]'
    - subject: 'Add aufs support for kernels 4.15, 4.16 and 4.17 [Florin Sarbu]'
  date: 2018-06-28T00:00:00.000Z
  version: 2.13.2
- commits:
    - subject: >-
        Fix mobynit runtime crash when compiled with gcc 7.3.0 with static PIE
        support enabled [Florin Sarbu]
    - subject: 'Fix typo in balena systemd service [Andrei Gherzan]'
    - subject: >-
        Various fixes for issues introduced by the switch to chrony [Andrei
        Gherzan]
    - subject: 'Fsck all partitions if resin-data isn''t seen [Zubair Lutfullah Kakakhel]'
    - subject: 'Remove jethro and fido yocto versions support [Andrei Gherzan]'
    - subject: 'Update resin-supervisor to 7.11.0 [Cameron Diver]'
    - subject: 'Replace systemd-timesyncd with chrony [Zubair Lutfullah Kakakhel]'
    - subject: 'Set ModemManager to ignore STM32F407 devices [Andrei Gherzan]'
  date: 2018-06-15T00:00:00.000Z
  version: 2.13.1
- commits:
    - subject: 'Update resin-supervisor to 7.10.0 [Cameron Diver]'
    - subject: 'Add support for yocto sumo [Andrei Gherzan]'
    - subject: 'Update Readme.md with more yocto versions [Zubair Lutfullah Kakakhel]'
    - subject: >-
        Docker-resin-supverisor-disk: Update supervisor to version 7.9.0 [Akis
        Kesoglou]
    - subject: >-
        Docker-resin-supverisor-disk: Update supervisor to version 7.5.6
        [Cameron Diver]
  date: 2018-06-06T00:00:00.000Z
  version: 2.13.0
- commits:
    - subject: 'Fix typo in timeinit-timestamp service [Andrei Gherzan]'
    - subject: 'Use system clock at boot based on RTC when available [Andrei Gherzan]'
    - subject: 'Update Network Manager to version 1.10.2 [Florin Sarbu]'
    - subject: 'Adds Teensy udev rules [Henry Miskin]'
  date: 2018-05-04T00:00:00.000Z
  version: 2.12.7
- commits:
    - subject: 'Initialize system clock using the build time [Andrei Gherzan]'
    - subject: 'Fix typo in resin-mounts [Mans Zigher]'
    - subject: 'Update supervisor to v7.4.3 [Pablo Carranza Velez]'
    - subject: 'Update supervisor to v7.4.2 [Akis Kesoglou]'
    - subject: 'Move to Supervisor v7.4.1. [Heds Simons]'
    - subject: >-
        Pass self-signed CA data to the Supervisor and for Docker registry
        trust. [Heds Simons]
    - subject: >-
        Extract `balenaRootCA` property from `config.json` to allow
        interoperation with a self-signed service. [Heds Simons]
    - subject: >-
        Split resin specific changes in dnsmasq in a separate bbappend [Andrei
        Gherzan]
    - subject: 'Allow not existing supervisor.conf file [Bruno Binet]'
    - subject: >-
        Remove remnants of 1.x updater, which is not needed anymore [Gergely
        Imreh]
    - subject: >-
        Allow update resin spervisor when API endpoint is not available [Andrei
        Gherzan]
    - subject: >-
        Apply upstream patch for redsocks to fix http-config regression [Gergely
        Imreh]
    - subject: 'Update supervisor to v7.1.20 [Akis Kesoglou]'
  date: 2018-04-30T00:00:00.000Z
  version: 2.12.6
- commits:
    - subject: 'Fig slang configure build warning [Andrei Gherzan]'
    - subject: 'Fix racing issue of state label existance in initramfs [Andrei Gherzan]'
    - subject: 'Stop dependending on udev settle at boot [Andrei Gherzan]'
  date: 2018-03-22T00:00:00.000Z
  version: 2.12.5
- commits:
    - subject: 'Fix persistent logging [Andrei Gherzan]'
    - subject: 'USB Modem (CDC ACM) support enabled as kernel module [Andrei Gherzan]'
    - subject: 'Update supervisor to v7.1.18 [Pablo Carranza Velez]'
    - subject: >-
        Add support for persistent NetworkManager state directory [Andrei
        Gherzan]
  date: 2018-03-20T00:00:00.000Z
  version: 2.12.4
- commits:
    - subject: 'Update supervisor to v7.1.14 [Florin Sarbu]'
  date: 2018-03-15T00:00:00.000Z
  version: 2.12.3
- commits:
    - subject: 'Update supervisor to v7.1.11 [Akis Kesoglou]'
    - subject: 'Balena: Update package to include deadlock fix [Andrei Gherzan]'
    - subject: 'Remove bashisms in resin-init-flasher recipe [Andrei Gherzan]'
  date: 2018-03-14T00:00:00.000Z
  version: 2.12.2
- commits:
    - subject: 'Disable openvpn time-based tls key renegotiation [Will Boyce]'
  date: 2018-03-12T00:00:00.000Z
  version: 2.12.1
- commits:
    - subject: 'Update supervisor to v7.1.7 [Theodor Gherzan]'
  date: 2018-03-09T00:00:00.000Z
  version: 2.12.0
- commits:
    - subject: 'Update supervisor to v7.1.3 [Andrei Gherzan]'
  date: 2018-03-09T00:00:00.000Z
  version: 2.11.2
- commits:
    - subject: >-
        Resin-vars: Assume VPN port 443 if 1723 is provided in config.json
        [Andrei Gherzan]
    - subject: 'Make update-resin-supervisor POSIX compliant [Andrei Gherzan]'
    - subject: 'Add resin-openvpn.service alias for openvpn.service [Andrei Gherzan]'
  date: 2018-03-08T00:00:00.000Z
  version: 2.11.1
- commits:
    - subject: >-
        Fix docker-disk when docker build fails to not leave root files behind
        [Andrei Gherzan]
    - subject: 'Update supervisor to v7.1.0 [Pablo Carranza Velez]'
    - subject: 'Fix connectivity in flasher images [Andrei Gherzan]'
    - subject: 'Add missing kernel config dependency for leds-gpio [Andrei Gherzan]'
  date: 2018-03-08T00:00:00.000Z
  version: 2.11.0
- commits:
    - subject: 'Fix docker-disk when not including any docker image [Florin Sarbu]'
  date: 2018-02-28T00:00:00.000Z
  version: 2.10.1
- commits:
    - subject: >-
        Make sure rocko update doesn't add packages resinOS doesn't depend on
        [Andrei Gherzan]
    - subject: 'Run bluetoothd with --experimental flag [Andrei Gherzan]'
    - subject: 'Resin-image-flasher fixes for rocko support [Andrei Gherzan]'
    - subject: >-
        Use the correct, full yocto CC/CXX variables when using go [Andrei
        Gherzan]
    - subject: 'Fix 8000c in PACKAGES [Andrei Gherzan]'
    - subject: >-
        Always have /lib/modules directory in rootfs as supervisor requires it
        [Andrei Gherzan]
    - subject: >-
        Fix console output when running resinOS with systemd >= 232 [Andrei
        Gherzan]
    - subject: >-
        Bring back the package which includes firmware for wilwifi 8000c [Andrei
        Gherzan]
    - subject: 'Update OpenVPN to 2.4.3 [Andrei Gherzan]'
    - subject: >-
        Replace deprecated variable IMAGE_DEPENDS from image_types_resin.bbclass
        [Florin Sarbu]
    - subject: >-
        Replace deprecated variable IMAGE_DEPENDS from resin-image-flasher.bb
        [Florin Sarbu]
    - subject: >-
        Adapt sysroot services/units to be used with resinOS in container
        [Andrei Gherzan]
    - subject: 'Remove deprecated firmware: 8000c [Andrei Gherzan]'
    - subject: >-
        Resin-state-reset: This service now only removes the root-overlay
        [Andrei Gherzan]
    - subject: 'Fix resin-provisioner 1.0.4 compile error on Poky Rocko [Florin Sarbu]'
    - subject: >-
        Make resin-provisioner only package the resulted go binary [Florin
        Sarbu]
    - subject: 'Prepare the balena recipe for Poky Rocko [Florin Sarbu]'
    - subject: >-
        Use update-alternatives for deploying resolv.conf through dnsmasq
        [Florin Sarbu]
    - subject: >-
        Make ModemManager depend on libxslt-native at build-time for Poky Rocko
        [Florin Sarbu]
    - subject: 'Add initial structure for supporting Poky Rocko [Florin Sarbu]'
    - subject: >-
        Do not apply the use_atomic_key_generation_in_all_cases patch for
        dropbear 2017.75 or newer [Florin Sarbu]
    - subject: 'Make image-resin.bbclass depend on jq-native at buildtime [Florin Sarbu]'
    - subject: >-
        Fix ucl-native ACC conformance test configure error on gcc6 [Florin
        Sarbu]
    - subject: 'Update ModemManager to version 1.7.990 [Florin Sarbu]'
    - subject: >-
        Rename partition mount services to <label>.service and handle stopping
        services [Andrei Gherzan]
    - subject: 'Rename openvpn-resin service to openvpn [Andrei Gherzan]'
    - subject: >-
        Kernel-resin: Fix warnings about CONFIG_DEVPTS_MULTIPLE_INSTANCES
        [Andrei Gherzan]
    - subject: 'Update supervisor to v6.6.3 [Pablo Carranza Velez]'
    - subject: 'Let systemd handle openvpn run directory [Andrei Gherzan]'
    - subject: 'Add support for running resinOS in a docker container [Andrei Gherzan]'
    - subject: 'Add fs check for boot partition in initramfs [Andrei Gherzan]'
    - subject: 'Fix kernel-modules-headers when building from sstate [Andrei Gherzan]'
    - subject: >-
        Avoid mount warnings when using systemd mount units on files [Andrei
        Gherzan]
    - subject: 'Add support for private docker registry [Bruno Binet]'
    - subject: 'Docker-disk: Various improvements [Andrei Gherzan]'
    - subject: 'Networkmanager: Use bash-completion bbclass [Andrei Gherzan]'
    - subject: 'Use VPN port from config.json (defaulting it to 443) [Andrei Gherzan]'
    - subject: 'Housekeeping: adding PR template [Gergely Imreh]'
    - subject: 'Replace busybox less by GNU less [Andrei Gherzan]'
    - subject: >-
        Fix BALENA_STORAGE when machine specific definition is used [Andrei
        Gherzan]
    - subject: 'Coreutils: Set uptime to use procfs for accurate uptime [Andrei Gherzan]'
  date: 2018-02-27T00:00:00.000Z
  version: 2.10.0
- commits:
    - subject: 'Install os-release file in the boot partition [Andrei Gherzan]'
    - subject: 'Update balena to include locks fix [Andrei Gherzan]'
    - subject: 'Healthdog: Fix RPATH on newer meta-rust [Andrei Gherzan]'
    - subject: 'Update supervisor to v6.6.0 [Pablo Carranza Velez]'
  date: 2018-01-26T00:00:00.000Z
  version: 2.9.7
- commits:
    - subject: 'Update supervisor to v6.5.9 [Pablo Carranza Velez]'
  date: 2018-01-12T00:00:00.000Z
  version: 2.9.6
- commits:
    - subject: 'Update supervisor to v6.5.8 [Pablo Carranza Velez]'
  date: 2018-01-11T00:00:00.000Z
  version: 2.9.5
- commits:
    - subject: >-
        Systemd: Backport patch to fix Remote DOS of systemd-resolve service
        [Andrei Gherzan]
    - subject: >-
        Hostapp-update: Bind mount /dev from host so we can resolv labels
        [Andrei Gherzan]
    - subject: >-
        NetworkManager: Allow managing non-balena bridge interfaces [Andrei
        Gherzan]
  date: 2018-01-10T00:00:00.000Z
  version: 2.9.4
- commits:
    - subject: 'Add lsof package [Florin Sarbu]'
    - subject: 'Bring back resin-device-progress in resin-image [Andrei Gherzan]'
    - subject: 'Update supervisor to v6.5.7 [Pablo Carranza Velez]'
    - subject: 'Make hostapp-update-hooks rollback on failure optional [Gergely Imreh]'
  date: 2018-01-09T00:00:00.000Z
  version: 2.9.3
- commits:
    - subject: 'Activate memory/swap cgroups in kernel [Andrei Gherzan]'
    - subject: >-
        Make the grub hostapp update hook also work with non-EFI grub configs
        [Florin Sarbu]
  date: 2017-12-18T00:00:00.000Z
  version: 2.9.2
- commits:
    - subject: 'Update supervisor to v6.5.3 [Pablo Carranza Velez]'
    - subject: >-
        Pass /mnt/root/var/lib/docker as DOCKER_ROOT to the supervisor [Florin
        Sarbu]
  date: 2017-12-12T00:00:00.000Z
  version: 2.9.1
- commits:
    - subject: 'Update supervisor to v6.5.1 [Pablo Carranza Velez]'
    - subject: >-
        Use healthcheck with systemd and healthdog for supervisor [Andrei
        Gherzan]
    - subject: 'Update supervisor to v6.5.0 [Pablo Carranza Velez]'
    - subject: >-
        Fix openvpn reporting when connectivity goes out, due to a filesystem
        permissions issue [Pablo Carranza Velez]
    - subject: 'Update balena cu include healthcheck support [Andrei Gherzan]'
    - subject: 'Add healthdog monitoring of balena [Andrei Gherzan]'
    - subject: 'Run the update container as privileged [Florin Sarbu]'
    - subject: 'Fix 0-bootfiles when running hooks [Andrei Gherzan]'
    - subject: 'Add the lsblk binary to the flasher rootfs [Florin Sarbu]'
    - subject: >-
        Add boot partition space check for 0-bootfiles hostapp-update hook
        [Andrei Gherzan]
    - subject: >-
        Fix hostapp-update to run the hooks for the OS we update to [Andrei
        Gherzan]
    - subject: 'Switch to balena [Andrei Gherzan]'
  date: 2017-12-11T00:00:00.000Z
  version: 2.9.0
- commits:
    - subject: 'Kernel-modules-headers: Include aarch64 fix [Theodor Gherzan]'
  date: 2017-12-01T00:00:00.000Z
  version: 2.8.1
- commits:
    - subject: 'Support for legacy bootloaders [Theodor Gherzan]'
    - subject: 'Update NetworkManager to version 1.10.0 [Florin Sarbu]'
    - subject: 'Update aufs for kernel versions from 4.4 to 4.13 [Florin Sarbu]'
  date: 2017-11-30T00:00:00.000Z
  version: 2.8.0
- commits:
    - subject: >-
        Do our best to ensure we copy to internal media the config.json after
        resin-device-register was able to register the board [Florin Sarbu]
  date: 2017-11-17T00:00:00.000Z
  version: 2.7.8
- commits:
    - subject: >-
        Delete the provisioning key after registering, to fix VPN authentication
        in flasher images [Pablo Carranza Velez]
    - subject: >-
        Resin-image-initramfs: Include ext4 filesystem check module in our
        initramfs [Florin Sarbu]
    - subject: 'Hostapp-update-hooks: fix typos in hook [Gergely Imreh]'
    - subject: >-
        Image-resin.bbclass: Add build time dependency on coreutils-native
        [Florin Sarbu]
    - subject: >-
        Hostapp-update-hooks: Use boot files list from the 'next' OS [Andrei
        Gherzan]
    - subject: >-
        Add required kernel config dependency for being able to use redsocks
        [Florin Sarbu]
    - subject: >-
        Check for enough space in boot partition to support atomic copy
        operations [Andrei Gherzan]
    - subject: 'Update libmbim to version 1.14.2 [Florin Sarbu]'
    - subject: 'Update libqmi to version 1.18.0 [Florin Sarbu]'
  date: 2017-11-17T00:00:00.000Z
  version: 2.7.7
- commits:
    - subject: 'Add supervisor for the intel-quark family [Theodor Gherzan]'
    - subject: 'Update ModemManager to version 1.6.10 [Florin Sarbu]'
    - subject: 'Update supervisor to v6.4.2 [Pablo Carranza Velez]'
  date: 2017-11-06T00:00:00.000Z
  version: 2.7.6
- commits:
    - subject: 'Ensure OpenVPN is restarted when config.json changes [Will Newton]'
    - subject: 'Support grub boards with hostapp-update-hooks [Theodor Gherzan]'
  date: 2017-10-30T00:00:00.000Z
  version: 2.7.5
- commits:
    - subject: 'Update supervisor to v6.3.6 [Pablo Carranza Velez]'
  date: 2017-10-24T00:00:00.000Z
  version: 2.7.4
- commits:
    - subject: 'Update API call in update-resin-supervisor for pine 5 [Gergely Imreh]'
    - subject: >-
        Fix start-resin-supervisor to start even when no supervisor image
        present [Gergely Imreh]
    - subject: 'Update supervisor to v6.3.5 [Akis Kesoglou]'
    - subject: 'Fix fsck of boot partition with dosfstools [Will Newton]'
    - subject: 'Backport ModemManager flow control patches [Will Newton]'
    - subject: 'Update dnsmasq to 2.78 [Will Newton]'
  date: 2017-10-20T00:00:00.000Z
  version: 2.7.3
- commits:
    - subject: 'Fix mkfs.hostapp-ext4 with pyro [Andrei Gherzan]'
    - subject: 'Fix a syntax error in image_types_resin [Andrei Gherzan]'
    - subject: 'Add a fixed goarch.bbclass for pyro [Will Newton]'
    - subject: 'Docker: Improved pull progress reporting [Akis Kesoglou]'
    - subject: 'Update supervisor to v6.3.1 [Akis Kesoglou]'
  date: 2017-10-05T00:00:00.000Z
  version: 2.7.2
- commits:
    - subject: 'Update docker [Theodor Gherzan]'
    - subject: 'Ensure docker links with systemd in pyro [Will Newton]'
  date: 2017-10-04T00:00:00.000Z
  version: 2.7.1
- commits:
    - subject: 'Add support for overaly2 in mobynit [Theodor Gherzan]'
    - subject: 'GPT support [Theodor Gherzan]'
    - subject: >-
        Update-resin-supervisor: device API key is substituted incorrectly
        [Gergely Imreh]
    - subject: 'Support kernel 4.13 [Will Newton]'
    - subject: 'Update supervisor to v6.3.0 [Akis Kesoglou]'
  date: 2017-10-04T00:00:00.000Z
  version: 2.7.0
- commits:
    - subject: 'Fixes for Pyro-based flasher images [Will Newton]'
    - subject: 'Sort config.json keys [Will Newton]'
  date: 2017-09-27T00:00:00.000Z
  version: 2.6.1
- commits:
    - subject: 'Provide generic hostapp update hooks [Andrei Gherzan]'
    - subject: 'Deploy a list of boot files in root partition [Andrei Gherzan]'
    - subject: 'Update supervisor to v6.2.9 [Pablo Carranza Velez]'
    - subject: 'Add usbutils package [Will Newton]'
    - subject: 'Switch docker to inherit from Go class [Will Newton]'
    - subject: 'Enable zram kernel module by default [Will Newton]'
    - subject: >-
        Make sure hci bluetooth interfaces are activated once booted [Florin
        Sarbu]
    - subject: 'Enable kernel stack protection [Will Newton]'
    - subject: 'Enable Yocto security flags on all builds [Will Newton]'
    - subject: >-
        Update gnutls to 3.5.9 in morty because of blocking NetworkManager
        [Robert Fritzsche]
  date: 2017-09-20T00:00:00.000Z
  version: 2.6.0
- commits:
    - subject: >-
        Force use of host's docker daemon for the docker-disk recipe [Florin
        Sarbu]
    - subject: 'Remove unused plymouth files to reduce size [Michal Mazurek]'
  date: 2017-09-13T00:00:00.000Z
  version: 2.5.1
- commits:
    - subject: 'Remove obsolete Go recipes [Will Newton]'
    - subject: 'Dynamically link docker [Petros Angelatos]'
    - subject: 'Include connectivity firmwares in Pyro [Will Newton]'
    - subject: 'Add glib-2.0-native dependencies for Pyro [Will Newton]'
    - subject: 'Switch to hostapp enabled rootfs [Petros Angelatos]'
    - subject: 'Update docker to 17.06 [Petros Angelatos]'
    - subject: 'Update modem manager to 1.6.8 [Andrei Gherzan]'
    - subject: 'Use poky go recipes for Pyro and above [Will Newton]'
    - subject: 'Patch mtools directory creation [Will Newton]'
    - subject: 'Enable building Docker on Yocto Pyro [Will Newton]'
    - subject: 'Enable fsck for resin-state partition [Will Newton]'
    - subject: 'Add host tool dependencies for Yocto Pyro [Will Newton]'
    - subject: 'Move systemd sanity check to image recipes [Will Newton]'
    - subject: 'Disable rarely used kernel configs for size [Will Newton]'
  date: 2017-09-12T00:00:00.000Z
  version: 2.5.0
- commits:
    - subject: 'Update NetworkManager to 1.8.2 [Andrei Gherzan]'
    - subject: 'Only install systemd-analyze in development images [Will Newton]'
    - subject: >-
        Avoid removing the supervisor container when the supervisor exits [Pablo
        Carranza Velez]
    - subject: 'Update supervisor to v6.2.5 [Pablo Carranza Velez]'
  date: 2017-08-31T00:00:00.000Z
  version: 2.4.2
- commits:
    - subject: >-
        Fix variable referencing in default variable substitution inside
        prepare-openvpn script [Florin Sarbu]
  date: 2017-08-24T00:00:00.000Z
  version: 2.4.1
- commits:
    - subject: 'Use separate line for version in changelog file [Andrei Gherzan]'
    - subject: 'Run OpenVPN service as openvpn user [Andreas Fitzek]'
    - subject: 'Update supervisor to v6.2.1 [Akis Kesoglou]'
    - subject: 'Watch for VPN config changes in config.json [Pagan Gazzard]'
  date: 2017-08-23T00:00:00.000Z
  version: 2.4.0
- commits:
    - subject: >-
        Resize the splash logo to full screen instead of half screen [Gergely
        Imreh]
    - subject: 'Set docker bridge subnet to 10.114.101.1/24 [Petros Angelatos]'
    - subject: 'Re-enable UPX compression on AArch64 [Will Newton]'
    - subject: 'Resin-device-progress: fix typos that broke script [Gergely Imreh]'
    - subject: 'Upgrade upx to 3.94 [Will Newton]'
    - subject: 'Set deviceType in config.json [Will Newton]'
    - subject: 'Update supervisor to v6.1.3 [Pablo Carranza Velez]'
    - subject: 'Fix typo in resin-persistent-logs [Will Newton]'
    - subject: 'Use BBCLASSEXTEND rather than inherit native [Florin Sarbu]'
  date: 2017-08-16T00:00:00.000Z
  version: 2.3.0
- commits:
    - subject: 'Update supervisor to v6.1.2 [Pablo Carranza Velez]'
    - subject: 'Support building with Yocto Pyro [Will Newton]'
    - subject: 'Disable resin-sample NetworkManager connection [Will Newton]'
    - subject: 'Remove support for Yocto Daisy [Will Newton]'
  date: 2017-07-28T00:00:00.000Z
  version: 2.2.0
- commits:
    - subject: 'Update supervisor to v6.0.1 [Pablo Carranza Velez]'
    - subject: 'Add support for overlay2 as docker storage driver [Andrei Gherzan]'
    - subject: >-
        Detect filesystem type automatically in resin mount systemd services
        [Michal Mazurek]
    - subject: 'Fix util-linux to work with ubifs [Michal Mazurek]'
    - subject: 'Allow setting DNS servers in config.json [Will Newton]'
    - subject: >-
        Make sure resin-state-reset doesn't end up in an inconsistent state
        [Andrei Gherzan]
    - subject: 'Remove latest supervisor tag as it is not used anymore [Andrei Gherzan]'
    - subject: 'Add NTP configuration service [Will Newton]'
    - subject: 'Use full list of resin NTP servers [Will Newton]'
    - subject: 'Document config.json keys in README.md [Will Newton]'
    - subject: >-
        Document Change-type and Changelog-entry git commit footers [Andrei
        Gherzan]
    - subject: 'Add systemd as a required distro feature [Will Newton]'
  date: 2017-07-19T00:00:00.000Z
  version: 2.1.0
- commits:
    - subject: 'Fix splash image migration in flasher images [Andrei Gherzan]'
    - subject: 'Add missing netfilter configs for our redsocks usage [Florin Sarbu]'
  date: 2017-07-06T00:00:00.000Z
  version: 2.0.9
- commits:
    - subject: 'Resin-vars: Fetch all the vars in resin-vars [Pagan Gazzard]'
    - subject: 'Add comment in supervisor.conf for clarity [Petros Angelatos]'
    - subject: 'Prevent supervisor from killing itself [Pablo Carranza Velez]'
    - subject: >-
        Store both image and tag in the temporary supervisor.conf [Pablo
        Carranza Velez]
    - subject: 'Use current changelog format with versionist [Andrei Gherzan]'
    - subject: >-
        Update supervisor to v5.1.0 and use aarch64-supervisor for aarch64
        [Pablo Carranza Velez]
    - subject: 'Validate docker config from disk to avoid panicing [Petros Angelatos]'
    - subject: 'Versionist: add support for full versionist use [Gergely Imreh]'
  date: 2017-07-04T00:00:00.000Z
  version: 2.0.8
- commits:
    - subject: 'Add support for transparent proxy redirection using redsocks [Pablo]'
    - subject: 'Add prerequisites for ipk packages in resinOS images [Andrei]'
    - subject: 'Update supervisor to v5.0.0 [Pablo]'
    - subject: 'Allow downloading a missing supervisor [Will]'
    - subject: 'Add busybox patch to fix tar unpacking [Will]'
    - subject: 'Include support for the RT5572 wireless chipset [Theodor]'
    - subject: 'Add a quirk for /etc/mtab [Will]'
    - subject: 'Switch to resin.io ntp pool [petrosagg]'
    - subject: 'Undefine backwards compatibilty variable, INITRAMFS_TASK [Theodor]'
    - subject: 'Enable CONFIG_KEYS, docker 17 requirment [Theodor]'
    - subject: 'Update NetworkManager to 1.8.0 [Andrei]'
    - subject: 'Update supervisor to v4.3.1 [Andrei]'
    - subject: 'Set NetworkManager connection attempts to infinity [petrosagg]'
    - subject: 'Update Docker to 17.03.1 [Theodor]'
    - subject: 'Include fsck.vfat in resinOS [Andrei]'
  date: 2017-06-28T00:00:00.000Z
  version: 2.0.7
- commits:
    - subject: 'Update supervisor to v4.2.4 [Pablo]'
  date: 2017-06-06T00:00:00.000Z
  version: 2.0.6
- commits:
    - subject: 'Fix dependencies for mount service in /var/lib [Andrei]'
    - subject: 'Various build fixes when using other package formats like ipk [Andrei]'
    - subject: >-
        Define IMAGE_NAME_SUFFIX, needed for resinhup, for Yocto versions older
        than Morty [Florin]
    - subject: >-
        Add support for modifying the regulatory domain for wifi interfaces
        [Michal]
    - subject: 'Add support for qmi and mbim cell modems [Joshua]'
    - subject: >-
        Disable all password logins on production images, rather than just root
        logins - this gets rid of the password prompt dialog that users have
        seen. [Page]
  date: 2017-06-02T00:00:00.000Z
  version: 2.0.5
- commits:
    - subject: >-
        Enable the resin-uboot implementation to also boot flasher images from
        USB media [Florin]
    - subject: 'Use supervisor tag as supervisor recipe PV [Andrei]'
  date: 2017-05-16T00:00:00.000Z
  version: 2.0.4
- commits:
    - subject: 'Copy resinOS_uEnv.txt from external to internal media [Theodor]'
    - subject: 'Fix resin-state-conf copying mechanism [Theodor]'
    - subject: 'Don''t fingerprint config.json [Andrei]'
    - subject: 'Prevent resin-unique-key from running concurrently [Michal]'
    - subject: 'Add iwlwifi 8265 firmware [Florin]'
    - subject: 'Disable coredumps [Jon]'
    - subject: 'Add bind mounts for systemd persistent data [Jon]'
    - subject: 'Update supervisor to v4.2.2 [Page]'
    - subject: 'Explicitly set CONFIG_HIDRAW=y [Michal]'
    - subject: 'Fix symlink creation in resinhup_backwards_compatible_link() [Michal]'
  date: 2017-05-10T00:00:00.000Z
  version: 2.0.3
- commits:
    - subject: 'Fix build of kernel-modules-headers on kernel 4.8+ [Andrei]'
    - subject: 'Use ondemand as default governor [Andrei]'
    - subject: 'Do not force fsck on the data partition [Theodor]'
    - subject: >-
        Switch to the new device register endpoint which exchanges the
        provisioning key for a device api key [Page]
    - subject: >-
        Switch to using a device api key for api calls and vpn authentication if
        it is present [Page]
  date: 2017-04-24T00:00:00.000Z
  version: 2.0.2
- commits:
    - subject: 'Don''t use getty generator even for development images [Andrei]'
    - subject: 'Fix resinos-img image compression [Theodor]'
    - subject: 'Revert 05288ce19781f9ab3b8c528f49537516b58db050 [Theodor]'
    - subject: 'Update NetworkManager to version 1.6.2 [Florin]'
    - subject: 'Update supervisor to v4.1.2 [Pablo]'
    - subject: 'Add aufs hashes for more kernel versions [fboudra]'
    - subject: 'Calculate IMAGE_ROOTFS_MAXSIZE dynamically [fboudra]'
    - subject: 'Don''t attempt UPX compression on aarch64 [fboudra]'
    - subject: 'Tidy arch detection in kernel-modules-headers [fboudra]'
  date: 2017-04-19T00:00:00.000Z
  version: 2.0.1
- date: 2017-03-31T00:00:00.000Z
  version: 2.0.0
- commits:
    - subject: 'Update supervisor to v4.1.1 [Pablo]'
    - subject: >-
        Replace echo with info in the resindataexpander initramfs script
        [Florin]
    - subject: 'Don''t stop plymouth at boot [Andrei]'
  date: 2017-03-31T00:00:00.000Z
  version: 2.0.0-rc6
- commits:
    - subject: 'Fix busybox switch_root when console=null [Andrei]'
    - subject: 'Make the initrams framework also parse root=LABEL= params [Florin]'
    - subject: 'Fix audit disable dependencies [Theodor]'
    - subject: 'Properly implement the ro_rootfs script [Theodor]'
    - subject: 'Make rootfs identical to resinhup packages [Andrei]'
  date: 2017-03-24T00:00:00.000Z
  version: 2.0.0-rc5
- commits:
    - subject: >-
        Enable by-partuuid symlinks for our DOS partition scheme also for Poky
        Jethro and Poky Krogoth based boards [Florin]
    - subject: 'Ship with e2fsprogs-tune2fs [Michal]'
  date: 2017-03-17T00:00:00.000Z
  version: 2.0.0-rc4
- commits:
    - subject: 'Fix flasher detection in initramfs scripts [Andrei]'
    - subject: 'Fix initramfs-framework build on morty [Andrei]'
  date: 2017-03-14T00:00:00.000Z
  version: 2.0.0-rc3
- commits:
    - subject: 'Fix initramfs-framework for non-morty boards [Theodor]'
    - subject: 'Fix flasher when it might corrupt the internal device [Andrei]'
  date: 2017-03-14T00:00:00.000Z
  version: 2.0.0-rc2
- commits:
    - subject: 'Use stateless flasher partitions [Andrei]'
    - subject: 'Refactor persistent logging [Theodor]'
    - subject: 'Add support for RDT promote [Andrei]'
    - subject: 'Fix image flag files on non uboot boards [Andrei]'
    - subject: 'Update supervisor to v4.0.0 [Pablo]'
    - subject: >-
        Change "test -z" with "test -n" in the U-Boot MMC scanning procedure
        [Florin]
    - subject: 'Implement MMC scanning for U-Boot [Andrei]'
    - subject: 'Resin-info should not be present in our production images [Theodor]'
    - subject: 'Implement resin-uboot based on v2.0 specification [Andrei]'
  date: 2017-03-10T00:00:00.000Z
  version: 2.0.0-rc1
- commits:
    - subject: 'Fix a compile error on krogoth boards [Andrei]'
  date: 2017-02-27T00:00:00.000Z
  version: 2.0.0-beta13
- commits:
    - subject: 'Disable audit subsystem [Theodor]'
    - subject: 'Run openvpn on flasher too [Andrei]'
    - subject: 'Add VARIANT/VARIANT_ID in os-release [Andrei]'
    - subject: >-
        Modify partitions label, define entire resinOS space used to 700MiB and
        other minor changes [Andrei]
    - subject: 'Update supervisor to v3.0.1 [Pablo]'
    - subject: 'Configure an armv7ve repository for the Resin Supervisor [Michal]'
    - subject: >-
        Fix the location where to create the resinhup bundles when using poky
        morty [Florin]
    - subject: >-
        Introduce debug tools package group add mkfs.ext4 in resin-image
        [Andrei]
    - subject: 'Halve the UUID length to 16 bytes [Michal]'
  date: 2017-02-27T00:00:00.000Z
  version: 2.0.0-beta12
- commits:
    - subject: 'Fix sectors per track for targets smaller than 512 MB [Andrei]'
  date: 2017-02-15T00:00:00.000Z
  version: 2.0.0-beta11
- commits:
    - subject: 'Introduce new host OS versioning scheme [Andrei]'
    - subject: 'Add jethro support [Andrei]'
    - subject: 'Fix missing quotes when testing for IMGDEPLOYDIR [Florin]'
  date: 2017-02-13T00:00:00.000Z
  version: 2.0.0-beta10
- commits:
    - subject: 'Use static resolv.conf [Andrei]'
    - subject: 'Switch rootfs to ext4 [Andrei]'
    - subject: 'Adapt resinhup for poky morty migration [Florin]'
    - subject: 'Add support for multiple entries in INTERNAL_DEVICE_KERNEL [Andrei]'
    - subject: 'Fix bug with the .docker mountpoint [Theodor]'
    - subject: 'Remove the supervisor container in the update script [Pablo]'
    - subject: 'Do not remove the supervisor container in every start [Pablo]'
    - subject: 'Update supervisor to v3.0.0 [Pablo]'
  date: 2017-02-07T00:00:00.000Z
  version: 2.0.0-beta.9
- commits:
    - subject: 'Add xt_set kernel module for all of our devices [Theodor]'
    - subject: 'Make /home/root/.docker writable [Theodor]'
    - subject: >-
        Prevent docker from thrashing the page cache using posix_fadvise
        [petrosagg]
    - subject: 'Introduce meta-resin-morty for using meta-resin with poky morty [Florin]'
    - subject: 'Add resinhup machine independent support in U-Boot [Andrei]'
    - subject: 'Remove BTRFS support from the kernel [Michal]'
    - subject: 'Backport dropbear atomic hostkey generation patch [Florin]'
    - subject: 'Update supervisor to v2.9.0 [Pablo]'
    - subject: 'Rewrite prepare-openvpn (style) and make it fail on error [Michal]'
    - subject: 'Ensure prepare-openvpn.service starts after var-volatile.mount [Michal]'
  date: 2017-01-27T00:00:00.000Z
  version: 2.0.0-beta.8
- commits:
    - subject: 'Fix supervisor.conf''s SUPERVISOR_TAG variable [Florin]'
  date: 2016-12-05T00:00:00.000Z
  version: 2.0.0-beta.7
- commits:
    - subject: >-
        Deactivate CONFIG_WATCHDOG_NOWAYOUT to make sure we can shutdown
        [Andrei]
  date: 2016-12-05T00:00:00.000Z
  version: 2.0.0-beta.6
- commits:
    - subject: >-
        Add inode tuning (1 inode for 8192 bytes ) in mkfs.ext4 for the
        resin-data partition [Praneeth]
    - subject: 'Fix missing [Manager] section for systemd watchdog setting [Florin]'
    - subject: 'Add missing dependency for the resin-supervisor.service [Theodor]'
    - subject: 'Specify the supervisor tag with a local variable [Theodor]'
    - subject: 'Update supervisor to v2.8.3 [Pablo]'
    - subject: >-
        Activate kernel configs for supporting iptables REJECT, MASQUERADE
        targets [Florin]
    - subject: 'systemd: enable watchdog at 10 seconds [Florin]'
    - subject: >-
        Allow resin-init-flasher to also flash both MLO and regular u-boot at
        the same time [Florin]
    - subject: 'Fix page size detection in go for arm64 boards [Andrei]'
  date: 2016-11-30T00:00:00.000Z
  version: 2.0.0-beta.5
- commits:
    - subject: 'Update supervisor to v2.8.2 [Pablo]'
  date: 2016-11-09T00:00:00.000Z
  version: 2.0.0-beta.4
- commits:
    - subject: >-
        Generate SUPERVISOR_REPOSITORY dynamically so no need to define it in
        `resin-<board>` anymore [Andrei]
    - subject: 'Fix container name conflict when creating a docker container [petrosagg]'
    - subject: 'Don''t compress docker binary anymore with UPX [Andrei]'
    - subject: 'Fix /var/lib/docker corruption after power cut [petrosagg]'
    - subject: 'Truncate hostname to 7 characters [Michal]'
    - subject: 'Fix aufs patching on non git kernel sources [Andrei]'
    - subject: 'Update supervisor to v2.8.1 [Pablo]'
  date: 2016-11-04T00:00:00.000Z
  version: 2.0.0-beta.3
- commits:
    - subject: 'Update supervisor to v2.7.1 [Pablo]'
    - subject: 'Move supervisor.conf from /etc to /etc/resin-supervisor [Theodor]'
    - subject: 'Update supervisor to v2.7.0 [Pablo]'
    - subject: 'Add guide for new board adoption [Florin]'
    - subject: 'Update supervisor to v2.6.2 [Pablo]'
  date: 2016-10-25T00:00:00.000Z
  version: 2.0.0-beta.2
- commits:
    - subject: 'Configure kernel with CONFIG_SECCOMP [Andrei]'
    - subject: 'Update kernel-module-headers to v0.0.7 [Lorenzo]'
    - subject: 'Implement persistent logging functionality [Andrei]'
    - subject: 'Increase the root filesystem size to 300M [Andrei]'
    - subject: 'Bump supervisor to 2.5.2 [Andrei]'
    - subject: 'Added a warning when skipping pulling the supervisor [Page]'
    - subject: 'Achieve read-only root filesystem [Theodor]'
    - subject: >-
        Implement aufs fetch and unpack functionality in kernel-resin.bbclass
        [Florin]
    - subject: >-
        Use aufs as docker storage driver with ext4 as backing filesystem
        instead of btrfs [Florin]
    - subject: 'Replace connman with NetworkManager [Michal]'
    - subject: 'Generate config.json from the build system [Theodor]'
    - subject: 'Add usb-modeswitch [Michal]'
    - subject: 'Allow hostname to be defined through config.json [Theodor]'
    - subject: 'Expose docker socket over TCP on development images [Andrei]'
    - subject: 'Integrate and configure avahi [Andrei]'
    - subject: 'Start using gzip archives for kernel module headers [Andrei]'
    - subject: 'Replace DEBUG_IMAGE with DEVELOPMENT_IMAGE [Theodor]'
    - subject: 'Update supervisor to v2.5.0 [Pablo]'
  date: 2016-10-11T00:00:00.000Z
  version: 2.0.0-beta.1
- commits:
    - subject: 'Update supervisor to v2.3.0 [Pablo]'
  date: 2016-09-27T00:00:00.000Z
  version: 1.16.0
- commits:
    - subject: 'Update supervisor to v2.2.1 [petrosagg]'
  date: 2016-09-24T00:00:00.000Z
  version: 1.15.0
- commits:
    - subject: 'Update supervisor to v2.2.0 [Kostas]'
  date: 2016-09-23T00:00:00.000Z
  version: 1.14.0
- date: 2016-09-23T00:00:00.000Z
  version: 1.13.0
- commits:
    - subject: 'Update supervisor to v2.1.1 [Pablo]'
    - subject: 'Add device-type.json file to the boot partitions of our images [Florin]'
    - subject: >-
        Enable kernel modules ip6table_nat, nf_nat_ipv6 and subset of ip_set
        [Florin]
    - subject: 'Change openvpn to use config file from /run [Florin]'
    - subject: 'Change partition type of resin-conf from vfat to ext4 [Theodor]'
    - subject: 'Move config.json to resin-boot partition [Theodor]'
    - subject: 'Change resin-boot mount point from /boot to /mnt/boot [Theodor]'
    - subject: 'Make dropbear host key generation atomic [Michal]'
    - subject: >-
        Change the TUN device used by OpenVPN to resin-vpn to minimize conflict
        with user applications using tun0 [Praneeth]
    - subject: 'Update supervisor to v2.1.0 [Pablo]'
    - subject: 'Use FHS structure in the root of resinhup packages [Andrei]'
  date: 2016-09-21T00:00:00.000Z
  version: 1.12.0
- commits:
    - subject: 'Backport STOPSIGNAL fix for docker [petrosagg]'
    - subject: 'Make Docker log to journald [Michal]'
  date: 2016-08-31T00:00:00.000Z
  version: 1.11.0
- date: 2016-08-24T00:00:00.000Z
  version: 1.1.0
- commits:
    - subject: 'Provide custom splash logo for our flasher type [Theodor]'
    - subject: 'Update supervisor to v1.14.0 [Pablo]'
    - subject: >-
        Set the default supervisor tag in /etc/supervisor.conf to the bundled
        supervisor tag. [Page]
    - subject: 'Update firmware: iwlwifi-7265D-10 -> iwlwifi-7265D-13 [Michal]'
  date: 2016-08-24T00:00:00.000Z
  version: 1.9.0
- commits:
    - subject: 'Fix plymouth output to tty1 [Theodor]'
    - subject: 'Use FAT16 filesystems as we do for partitions [Andrei]'
    - subject: >-
        Fix boltdb alignment issue for armv5 in docker, fixes docker 1.10.3 on
        armv5 devices [Lorenzo]
    - subject: >-
        Include firmware for iwlwifi-8000C-13 - 6th generation Intel NUC
        [Andrei]
    - subject: 'Disable DHCP server functionality from dnsmasq [Florin]'
    - subject: 'Update supervisor to v1.13.0 [Andrei]'
    - subject: >-
        Start dropbearkey.service at boot and don't wait for first connection
        [Andrei]
    - subject: >-
        Both remove systemd-serialgetty symlinks and disable
        systemd-getty-generator for non-debug builds [Florin]
    - subject: >-
        Disable ntp from connman and rely only on systemd-timesyncd with
        selected timeservers [Florin]
  date: 2016-08-02T00:00:00.000Z
  version: 1.8.0
- commits:
    - subject: 'Various meta-resin layer tweaks [Andrei]'
    - subject: 'Add support for resinhup when running kernel modules operations [Andrei]'
    - subject: 'Update supervisor to 1.12.1 [Pablo]'
  date: 2016-07-14T00:00:00.000Z
  version: 1.7.0
- date: 2016-07-06T00:00:00.000Z
  version: 1.6.0
- commits:
    - subject: 'Update resin supervisor to v1.11.6 [Florin]'
    - subject: 'Refactor openvpn dependencies [Florin]'
  date: 2016-07-04T00:00:00.000Z
  version: 1.5.0
- commits:
    - subject: 'Replace STAGING_BUILD by DEBUG_IMAGE and various refactorings [Andrei]'
    - subject: 'Update to latest kernel-modules-headers [Florin]'
  date: 2016-06-27T00:00:00.000Z
  version: 1.4.0
- commits:
    - subject: 'Implement mechanism for compressed kernel modules [Andrei]'
    - subject: 'Fix connman multiple IP over DHCP [Andrei]'
    - subject: >-
        Have the ability to inject custom docker images for connectable builds
        [Andrei]
    - subject: 'Integrate resin-provisioner [Andrei]'
    - subject: 'Include slug and machine in os-release [Andrei]'
    - subject: 'Define and implement resin connectable builds [Andrei]'
    - subject: >-
        Split the registration and uuid generation, of a device, into separate
        packages [Theodor]
    - subject: 'Sanitize target arch for x86 machines [Florin]'
    - subject: >-
        Ensure kernel build artefacts are present for kernel-modules-headers
        [Florin]
    - subject: 'Add "set -e" to resin-init-flasher [Florin]'
    - subject: 'Add recipe for deploying an archive with kernel modules headers [Florin]'
    - subject: >-
        Have the ability at build time to configure the preloaded docker image
        in the BTRFS partition [Andrei]
  date: 2016-06-24T00:00:00.000Z
  version: 1.3.0
- commits:
    - subject: 'Remove board specific bootloader handling from the flasher [Florin]'
    - subject: 'Provide script to inject board specific flashing procedures [Theodor]'
    - subject: 'Implement and document host OS new versioning scheme [Andrei]'
    - subject: 'Set PreferredTechnologies to "wifi,ethernet" [Florin]'
    - subject: 'Do not add nameserver routes in the kernel IP routing table [Florin]'
    - subject: 'Add support for migration to docker engine 1.10 in resinhup [Andrei]'
    - subject: >-
        Move resin-image sdcard file in the rootfs instead of the boot partition
        [Florin]
    - subject: 'Add compression mechanism for binaries, using upx [Theodor]'
    - subject: 'Switch to docker 1.10.3 [Theodor]'
    - subject: 'Remove deprecated mmcroot from flasher init script [Andrei]'
    - subject: 'Deploy license.manifest [Andrei]'
  date: 2016-06-08T00:00:00.000Z
  version: 1.2.0
- commits:
    - subject: 'Add build information in the target rootfs [Florin]'
    - subject: 'Don''t bind mount /etc/resolv.conf anymore [Florin]'
    - subject: 'Have dnsmasq listen on 127.0.0.2 instead of 127.0.0.1 [Florin]'
  date: 2016-04-20T00:00:00.000Z
  version: 1.1.4
- commits:
    - subject: >-
        Add resin-init-board as a runtime dependency to resin-init-flasher
        [Florin]
  date: 2016-04-13T00:00:00.000Z
  version: 1.1.3
- commits:
    - subject: 'Execute resin-init-board from the flasher also [Florin]'
    - subject: 'Use realpath from coreutils-native for generating SD images [Andrei]'
    - subject: 'Add rsync to our image [Theodor]'
    - subject: 'Add p2p to NetworkInterfaceBlacklist in connman main.conf file [Florin]'
    - subject: >-
        Add dnsmasq and do changes to connman so dnsmasq is used according to
        our platform needs [Florin]
    - subject: 'Define "rce" as a provider for the docker package [Florin]'
  date: 2016-04-13T00:00:00.000Z
  version: 1.1.2
- commits:
    - subject: >-
        Make resin-supervisor-disk's PV variable not contain the ':' character
        [Florin]
    - subject: >-
        Workaround for "docker images behavior" -
        https://bugzilla.redhat.com/show_bug.cgi?id=1312934 [Florin]
    - subject: >-
        Have device registration provided by supervisor in resin-image and
        resin-device-register in resin-image-flasher [Andrei]
    - subject: 'Include crda in resin images [Andrei]'
    - subject: 'Add support for hid-multitouch - available as kernel module [Andrei]'
    - subject: 'Simplify os-release version and add some resin specific info [Andrei]'
    - subject: 'Set IMAGE_ROOTFS_SIZE to zero as default [Florin]'
    - subject: 'Update layer with the ability to use jethro [Theodor]'
  date: 2016-03-03T00:00:00.000Z
  version: 1.1.1
- commits:
    - subject: 'Migrate repositories to github [Florin]'
    - subject: 'Add resinhup package for running hostOS updates [Andrei]'
    - subject: 'Export deltaEndpoint as DELTA_ENDPOINT [Andrei]'
  date: 2016-02-16T00:00:00.000Z
  version: 1.1.0
- commits:
    - subject: >-
        Upgrade systemd to version 216 and add volatile-binds dependency
        [Florin]
    - subject: 'Fix racing issue on edison [Andrei]'
    - subject: 'Add support ts7700 [Theodor]'
    - subject: 'Remove obsolete pseudo patch. This patch is now in poky [Florin]'
    - subject: 'Remove obsolete bash patches. These patches are now in poky [Florin]'
    - subject: 'Ensure connman systemd service is enabled on boot [Florin]'
    - subject: 'Change OOM Adjust Score of RCE to -900 [Praneeth]'
    - subject: 'Change OOM Adjust Score of Connman to -1000 [Praneeth]'
    - subject: 'Change OOM Adjust Score of OpenVPN to -1000 [Praneeth]'
  date: 2016-02-03T00:00:00.000Z
  version: 1.0.6
- date: 2016-01-20T00:00:00.000Z
  version: 1.0.5
