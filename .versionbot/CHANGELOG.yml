- commits:
    - subject: "tests: secureboot: remove preload test for secureboot enabled DUTs"
      hash: e6c5f14a2e6af02efb8e8766c4244a5bc1081b2e
      body: >
        Since 1ae37ac158b93df836126030abec8c3d3f69d92b using the flasher image
        with secureboot and preloading doesn't work. Skipping preloading tests
        will unblock users not using this combination with the signed images.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: Ryan Cooke
      nested: []
  version: 6.3.14
  title: ""
  date: 2025-02-05T20:53:09.987Z
- commits:
    - subject: "tests: secureboot: fix reference to unavailable kernel-module-headers"
      hash: 7f49f8d3e780461e603196cc23917e41fe925bac
      body: >
        2.108.6 doesn't exist for generic-amd64. The tests used to still work,
        because we werent acually passing the version to kernel-module-build
        correctly, meaning that it would default to the one in the
        kernel-module-build project. That was fixed in
        4484c59fc924100232cc10303a4636ed0082760a , and now we are passing the
        version correctly, we're looking for a nonexistant version. Changing
        version to match the default.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: Ryan Cooke
      nested: []
  version: 6.3.13
  title: ""
  date: 2025-02-01T09:17:38.671Z
- commits:
    - subject: "kernel-balena.bbclass: silence regex escape warnings"
      hash: 2b737fdc534da23c6f22efc83e1e64e109a8fb29
      body: |
        This patch converts the regex strings to raw strings to silence
        `DeprecationWarning: invalid escape sequence \d`
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "kernel-balena.bbclass: Add aufs patches for 6.6 kernels"
      hash: 54faaa0714db55ebe486a101eb2ad62e75679ffd
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 6.3.12
  title: ""
  date: 2025-01-30T11:44:21.994Z
- commits:
    - subject: Update balena-supervisor to v16.12.0
      hash: 41c4f1ded4dd881dc97eabaa531a2ccfb212e528
      body: |
        Update balena-supervisor from 16.10.3 to 16.12.0
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update contrato to v0.12.0
              hash: 85fc5784bcd187d086bffbd0c2167ce9eb34650f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Update alpine base image to 3.21
              hash: 55f22dbc0f4792033b6253af89c6adde6a727ab0
              body: >
                This allows to update Node to v22 on production supervisor images
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Update Node support to v22
              hash: ea594b18abb6b82f498071e50f71422dedb5b280
              body: |
                Updates @types/node and expands module support to v22.
                Support for v20 will be removed on a future version.
              footer:
                Change-type: minor
                change-type: minor
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.12.0
          title: ""
          date: 2025-01-20T22:14:35.646Z
        - commits:
            - subject: Add support for `io.balena.update.requires-reboot`
              hash: e416ad0daf61fba14cd8c2012c5b2f66d8fb5f4a
              body: >
                This label can be used by user services to indicate that a
                reboot is

                required after the install of a service in order to fully apply
                an update.
              footer:
                Change-type: minor
                change-type: minor
              author: Felipe Lalanne
              nested: []
            - subject: Move reboot breadcrumb check to device-state
              hash: 75127c6074531fd20199ed07d6860687b4105cfb
              body: >
                This was on device-config before, but we'll need to set the
                reboot

                breadcrumb from the application-manager as well when we
                introduce

                `requires-reboot` as a label.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Refactor device-config as part of device-state
              hash: 51f1fb0f30e04ece6a00d2d8b9420b49703a2fde
              body: >
                Move the device-config module to the device-state folder and
                export only

                those functions that are needed elsewhere in the codebase


                This moves us closer to making the device-state module the only
                way to

                modify application and configuration.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.11.0
          title: ""
          date: 2025-01-14T18:15:55.879Z
  version: 6.3.11
  title: ""
  date: 2025-01-27T20:20:58.111Z
- commits:
    - subject: Update tests/leviathan digest to 25370da
      hash: 0d1300383c19f479b47fd6ce8d14ec03cb9b1ab4
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update actions/upload-artifact digest to 65c4c4a
              hash: 41ecb3c5112bc5b2b6d8e63dabb05fbf558c9df1
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.87
          title: ""
          date: 2025-01-26T14:28:56.808Z
        - commits:
            - subject: Fix extractVersion renovate template
              hash: fc005a800f77b29dae553ef38d45ef705a011dbf
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Kyle Harding
              nested: []
          version: leviathan-2.31.86
          title: ""
          date: 2025-01-26T12:57:09.462Z
        - commits:
            - subject: Update core/contracts digest to cde8b88
              hash: 4aad7b4af4fed4fc54ceb874330c0e8b2a86b70e
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.85
          title: ""
          date: 2025-01-24T18:32:12.098Z
        - commits:
            - subject: "lib/components: Add partition index for Jetson TX2 NX types"
              hash: 3db19db2746a55855b6601f37f791f5d7e6e5487
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: leviathan-2.31.84
          title: ""
          date: 2025-01-23T08:13:42.965Z
  version: 6.3.10
  title: ""
  date: 2025-01-27T16:33:22.765Z
- commits:
    - subject: "workflows: iot-gate-imx8plus: add custom template path"
      hash: 0aa5664c4edba93084e81c184119b1fc7a31fbc8
      body: |
        A custom template path has originally been added in
        https://github.com/balena-os/meta-balena/pull/3599
        for the iot-gate-imx8. The iot-gate-imx8plus needs
        one as well because it's now using the meta-balena-hab
        submodule.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 6.3.9
  title: ""
  date: 2025-01-27T09:32:28.028Z
- commits:
    - subject: "resin-init-flasher: add openssl dependency"
      hash: 49b2d8635d5c4837f651f16f97fae18bda50a3c1
      body: |
        This is required for openssl to be available on the initramfs so that
        migration can use it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscript: copy image signature to memory if required"
      hash: 6963166ed83138d15f39a7efd54beb2a6088febe
      body: |
        For migration to work on signed images, the signature needs to be
        available in memory.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.3.8
  title: ""
  date: 2025-01-22T16:04:48.428Z
- commits:
    - subject: Update tests/leviathan digest to 03a7057
      hash: c7785c82e087b501b9cea7ee66f696af043c0755
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update balena-io/balena-cli to v20.2.1
              hash: 247459b21aa26c329a474677c47d504b5b62fb2a
              body: |
                Update balena-io/balena-cli from 20.1.6 to 20.2.1
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.83
          title: ""
          date: 2025-01-09T14:36:41.373Z
        - commits:
            - subject: "patch: Add retention & compression to Leviathan action artifacts"
              hash: 00573208b857067c1471dcaaac6d77e7bcc4754e
              body: ""
              footer: {}
              author: Vipul Gupta
              nested: []
          version: leviathan-2.31.82
          title: ""
          date: 2025-01-09T14:06:23.177Z
  version: 6.3.7
  title: ""
  date: 2025-01-20T22:06:50.879Z
- commits:
    - subject: "images: balena-image*: Set balenaos-img.sig image type for signed
        builds"
      hash: c7c2fb62abbda3008e73e9ef72d771fb7a43498f
      body: |
        This triggers the signing of images for secure boot builds.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: balenaos-img.sig: Rename the sign image type to
        balenaos-img.sig"
      hash: e283eb7898ee8f0b5f3df50e6dcb747da1def443
      body: |
        This creates the symlinks and images with the expected extensions.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "image_types_balena.bbclass: Move image signing code here"
      hash: c3fc5563a54c3e5c35b7cab02bc4e2ef74c6fa64
      body: |
        This fixes the following error:

        cp: cannot stat '/work/build/tmp/deploy/images/generic-amd64/balena-image-generic-amd64.balenaos-img.sig': No such file or directory

        The signed image symlink is not generated before the flasher needs it so we avoid this dependency issue by
        defining a new image type for which the build system will automatically create the appropriate symlink.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 6.3.6
  title: ""
  date: 2025-01-17T03:52:47.961Z
- commits:
    - subject: "classes/kernel-balena: Avoid re-building kernel modules when not signed"
      hash: 729490be46acc63b00d842dd8174ad0f03e5e55f
      body: >
        Setting the nostamp flag to any value, even if it is an empty string,
        causes

        the kernel modules to be rebuilt, which is contrary to the

        documentation:
        https://lists.openembedded.org/g/bitbake-devel/message/12359


        Let's avoid setting it altogether on kernels which are not signed,

        to speed up builds.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 6.3.5
  title: ""
  date: 2025-01-16T19:38:46.906Z
- commits:
    - subject: "workflows: iot-gate-imx8: add custom template path"
      hash: f206ad55df30f4939cbd2498fd6494aa8d05c60b
      body: |
        With the addition of the meta-balena-hab submodule there are multiple
        balena layers with custom templates - specify which one to use to avoid
        a build error.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.3.4
  title: ""
  date: 2025-01-16T16:14:51.120Z
- commits:
    - subject: "tests: hup: rollback-altboot: replace while loop over SSH to speed up
        tests"
      hash: 65aba403ef0ae5d47510e5d8d11a5d4c0f7969c2
      body: >
        The altboot test often hangs for a long time during the altboot test,
        after the DUT has booted into the old OS after the altboot failure - the
        check to see if the rollback systemd services have stopped hangs. This
        is an attempt to fix that, as I think there's some strange interaction
        going on with the while loop over ssh
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: Ryan Cooke
      nested: []
  version: 6.3.3
  title: ""
  date: 2025-01-15T16:36:05.153Z
- commits:
    - subject: "tests: secureboot: imx: refactor bootloader config integrity tests"
      hash: 8c165e9ed7a471d043ff00d4a091742b8412e785
      body: |
        Refactor to assure sequential execution of tests.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "tests: secureboot: imx: refactor bootloader integrity test"
      hash: 502fc52ba4d8da9614667c55adb9ab3748a4baa6
      body: >
        * Force sequential test execution

        * Skip bootloader integrity test on iot-gate-imx8 which needs a working
          bootloader in order to reflash
        * Add assertion for waitForFailedBoot() which was providing false
        positives
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "tests: secureboot: imx: support compressed files pattern replacement"
      hash: ea43fc9243ea44378c5ae81013fcc6bb18c2a3d8
      body: |
        Some of the boot files to test have been compressed after signing, so
        in order to corrupt the signature we need to uncompress them first.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "tests: secureboot: fix function that confirms a failed boot"
      hash: f5c7ad85d30c9de4c43ffbe76fb569de2866032a
      body: >
        Independently of whether the device was coming back or not after reboot,

        the waitForFailedBoot() function always succeeds as the thrown errors
        are

        always caught.


        Throw the error outside of the try/catch so that it is not always

        caught.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.3.2
  title: ""
  date: 2025-01-14T15:53:20.934Z
- commits:
    - subject: "peak: Update to version 8.19.0"
      hash: dc52e74c24bb84b8c2ec38b334fbbf8d9e1df3c4
      body: |
        This is needed to have it compiled against kernel version 6.12.3,
        which we will include in balena-generic.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 6.3.1
  title: ""
  date: 2025-01-13T06:54:44.804Z
- commits:
    - subject: Update usb-modeswitch to version 2.6.1
      hash: 54b5b72a879e942e4b907e49e7387b505772dc55
      body: >
        Version 2.5.2 of usb-modeswitch contained a local 0.72 jimtcl copy which
        was used

        when the static version of the dispatcher was being compiled. Version
        2.6.1 removed

        this copy of jimtcl from the source package so we add it back ourselves
        because it's

        easier to have libjim.a compiled here rather than add a whole new Yocto
        recipe just for it.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update usb-modeswitch to version 2.6.1
        changelog-entry: Update usb-modeswitch to version 2.6.1
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 6.3.0
  title: ""
  date: 2025-01-09T14:29:56.985Z
- commits:
    - subject: Update tests/leviathan digest to 6652ce0
      hash: 4752c5958197172b2ba8d19da67c7392ead45508
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update core/contracts digest to b7d2bb8
              hash: 43eb721f7e6955c6f94e9d44ee9e07b0f6f4c141
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.81
          title: ""
          date: 2025-01-07T12:50:48.076Z
        - commits:
            - subject: Update core/contracts digest to 44bbd40
              hash: 96229e68093dda364f810b0616dc8184fcf98806
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.80
          title: ""
          date: 2025-01-06T20:41:04.628Z
        - commits:
            - subject: Update balena-io/balena-cli to v20.1.6
              hash: e53e0eb596bca4ea4a2413530f0bb3368687942f
              body: |
                Update balena-io/balena-cli from 20.1.2 to 20.1.6
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.79
          title: ""
          date: 2025-01-06T18:30:55.317Z
        - commits:
            - subject: "core: ssh tunnels: fix auth errors when worker is in prod mode"
              hash: 24c37653a0adba4295200384d3eb3ad35b363ed9
              body: >
                When the worker is in production mode, ssh auth when creating
                the reverse tunnel to tunnel though it to the DUT failed. Using
                BC username auth with BC registered keys fixes it
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.31.78
          title: ""
          date: 2025-01-06T17:34:37.088Z
  version: 6.2.8
  title: ""
  date: 2025-01-08T14:59:06.690Z
- commits:
    - subject: "balena-image-flasher: depend on balena-image:do_image_complete"
      hash: aa030228732392d81bab7ed297c68eeaa28c0175
      body: |
        At this moment balena-image-flasher depends on do_image_sign_digest
        and do_rootfs of balena-image, but this is not enough, as the signature
        symlink is only created by a postprocess script.

        This patch replaces the two existing dependencies by do_image_complete,
        which should cover everything.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 6.2.7
  title: ""
  date: 2025-01-08T10:06:42.801Z
- commits:
    - subject: "workflows/meta-balena-esr: fix version array bash"
      hash: 11c8daa43e30749fa943d142f787da64fda2882c
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: Ryan Cooke
      nested: []
  version: 6.2.6
  title: ""
  date: 2025-01-03T14:01:19.378Z
- commits:
    - subject: Update tests/leviathan digest to c4feff6
      hash: 9595de8e0767d34c5be5ca0e6f76e6b8b7ae6225
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update core/contracts digest to 8bd5651
              hash: a336cde18c85bd8c01a8bdebbe8a7f6ef0c311be
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.77
          title: ""
          date: 2024-12-30T10:17:33.420Z
  version: 6.2.5
  title: ""
  date: 2024-12-30T15:34:25.474Z
- commits:
    - subject: Update balena-supervisor to v16.10.3
      hash: 5ee7bf1d8a23220f81b1c4de67e85f4d7cc94328
      body: |
        Update balena-supervisor from 16.10.1 to 16.10.3
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update systeminformation to v5.23.8 [SECURITY]
              hash: 92b26c7ae2d8d329be18806abe24ab312e92db68
              body: |
                Update systeminformation from 5.22.7 to 5.23.8
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: balena-supervisor-16.10.3
          title: ""
          date: 2024-12-20T20:43:23.372Z
        - commits:
            - subject: Wait for service dependencies to be running
              hash: 8e6c0fcad729b56e386ac27754c48c97517e293a
              body: |
                This fixes a regression where dependencies would only be started in
                order and would start the dependent service if its dependency had been
                started at some point in the past, regardless of the running condition.

                This makes the behavior more consistent with docker compose where the
                [dependency needs to be
                running or healthy](https://github.com/docker/compose/blob/69a83d1303a103d82b05d512baf273244b4dbd94/pkg/compose/convergence.go#L441) for the service to be started.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.10.2
          title: ""
          date: 2024-12-18T18:48:52.008Z
  version: 6.2.4
  title: ""
  date: 2024-12-26T13:14:08.203Z
- commits:
    - subject: Update tests/leviathan digest to 2a609bc
      hash: 73c4edaf6615d148bf382ff7589fa9d6874fa753
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: "lib/components/os: Add SRD3 JP4 and JP5 device type boot partition
                indexes"
              hash: db7fdad6e920295cf3200ca3309fde65dd5c039f
              body: |
                The JP5 device-type uses the same boot partition index as the
                jetson-xavier on JP5.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: leviathan-2.31.76
          title: ""
          date: 2024-12-19T14:11:20.112Z
        - commits:
            - subject: Update balena-io/balena-cli to v20.1.2
              hash: 15e18d79118af19c0362decc13b9c9b692d49ca9
              body: |
                Update balena-io/balena-cli from 20.1.0 to 20.1.2
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.75
          title: ""
          date: 2024-12-19T02:57:30.738Z
        - commits:
            - subject: Update docker/setup-buildx-action digest to 6524bf6
              hash: 4157efa263e7c545933c7c8ca6d3ecac5cc189f5
              body: |
                Update docker/setup-buildx-action
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.74
          title: ""
          date: 2024-12-19T02:01:02.721Z
        - commits:
            - subject: Update core/contracts digest to 9383b36
              hash: 3229a8f75ad3c6610ba72d6a0edb446d6b875cf1
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.73
          title: ""
          date: 2024-12-18T22:34:03.777Z
        - commits:
            - subject: Update actions/upload-artifact digest to 6f51ac0
              hash: 695be0565fd7d6e1be7cea5ed83ff6febe02a1ae
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.72
          title: ""
          date: 2024-12-18T00:11:58.435Z
        - commits:
            - subject: Enable selection of workers with locked DUT in secureboot tests
              hash: 92972900c54a2f0ea9a1b7e41f83adc6c32cafe0
              body: >
                This will make the client look for workers with a "DUT:
                <deviceType>-sb" tag if FLASHER_SECUREBOOT=1 when starting
                tests. This is to enable differentiation between locked and
                unlocked DUTs for device types that support secureboot.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: Ryan Cooke
              nested: []
          version: leviathan-2.31.71
          title: ""
          date: 2024-12-17T11:11:15.435Z
  version: 6.2.3
  title: ""
  date: 2024-12-21T13:31:50.987Z
- commits:
    - subject: "hostapp-update-hooks: fix path for grub_extraenv in blacklist"
      hash: a3d5424af810b62a672f325ef666c366776b0502
      body: |
        The `grub_extraenv` file is actually either installed under `/grub` for
        MBR systems or `/EFI/BOOT` for EFI ones.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.2.2
  title: ""
  date: 2024-12-20T12:03:20.889Z
- commits:
    - subject: "classes: kernel-balena: configure reset on oops"
      hash: dc2c8fc20d27d269d0132981ab03e62c882a9e8b
      body: |
        This is specially useful to prevent devices freezing at boot on errors,
        for example when the initramfs fail() is called allowing the device to
        reboot and rollback.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.2.1
  title: ""
  date: 2024-12-19T11:55:56.499Z
- commits:
    - subject: "resin-init-flasher: with secure boot, authenticate the inner image"
      hash: 1ae37ac158b93df836126030abec8c3d3f69d92b
      body: |
        At this moment resin-init-flasher just takes whatever image lies in /opt
        and dd's it to the target drive. This is fine for general use, but with
        secure boot enabled, we want to perform at least basic authentication
        of the image being written.

        This patch gets the image signed at build time and makes flasher verify
        the signature against a key built-in the kernel trust store. At this
        very moment it fails hard if the signature does not match, but this may
        change in the future. Technically we only want to know if we are about
        to flash a balena-provided image or not, we might want to support both
        but behave slightly differently in each scenario.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 6.2.0
  title: ""
  date: 2024-12-16T14:06:35.499Z
- commits:
    - subject: "README: Add fan profile and power mode info to docs"
      hash: b48a99a247cf28ecbf46864f9f41f92c8828d1f7
      body: |
        This commit adds detailed information for the
        new power and cooling configuration options
        available for Jetson Orin devices.
      footer:
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
        Change-type: patch
        change-type: patch
      author: Alexandru Costache
      nested: []
  version: 6.1.27
  title: ""
  date: 2024-12-14T13:36:02.387Z
- commits:
    - subject: Update tests/leviathan digest to f308947
      hash: 765f82092dfd8287b6b2e536d9dda5d6fb3d4bed
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update balena-io/balena-cli to v20.1.0
              hash: 8f2efe31f565c8d83d13a70556038c8205a37dbe
              body: |
                Update balena-io/balena-cli from 20.0.9 to 20.1.0
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.70
          title: ""
          date: 2024-12-12T14:36:37.767Z
  version: 6.1.26
  title: ""
  date: 2024-12-12T17:39:28.847Z
- commits:
    - subject: "github/workflows: Add yocto label to runs_on"
      hash: be897c850fcb972c64f2297f3ebc4a49b12acfd1
      body: |
        ... to allow for more powerfull runners to be used.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
    - subject: Update tests/leviathan digest to 3a37005
      hash: 7a23d993a7b47732298adbbc319c5e154456b874
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: "os/balenaos: Update Xavier and Xavier NX boot partitions for JP5"
              hash: 0055ae3fd3ec51301ad7905a8e883bfbfd3bf105
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru
              nested: []
          version: leviathan-2.31.69
          title: ""
          date: 2024-12-10T08:39:47.608Z
        - commits:
            - subject: Update balena-io/balena-cli to v20.0.9
              hash: 089823393a02e0883a84e77ce53ee8254c141b35
              body: |
                Update balena-io/balena-cli from 20.0.7 to 20.0.9
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.68
          title: ""
          date: 2024-12-07T01:09:56.227Z
        - commits:
            - subject: Make leviathan worker ref configurable via env var
              hash: ad7e4369929b6dfe2b78467e1b188738642bdea2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: Ryan Cooke
              nested: []
          version: leviathan-2.31.67
          title: ""
          date: 2024-12-06T23:12:09.629Z
  version: 6.1.25
  title: ""
  date: 2024-12-11T16:56:06.987Z
- commits:
    - subject: Update balena-supervisor to v16.10.1
      hash: e64d17f5215a91dcc179373f70e71c842fb16d03
      body: |
        Update balena-supervisor from 16.9.0 to 16.10.1
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Specify `/tmp/balena|resin` directories as necessary
              hash: dc740a159b9b299b85885bc8ab65e97cc4d356a3
              body: ""
              footer:
                See: https://forums.balena.io/t/rm-cant-remove-tmp-balena-resource-busy/367888/5
                see: https://forums.balena.io/t/rm-cant-remove-tmp-balena-resource-busy/367888/5
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.10.1
          title: ""
          date: 2024-12-11T00:28:17.295Z
        - commits:
            - subject: Add PowerFanConfig config backend
              hash: 828bd22ba053aa08ca2bde8e72b3aa7ed82aae02
              body: >
                This config backend uses ConfigJsonConfigBackend to update

                os.power and os.fan subfields under the "os" key, in order

                to set power and fan configs. The expected format for os.power

                and os.fan settings is:

                ```

                {
                  os: {
                    power: {
                      mode: string
                    },
                    fan: {
                      profile: string
                    }
                  }
                }

                ```


                There may be other keys in os which are not managed by the
                Supervisor,

                so PowerFanConfig backend doesn't read or write to them. Extra
                keys in os.power

                and os.fan are ignored when getting boot config and removed when
                setting

                boot config.


                After this backend writes to config.json, host services
                os-power-mode

                and os-fan-profile pick up the changes, on reboot in the
                former's case

                and at runtime in the latter's case. The changes are applied by
                the host

                services, which the Supervisor does not manage aside from
                streaming

                their service logs to the dashboard.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.10.0
          title: ""
          date: 2024-12-10T23:28:15.038Z
  version: 6.1.24
  title: ""
  date: 2024-12-11T02:06:58.327Z
- commits:
    - subject: Update balena-supervisor to v16.9.0
      hash: c90b30e22412580fd94a65eb05231a6f49a0fdb4
      body: |
        Update balena-supervisor from 16.7.7 to 16.9.0
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Add ability to stream logs from host services to cloud
              hash: fb6fa9b16caa33eabeb44414d4681cea52d11784
              body: >
                Add `os-power-mode.service`, `nvpmodel.service`, and
                `os-fan-profile.service`

                which report status from applying power mode and fan profile
                configs as read

                from config.json. The Supervisor sets these configs in
                config.json for these

                host services to pick up and apply.


                Also add host log streaming from `jetson-qspi-manager.service`
                as it

                will very soon be needed for Jetson Orins.
              footer:
                Relates-to: "#2379"
                relates-to: "#2379"
                See: balena-os/balena-jetson-orin#513
                see: balena-os/balena-jetson-orin#513
                Change-type: minor
                change-type: minor
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.9.0
          title: ""
          date: 2024-12-06T17:52:55.615Z
        - commits:
            - subject: Take update locks for host-config changes
              hash: a2d4b31b231d7e7981d2032b0bb76d301088ca95
              body: >
                This adds update-lock support to hostname changes via the
                host-config

                endpoint, in addition to proxy changes as changing the hostname
                may

                cause an engine restart from the OS.
              footer:
                Change-type: minor
                change-type: minor
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.8.0
          title: ""
          date: 2024-12-05T17:06:07.578Z
        - commits:
            - subject: Clean up remaining locks on state settle
              hash: 9c09329b86f08523501d4fbc54511cb2051b4bea
              body: >
                Locks could remain from a previous supervisor run that didn't
                get to

                settle the state. This ensures that cleanup will happen for
                remaining

                locks every time the state is settled.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Refactor update-locks implementation
              hash: 3c6e9dd209a259211ed3fd2e7bbe00f3235f87aa
              body: >
                The refactor simplifies the implementation and ensures that
                locks per

                app can only be held by one supervisor task at the time.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Refactor lockfile module
              hash: d8f54c05e7536096576ada4db3294785bef6b0ff
              body: |
                Updated interfaces for clarity
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.7.8
          title: ""
          date: 2024-11-28T21:23:24.352Z
  version: 6.1.23
  title: ""
  date: 2024-12-06T19:49:58.749Z
- commits:
    - subject: "os-helpers-fs: add function to erase disks"
      hash: cb2e8b97f6451c40504543cc0b56130564394bc0
      body: |
        The function overwrites the first 16 MiB of each partition (the default
        LUKS2 header size), as well as the primary and backup GPT partition
        tables.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.1.22
  title: ""
  date: 2024-12-05T17:35:54.393Z
- commits:
    - subject: Update tests/leviathan digest to 90d1685
      hash: 647ef9196e83407d5220e03d1ce3fe09575c5bc8
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update core/contracts digest to 474ab2d
              hash: 8faa54c6388d41797667a2d2bc51a9b4a8ebad1c
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.66
          title: ""
          date: 2024-12-04T18:50:19.476Z
  version: 6.1.21
  title: ""
  date: 2024-12-04T21:36:12.833Z
- commits:
    - subject: "kernel-module-build: update to 3.0.1"
      hash: 87d1b45fad357cb25eda2bd82c9ea12b3c0645b2
      body: |
        This adds a required dependency.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "tests: secureboot: fix passing of kernel headers version"
      hash: 4484c59fc924100232cc10303a4636ed0082760a
      body: |
        Specifying the kernel headers version was not woriking.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "tests: secureboot: add dm devices support in FDE test"
      hash: 89518778741013d099048319cba8846530261dee
      body: |
        Use dmsetup to identify encrypted partitions instead of filesystem type
        as this will work for both LUKS and DM encrypted partitions.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "tests: secureboot: add imx specialization"
      hash: 539bca4652ccef5d2ec8be9a5b669bcd2f073f27
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.1.20
  title: ""
  date: 2024-12-04T12:38:37.422Z
- commits:
    - subject: "balena-image-initramfs: add zram module"
      hash: a121381818b49fc669362ab295fb96ce88396dff
      body: |
        This modules mounts /tmp as a zram device.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: add zram module"
      hash: 3f45fed4444d01f2dff1a2169bb795401ae5f3ea
      body: |
        This module mounts /tmp as a zram to take advantage of memory
        compression so that migration can work on devices with reduced memory
        availability.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: search /tmp explicitly"
      hash: 7741fcee4b3a3129a23a7d4673dcf9647129f2e2
      body: |
        GNU find option -xdev prohibits descending into directories on other
        filesystems. Add /tmp as an explicit search path to allow for finding
        the balenaOS image on zram, such as when migrating.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "kernel-balena: enable CRYPTO_ZSTD for zram"
      hash: 7f622ab9a10a8e2cd065b85860826cfb18f02269
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 6.1.19
  title: ""
  date: 2024-12-03T16:30:32.869Z
- commits:
    - subject: Explicitly set GITHUB_TOKEN permissions for yocto workflow
      hash: 30dc4c7b07ec1c877ee7a8b3feb234942eddac0c
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: Ryan Cooke
      nested: []
  version: 6.1.18
  title: ""
  date: 2024-12-03T13:04:14.122Z
- commits:
    - subject: "resin-init-flasher: adapt EFI snippets to non-LUKS devices support"
      hash: 014cfbc22b26cb642a9ebd59612208866d22497f
      body: |
        Adapt the EFI include file to the non-LUKS device support changes
        introduced in cfa24c60b25699cadd2ca2e6c00232b515c1c6dc.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-config-vars: adapt to flasher non-LUKS device support"
      hash: 426fd4aa88f25e6b231d017ca26659e07cd06f13
      body: |
        Adapt to the changes to the flasher script to support non-LUKS devices
        introduced in cfa24c60b25699cadd2ca2e6c00232b515c1c6dc.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: add default LUKS configuration"
      hash: 29df43ae23c12afd821f1e3d4ce3017bd201ca1a
      body: |
        The LUKS configuration now lives in the flasher configuration file.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "hostapp-update-hooks: replace the identification of encrypted
        partitions"
      hash: 910a88eaf84e571bc53ea50ca167d9e703a063d8
      body: |
        Adapt the grub update hook to the changes introduced in
        https://github.com/balena-os/meta-balena/commit/d50e221988b3eda595bd86f93fd08965d6a09293
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.1.17
  title: ""
  date: 2024-12-02T09:47:19.858Z
- commits:
    - subject: "classes/kernel-balena: Add aufs patches for 6.1 kernels"
      hash: 87d1cdcd707cf90dc40a760d0307fdb1573498b4
      body: |
        Also, aufs5 and aufs6 patches are in the same git repo now.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 6.1.16
  title: ""
  date: 2024-11-27T19:50:52.083Z
- commits:
    - subject: "initrdscripts/migrate: Allow overriding of target internal devices"
      hash: d969fcf547bad87cab45231ee30f59e48b32b6d4
      body: >
        ... on flasher images by specifying installer.target_devices in
        config.json,

        which will be used during migration instead of the list of devices
        specified

        at boot time.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 6.1.15
  title: ""
  date: 2024-11-26T17:20:05.226Z
- commits:
    - subject: Update tests/leviathan digest to 64ba6a3
      hash: 186adb94af303adaa002e64c3cb25f99c992e80b
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.50
              hash: 53f09c362c19fc010065841707727effcc5d2aa6
              body: |
                Update balena-os/leviathan-worker from 2.9.47 to 2.9.50
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.65
          title: ""
          date: 2024-11-23T20:34:16.707Z
        - commits:
            - subject: Update core/contracts digest to 88fb8ad
              hash: 0652731d7054fbe8431c9a8e4c7eadc9dc5164b1
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.64
          title: ""
          date: 2024-11-23T19:35:52.250Z
        - commits:
            - subject: Update balena-io/balena-cli to v20
              hash: 55962849de4bfebaf83fb9d6c226f8ad0220446c
              body: |
                Update balena-io/balena-cli from 19.16.0 to 20.0.7
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.63
          title: ""
          date: 2024-11-23T18:36:27.695Z
  version: 6.1.14
  title: ""
  date: 2024-11-23T22:50:40.547Z
- commits:
    - subject: "u-boot: env_resin: fix use of skip bootcount"
      hash: 5fbf52822a0743ead7693364f41da7895d69ce72
      body: |
        When `os_bc_skip` is set, the bootcount variable is not set and the
        altboot check incorrectly assumes the boot limit has exceeded.

        Make sure the bootcount comparison only takes place if bootcount has
        been set.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: migrate: panic on installation failure"
      hash: 0277b0573d25dd314fe4b0eda5ca5b3e08b69ce2
      body: |
        Right now if the flashing script errors out the initramfs just keeps
        running modules. This is a security risk specially for secure boot
        systems as at that point we have an authorized trusted OS running in
        an unvetted path.

        This commit exits init if the flasher returns, and also attemps to crash
        the kernel followed by an infinite sleep for paranoic reasons.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.1.13
  title: ""
  date: 2024-11-22T14:23:50.319Z
- commits:
    - subject: "balena-os: allow to specify early console for OS development builds"
      hash: eea406c78c131ec36c2fd8b26f6072f055dec89a
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.1.12
  title: ""
  date: 2024-11-21T13:18:17.719Z
- commits:
    - subject: Update tests/leviathan digest to ae505eb
      hash: 42464576742648b84f86795f7d39cae12ff9bb9a
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update actions/checkout digest to 11bd719
              hash: 9653c1e68ca07d9a9d7545cb018c4b2e09cbe914
              body: |
                Update actions/checkout
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.62
          title: ""
          date: 2024-11-20T16:48:51.826Z
        - commits:
            - subject: Update balena-io/balena-cli to v19.16.0
              hash: 6b53a5af4bd9cb758ae28a3b595d1effd7d96b82
              body: |
                Update balena-io/balena-cli from 19.0.18 to 19.16.0
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.61
          title: ""
          date: 2024-11-20T15:54:30.635Z
  version: 6.1.11
  title: ""
  date: 2024-11-20T18:59:00.812Z
- commits:
    - subject: Update balena-supervisor to v16.7.7
      hash: a5fa76b78ede4419deacb69c891b5acd880115d0
      body: |
        Update balena-supervisor from 16.7.6 to 16.7.7
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: "Firewall: allow DNS requests from custom Docker bridge networks"
              hash: 7e1cafa866d7ce04d983a990aa219dbd23de26c7
              body: |
                We only allow DNS requests through `balena0` interface, but this
                is the default Docker bridge which is used for containers that
                don't have a custom bridge. However, the Supervisor creates a
                custom bridge for all containers unless another network mode is
                specified.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.7.7
          title: ""
          date: 2024-11-11T19:02:34.485Z
  version: 6.1.10
  title: ""
  date: 2024-11-15T17:15:00.902Z
- commits:
    - subject: Update actions/setup-python digest to 0b93645
      hash: 1fd94da81b2613f9ff1d01e83f82705195ef51d7
      body: |
        Update actions/setup-python to 0b93645e9fea7318ecaed2b359559ac225c90a2b
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested: []
  version: 6.1.9
  title: ""
  date: 2024-11-15T14:34:07.387Z
- commits:
    - subject: "recipes-kernel/linux-firmware: Package Intel AX210 firmware"
      hash: 2ca4f0ebd247db9981d1c488327960cbde9d0e46
      body: |
        This was requested for the AGX Orin 64GB devkit image,
        and will be included from the device repository.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 6.1.8
  title: ""
  date: 2024-11-15T11:29:41.983Z
- commits:
    - subject: Update actions/checkout digest to 11bd719
      hash: a4da39b99f863a49ce9aa608383c7ddf45300b3d
      body: |
        Update actions/checkout to 11bd71901bbe5b1630ceea73d27597364c9af683
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested: []
  version: 6.1.7
  title: ""
  date: 2024-11-13T22:30:24.613Z
- commits:
    - subject: Update balena-os/balena-yocto-scripts action to v1.27.10
      hash: 18b6a519955e8e66e51948adcd6a6e4ec70c0779
      body: |
        Update balena-os/balena-yocto-scripts from v1.25.59 to v1.27.10
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested: []
  version: 6.1.6
  title: ""
  date: 2024-11-13T19:27:40.260Z
- commits:
    - subject: "recipes-support/os-fan-profile: Don't print logs unless configured"
      hash: dfc023721aefc427255e996f7589450296836de3
      body: |
        Supervisor PR #2382 adds log streaming for this service. Let's not print
        any logs in the dashboard for devices which don't support configurable
        fan profiles, unless a value is specified in config.json, to avoid
        any confusion.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
    - subject: Update tests/leviathan digest to 8234f44
      hash: a27959f1322d02d874cfe42136853e8649872878
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested: []
  version: 6.1.5
  title: ""
  date: 2024-11-13T15:09:19.450Z
- commits:
    - subject: "os: test for rootfs by-state link uniqueness"
      hash: d4341f15bc0398721e9b26cd728f91b1be7914f8
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "common: fix udev helper by-state link creation"
      hash: b260c964ddc5adf7e9e86d3825e1afe59500082d
      body: |
        The 65-resin-update-state udev rules creates links for the active and
        inactive root filesystems in /dev/disk/by-state.

        Filter the output of lsblk to remove devices that aren't partitions of
        $parent, which is a problem when using software RAID.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 6.1.4
  title: ""
  date: 2024-11-12T16:10:47.705Z
- commits:
    - subject: Update balena-supervisor to v16.7.6
      hash: 5b70d63d3b5c6c41d43a451576e9963937e92863
      body: |
        Update balena-supervisor from 16.6.1 to 16.7.6
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update firewall documentation
              hash: 1b747f6d65372632a5491a0630e7de00f92c773f
              body: |
                Removes experimental warning and updates issues
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.7.6
          title: ""
          date: 2024-11-07T21:02:38.875Z
        - commits:
            - subject: Delete apps not in target from db by appUuid instead of appId
              hash: 3d3f659f1616cc291824d1f46da08583c138f39c
              body: >
                Resolve an issue in balenaMachine instances that were installed
                at <v14.1.0,

                in which a Supervisor app with random UUID is kept in the target
                db due to its appId

                being the same, even after the BM instance has upgraded to
                v14.1.0 which patches

                the correct reserved Supervisor app UUIDs in. This results in
                two Supervisors running

                on devices under the BM instance which persists after BM
                upgrade.
              footer:
                See: https://balena.fibery.io/search/T7ozi#Inputs/Pattern/Two-supervisors-are-running-on-device-3370
                see: https://balena.fibery.io/search/T7ozi#Inputs/Pattern/Two-supervisors-are-running-on-device-3370
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.7.5
          title: ""
          date: 2024-11-07T13:34:05.062Z
        - commits:
            - subject: Update express to v4.20.0 [SECURITY]
              hash: f2aaf7372d0716e3b62118ed3102a7eac0f169a5
              body: |
                Update express from 4.19.2 to 4.20.0
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: balena-supervisor-16.7.4
          title: ""
          date: 2024-10-28T14:40:42.702Z
        - commits:
            - subject: Add NXP support to balenaOS secure boot
              hash: 619f64429931975a6f33f1ef444928962d82e200
              body: >
                On NXP iMX devices the partitions are not encrypted with LUKS
                but with

                the lower level dm-crypt subsystem.


                Adapt the partition mount script to use dmsetup which works for
                both

                LUKS and dm-crypt encrypted partitions.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-supervisor-16.7.3
          title: ""
          date: 2024-10-28T14:04:22.141Z
        - commits:
            - subject: Use bookworm image to source journalctl binaries
              hash: 57a17ea2075d7aadd440b7c2be78f52136988ad9
              body: >
                Debian no longer publishes linux/arm/v5 images for bullseye,
                breaking

                support for raspberry pi zero.


                This change might not solve the issue indefinitely

                as we don't know how long debian will continue publishing armv5
                images.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.7.2
          title: ""
          date: 2024-10-18T15:20:52.555Z
        - commits:
            - subject: Add support for init field from compose
              hash: ed1c18e3691e60bc22652e930be49e428d2ef1fe
              body: >
                Init supports boolean values, and is not included in the config
                when

                not defined.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.7.1
          title: ""
          date: 2024-09-26T14:28:03.356Z
        - commits:
            - subject: Store rejected apps in the database
              hash: e9a52e6786e94f6be5e23c9410fc7b59df4726b5
              body: >
                This moves from throwing an error when an app is rejected due to
                unmet

                requirements (because of contracts) to storing the target with a

                `rejected` flag on the database.


                The application manager filters rejected apps when calculating
                steps to

                prevent them from affecting the current state. The state engine
                uses the

                rejection info to generate the state report.
              footer:
                Change-type: minor
                change-type: minor
              author: Felipe Lalanne
              nested: []
            - subject: Set the app update status when reporting state
              hash: 227fee9941b77ec5a7589231979b083fb62d4f00
              body: ""
              footer:
                Change-type: minor
                change-type: minor
              author: Felipe Lalanne
              nested: []
            - subject: Add update status to types
              hash: e9f460fd75e296fb295b9e1f7a7bb56f7929035d
              body: ""
              footer:
                Change-type: minor
                change-type: minor
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.7.0
          title: ""
          date: 2024-09-02T15:33:39.300Z
  version: 6.1.3
  title: ""
  date: 2024-11-11T18:30:47.169Z
- commits:
    - subject: "modemmanager: Update outdated context of patches"
      hash: 9c86d383ae2038f81f8459768a5ad3732fd171d4
      body: >
        We do this in preparation for the Scarthgap update because with newer

        Yocto versions the patches with outdated context will trigger fatal
        build errors.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 6.1.2
  title: ""
  date: 2024-11-11T13:39:41.407Z
- commits:
    - subject: "README: format the supported Yocto versions for legibility"
      hash: 848985f1c041fa2e3c3b66baeaa5b97b5d7ed6c7
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Extend README to add balena bootloader
      hash: f4f10eb6d6291ae568a61800cc89ef0423ff9c17
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.1.1
  title: ""
  date: 2024-11-07T15:40:15.964Z
- commits:
    - subject: Add auth. header to /os/v1/config requests
      hash: 0c35aa38fec436fa0469aaf414fbcf68d97f6b0b
      body: >
        Allows the API to identify devices requesting configuration and apply
        routing logic (e.g. switch from TCP to UDP OpenVPN configuration).
      footer:
        change-type: minor
      author: Anton Belodedenko
      nested: []
  version: 6.1.0
  title: ""
  date: 2024-11-01T13:53:03.607Z
- commits:
    - subject: "tests: secureboot: add test to ensure partition integrity"
      hash: 3cf94c892cd6a21f91c1c3ab7718f3feca35435f
      body: |
        Ensure the signed kernel aborts the boot process when partitions or
        filesystems have been tampered with.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 6.0.50
  title: ""
  date: 2024-10-26T23:12:59.729Z
- commits:
    - subject: "tests/os: Add Jetson Orin device-specific fan and power mode smoke
        tests"
      hash: 87e5e8450911fbd3eb400ca76b1273f6b3deb15d
      body: |
        These tests are the same for all public Orin device types
        and validate that the power mode and the fan profile can be
        changed by writing directly to the config.json file
        in the boot partition of an un-managed OS.
      footer:
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
        Change-type: patch
        change-type: patch
      author: Alexandru Costache
      nested: []
  version: 6.0.49
  title: ""
  date: 2024-10-25T13:54:52.420Z
- commits:
    - subject: "os-helpers-fs: introduce a script to split boot partitions"
      hash: 1c3fe3b3fd259cadf1f8b684aa883dd4274a6f0f
      body: |
        Secure boot enabled partitions need to split the boot partition into
        an encrypted and a non-encrypted one.

        Unless the device type natively separates the files that the bootROM
        needs to boot, like EFI does into /mnt/boot/EFI, a list of files to
        move to the non-encrypted partition needs to be provided on the
        BALENA_NONENCRYPTED_BOOT_PARTITION_FILES variable, and a function
        to implement the split needs to be provided.

        This commit introduces a split_bootpartition() function that performs
        this and can be used for those platforms that need to list the boot
        essential files in a BALENA_NONENCRYPTED_BOOT_PARTITION_FILES variable.

        This is typically called from the bootpart_split() function in the
        balena-init-flasher customization file.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers-fs: add a shared script to deploy non-encrypted boot file"
      hash: d1deb3e4fc8744fe66e1b5a726c82b4a856f2fe4
      body: |
        On secure boot enabled devices the boot partition is split into an
        encrypted boot partition (/mnt/boot) and a non-encrypted boot partition
        (/mnt/<name>).

        On the built rootfs all files live in `/mnt/boot`, and the installation
        needs to create an encrypted /mnt/<name> and move some files from
        /mnt/boot there.

        UEFI platforms make this easy as the non-encrypted files are stored on a
        different /mnt/boot/EFI folder. However, other platforms need to list
        which files to move by name.

        This commit introduces a skip_nonencrypted_boot_files() helper function
        for these other platforms to use.

        It is typically called from a do_skip() function in the os-helpers-sb
        secure boot customization file.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "systemd: disable systemd-gpt-generator"
      hash: e5a17eabfbb1b1d262858ec0324e61c3fbd1bc09
      body: |
        This service is unused in balenaOS.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-mounts: generalize non-enc boot partition mounter"
      hash: ed26eb561680ac1136645f83d2210f7997bca1c3
      body: |
        This avoids having to append this recipe on each device repository.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: kernel-balena: do not remove whole build directory"
      hash: 1222daab16e2e09727868ad998affc35c24f6e29
      body: |
        When signing, only remove the certs directory in the build folder.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "efitools: Fix syntax"
      hash: 42af7cf026fe0284768f7c1e6b8bfc07f649680c
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.0.48
  title: ""
  date: 2024-10-24T16:31:08.793Z
- commits:
    - subject: "hostapp-update-hooks: remove alternative bootloader environment files"
      hash: b152124216f8360514961b83195c0e49f63c1a73
      body: |
        The rollback-parse-bootloader script will give priority to
        resinOS_uEnv.txt so make sure there are no U-Boot leftovers when
        migrating to a balena-bootloader enabled system which needs to read
        the bootenv environment file on rollbacks.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.0.47
  title: ""
  date: 2024-10-21T17:55:13.550Z
- commits:
    - subject: "balena-units-conf: Add os-fan-profile to units conf"
      hash: 1424e413680f30a156bef66e46ead170562edaf4
      body: |
        This service needs to be restarted every time the
        fan profile is modified in config.json, so that
        it can apply the change and restart the device
        specific fan control daemon. This is unlike the
        power model service, which only runs once, at startup.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 6.0.46
  title: ""
  date: 2024-10-19T16:51:02.546Z
- commits:
    - subject: "workflows/meta-balena-esr: fix version creation bash"
      hash: 40266212820dca50c7d6a938ca512b779dbd24b3
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: Ryan Cooke
      nested: []
  version: 6.0.45
  title: ""
  date: 2024-10-18T13:39:38.158Z
- commits:
    - subject: Update tests/leviathan digest to cf58b57
      hash: c44463d0bd4d94ded14173a9d91a6a6d8d8f95ec
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: add secureboot identifier into report name
              hash: 7ca3cb281f0aae1b0b0ee5e157081fa5a7109098
              body: >
                This is to avoid calshes of artifact names when running a test
                matrix with the secureboot option enabled
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: Ryan Cooke
              nested: []
          version: leviathan-2.31.59
          title: ""
          date: 2024-10-10T18:06:05.535Z
        - commits:
            - subject: Update core/contracts digest to 5ac053b
              hash: c40cc096fd39c13321cca04efce98944f725ee34
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.58
          title: ""
          date: 2024-10-10T15:33:51.355Z
        - commits:
            - subject: Update actions/upload-artifact digest to b4b15b8
              hash: 7bc68fe8c3ef8c699b708e3b241ceaec3134c9d2
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.57
          title: ""
          date: 2024-10-10T14:35:54.037Z
        - commits:
            - subject: "compose: map qemu volume into worker"
              hash: 2e1669d6f34df4930fb9511a0edd52e7cc050ee7
              body: >
                This volume is used to share qemu's QMP socket between the
                worker and

                core containers, allowing tests to connect, receive events from,
                and

                control qemu.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.31.56
          title: ""
          date: 2024-10-09T05:09:41.584Z
        - commits:
            - subject: Update actions/upload-artifact digest to 8448086
              hash: 4eb9e7b49a0a56d4ad899479a9989d3fa6429cf1
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.55
          title: ""
          date: 2024-10-08T20:36:27.136Z
        - commits:
            - subject: Update balena-io/balena-cli to v19.0.18
              hash: 511f30f40338084b2bf59e1213194bd7afd62ad7
              body: |
                Update balena-io/balena-cli from 19.0.17 to 19.0.18
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.54
          title: ""
          date: 2024-10-08T16:35:10.880Z
        - commits:
            - subject: Update actions/checkout digest to eef6144
              hash: 486a37fa55077267e9d2bebaef9d9fdb7cbf6b43
              body: |
                Update actions/checkout
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.53
          title: ""
          date: 2024-10-08T15:35:10.306Z
        - commits:
            - subject: Update balena-io/balena-cli to v19.0.17
              hash: 2f8cfd61761fbb0b0ea12a038d25fb71f98facd2
              body: |
                Update balena-io/balena-cli from 19.0.13 to 19.0.17
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.52
          title: ""
          date: 2024-10-08T14:33:13.530Z
        - commits:
            - subject: Update actions/upload-artifact digest to 604373d
              hash: 9dad57269d0016bb2a8e06d098923205e4e626be
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.51
          title: ""
          date: 2024-10-07T16:37:31.362Z
  version: 6.0.44
  title: ""
  date: 2024-10-10T20:36:08.884Z
- commits:
    - subject: "initrdscripts: Wait for boot partition in the abroot script"
      hash: 2ede3ce578907c2f2eb75598b0b599bb12913929
      body: |
        At this moment the abroot script assumes that the boot partition
        is already in place when it executes. This might not be true
        if the rootfs sits on a device that takes a while to initialize,
        such as a USB drive. The script fails hard if that is the case.

        This patch replicates a waiting loop from the rootfs script,
        which addresses the same issue for systems that do not use
        the balena bootloader.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 6.0.43
  title: ""
  date: 2024-10-10T15:37:21.568Z
- commits:
    - subject: "flasher: improve logging with secure boot"
      hash: ebde0895df02810798d80c585d5496d3b8d72909
      body: |
        Print the PCR digest values used to create the PCR policy used to seal
        the LUKS passphrase during flashing. These values can be cross
        referenced with the logs during secure boot to diagnose policy check
        failures.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 6.0.42
  title: ""
  date: 2024-10-09T18:02:04.416Z
- commits:
    - subject: Update balena-os/balena-yocto-scripts action to v1.25.59
      hash: b657c30b13e4bf9e66dbd1fd0d9612ce2f27768c
      body: |
        Update balena-os/balena-yocto-scripts from v1.25.49 to v1.25.59
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested: []
  version: 6.0.41
  title: ""
  date: 2024-10-09T12:24:24.775Z
- commits:
    - subject: "os-helpers-efi: silence secure boot variable checks"
      hash: 7815bc8ea4496a704fe1c6dc6ecae36d1d9bbb86
      body: |
        If the SecureBoot variable is non-existent, the parsed value is not an
        integer, and test complains. Redirect stderr to silence this.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "os-helpers-efi: silence od stderr"
      hash: 095d63b8fe773ebd7c9075bb6495f4620fcd238f
      body: |
        When parsing an efivar value, od will complain if a given file does not
        exist, such as the SecureBoot variable.

        Silence stderr to ignore this.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 6.0.40
  title: ""
  date: 2024-10-08T20:12:41.671Z
- commits:
    - subject: "tests: hup: login with sdk before fetching image"
      hash: b8e558c74ad626dfaf77f56aad5952225fed3e17
      body: >
        This is to ensure we have an authenticated SDK before trying to get the
        last known production image - it needs to be authenticated in case the
        DT is private
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: Ryan Cooke
      nested: []
  version: 6.0.39
  title: ""
  date: 2024-10-07T16:47:42.103Z
- commits:
    - subject: "tpm2: ensure auth session contexts are flushed after use"
      hash: 93f949ff05ecf745378a864a303a76278b0d1c27
      body: |
        The TPM is capable of storing a limited number of auth session handles.
        Ensure auth sessions are flushed after use, to prevent
        tpm2_startauthsession from failing with 'out of session handles'.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 6.0.38
  title: ""
  date: 2024-10-04T23:25:13.415Z
- commits:
    - subject: Update tests/leviathan digest to 3a1a989
      hash: 64b36498e5e23a742d3222df6d13c2eb38efdd8e
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update ubuntu to v24
              hash: 50fb50ae3f0a80116e392e33962c7b430e631f77
              body: |
                Update ubuntu from 22.04 to 24.04
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.50
          title: ""
          date: 2024-10-04T09:34:18.914Z
        - commits:
            - subject: Update docker/setup-buildx-action digest to c47758b
              hash: 11f62cd9d67252ae4efd6a59011e988dc06782ce
              body: |
                Update docker/setup-buildx-action
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.49
          title: ""
          date: 2024-10-04T08:34:28.663Z
        - commits:
            - subject: Update balena-io/balena-cli to v19.0.13
              hash: 1d7483d08118632d302c1797e3ee67c84dbcf935
              body: |
                Update balena-io/balena-cli from 19.0.11 to 19.0.13
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.48
          title: ""
          date: 2024-10-03T18:34:06.132Z
        - commits:
            - subject: Update docker/setup-buildx-action digest to 8026d2b
              hash: 22ce1f283f4a9a21ad648cf89b0b35767d236530
              body: |
                Update docker/setup-buildx-action
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.47
          title: ""
          date: 2024-10-03T17:38:19.765Z
        - commits:
            - subject: Update core/contracts digest to 1fb0b0c
              hash: 92c249e93ea3f1cd2dc8b09b05c1031f643fa268
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.46
          title: ""
          date: 2024-10-03T16:33:04.116Z
        - commits:
            - subject: add .git to dockerignore
              hash: f67d5611247197f63e7798b1516218f361dcb3f7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: remove pull request target trigger from workflows
              hash: d3fbb311a9e602ce2ed2e8073b6228dd9c13dd42
              body: >
                This will block external contributions - but right now we aren't
                really getting any anyway.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.31.45
          title: ""
          date: 2024-10-03T15:47:50.285Z
  version: 6.0.37
  title: ""
  date: 2024-10-04T11:58:11.117Z
- commits:
    - subject: Update balena-os/balena-yocto-scripts action to v1.25.49
      hash: 8ecf11ed610cea0624111f5adefed55fbe1360e7
      body: |
        Update balena-os/balena-yocto-scripts from v1.25.39 to v1.25.49
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested: []
  version: 6.0.36
  title: ""
  date: 2024-10-01T19:50:30.591Z
- commits:
    - subject: "tests: cloud: prevent hanging in cloud suite teardown"
      hash: 66c2e28b0b5bb108308feda044418f04a113b742
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 6.0.35
  title: ""
  date: 2024-09-30T14:59:40.189Z
- commits:
    - subject: "CI: Update checkout settings"
      hash: 1bf597cd14ca59a1086c952cf03279d6d2046ca3
      body: ""
      footer:
        Change-type: patch
        change-type: patch
      author: Pagan Gazzard
      nested: []
  version: 6.0.34
  title: ""
  date: 2024-09-27T15:27:30.053Z
- commits:
    - subject: Override the default commit body for digest updates
      hash: 767ecdac82438fd9390628796100165902c8fe14
      body: |
        A commit body is provided for digest updates in the
        top-level config here: https://github.com/balena-os/renovate-config

        So we must override the digest setting explicitly at the repo
        level in order to use Change-type vs Changelog-entry
      footer:
        Change-type: patch
        change-type: patch
      author: Kyle Harding
      nested: []
  version: 6.0.33
  title: ""
  date: 2024-09-22T20:57:17.943Z
- commits:
    - subject: "kernel-headers-test: update dockerfile to bullseye"
      hash: b1ba4caa955dc751d01e10e4159fde34dfb69f92
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.0.32
  title: ""
  date: 2024-09-21T17:20:33.365Z
- commits:
    - subject: "mkfs-hostapp-native: update Dockerfile to using trixie"
      hash: 61265dc52127a461b476c225268e3d6be6f9eabf
      body: >-
        This is required to be able to build in host distributions that use

        glibc v2.39 to avoid errors such as:


        ```

        | + hostapp-update -f /input -n

        | Running hostapp update...

        | touch: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.38' not found
        (required by touch)

        ```
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-rust: rust-llvm: backport a fix for build with gcc-13"
      hash: c8863a14595c7147a7072b21420eb803ef146779
      body: |
        * needed for rust-llvm-native on hosts with gcc-13

        (backport from
        335eb3a93e96 rust-llvm: backport a fix for build with gcc-13)
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.0.31
  title: ""
  date: 2024-09-20T21:32:01.568Z
- commits:
    - subject: Update tests/leviathan digest to 17c522f
      hash: d4f0f9ccb2a819a22213d7cb5822534a5191014d
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update balena-io/balena-cli to v19.0.11
              hash: 2824ed421ede89a422157bae190ce00d1443548e
              body: |
                Update balena-io/balena-cli from 19.0.10 to 19.0.11
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.44
          title: ""
          date: 2024-09-18T17:49:06.237Z
  version: 6.0.30
  title: ""
  date: 2024-09-18T21:20:36.785Z
- commits:
    - subject: "modemmanager: Fix SIM7100E crash"
      hash: e397c18742117596fed133e0b5992362e230f538
      body: |
        With the update to MM 1.22.0 we have received reports that
        SIM7100E is not functioning correctly.
        Followed up with ModemManager devs and it was discovered the issue
        is related to a PCO setting:
        https://gitlab.freedesktop.org/mobile-broadband/ModemManager/-/issues/884
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 6.0.29
  title: ""
  date: 2024-09-18T12:31:58.505Z
- commits:
    - subject: "initrdscripts: replace cut by awk for parsing lsblk in cryptsetup hook"
      hash: c9544aaf502943f3b492d0a5907f1c1e401c6ac7
      body: |
        cut is sensitive to the amount of delimiter characters when parsing
        output, so e.g. an additional space between two elements causes
        every field shift by one index.

        This patch replaces the use of cut by awk, which should be more robust.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 6.0.28
  title: ""
  date: 2024-09-18T04:59:46.616Z
- commits:
    - subject: "tests:os: Use writeConfigJsonProp helper function"
      hash: b44642caa14c4fb791d99e5705499b710a98c3e9
      body: |
        Use the existing helper function to write changes to config.json.
      footer:
        Change-type: patch
        change-type: patch
      author: Kyle Harding
      nested: []
  version: 6.0.27
  title: ""
  date: 2024-09-17T13:31:39.490Z
- commits:
    - subject: Update tests/leviathan digest to 384eab3
      hash: d83cff4412e56f15966c9ea9f3c5c6a54ef628da
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.47
              hash: b53c1c88c58c9778c65d1374e0e6974c4ade9b7b
              body: |
                Update balena-os/leviathan-worker from 2.9.46 to 2.9.47
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.43
          title: ""
          date: 2024-09-16T18:05:30.777Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.46
              hash: f3f95ce7b0f5db843a74254ab46e601c8d02e946
              body: |
                Update balena-os/leviathan-worker from 2.9.45 to 2.9.46
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.42
          title: ""
          date: 2024-09-16T15:31:00.845Z
        - commits:
            - subject: Update balena-io/balena-cli to v19.0.10
              hash: 7a610c2fa5f291963246490217351c9615fe24fc
              body: |
                Update balena-io/balena-cli from 19.0.9 to 19.0.10
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.41
          title: ""
          date: 2024-09-13T00:37:52.211Z
        - commits:
            - subject: Update balena-io/balena-cli to v19.0.9
              hash: 4fa611fe286f7992201ca189399bc1d8de3cb5e5
              body: |
                Update balena-io/balena-cli from 19.0.8 to 19.0.9
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.40
          title: ""
          date: 2024-09-12T16:34:55.992Z
        - commits:
            - subject: Update balena-io/balena-cli to v19.0.8
              hash: db7090769dc27d334c8469e2506d9c292b858808
              body: |
                Update balena-io/balena-cli from 19.0.7 to 19.0.8
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.39
          title: ""
          date: 2024-09-12T15:33:44.784Z
        - commits:
            - subject: Update balena-io/balena-cli to v19.0.7
              hash: 23b1c74ae99df11d669829f17d59e0ca3be47760
              body: |
                Update balena-io/balena-cli from 19.0.5 to 19.0.7
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.38
          title: ""
          date: 2024-09-12T14:36:50.579Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.45
              hash: 0dc026dca2f747f842c1409a13f47cea9b9d04a9
              body: |
                Update balena-os/leviathan-worker from 2.9.44 to 2.9.45
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.37
          title: ""
          date: 2024-09-12T07:31:44.179Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.44
              hash: 6b43e8f2ffa27d0fb6c37da4bfaba4851df2f7f0
              body: |
                Update balena-os/leviathan-worker from 2.9.43 to 2.9.44
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.36
          title: ""
          date: 2024-09-11T23:32:37.123Z
        - commits:
            - subject: Update balena-io/balena-cli to v19.0.5
              hash: c174e083809828878a0c4ffff762e9f559accfe4
              body: |
                Update balena-io/balena-cli from 19.0.3 to 19.0.5
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.35
          title: ""
          date: 2024-09-10T15:33:10.681Z
        - commits:
            - subject: Always upload reports, especially when tests fail
              hash: c09fee58e73b0717726d5c3d381574cb12eadd83
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.31.34
          title: ""
          date: 2024-09-05T20:56:32.116Z
        - commits:
            - subject: Update balena-io/balena-cli to v19.0.3
              hash: b321cbdc50680242d6e4e61b0ae7b044593ddb75
              body: |
                Update balena-io/balena-cli from 19.0.2 to 19.0.3
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.33
          title: ""
          date: 2024-09-05T13:36:48.504Z
        - commits:
            - subject: Update balena-io/balena-cli to v19.0.2
              hash: 37461510767eeabbf8e9c20fe7b93a3ffc1ede7d
              body: |
                Update balena-io/balena-cli from 19.0.1 to 19.0.2
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.32
          title: ""
          date: 2024-09-03T15:32:37.054Z
        - commits:
            - subject: Update actions/upload-artifact digest to 5076954
              hash: bbcc990c22373d8e04ebca6d20c36e500cee96ed
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.31
          title: ""
          date: 2024-09-02T15:34:35.548Z
        - commits:
            - subject: Update balena-io/balena-cli to v19.0.1
              hash: 1b906986e45c2fb485e3040ea1ac8af6ef54ad85
              body: |
                Update balena-io/balena-cli from 19.0.0 to 19.0.1
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.30
          title: ""
          date: 2024-09-02T14:30:18.866Z
  version: 6.0.26
  title: ""
  date: 2024-09-16T20:58:39.824Z
- commits:
    - subject: "initrdscripts: Make cryptsetup fail hard in unexpected conditions"
      hash: c1bccdbd95bcb0202c4b80679ade0967df643342
      body: |
        This patch adds a set of checks that make sure that the partition
        layout is as expected on a system with encrypted disks. Namely it
        * Checks that the boot partition is split
        * Checks that it can find the correct amount of encrypted partitions
        * Checks that the label on the unlocked filesystem matches the label
          on the encrypted partition
        * Checks that system is not mixing encrypted and unencrypted
          partitions
        * Checks there are no ambiguities or duplicit partitions
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 6.0.25
  title: ""
  date: 2024-09-13T16:23:25.632Z
- commits:
    - subject: "common: fix return in commit_apply-dbx HUP hook"
      hash: a557b614a0ce2cf39d6bdfb3e464834b0d570895
      body: |
        This code was moved from rollback-health into a hostapp-update commit
        hook, where it now runs outside of a function.

        Replace the invalid return statements with exits.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 6.0.24
  title: ""
  date: 2024-09-13T08:22:06.217Z
- commits:
    - subject: "tests:os: Avoid setting apiEndpoint for unmanaged tests"
      hash: 123e5476c4740abb29e0818d93449ca8da804f5c
      body: >
        When this config.json field has a value, the supervisor will treat the
        device as managed and will crash and start to boot loop.


        On faster device-types we don't seem to notice and the tests pass by
        chance, but on Pi Zero and similar we consistently see ECONNRESET when
        hitting local SV endpoints.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 6.0.23
  title: ""
  date: 2024-09-12T18:15:21.088Z
- commits:
    - subject: Update balena-os/balena-yocto-scripts action to v1.25.39
      hash: 6e1c2685e6be2982ca7175936e0f4babae37081f
      body: |
        Update balena-os/balena-yocto-scripts from v1.25.30 to v1.25.39
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested: []
  version: 6.0.22
  title: ""
  date: 2024-09-12T01:14:39.979Z
- commits:
    - subject: Update balena-os/balena-yocto-scripts action to v1.25.30
      hash: c6c64ab317c0a7756c6a0aa218ab656b468b56df
      body: |
        Update balena-os/balena-yocto-scripts from v1.25.28 to v1.25.30
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested: []
  version: 6.0.21
  title: ""
  date: 2024-09-01T04:40:51.408Z
- commits:
    - subject: "tests: config: restore both network options to false"
      hash: a1ed821735940bd56b3f6b92ae3db85bba4dd241
      body: |
        See: https://github.com/balena-os/meta-balena/pull/3117
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 6.0.20
  title: ""
  date: 2024-08-31T14:20:53.330Z
- commits:
    - subject: Update balena-supervisor to v16.6.1
      hash: 6fdf650a5e214dacb40dd87e34c9369464cc2d12
      body: |
        Update balena-supervisor from 16.5.8 to 16.6.1
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Remove unused patchDevice function
              hash: 788afee9a1ebce3d1a319b0ca998ba4163f482ce
              body: >
                This function was a remainder of the dependent devices code that
                no

                was removed on #2105
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.6.1
          title: ""
          date: 2024-08-29T16:36:07.606Z
        - commits:
            - subject: Add support for redsocks dnsu2t config
              hash: eaa07e97a9fd2089d1f6a2f3bdff74215cdee789
              body: >
                Users may specify dnsu2t config by including a `dns` field

                in the `proxy` section of PATCH /v1/device/host-config's body:

                ```

                {
                  network: {
                    proxy: {
                      dns: '1.1.1.1:53',
                    }
                  }
                }

                ```


                If `dns` is a string, ADDRESS and PORT are required and should
                be

                in the format `ADDRESS:PORT`. The endpoint with error with

                code 400 if either ADDRESS or PORT are missing.


                `dns` may also be a boolean. If true, defaults will be
                configured.

                If false, the dns configuration will be removed.


                If `proxy` is patched to empty, `dns` will be removed regardless

                of its current or input configs, as `dns` depends on an active

                redsocks proxy to function.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.6.0
          title: ""
          date: 2024-08-28T22:47:08.152Z
  version: 6.0.19
  title: ""
  date: 2024-08-31T07:40:08.932Z
- commits:
    - subject: Update balena-os/balena-yocto-scripts action to v1.25.28
      hash: 5d1ed6bafe7269c890b1f976f1065df7407ae7e7
      body: |
        Update balena-os/balena-yocto-scripts from v1.25.26 to v1.25.28
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested: []
  version: 6.0.18
  title: ""
  date: 2024-08-31T04:29:39.151Z
- commits:
    - subject: Update Pin balena-os/balena-yocto-scripts action to a3dfa26
      hash: 3243ce257ab7824e3cf90e214dc31e56b3697ec5
      body: |
        Update balena-os/balena-yocto-scripts
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested: []
  version: 6.0.17
  title: ""
  date: 2024-08-31T01:13:35.118Z
- commits:
    - subject: Update tests/leviathan digest to ff6a079
      hash: 5b915b20c402774b2926a8f2ea73200daffdd607
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update core/contracts digest to 59752b7
              hash: 77fb084fa0073a4ce024c258bc81b44c7df84daa
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.29
          title: ""
          date: 2024-08-29T19:33:37.619Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.43
              hash: 47bf1a79a6935e7c99430266f67d90f0f0155256
              body: |
                Update balena-os/leviathan-worker from 2.9.41 to 2.9.43
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.28
          title: ""
          date: 2024-08-29T18:44:20.177Z
        - commits:
            - subject: Update docker/setup-buildx-action digest to 988b5a0
              hash: e6b3ef176fbadff3adeb317158d8be96c635092a
              body: |
                Update docker/setup-buildx-action
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.27
          title: ""
          date: 2024-08-29T17:37:31.318Z
        - commits:
            - subject: specify ipv4 localhost for balena tunnel
              hash: 26d159fb88c3455975a048aa70bfeaad530d6330
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: Move balena-cli download to a build stage with renovate management
              hash: 6bc62dc2b0b8368aea6b1763968ee5d775657d0e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "core: update CLI to 19.0.0"
              hash: 382dd48d3c3f7bc4fbad1e3376d84a40c1342c15
              body: >
                we were previously using CLI 16.0.0, which is now over 365 days
                since the next major release (17.0.0) , so its deprecated and
                won't work without adding the --unsupported flag, or updating.
                Choosing to update
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.31.26
          title: ""
          date: 2024-08-29T16:24:31.112Z
  version: 6.0.16
  title: ""
  date: 2024-08-29T22:23:40.786Z
- commits:
    - subject: remove up-board and cl-som-imx8
      hash: e89f03602ba6b9565db22e90ff1c7f604c6f2eca
      body: >
        These were recently removed from yocto-all as they need to be moved to
        kirkstone or higher - and that work is not trivial
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: Add GHA workflows for additional device types
      hash: de582e93afe502654f02617fbf6daa930e4cad03
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 6.0.15
  title: ""
  date: 2024-08-29T13:04:15.729Z
- commits:
    - subject: Update balena-supervisor to v16.5.8
      hash: 88e983ec5716c4187cd5819c1cefea083dfaad45
      body: |
        Update balena-supervisor from 16.4.6 to 16.5.8
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update webpack to v5.94.0 [SECURITY]
              hash: a480266c5603dde4db0d1630cf5b21748c204d14
              body: |
                Update webpack from 5.76.0 to 5.94.0
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: balena-supervisor-16.5.8
          title: ""
          date: 2024-08-27T22:41:39.587Z
        - commits:
            - subject: Add unit test for usingInferStepsLock
              hash: 51e59725f87b03e0e469e872373cf6088f0cb34a
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.5.7
          title: ""
          date: 2024-08-27T21:18:29.272Z
        - commits:
            - subject: "Revert PR #2364"
              hash: 3cebfa9f789c973f94f285da2a4edcc4095e63c0
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.5.6
          title: ""
          date: 2024-08-23T00:24:26.769Z
        - commits:
            - subject: Avoid unnecessary config calls during Supervisor init
              hash: fc6927e53d8460863ee495405750feb62ef0483c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.5.5
          title: ""
          date: 2024-08-21T04:35:54.822Z
        - commits:
            - subject: Add kmod to runtime-base
              hash: aeb9c621a545a2b6aeead64cdd467a9371d76414
              body: >
                balenaOS v6 enables zstd module compression by default. Add kmod
                to

                runtime-base to support loading of compressed modules.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: balena-supervisor-16.5.4
          title: ""
          date: 2024-08-16T14:36:29.003Z
        - commits:
            - subject: Do not write `noProxy` to redsocks.conf
              hash: b088b78a3e9ca135a9624a2d5be54a7c205fb03f
              body: >
                This fixes a regression introduced by the refactor in #2329
                where

                `noProxy` was being included in the data added to redsocks.conf.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.5.3
          title: ""
          date: 2024-08-08T16:40:40.421Z
        - commits:
            - subject: Verify that LED_FILE exists on blinking setup
              hash: a255001c2e71942dd57806688dd1fb90a59ba22a
              body: >
                Before v1, the blinking module would not throw when the passed
                led file

                does not exist. This change checks for file existence and
                defaults to

                `/dev/null` otherwise
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.5.2
          title: ""
          date: 2024-08-07T21:59:11.050Z
        - commits:
            - subject: Avoid leaking memory on deep promise recursions
              hash: d789e5bb77e0337773c69ed9d4e24696c019c6ac
              body: >
                The following pattern

                ```ts

                async function longRunning() {
                   // do something
                   await setTimeout(delay);
                   await longRunning();
                }

                ```


                Is regularly used for long running operations on the supervisor
                (e.g.

                polling target state). We have

                recently discovered that this pattern can slowly leak memory as
                it

                essentially creates an infinite promise chain. Using `void
                longRunning()` breaks

                the chain and avoids the issue.


                This commit fixes all those instances where the pattern was
                used.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.5.1
          title: ""
          date: 2024-08-05T19:17:30.564Z
        - commits:
            - subject: Use promises for setup/writing for logging backend
              hash: 8bc08750e946a3eea5c7eba14182a9506823b559
              body: >
                The balena logging backend now uses async functions to setup the

                connection and write messages to the request stream. This adds
                some

                backpressure on `log` calls by by the log monitor module, to
                prevent a

                very agressive container causing the supervisor to waste CPU
                cycles just

                dropping messages.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Improve the LogBackend interface
              hash: f3fcb0db7a8478dfe9ffde342b683510ba49502f
              body: >
                This make the LogBackend `log` method into an async method in

                preparation for upcoming changes that will use backpressure from
                the

                connection to delay logging coming from containers.


                This also removes unnecessary imageId from the LogMessage type
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Use stream pipeline instead of pipe
              hash: 5af948483a69701ebe7db9933a695f85f29b62f3
              body: |
                This also removes the use of JSONStream from the monitor module
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Do not use DB to store container logs info
              hash: dbacca977a1f42ad4e3381112d3523cf7624d283
              body: >
                This removes the dependence of the supervisor on the
                containerLogs

                database for remembering the last sent timestamp. This commit
                instead

                uses the supervisor startup time as the initial time for log
                retrieval.

                This might result in some logs missing for services that may
                start

                before the supervisor after a boot, or if the supervisor
                restarts.

                However this seems like an acceptable trade-off as the current

                implementation seems to make things worst in resource contrained

                environments.


                We'll move storing the last sent timestamp to a better storage
                medium in

                a future commit.
              footer:
                Change-type: minor
                change-type: minor
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.5.0
          title: ""
          date: 2024-07-30T18:48:22.422Z
  version: 6.0.14
  title: ""
  date: 2024-08-28T09:01:22.853Z
- commits:
    - subject: "classes/image_types_balena: Add support for device specific boot
        filesystem options"
      hash: 8a7b00339067e4b95933fe4936fc7bbfeacf97bf
      body: |
        The beagleplay is unable to load u-boot from the sd-card
        boot partition if the standard geometry set by mkfs.vfat is used -
        that is 16 heads / 63 sectors per track.

        We noticed that using a geometry of 16 heads / 32 sectors per track
        make the device to boot from the sd-card, so we make the
        boot filesystem options configurable from the device repository
        to apply this setting.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 6.0.13
  title: ""
  date: 2024-08-26T15:40:04.137Z
- commits:
    - subject: Update balena-os/balena-yocto-scripts action to v1.25.25
      hash: 811bd5df9d6e2b6911fb50183391af3a332e851b
      body: |
        Update balena-os/balena-yocto-scripts from v1.25.24 to v1.25.25
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested: []
  version: 6.0.12
  title: ""
  date: 2024-08-23T21:26:41.583Z
- commits:
    - subject: Update balena-os/balena-yocto-scripts action to v1.25.24
      hash: 1eb2d61ca566456fa21e1a007f9081566c199007
      body: |
        Update balena-os/balena-yocto-scripts from v1.25.8 to v1.25.24
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested: []
  version: 6.0.11
  title: ""
  date: 2024-08-21T23:19:30.509Z
- commits:
    - subject: Update balena-supervisor to v16.4.6
      hash: 6137928e264def6afbbe5a42f8bc496419ab65a4
      body: |
        Update balena-supervisor from 16.4.4 to 16.4.6
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update semver to v7.6.3
              hash: 340e69d0c22e12281ac8608eda2b5a871e645e19
              body: |
                Update semver from 7.6.2 to 7.6.3
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.4.6
          title: ""
          date: 2024-07-30T14:43:21.325Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.74
              hash: 92be067b0d2e408a526e55bd3a6a57e46dc52687
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.72 to 2.0.74
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.4.5
          title: ""
          date: 2024-07-25T14:31:14.222Z
  version: 6.0.10
  title: ""
  date: 2024-08-14T20:51:23.124Z
- commits:
    - subject: Update tests/leviathan digest to f4e9332
      hash: d475c7b424d396d03c712befb3fdb2934d7513f0
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: balena-renovate[bot]
      nested:
        - commits:
            - subject: Update actions/upload-artifact digest to 834a144
              hash: 6a81dc37849f6290f104e3bbb95bc8b60f240ab5
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.25
          title: ""
          date: 2024-08-06T15:54:52.299Z
        - commits:
            - subject: Update core/contracts digest to 6d69a05
              hash: 02819efbdc5ca46918d80ec2b23c18274995629b
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: balena-renovate[bot]
              nested: []
          version: leviathan-2.31.24
          title: ""
          date: 2024-08-06T10:14:13.280Z
        - commits:
            - subject: "core: remove nested retries in getDutIp function"
              hash: fc8a48737153dc528a005f4d963e0f3f54426aae
              body: >
                the function that was being used to fetch the DUT ip from the
                worker had nested retries that led to 30x5 = 150 retries, and
                timeouts taking ~40 mins in the case the DUT wasn't reachable
                (autokit setup fault, device not booting, problem during
                flashing). This removes the nested retries and reduces the
                retries to 50 /  ~ 10mins
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.31.23
          title: ""
          date: 2024-07-23T13:24:35.947Z
        - commits:
            - subject: "patch: Add migration & secureboot options to e2e test suite"
              hash: 7abd1e4f8483b2a5704c5f4e0b1f974e0fafc762
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.31.22
          title: ""
          date: 2024-07-23T13:00:12.436Z
        - commits:
            - subject: Update docker/setup-buildx-action digest to aa33708
              hash: dda330bb67cff678a5b7758f31ebf53bbc58886c
              body: |
                Update docker/setup-buildx-action
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.21
          title: ""
          date: 2024-07-22T10:33:23.487Z
  version: 6.0.9
  title: ""
  date: 2024-08-14T11:50:03.782Z
- commits:
    - subject: "tests: os: add check for iptables rules"
      hash: ac651d898929d492f3ec93a852f65b46d3883ac7
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 6.0.8
  title: ""
  date: 2024-08-14T01:35:51.540Z
- commits:
    - subject: "modemmanager: Fix Quectel modems initialization bug"
      hash: 2d53d2cb60a155ece0563fbb39629056e2c959d0
      body: >
        With the update to ModemManager version 1.22.0 we now have some Quectel
        modems failing

        to use QMI properly:


        ModemManager[1178]: [modem0] power state updated: on

        ModemManager[1178]: [modem0] (quectel) modem reset detected, triggering
        reprobe

        ModemManager[1178]: [modem0] (quectel) modem reset detected, triggering
        reprobe

        .

        .

        .

        ModemManager[1178]: [modem0] failed waiting for final state: Too much
        time waiting to get to a final state

        ModemManager[1178]: [modem0] failed enabling modem: Operation was
        cancelled

        ModemManager[1178]: [modem1] couldn't start initialization: Transaction
        timed out

        ModemManager[1178]: [modem1] fatal error initializing: Fatal error:
        modem is unusable


        This has been fixed upstream with the 2 patches we backport here:


        ModemManager[1139]: [modem0] power state updated: on

        ModemManager[1139]: [modem0] (quectel) continuing without enabling
        profile manager events
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 6.0.7
  title: ""
  date: 2024-08-09T17:47:34.390Z
- commits:
    - subject: "patch: Fix broken links in CDS Docs"
      hash: 1a9cee2069b3381eddbea606a5aeaa4a436f5643
      body: ""
      footer: {}
      author: Vipul Gupta
      nested: []
  version: 6.0.6
  title: ""
  date: 2024-07-25T10:23:04.133Z
- commits:
    - subject: Update balena-supervisor to v16.4.4
      hash: cd92e92408d399a81fa11e221cbd6f23849cefbb
      body: |
        Update balena-supervisor from 16.4.1 to 16.4.4
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Improve log message typing
              hash: 4976578a830f3db6484e940a710928544709511d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-16.4.4
          title: ""
          date: 2024-07-17T14:48:47.790Z
        - commits:
            - subject: "Logs: only truncate the message if it's possible it will need it"
              hash: c5d0eafea9016792d3eea04bf9d9df7886eb8bc0
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
            - subject: "Logs: skip setting default values if we're dropping as an invalid log"
              hash: 34cf8b67081d7d353319839eab129569a186cd71
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
            - subject: "Logs: only call `Date.now()` if a timestamp is not already present"
              hash: 0a817af10c7dc107b7524a63b2410ff84c275a8d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-16.4.3
          title: ""
          date: 2024-07-16T22:28:15.802Z
        - commits:
            - subject: Cleanup images after state-engine tests
              hash: f38714d40ffa0c1a885016e8fdfbca46aff4108f
              body: >
                Tests on GitHub started failing recently because of leftover
                images from

                the state engine test suite. This fixes that issue to allow
                tests to

                pass.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.4.2
          title: ""
          date: 2024-07-16T21:55:49.331Z
  version: 6.0.5
  title: ""
  date: 2024-07-22T10:13:24.211Z
- commits:
    - subject: Update balena-os/balena-yocto-scripts action to v1.25.8
      hash: a8e3ff95943773edee89f4b1b5b4762b8e9e9bdd
      body: |
        Update balena-os/balena-yocto-scripts from v1.25.7 to v1.25.8
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested: []
  version: 6.0.4
  title: ""
  date: 2024-07-22T09:14:24.239Z
- commits:
    - subject: Update docker API version to match the v20.10 engine version
      hash: b129f29043de773bf9f6b2259e30cd62487c3d41
      body: |
        Update the API version to the version set in the distro configuration,
        which must match the API version of the balena package.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "conf: distro: set default docker API version"
      hash: 39194a01acb4bfaf51f6d59a0a77b1988519620f
      body: |
        This is used to match the API version used in the build pipeline with
        the balena version used in the image.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 6.0.3
  title: ""
  date: 2024-07-22T08:23:04.274Z
- commits:
    - subject: Update tests/leviathan digest to 081cbeb
      hash: 1440f5c245ed251c5677cc72ec9de6e120b41c38
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update core/contracts digest to 17b44ca
              hash: c889b407e4ad56080c98850022def0d122108863
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.20
          title: ""
          date: 2024-07-15T14:07:29.332Z
        - commits:
            - subject: Update core/contracts digest to 773c77c
              hash: 2e512d7f1aac17346613962564293e78a0ecd971
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.19
          title: ""
          date: 2024-07-12T10:30:54.239Z
        - commits:
            - subject: "client: use /start endpoint of worker to reserve worker if IDLE
                immediately"
              hash: 41b535e9ad160a6c663cf39137da562b4843829a
              body: >
                There is a problem where if the multiple jobs are running at the
                same time, all waiting for a worker to be IDLE, multiple jobs
                start using the worker at the same time. The reason was that
                first, the state of the worker is polled using /state - then,
                after some delay, it is reserved using the /start endpoint.
                Problem 1 was that there is a delay between checking and
                reserving - leading to a window of time where another job could
                do the same thing. Problem 2 is that once /start was used, there
                was nothing to stop the client from continuing, even if the
                worker was BUSY. This commit forgoes the /state endpoint, and
                just skips to trying /start - if the worker is IDLE, its
                instanly reserved, if its BUSY, the reponse is actually checked
                and nothing happens.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.31.18
          title: ""
          date: 2024-07-12T09:25:30.846Z
  version: 6.0.2
  title: ""
  date: 2024-07-19T23:27:39.748Z
- commits:
    - subject: "NetworkManager: remove duplicate rules in shared dispatcher script"
      hash: 90093d5d780bb236e21add3a55f270c08623768a
      body: |
        Sometimes on NetworkManager restart a new rule for a shared interface
        is added, but the old rule is not cleaned up properly, so the rules
        are just piling up. This patch makes the shared dispatcher script
        clean up duplicates if it finds any.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 6.0.1
  title: ""
  date: 2024-07-19T16:09:46.427Z
- commits:
    - subject: "common: remove module compression bbclass"
      hash: fbb35d54e5833db8a05b37e6cbce4bf1ca6ec1b7
      body: |
        This class is no longer necessary, as the kernel is configured to use
        module compression and in-kernel decompression when available.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "kernel-balena: enable zstd module compression"
      hash: 3aa66ff60a50af2fa21714223f390f09114dbb1d
      body: |
        Enable zstandard module compression in kernels > v5.13, as this feature
        was introduced in commit c3d7ef377eb25, first published in that release.
      footer:
        Change-type: major
        change-type: major
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "image-balena: support zst compressed modules"
      hash: 77ce253c9593b0d25e94d72e295a71e484a3b55e
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "kmod: enable zstd"
      hash: df352c7fcd132871842326023bf61f8da80d5a22
      body: |
        Enable zstd support for kmod to allow modprobe to load compressed
        modules.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 6.0.0
  title: ""
  date: 2024-07-19T00:08:00.449Z
- commits:
    - subject: Add build-only GHA workflows for missing devices
      hash: af70358b6b17b309cb043a3f15e1cca8084b1976
      body: |
        For meta-balena PRs we only want to test virtual devices,
        but we will do a sanity build for many types.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 5.4.1
  title: ""
  date: 2024-07-17T18:02:25.707Z
- commits:
    - subject: "classes: kernel-balena: remove configuration warnings for 6.1"
      hash: f5b822dc97248625933d5b6a2ad4c6c53bf3381d
      body: |
        * MEMCG_SWAP has been removed in v6.1 in 023223dfbfb34fcc
        * NFSD_V3 is enabled by default since v5.18 in 5f9a62ff7d2808c
        * 88EU_AP_MODE has been removed since v5.16 in 102243f893ecdef
        * NFT_COUNTER has been removed since v5.17 in e6007b85dfa284c
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: balena-bootloader: add USB configuration dependencies"
      hash: cdd36189676b67f8a7d5d7a5fe3aa695bc809bd6
      body: >
        The intention was to allow the balena bootloader to use USB disks but

        the current configuration does not work as it misses needed
        dependencies.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrscripts: migrate: use configuration file to specify post-install
        action"
      hash: 4efe68ae68e4c5c4346d654eb462db837d9fd5f8
      body: |
        Use the flasher configuration file to specify the post-install action.

        This is to shutdown (the default) when the flasher runs from an external
        media, or to reboot when running from the same media as is the case for
        the migrator tool.

        Also, assert that a locked device can only install from memory.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: use configuration file to specify post-install
        action"
      hash: 9f9f552d02001cddec262eb5db670946c1380b4d
      body: >
        Traditionally after programming the flasher image would shutdown the

        device to allow for the removal of the external device and booting from

        the internal storage.


        As more use case appeared, like programming from the initramfs when the

        flasher image runs on the same target device it will program, the post

        install action needs to support rebooting instead as physical access to

        the device to power on cannot be expected. This is the case for remote

        migration, AMI VM installs and also secure boot installs.


        The current code just checks for the existence of the `shutdown` command

        which is not present on the initramfs to decide whether to shutdown or

        reboot.


        This commit improves that logic by defaulting to shutdown but allowing
        the

        configuration file to specify a reboot instead.


        Also, it improves the robustness of the reboot/shutdown by falling down

        to sys-rq, and provides a way to override the reboot/shutdown by device

        layers that require it.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "tests: secureboot: add RPI specialization"
      hash: e645c1959ba011b30c4a7bcb15558475edb51343
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.4.0
  title: ""
  date: 2024-07-13T12:45:59.968Z
- commits:
    - subject: Add GHA yocto workflows for common device types
      hash: 261e54604908c6d55ae7ac0b8e7502c76663c58e
      body: |
        These workflows are for testing the build steps only.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 5.3.28
  title: ""
  date: 2024-07-10T22:33:19.858Z
- commits:
    - subject: Update tests/leviathan digest to 60b559c
      hash: ce164c99859f0a63bd989c12a79fe5383222ec94
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update actions/upload-artifact digest to 0b2256b
              hash: 634605505991815b37365613d3f65462b7f7f117
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.17
          title: ""
          date: 2024-07-05T16:35:55.914Z
        - commits:
            - subject: Update docker/setup-buildx-action digest to 4fd8129
              hash: c7d16dc7200e15f5f233b42d928b93ad2ec5421b
              body: |
                Update docker/setup-buildx-action
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.16
          title: ""
          date: 2024-07-04T08:59:03.246Z
        - commits:
            - subject: "patch: Remove internal presentation link to testbot"
              hash: 6c463f8b491d0888da8f945e67267768837c61c1
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.31.15
          title: ""
          date: 2024-06-24T10:24:09.683Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 6548d2e71ede53c8898c87f64a4d036b769583b2
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.14
          title: ""
          date: 2024-06-24T00:51:12.941Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.41
              hash: 58b9d5d14c10731f278acac23a4e3a4795c2f80c
              body: |
                Update balena-os/leviathan-worker from 2.9.40 to 2.9.41
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.13
          title: ""
          date: 2024-06-19T14:31:11.330Z
        - commits:
            - subject: "Docs: Fix endpoint name from s/status/state"
              hash: dd947ed4a48352fcc5eec2bd83f6a7472af8db2e
              body: >
                Fixing the endpoint name in debugging docs that queries state of
                the autokit at any given time.
              footer:
                Change-type: patch
                change-type: patch
              author: Vipul Gupta
              nested: []
          version: leviathan-2.31.12
          title: ""
          date: 2024-06-19T11:04:59.485Z
        - commits:
            - subject: Update Lock file maintenance
              hash: b590ee109467cf2f980e2313dafe0f20464fc8c2
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.11
          title: ""
          date: 2024-06-17T01:35:29.787Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 7453b7e2f8df73448b5e6f18e8fc2d6370175c11
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.10
          title: ""
          date: 2024-06-14T21:10:23.800Z
        - commits:
            - subject: Update core/contracts digest to 8adfb6d
              hash: c83ac6f8d44f43cadc96e9f512b2f70b1214c014
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.9
          title: ""
          date: 2024-06-14T18:51:36.751Z
        - commits:
            - subject: Update actions/checkout digest to 692973e
              hash: e3909ff2f7de84e0e737ec80ae7a43e28dc106f9
              body: |
                Update actions/checkout
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.8
          title: ""
          date: 2024-06-14T17:28:40.011Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.40
              hash: d0f907b4f1c37b3bf9273027adc18e3d385a5150
              body: |
                Update balena-os/leviathan-worker from 2.9.39 to 2.9.40
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.7
          title: ""
          date: 2024-06-14T16:29:26.061Z
        - commits:
            - subject: allow for secureboot flasher env var for non-qemu runs
              hash: b345ee183b5d59e2e7db6829a2aafb3be45f47e3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.31.6
          title: ""
          date: 2024-06-14T15:20:02.197Z
        - commits:
            - subject: Update core/contracts digest to 94c4f90
              hash: 790c99d390ba0245431ae4ad1e44dfea4611b734
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.5
          title: ""
          date: 2024-06-02T05:30:12.262Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 5617fa831e769036ecdb5793499c64b9e834055a
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.4
          title: ""
          date: 2024-05-27T00:54:27.981Z
        - commits:
            - subject: Update actions/upload-artifact digest to 6546280
              hash: 4df25074b0281634fa3a5e16c8ac18b8309fe2ae
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.3
          title: ""
          date: 2024-05-24T11:46:00.261Z
        - commits:
            - subject: Update Pin docker/setup-buildx-action action to d70bba7
              hash: bf08c8334e173fbfd3f2a9140e4f3afc37cd82c4
              body: |
                Update docker/setup-buildx-action
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.31.2
          title: ""
          date: 2024-05-23T17:31:49.642Z
        - commits:
            - subject: "Client: Update alpine packages before installing packages"
              hash: 88ed7504ed0d3ac55e35dcccc47022fc1cf93e45
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.31.1
          title: ""
          date: 2024-05-23T16:28:47.291Z
        - commits:
            - subject: "minor: Add leviathan GitHub Action"
              hash: 7f12b2f4f5aa7b8f1606b6371e9d912d23d05297
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.31.0
          title: ""
          date: 2024-05-23T15:51:18.879Z
        - commits:
            - subject: Update actions/checkout digest to a5ac7e5
              hash: 3c340b68afb1350d4c70822f8be762d546bcf0c2
              body: |
                Update actions/checkout
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.22
          title: ""
          date: 2024-05-20T14:53:19.824Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 5775a6a6344431666750c6da3bb5fe3339e81f85
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.21
          title: ""
          date: 2024-05-20T00:49:54.576Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 64d09ca585cd78bb190609736cfe3be95187b3e3
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.20
          title: ""
          date: 2024-05-13T00:49:52.608Z
        - commits:
            - subject: Update actions/checkout digest to 44c2b7a
              hash: e3a3ec99b4d6db66a3e96cf590b6465d1b8588c6
              body: |
                Update actions/checkout
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.19
          title: ""
          date: 2024-05-08T20:30:26.900Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.39
              hash: 9ad6bc06f1a8a958471d2426c7e6d8129e3d3df3
              body: |
                Update balena-os/leviathan-worker from 2.9.38 to 2.9.39
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.18
          title: ""
          date: 2024-05-07T12:53:41.157Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.38
              hash: 4753f547d9bde9b3d8a78909e4de1f3a4d9acc25
              body: |
                Update balena-os/leviathan-worker from 2.9.37 to 2.9.38
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.17
          title: ""
          date: 2024-05-06T17:30:19.575Z
        - commits:
            - subject: Update Lock file maintenance
              hash: ed2e76c3ca10c30f726b7551a634265331243884
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.16
          title: ""
          date: 2024-05-06T14:33:32.489Z
        - commits:
            - subject: "patch: Replace environment switcher in e2e config.js"
              hash: 75f42b3b0a8da9b0507f270c301cb085c77f7225
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.30.15
          title: ""
          date: 2024-05-06T13:23:51.937Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 08bf2f6129c3f0c6affadf2fb0e911537918a1ca
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.14
          title: ""
          date: 2024-04-29T00:49:40.498Z
        - commits:
            - subject: Update actions/upload-artifact digest to 6546280
              hash: 22810bf7023d730a71a975d1f8aec81f76f82c41
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.13
          title: ""
          date: 2024-04-25T16:30:40.539Z
        - commits:
            - subject: Update actions/checkout digest to 0ad4b8f
              hash: f710b126338558cf7cd57e005fc962de6fa208af
              body: |
                Update actions/checkout
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.12
          title: ""
          date: 2024-04-25T15:30:54.349Z
  version: 5.3.27
  title: ""
  date: 2024-07-07T06:33:56.377Z
- commits:
    - subject: "tests: secureboot: rename resetWorker() to resetDUT()"
      hash: 22091c584523ce1255836530f3e4192a4cacbfb7
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "tests: secureboot: refactor to facilitate extension"
      hash: b0ee0abd0dbd483fc60ca0ba96afd00da44c7c6f
      body: |
        As the secure boot feature is extended to more device types, the test
        needs to be easy to extend.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.3.26
  title: ""
  date: 2024-07-07T00:24:51.531Z
- commits:
    - subject: Update balena-supervisor to v16.4.1
      hash: e7a2723b8a0d0707574605462c8be396a9321e13
      body: |
        Update balena-supervisor from 16.3.17 to 16.4.1
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Remove custom typings for docker-delta
              hash: 28706510da4f3f09a12c4db6250dfe8f2a12eaa3
              body: >
                This are no longer needed since docker-delta migrated to
                typescript in

                v4 and the custom typings were actually masking some bugs
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.4.1
          title: ""
          date: 2024-07-05T21:13:40.384Z
        - commits:
            - subject: Refactor host-config to be its own module
              hash: 53f5641ef1cd2e5374f55a50a601fb80d4872511
              body: >
                The host-config module exposes the following interfaces: get,

                patch, and parse.


                `get` gets host configuration such as redsocks proxy
                configuration

                and hostname and returns it in an object of type
                HostConfiguration.


                `patch` takes an object of type HostConfiguration or
                LegacyHostConfiguration

                and updates the hostname and redsocks proxy configuration,
                optionally

                forcing the patch through update locks.


                `parse` takes a user input of unknown type and parses it into
                type

                HostConfiguration or LegacyHostConfiguration for patching,
                erroring if

                parse was unsuccessful.


                LegacyHostConfiguration is a looser typing of the user input
                which does

                not validate values of the five known proxy fields of type, ip,
                port,

                username, and password. We should stop supporting it in the next

                major Supervisor API release.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
            - subject: Add HostConfig.parse method
              hash: be986a62a5835116d58903fac9ffcf5c7d1fd0e1
              body: |
                Parses input from PATCH /v1/device/host-config into either
                type HostConfiguration, or if LegacyHostConfiguration if
                input is of an acceptable shape (for backwards compatibility).

                Once input has been determined to be of type HostConfiguration,
                we can easily extract ProxyConfig from the object for patching,
                stringifying, and writing to redsocks.conf.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.4.0
          title: ""
          date: 2024-07-04T20:25:36.036Z
  version: 5.3.25
  title: ""
  date: 2024-07-06T02:24:59.802Z
- commits:
    - subject: "workflows: fix linter errors"
      hash: cd2e5faba65a6598952999953fcd4eb64520ac3a
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.3.24
  title: ""
  date: 2024-07-04T17:12:37.404Z
- commits:
    - subject: Update balena-supervisor to v16.3.17
      hash: 521d51db1023846cf95e40a9f2b0a514ec8aea6d
      body: |
        Update balena-supervisor from 16.3.15 to 16.3.17
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Fix engine deadlock on network+service change
              hash: ede27b63cecc2a9ae3139a905d9c6ab32418a72b
              body: >
                This fixes a regression on the supervisor state engine
                computation

                (added on v16.2.0) when

                the target state removes a network at the same time that a
                service

                referencing that network is changed. Example going from


                ```

                services:
                   one:
                      image: alpine: 3.18
                      networks: ['balena']

                networks:
                   balena:
                ```


                to


                ```

                services:
                   one:
                      image: alpine: latest
                ```


                Would never reach the target state as killing the service in
                order to

                remove the network is prioritized, but one of the invariants in
                the target state calculation is

                to not kill any services until all images have been downloaded.
                These

                two instructions were in contradiction leading to a deadlock.


                The fix involves only adding removal steps for services
                depending on a

                changing network or volume if the service container is not being
                removed

                already.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.3.17
          title: ""
          date: 2024-06-25T01:03:26.734Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.72
              hash: 170733422a7a8fb2e58482508fe74dc2fcb282a5
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.71 to 2.0.72
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.3.16
          title: ""
          date: 2024-06-17T01:56:08.257Z
  version: 5.3.23
  title: ""
  date: 2024-07-02T14:03:58.762Z
- commits:
    - subject: "initrdscripts: make the kexec script fail hard in unexpected states"
      hash: 0b6199dddbb52e963d7b6e5feb5771f2b61a0f35
      body: |
        At this moment the kexec initrd script is skipped when ROOTFS_DIR
        is not defined or if the new rootfs is mounted, but does not contain
        a kernel image in the expected place. This is undesirable as we
        assume this is the last script executed by the balena bootloader.

        This patch makes the kexec script always execute in the balena
        bootloader and makes it fail hard in unexpected states, which means
        the script is always an exit point for the balena bootloader,
        whether the actual kexec call succeeds or not.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 5.3.22
  title: ""
  date: 2024-07-01T15:01:00.393Z
- commits:
    - subject: "initrdscripts: Allow passing extra kernel arguments to kexec"
      hash: 02d42d3cc887fb761da348f86bf5e13f1dacaeb2
      body: |
        At this moment the kexec initrd script just takes the original kernel
        command line, replaces root with UUID and removes bootloader args.

        We have found at least one use-case (on the Pi4 and firmware GPIOs),
        where a different initrd script needs to pass extra arguments
        to the kexec'd kernel. With this patch it will append the contents
        of the KEXEC_EXTRA_ARGS variable to the kernel command line.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 5.3.21
  title: ""
  date: 2024-06-13T10:02:03.824Z
- commits:
    - subject: "hostapp-update-hooks: Re-add check for UEFI to signed-update hook"
      hash: 972ef5f6090fc48a94a313bf01d8d59c6a3570d9
      body: |
        In 328222014146f0116e0208443f3e255d0e85ef15 we have removed
        the signed-update hook from systems that do not have EFI
        in MACHINE_FEATURES. This on its own makes sense, however together
        with it we have also removed the runtime check for whether the running
        system is actually booted in UEFI mode.

        This effectively means it is no longer possible to update the host OS
        on a device type able to boot in both UEFI and BIOS modes
        (intel-nuc and genericx86-64-ext) when booted in BIOS mode,
        as the signed-update hook is executed unconditionally and fails
        if the device is not running UEFI.

        This patch re-adds the runtime check to only execute the hook
        if the system is actually booted in UEFI mode.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 5.3.20
  title: ""
  date: 2024-06-11T12:55:22.727Z
- commits:
    - subject: "kernel-balena: do not use cache for signed kernel modules"
      hash: 389054e84c0b1fd382d737c39fb2bb02c2b3e9b2
      body: |
        On parallel builds that share a state cache there are mismatches between
        a signed kernel and modules. Avoid using the cache when building signed
        modules to avoid this mismatch.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.3.19
  title: ""
  date: 2024-06-10T16:38:00.806Z
- commits:
    - subject: Update balena-supervisor to v16.3.15
      hash: c2d302e736ee35a65ccb57094aac780ddecd48cd
      body: |
        Update balena-supervisor from 16.3.14 to 16.3.15
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.71
              hash: 552f77cef5aa4ff0107c5bd558755e4ed4c81ab2
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.70 to 2.0.71
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.3.15
          title: ""
          date: 2024-06-10T01:57:02.800Z
  version: 5.3.18
  title: ""
  date: 2024-06-10T06:36:26.645Z
- commits:
    - subject: Update balena-supervisor to v16.3.14
      hash: 30faae36bf1a000b2aa0ca6a0d99bf374426354a
      body: |
        Update balena-supervisor from 16.3.11 to 16.3.14
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update got to v14.4.1
              hash: 11628cda16986b76f67969970fe708e24d3ab125
              body: |
                Update got from 14.3.0 to 14.4.1
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.3.14
          title: ""
          date: 2024-06-09T13:29:56.248Z
        - commits:
            - subject: Split target state set/get into separate module
              hash: 45d1f1f964e777b5168b089858af0cec33f98c68
              body: >
                This removes the circular dependency between device state index
                and

                preloading and cleans up the device state module code
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Move device-state.ts into the device-state/index.ts
              hash: fedeb518e5315a7cb593818c2e80a5d8e459cefa
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Move device-state/target state to api-binder/poll
              hash: 9497eed380e63f3b5d794071879ad9e8e4369178
              body: >
                This goes in the direction of grouping modules by
                responsibility. The

                api-binder module is the middleware between the device and the
                backend,

                thus the target state polling code makes more sense there.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.3.13
          title: ""
          date: 2024-06-05T20:43:08.205Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.70
              hash: d7a325b80a5c79d290b7bb232dabb4a7ac2737f9
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.69 to 2.0.70
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.3.12
          title: ""
          date: 2024-06-03T01:55:57.227Z
  version: 5.3.17
  title: ""
  date: 2024-06-09T18:34:28.024Z
- commits:
    - subject: Work around uuid file corruption in balenaEngine health check
      hash: e3696fc97f5553f138c92947c5f080ccdef5c6e5
      body: |
        We have detected one more way in which the uuid file used by containerd
        can get corrupted. This time, the file is not empty, but doesn't contain
        a valid UUID either.

        This commit thus extends the existing workaround to also handle this
        case.

        See https://github.com/balena-os/balena-engine/issues/322
      footer:
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Change-type: patch
        change-type: patch
      author: Leandro Motta Barros
      nested: []
  version: 5.3.16
  title: ""
  date: 2024-06-06T22:28:17.347Z
- commits:
    - subject: "os-helpers-tpm2: fix empty efivar reads"
      hash: 3f9d048f964f922c9bfaeee4939197cb31c8eef6
      body: |
        When reading from efi variables in hostapp-update hooks during rollback,
        tcgtool will improperly read zero bytes from efivar files. This results
        in an improper calculation of the PCR 7 digest, and an unbootable
        system.

        Read the file contents, skipping the first four bytes that are
        attributes, and pipe the data directly to tcgtool to work around this.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "rollback-health: bind mount EFI partition in old_rootfs"
      hash: 8761c1d6536d86249757f37925ae40d905716cc3
      body: |
        Some hooks, such as 0-signed-update, will attempt to read files from the
        EFI system partition, such as combined policy binaries.

        Bind mount the EFI partition into old_rootfs before running hooks to
        ensure this is available.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "rollback-health: mount securityfs in old_rootfs"
      hash: e87838103af3c5ee05c60b7105353f987af47e61
      body: |
        When rollback-health runs, a failing healthcheck causes the
        hostapp-update hooks to be run from the inactive partition, to make the
        inactive system bootable again.

        The 0-signed-update hook, which updates the sealing policy for secure
        boot enabled systems, reads from the securityfs mounted at
        /sys/kernel/security in order to parse the TPM event log.

        If this filesystem isn't mounted, the hook will improperly detect that
        the TPM event log isn't available, and unneccessarily create a combined
        policy when a single PCR policy would suffice.

        Mount this filesystem in old_rootfs before chrooting to fix this.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "os-helpers-tpm2: compute_pcr7 w/ events post separator"
      hash: e4f8f6f9c79f994f873bc930bfa028f2161a29d9
      body: |
        In commit 1c19ebb, we append digests from the TPM event log
        corresponding to events that are logged before EV_SEPARATOR. For
        instance, parsing the event log on a typical system for event types, the
        output looks like this:

        EV_EFI_VARIABLE_DRIVER_CONFIG (SecureBoot)
        EV_EFI_VARIABLE_DRIVER_CONFIG (PK)
        EV_EFI_VARIABLE_DRIVER_CONFIG (KEK)
        EV_EFI_VARIABLE_DRIVER_CONFIG (db)
        EV_EFI_VARIABLE_DRIVER_CONFIG (dbx)
        EV_SEPARATOR

        This system requires no merging of event log digests.

        On systems that measure EFI binaries (mostly only QEMU w/ edk2), we also
        get this:

        EV_EFI_VARIABLE_DRIVER_CONFIG (SecureBoot)
        EV_EFI_VARIABLE_DRIVER_CONFIG (PK)
        EV_EFI_VARIABLE_DRIVER_CONFIG (KEK)
        EV_EFI_VARIABLE_DRIVER_CONFIG (db)
        EV_EFI_VARIABLE_DRIVER_CONFIG (dbx)
        EV_SEPARATOR
        EV_EFI_VARIABLE_AUTHORITY (bootx64.efi)
        EV_EFI_VARIABLE_AUTHORITY (bzImage)

        Again, this requires no merging. We compute the signature of the
        relevant EFI binaries ourselves, as they're subject to change during
        hostapp-update.

        However, we've also seen event logs like this:

        EV_EFI_VARIABLE_DRIVER_CONFIG (SecureBoot)
        EV_EFI_VARIABLE_DRIVER_CONFIG (PK)
        EV_EFI_VARIABLE_DRIVER_CONFIG (KEK)
        EV_EFI_VARIABLE_DRIVER_CONFIG (db)
        EV_EFI_VARIABLE_DRIVER_CONFIG (dbx)
        EV_EFI_ACTION (DMA Protection Disabled)
        EV_SEPARATOR

        This case is the one we've handled previously, by reading from the event
        log and appending event digests before EV_SEPARATOR. We stopped at
        EV_SEPARATOR because we weren't parsing event types previously, and this
        digest is a constant that's easily recognized. However, we've since
        encountered systems that have unexpected events *after* EV_SEPARATOR, as
        shown below.

        EV_EFI_VARIABLE_DRIVER_CONFIG (SecureBoot)
        EV_EFI_VARIABLE_DRIVER_CONFIG (PK)
        EV_EFI_VARIABLE_DRIVER_CONFIG (KEK)
        EV_EFI_VARIABLE_DRIVER_CONFIG (db)
        EV_EFI_VARIABLE_DRIVER_CONFIG (dbx)
        EV_SEPARATOR
        Unknown event type (?!)

        In order to handle this, parse digests and event types into temporary
        files and iterate through them together. We only stop appending digests
        from the event log when the next event type is EV_EFI_VARIABLE_AUTHORITY
        (EFI binary signature) or we hit the end of the list. This should
        account for all possible variations.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 5.3.15
  title: ""
  date: 2024-06-05T00:15:59.506Z
- commits:
    - subject: "rtl8192cu: Remove this unmaintained out-of-tree kernel driver"
      hash: e3b7a1555542e6b1381f1a5f7131b935d1f66f22
      body: >
        The source code for this driver hasn't been updated in 9 years so

        let's remove it by also considering we were not using it. Instead,

        machines that need to use a driver for this WiFi chipset can selectively

        enable the in-tree kernel driver which has been improved in the last
        years.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 5.3.14
  title: ""
  date: 2024-06-02T18:07:03.720Z
- commits:
    - subject: Update balena-supervisor to v16.3.11
      hash: 55af41dcebb294ea9ebeeb2fd759d79065dc3bf2
      body: |
        Update balena-supervisor from 16.3.10 to 16.3.11
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Move OS variant retrieval to config module
              hash: 027c2575b1147b5395c61e3d824f9dff95e7f1d0
              body: >
                This also deprecates the `getOSVariant` function of the
                `os-release`

                module, as the OS variant are no longer defined in
                `/etc/os-release`.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Do not export balenaApi on api-binder
              hash: 59689b27892a0bb3e6ec692c158070b6defb48a9
              body: >
                Instead, add `getBalenaApi` function to api-helper so other
                modules can

                access a balena API instance.


                Further reduces circular dependencies to 5
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Move api-keys module to src/lib
              hash: ac2db38742962a31af63549f0d9f257e6a1331f3
              body: >
                This removes circular dependencies between the device-api module
                and

                the compose module, reducing total circular dependencies to 15
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Do not re-export ContractObject on lib/contracts
              hash: 48f75e61b8c53c532c27eb0c3f0d878312b4f2e7
              body: |
                Further reduce circular dependencies to 10
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Move Compose(Network|Volume)Config to top level types
              hash: bef5e784400d13d2788748e059e36c761d956f23
              body: |
                This reduces dependencies from 80 to 47
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Move composition types to compose/types
              hash: 234e0de07599c1033d04c77d2df9a000d38f60dd
              body: >
                This reduces circular dependencies from 250 to 80 by ensuring
                that

                modules that only require types do not import the full module
                with all

                its dependencies.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Split compose types into interface and implementation
              hash: 94de4006a07baada9336721c4084a00f885a6572
              body: >
                This splits `App`, `Network`, `Service` and `Volume` which used
                to be

                defined as classes into an interface and a class implementation
                that is

                not exported. This will allow to work with just the types in
                some cases

                and prevent circular dependencies when importing.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.3.11
          title: ""
          date: 2024-05-27T20:04:25.017Z
  version: 5.3.13
  title: ""
  date: 2024-05-31T23:09:30.017Z
- commits:
    - subject: "patch: Add Test Suite specific config for GHA"
      hash: 4ecd7852f4eb0cd204e31cf3b8634c168782ce46
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 5.3.12
  title: ""
  date: 2024-05-31T16:03:25.568Z
- commits:
    - subject: Update balena-supervisor to v16.3.10
      hash: a500fccd65e2cf7d31ed6730cc6fd12e0220b757
      body: |
        Update balena-supervisor from 16.3.8 to 16.3.10
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update got to v14.3.0
              hash: 4764bca2c4122a37f1f4c684e673ddca3812b4c9
              body: |
                Update got from 14.2.1 to 14.3.0
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.3.10
          title: ""
          date: 2024-05-27T02:41:46.106Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.69
              hash: 9cdb363e4cf274e5506247cc55cebef0c676de7e
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.68 to 2.0.69
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.3.9
          title: ""
          date: 2024-05-27T01:59:21.096Z
  version: 5.3.11
  title: ""
  date: 2024-05-27T06:50:02.553Z
- commits:
    - subject: Update balena-supervisor to v16.3.8
      hash: ca994c7c5d3598b0f1844e3c98bc37b756d056c6
      body: |
        Update balena-supervisor from 16.3.5 to 16.3.8
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.68
              hash: 8a7972c783845576741c626f7ac543671ebf868b
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.67 to 2.0.68
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.3.8
          title: ""
          date: 2024-05-24T14:29:17.821Z
        - commits:
            - subject: Update sinon to v18
              hash: 6b47c3572dea75c161e3931f05f37c46828d90a2
              body: |
                Update sinon from 17.0.1 to 18.0.0
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.3.7
          title: ""
          date: 2024-05-24T13:45:20.892Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.67
              hash: 21f72b0ce9fd977517df3bf0ee5c186a17d432c9
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.66 to 2.0.67
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.3.6
          title: ""
          date: 2024-05-20T01:54:04.811Z
  version: 5.3.10
  title: ""
  date: 2024-05-24T22:52:04.637Z
- commits:
    - subject: "NetworkManager: do not use FW rule numbers in shared dispatcher script"
      hash: ab8d61194d84045e4b74f60e4172a69dd52a3509
      body: |
        Manipulating the firewall rules by index introduces a race condition.
        Both NetworkManager and balenaEngine add the rules to the top
        of the FORWARD chain instead of appending, so if we first look up
        a rule by number and then use the number to refer to it, we can not
        guarantee that the rule number has not changed (iow the rule has not
        been moved down) in the meantime.

        This patch removes the use of rule numbers completely and makes
        the "shared" dispatcher script refer to the rules by definition.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 5.3.9
  title: ""
  date: 2024-05-24T12:34:18.221Z
- commits:
    - subject: "tests: safe-reboot: fetch and modify target state"
      hash: af4d36646c2c301fceadcd10143096b187b67bd1
      body: >
        This is a fix targeted for the revpi-connect-4 which requires a
        config.txt param to be present to connect to wifi. The old way we did
        this test results in the config.txt being wiped - so now we fetch and
        change the current state to maintain the existing configuration and
        avoid this
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 5.3.8
  title: ""
  date: 2024-05-23T11:43:26.464Z
- commits:
    - subject: "tests: os: modem: fix curl command"
      hash: 6a62c9fea1611658504e3ccdff29bd8ae7467b3d
      body: >
        The modem test was broken when changing from ping to curl as part of
        071c018. Here it is fixed
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 5.3.7
  title: ""
  date: 2024-05-22T07:06:53.156Z
- commits:
    - subject: "peak: Update to version 8.17.0"
      hash: 2ab3cb2eb859d0a8658fda0739e6d287adc0bc6d
      body: |
        This is needed to have it compiled against kernel version 6.6.23,
        which we will include in balena-generic.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 5.3.6
  title: ""
  date: 2024-05-20T08:35:07.780Z
- commits:
    - subject: Update balena-supervisor to v16.3.5
      hash: 982ac50fe144182b53ab00fd5ebe8e0f8bec7a89
      body: |
        Update balena-supervisor from 16.1.10 to 16.3.5
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.66
              hash: 0786f6d95bf67c5ba7002dd10bdde2578a4b28ea
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.65 to 2.0.66
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.3.5
          title: ""
          date: 2024-05-13T01:53:50.173Z
        - commits:
            - subject: Update semver to v7.6.2
              hash: da5fdc5d781ce2c6dcf61f7344ef7a75aa5eb180
              body: |
                Update semver from 7.6.1 to 7.6.2
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.3.4
          title: ""
          date: 2024-05-12T16:29:18.605Z
        - commits:
            - subject: Update semver to v7.6.1
              hash: 6ebeab14c1f8484335c553de10e64f4bae109797
              body: |
                Update semver from 7.6.0 to 7.6.1
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.3.3
          title: ""
          date: 2024-05-10T16:29:32.262Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.65
              hash: 9945629f0a9fde10ec23668d3fc793e696ef82fb
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.63 to 2.0.65
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.3.2
          title: ""
          date: 2024-05-06T01:53:45.002Z
        - commits:
            - subject: Update @balena/contrato to 0.9.4
              hash: 1dcd156fc84376fcba8141f37c4901e176b5cdb4
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.3.1
          title: ""
          date: 2024-05-01T01:06:23.630Z
        - commits:
            - subject: Add rpi support to balenaOS secure boot
              hash: 3017ca6308ad8fce9e65882441a9ef5e123e9c6f
              body: |
                - Loop through `rpi`, `efi` for crypt boot mount
                - Remove `exit 1` from dbus_get_mount
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.3.0
          title: ""
          date: 2024-04-30T21:13:08.847Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.63
              hash: 6c2a07bd776c27fda9d34e9205152b8aac0476eb
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.62 to 2.0.63
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.37
          title: ""
          date: 2024-04-29T22:28:45.427Z
        - commits:
            - subject: Remove unused event-stream dependency
              hash: 23ba3e43849bca6172a3783c82216c360c986eb2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
            - subject: Update io-ts to 2.2.20, io-ts-reporters to 2.0.1, fp-ts to 2.16.5
              hash: f510dd9a8068df4d0c14f6598388bf5c15e235b4
              body: >
                TODO: Upgrading io-ts to 2.2.21 will result in some unit tests
                for

                io-ts type validation breaking, due to a change in t.record's
                handling

                of decoding unknown objects. In <2.2.21, a record with a custom
                key type

                will decode an unknown object to Left if it has a key is not of
                the custom

                type. Whereas in io-ts@2.2.21, t.record will strip the invalid
                key and

                decode to Right. This is a breaking change for us.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.2.36
          title: ""
          date: 2024-04-29T19:54:50.854Z
        - commits:
            - subject: Update @types dependencies
              hash: 4adf7105209a3aa407a93e22870100fe0b468015
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-16.2.35
          title: ""
          date: 2024-04-29T16:10:01.354Z
        - commits:
            - subject: "Dev: update husky to v9"
              hash: 7df3c1f5fca8ae3e2a1a015b5698420c278e06c1
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-16.2.34
          title: ""
          date: 2024-04-29T15:09:50.951Z
        - commits:
            - subject: Update docker related dependencies
              hash: ae823fea181e2b1680940538b04b5af37c1b3229
              body: >
                This bumps dockerode, removes resin-docker-build in favor of

                @balena/compose, and updates docker-delta and docker-progress
                packages.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.2.33
          title: ""
          date: 2024-04-26T19:51:36.874Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.62
              hash: 20f6cb07cb1989f99eaa54625d8e4b502e2e0919
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.58 to 2.0.62
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.32
          title: ""
          date: 2024-04-26T01:51:50.589Z
        - commits:
            - subject: Move lib/fs-utils tests to testfs
              hash: 9c968b8d06a407e943d9f91eb5f89863280d7962
              body: |
                This removes mock-fs as a dependency
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.2.31
          title: ""
          date: 2024-04-26T00:40:13.656Z
        - commits:
            - subject: Update supertest to v7
              hash: 35e17cf22c0e45c14daa2efa24eb07358d14fff6
              body: |
                This patches a `formidable` package vulnerability
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
            - subject: Update fork-ts-checker-webpack-plugin to v9
              hash: 73b71386fe00fdf9896ef6f14ead75920e9318bf
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
            - subject: Update yargs to v17, tar-stream to v3
              hash: 717c8cd6149eb46b8b7e39b3021fd86321f95089
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.2.30
          title: ""
          date: 2024-04-24T18:35:21.169Z
        - commits:
            - subject: Refactor MDNS resolver into a module
              hash: 6f02b17968d02c2e27b523e40a25ef4c4815d20a
              body: >
                Also add integration tests for the resolver functionality to
                prevent

                regressions.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Fix mdnsResolver import
              hash: ad52561de548ef9f2dfec67187ae0d903e0bedfe
              body: >
                The `mdns-resolver` module does not provide a default export.
                Trying to

                use a default import notation, causes the `resolve` function to
                not be

                found, breaking MDNS resolution.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.2.29
          title: ""
          date: 2024-04-24T15:13:31.152Z
        - commits:
            - subject: Gracefully handle multiple reboot/shutdown requests
              hash: 14bdc522c17c924ce560da81f735b96bac41bd4d
              body: |
                Since HTTP's server.close() is async, there is a slim chance
                for two instances of /v1/reboot or /v1/shutdown to be processed.
                If the server is already closed when server.close() is called,
                the call throws ERR_SERVER_NOT_RUNNING
                which doesn't need to be surfaced to the user. This change
                only allows one server.close() attempt to occur at a time.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.2.28
          title: ""
          date: 2024-04-23T20:19:12.030Z
        - commits:
            - subject: Update ts-node to v10
              hash: d14824f2fddffb0292af94c001d90e816ddb94c6
              body: |
                Update ts-node from 8.10.2 to 10.9.2
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.27
          title: ""
          date: 2024-04-23T19:33:02.255Z
        - commits:
            - subject: Remove unnecessary @types packages
              hash: 8ebb26663880d879e5eb6528512822c99e1ef42b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
            - subject: Update knex to 3.1.0
              hash: 17a7e60506f36403a98c0205d80989edcb1997f6
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
            - subject: Update json-mask to 2.0.0
              hash: 77f6f17042d9fda21d90dc5363824562f1ddd0f6
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
            - subject: Update lint-staged to 15.2.2
              hash: f3809dccfb3cf787da9ccd9fefab6d0f2554d895
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
            - subject: Update mocha-pod to 2.0.5
              hash: 9ca027ad486ecffac20f1cff714c493e92b7befc
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
            - subject: Update mocha to 10.4.0
              hash: 7c423958ea61c12f3786b9a52567dea75d2351c5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
            - subject: Update rewire to 7, @balena/lint to 8
              hash: 5d6a73514165f4fc60b64d3eebafc0419e50e228
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
            - subject: Update nodemon to 3.1.0
              hash: d887809494ce27859ddd571048f4c7266c0c4bec
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
            - subject: Update sinon to 17
              hash: bd26d8877003aa751df0216f341e776d39370724
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
            - subject: Update systeminformation to 5.22.7
              hash: 7bb5900649b42ecd418dc21590b7359c2088cc5c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.2.26
          title: ""
          date: 2024-04-23T18:58:25.318Z
        - commits:
            - subject: Update copy-webpack-plugin to v12
              hash: dde0e86a1abfab8c8f0e954ed632d5b154dc5a55
              body: |
                Update copy-webpack-plugin from 11.0.0 to 12.0.2
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.25
          title: ""
          date: 2024-04-19T15:46:46.217Z
        - commits:
            - subject: Update webpack-cli to v5
              hash: 00f1610870497c4e2436d0fc022f4de30b90707b
              body: |
                Update webpack-cli from 4.10.0 to 5.1.4
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.24
          title: ""
          date: 2024-04-19T14:55:50.059Z
        - commits:
            - subject: Update got to v14
              hash: 148ba6e0c31ac09834cb8ad598bf1cac35ca1095
              body: |
                Update got from 12.6.1 to 14.2.1
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.23
          title: ""
          date: 2024-04-19T13:34:13.665Z
        - commits:
            - subject: Update @types/supertest to v6
              hash: e24691fa63c1f2b6f097e0bcb510bfc9da1eda7d
              body: |
                Update @types/supertest from 2.0.12 to 6.0.2
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.22
          title: ""
          date: 2024-04-19T12:25:19.313Z
        - commits:
            - subject: Remove unused `tmp` dependency
              hash: 12cc8eb91b52545d84a22e511ddd63ad4ac677ad
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-16.2.21
          title: ""
          date: 2024-04-18T02:44:36.677Z
        - commits:
            - subject: Update rimraf
              hash: 5e5a803e26ac36a3085701c3c7055553be6d2fcb
              body: |
                Update @types/rimraf from 2.0.5 to 4.0.5
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.20
          title: ""
          date: 2024-04-17T15:39:15.721Z
        - commits:
            - subject: Update semver to v7.6.0
              hash: 52268d83fa6d8fd364e765b4c0d11128040e9410
              body: |
                Update semver from 7.5.4 to 7.6.0
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.19
          title: ""
          date: 2024-04-17T14:38:48.064Z
        - commits:
            - subject: Update event-stream to v3.3.5
              hash: 36e0fed219b041fa9695dd97629f710d52d76129
              body: |
                Update event-stream from 3.3.4 to 3.3.5
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.18
          title: ""
          date: 2024-04-15T21:29:50.342Z
        - commits:
            - subject: Add additional update lock tests for lockOverride & force
              hash: 57207c35398f147205fdc25d5010ec3fb51b132e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.2.17
          title: ""
          date: 2024-04-15T20:57:03.828Z
        - commits:
            - subject: Update @types/chai-things to v0.0.38
              hash: 28d583067193fd0bcdb56732faf659785389f248
              body: |
                Update @types/chai-things from 0.0.35 to 0.0.38
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.16
          title: ""
          date: 2024-04-15T16:33:18.061Z
        - commits:
            - subject: Update webpack to v5.76.0 [SECURITY]
              hash: 6517d7fdbd6185c448846f7265c411fb0a2d899c
              body: |
                Update webpack from 5.74.0 to 5.76.0
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.15
          title: ""
          date: 2024-04-15T15:29:42.533Z
        - commits:
            - subject: Disable automerge for major npm devDependencies
              hash: dfff74d21c1c05b0e9a4560db807887b079a73dc
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-supervisor-16.2.14
          title: ""
          date: 2024-04-15T14:19:35.895Z
        - commits:
            - subject: Update shell-quote to v1.7.3 [SECURITY]
              hash: 7398e53626f90d574ea5ce9b318e518fce8d0c19
              body: |
                Update shell-quote from 1.7.2 to 1.7.3
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.13
          title: ""
          date: 2024-04-15T13:53:49.933Z
        - commits:
            - subject: Update express to v4.19.2 [SECURITY]
              hash: 9dfb0c576429290c42754e64f27e86bbde8e23bf
              body: |
                Update express from 4.17.1 to 4.19.2
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.12
          title: ""
          date: 2024-04-15T11:31:06.812Z
        - commits:
            - subject: Enable npm package management via Renovate
              hash: 23c2f6ddf10216ad47935ff8bf894274299b0ba2
              body: |
                Settings are inherited from balena-io/renovate-config
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-supervisor-16.2.11
          title: ""
          date: 2024-04-15T10:40:13.559Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.58
              hash: d7c14686cf22d9b82da1e3d7c8e52efb71da6ddc
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.57 to 2.0.58
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.10
          title: ""
          date: 2024-04-15T03:02:03.903Z
        - commits:
            - subject: Don't follow symlinks when checking for lockfiles
              hash: 6e185fbd447bce46179f60a9e650a3a35937d990
              body: >
                The Supervisor should only care whether a lockfile exists or

                not. This also fixes an edge case where a user symlinked a
                lockfile

                to a nonexistent file, causing the Supervisor to enter an error

                loop as it was not able to `stat` the nonexistent file.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.2.9
          title: ""
          date: 2024-04-12T16:50:06.044Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.57
              hash: 97633816850f0d13d70cdfa2afb8bc9652e71fa2
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.55 to 2.0.57
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.8
          title: ""
          date: 2024-04-12T11:30:35.445Z
        - commits:
            - subject: Add memory usage healthcheck
              hash: f863075bdc5714baebcce8b73ddd95240fd04583
              body: >
                This healthcheck fails when Supervisor memory usage is above a
                threshold

                based on initial memory measurements after device state has
                settled.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.2.7
          title: ""
          date: 2024-04-12T01:49:06.409Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.55
              hash: 6864ab329aa9879a2d12aa19b2e70cadfff5fb49
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.54 to 2.0.55
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.6
          title: ""
          date: 2024-04-10T16:30:09.955Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.54
              hash: 30351e5f12dbc7f0f2ea3633ad3e63c458adec4a
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.53 to 2.0.54
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.5
          title: ""
          date: 2024-04-09T18:43:49.721Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.53
              hash: 7d7391194876c5593733113ee23ff28d24eb3422
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.52 to 2.0.53
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.4
          title: ""
          date: 2024-04-09T17:32:28.461Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action action to v2.0.52
              hash: 55de8ae4300a57776e9134218937fdf732a7f17a
              body: |
                Update balena-io/deploy-to-balena-action from 2.0.27 to 2.0.52
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.2.3
          title: ""
          date: 2024-04-09T16:30:46.790Z
        - commits:
            - subject: Inherit Renovate settings from balena-io
              hash: 58e05d0f63a9c789c4163a678b782cb56763250f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-supervisor-16.2.2
          title: ""
          date: 2024-04-08T14:36:45.050Z
        - commits:
            - subject: Fix some RegEx io-ts types
              hash: b7922e687567899c668474c3ee5e6f2e89f0989d
              body: >
                io-ts types that were generated using `shortStringWithRegex`
                were testing

                against `VAR_NAME_REGEX`, instead of the Regex that was
                specified when

                generating the type. This affected `DockerName` such that
                service names with

                a dash in the middle were returning as false when passed through
                the

                `DockerName.is` type guard, affecting how
                `getServicesLockedByAppId` was

                returning a map of locked services.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.2.1
          title: ""
          date: 2024-04-06T08:22:13.914Z
        - commits:
            - subject: Take lock before updating service metadata
              hash: af6359f7ae2db4a656598947120bb46d5d3730de
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.2.0
          title: ""
          date: 2024-04-05T02:35:13.875Z
  version: 5.3.5
  title: ""
  date: 2024-05-16T10:54:49.219Z
- commits:
    - subject: "hostapp-update-hooks: 99-balena-bootloader: Adapt to secure boot"
      hash: 241caa3243c23363841e7aa6f89cc116cf24d200
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "hostapp-update-hooks: fix linter warnings"
      hash: a35ae938fd981e4e2bd84031352f1417f07b1a01
      body: |
        Remove some of the low-risk linter warnings.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: image-balena: use relative path to generate boot fingerprint"
      hash: b30ce236a9e8f6229d5af527d853e6e3fc090d72
      body: >
        Ideally we would re-use the function is the target os-helpers-fs file,

        but Yocto's recipe bash support is not completely compatible with POSIX
        syntax.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers: add a helper function to generate fingerprint files"
      hash: 487b4f4dbc62de77f6b76f27f80bab69a192bee1
      body: |
        This function will be re-used as it's called from the HUP hooks and
        from the flasher image for secure boot devices that split boot
        partitions.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: sign-rsa: add dependencies"
      hash: eafbc411e99430ade0d4e141e4c3e7f59ae0feb9
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: migrate: allow command line argument configuration"
      hash: c8de15a999aec50915c7cf829e7ec3886aaa3182
      body: >
        The migrate module is currently only enabled if specified in
        config.json.

        This commit introduces a command line argument override for board

        integration layers to use. This allows for example for non-flasher
        device

        types to force the migration.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: image-balena: provide board configuration hook"
      hash: cda7d24207d736bc8fe4f58ed47489ecc2db2db3
      body: |
        Add a hook for boards to initialize boot partition configuration.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: abroot: add missing dependency"
      hash: 593ce8db2c2de1b6b92e3e57af932a4d3eefe14f
      body: |
        The abroot script sources balena-config-defaults so let's make sure
        it's included in the build.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: kernel-balena: selectively include dmcrypt for signed images"
      hash: 1bdb0d2be57c2f7697c5af6d3bdc76cf873ddd06
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "hostapp-update-hooks: only include os-helpers-sb for signed builds"
      hash: bfe9204622793b6afb0879c0fce0aad2d0cb7de6
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "hostapp-update-hooks: 1-bootfiles: Check for os-helpers-sb before
        including"
      hash: 55ea286a40181f0e809280f4e8f2c9ed743d4bb7
      body: |
        The `os-helpers-sb` file is only included for signed builds.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "docs: add secure boot abstractions details"
      hash: 91dad6cdb1b4e9e10a9ac4017d4b975256d9186c
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: fsuuidinit: use file based mutex to avoid race condition"
      hash: 3f6a302bf53c6c0a609015c92ff927c7575412d9
      body: |
        As soon as the UUID is regenerated udev runs the correspondign rules.

        However, the rules expect the new UUID to be cached in a file, so there
        is a race condition between the creation of the file and the udev rule.

        This commit avoid the race condition by using a file mutex that the
        udev rule can wait on.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "systemd: update_state_probe: Use a file mutex to avoid race condition"
      hash: ef51b29b330e77b2111644fa4dbae156ca753e6c
      body: >
        As soon as the UUID is modified udev re-runs the rules for the
        partition.

        However, the rule expects the new root UUID to be cached in a file, and

        if the udev rule gets there before the file is created it fails.


        This commit waits on a lock file mutex before accessing said file.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers: extend filesystem helper with wait4rm"
      hash: bb77f62506329bb4f09a480b5ef1239742e71294
      body: |
        This function waits until a file is removed or times out - useful to
        implement basic file based mutexes.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers-fs: regenerate_uuid: skip remounting"
      hash: 7674716ffd7472f7a487c027ba756803e1d446fb
      body: |
        Remounting filesystems is done on systems with a broken clock in order
        to prevent tune2fs from bailing out when the last mounted time is in the
        future. This resets the last mounted time to now.

        However, the filesystem is immediately unmounted again without being
        utilized, and the mount and unmount process is time consuming. Instead,
        use `-e continue` to tell tune2fs to continue after an error, which
        achieves the same result with less time and complexity.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "resin-init-flasher: replace fatal with fail"
      hash: 53e995bfc70dcea70b476cb26a5e68df0e2a53a8
      body: |
        The fatal() function is only defined while running in the initramfs
        while fail() is provided by the OS helper logging which is available
        in both the OS and flasher image.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-image-bootloader-initramfs: add modules needed for secure boot"
      hash: dfa88cfb6cf195c9748a41fe5bdad4954a72f27d
      body: >
        The balena bootloader needs to mount encrypted disks to kexec the final

        kernel which is stored in the encrypted root partitions.


        It also needs to run the data partition expander twice on boot, once in
        the

        balena bootloader that expands the disk, and later on the final

        initramfs to expand the file system.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: balena-bootloader: add support for encrypted disks mount and
        kexec"
      hash: dccf18856d3198ed2bb3394792b859de12aad407
      body: |
        The kernel needs crypto support to mount encrypted disks at boot and
        kexec image authentication.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: balena-bootloader: specify a deployment subfolder"
      hash: 1e1c465dc899377dd10350038f20a653eea95325
      body: |
        This prevents overwritting deployment files that are also deployed
        by the standard linux recipe.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: kernel-balena: add secureboot configuration dependencies"
      hash: f8eca19e9180b7d4f2d80ae87ef4074be7a81ff5
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: kernel-balena: non-efi device types also use EFI signing for
        kexec"
      hash: 8b4f5dd0f5e806954897f3dbac3da00f0487ba88
      body: |
        Remove the conditional to signing the kernel initramfs on EFI machine
        features as kexec also requires this.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: sign-efi: allow to configure deployment directory"
      hash: fc36626aeedfe681e5198083112c4f17e8688596
      body: |
        This is needed for systems that build and deploy two different linux
        kernels like is the case when using the balena bootloader so that
        different recipes do not try to deploy the same files.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: sign-efi: support compressed payloads"
      hash: ac9955350690d0f044a9e15469a93819c3591f27
      body: |
        The EFI class is used to sign Linux kernel binaries, and these can come
        in a zImage (compressed) format that needs to be decompressed before
        signing.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.3.4
  title: ""
  date: 2024-05-12T17:56:11.300Z
- commits:
    - subject: "docs: elaborate automated testing requirement in board support guide"
      hash: aad242195fb191cbe9c8230b9cf36aa4b0679fbe
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 5.3.3
  title: ""
  date: 2024-05-01T12:04:46.013Z
- commits:
    - subject: "contributing-device-support.md: Rework repo transfer and autokit
        requirement steps"
      hash: d9b9d5e0f084ab9370ff69468f8a14b25148fb47
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 5.3.2
  title: ""
  date: 2024-04-25T00:38:23.057Z
- commits:
    - subject: "tests: os: address race in internet con. sharing tests"
      hash: c8fccaef7c48dcccb150f46d0bedb48460ead445
      body: >
        For some device types it's been noted that it takes longer than the time
        it takes do do one check of the iptables rules for the intended rules to
        appear, leading to a failure. This aims to make the check more
        consistent by checking 5 times before failing.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 5.3.1
  title: ""
  date: 2024-04-24T15:34:48.717Z
- commits:
    - subject: "hup: signed-update: silence tpm2-tools output"
      hash: 877b7b39f2ac3dbab0cc806916ef2c13dbdfd885
      body: |
        The output of these tools doesn't need logged. Silence them.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "hup: silence mountpoint"
      hash: d9a477b706ffc8ba4d8126e9665a2142bb705719
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "hup: signed-update: print predicted PCR values after creating a policy"
      hash: a3b2b9ba45470b4ff6b35c56c13e2400c51c95c7
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "os-helpers-tpm2: firmware_measures_efibins: silence grep"
      hash: cd7b142195cd7cd33126e0dfbd75ee00e6b03aa3
      body: |
        The firmware_measures_efibins function outputs different strings
        depending on whether the TPM event log is available, and whether or not
        EFI binaries are measured into PCR 7 as indicated in the event log.

        We don't need to print the output of the parsed event log, so redirect
        it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "os-helpers-tpm2: specify TCTI backend"
      hash: c4eb9d7f6ad412bd74d77ece0e534c8dd2dd6fac
      body: |
        Specify the TCTI backend [0], which also silences error messages from
        trying unsupported backends

        [0] https://github.com/tpm2-software/tpm2-tools/blob/master/man/common/tcti.md
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "os-helpers-sb: silence 'command -v'"
      hash: 0cc0e51ec48fd90c7164cf458c6a2b583319999d
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "hup: signed-update: update boot files as needed"
      hash: c08e732e0a678bce9cf48774fabd9016325fcaa7
      body: |
        Unconditionally update the kernel and second stage bootloader when the
        content on disk doesn't match the binaries shipped in the hostapp.

        Previously this was only done when migrating, but the kernel, and
        consequently the second stage bootloader, change every build. This means
        firmwares which measure EFI binaries into PCR 7 won't boot unless the
        second stage bootloader is updated to match the digests enrolled in the
        security database.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "hup: signed-update: always remove policy directory"
      hash: 7c4032d4596c72a85902c91bd48845543f3651b3
      body: |
        After creating a new policy, always remove any previous policy directory
        that was found.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "os-helpers-tpm2: append event log digests before separator"
      hash: 1c19ebb6b7c9b47ae81a3d67fc5526ea3ed55caf
      body: |
        Don't continue appending event log digests after the separator. This
        fixes creating a TPM policy on machines that measure EFI binaries into
        PCR 7 double appending the EFI binary hashes, which will cause boot
        failures.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "hostapp-update-hooks: signed-update: fix exit code conditional"
      hash: 06ef101cf68056c348f4c6810b522f2bbdbb7e55
      body: |
        Shellcheck warning SC2319 indicates that the condition being checked
        here may be overwritten by subsequent commands.

        Replace this conditional with a switch statement that directly evaluates
        the output.

        Also bump the minor version to make it more obvious that PCR 7 sealing
        brings a new feature, which should've happened previously.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "os-helpers-tpm2: fix awk syntax error causing unbootable machines"
      hash: 6c21f43c49361dac28f432083122a3ee35704a6f
      body: |
        A missing semi-colon caused the firmware_measures_efibins function to
        return an exit code of one, which the 0-signed-update hostapp-update
        hook interpreted as "this firmware does not measure EFI binaries into
        PCR 7", as opposed to zero, indicating "this firmware *does* measure EFI
        binaries into PCR 7", or two, indicating "the TPM event log is
        unavailable and it's impossible to tell."

        Taking the wrong branch in this conditional led to an inappropriate
        policy being created to seal the LUKS passphrase, which could not be
        unlocked on the next boot, as in QEMU with edk2, EFI binaries *are*
        measured into PCR 7.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 5.3.0
  title: ""
  date: 2024-04-24T06:33:36.925Z
- commits:
    - subject: "hostapp-update-hooks: check for logging helper"
      hash: 8561f0f7d92702a0d374846555904d6f2e01c697
      body: |
        Older balenaOS version (before v2.58) do not contain the logging helper
        in the rootfs and the new OS hooks fail to execute.

        This commit checks for the file existence before using it, and defines
        the logging functions when not detected.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.2.10
  title: ""
  date: 2024-04-23T10:14:54.964Z
- commits:
    - subject: Update tests/leviathan digest to 5984adc
      hash: d620600db09f2215dbfc43748fcc493023809bf2
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update actions/upload-artifact digest to 1746f4a
              hash: 4872b11fad92f5c8ea60050e21aa63a2bbb1289d
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.11
          title: ""
          date: 2024-04-22T01:55:56.805Z
        - commits:
            - subject: Update Lock file maintenance
              hash: c3225ffd4e4fde06ceaf3ace5778fa8633a72e28
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.10
          title: ""
          date: 2024-04-22T00:50:13.147Z
  version: 5.2.9
  title: ""
  date: 2024-04-22T05:25:28.462Z
- commits:
    - subject: "Test: Unmanaged: Replace ping command in tests with curl"
      hash: 071c0180a03203cb34fc80b127501dc1385dbb3d
      body: >
        This change is required to migrate existing tests to run QEMU worker
        tests on GitHub Actions.

        GitHub hosted runners can't run the `ping` command:
        https://github.com/actions/runner-images/issues/1519 by design.

        If we still intend to use `ping`, the solution would be running QEMU
        worker tests on self-hosted runners which allow ICMP packets
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 5.2.8
  title: ""
  date: 2024-04-17T15:22:20.514Z
- commits:
    - subject: "packagegroup-resin: Install ldd script in balenaOS images"
      hash: 9ef3aea59fdcc2909ab4d42e7bf7986c75ff14ca
      body: >
        The takeover project currently relies on the ldd script being present in
        the hostOS pre-migration.


        While takeover can be adapted to use this script from a different
        location, it wouldn't hurt to have ldd in the hostOS from this point on.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru
      nested: []
  version: 5.2.7
  title: ""
  date: 2024-04-16T21:04:47.973Z
- commits:
    - subject: Update tests/leviathan digest to 0c2f44d
      hash: 8e362ab8c82719b5d18909f8295d5641cbd02170
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update Lock file maintenance
              hash: 9b54072506553292307ca9096a6cb7a8cbeb00b5
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.9
          title: ""
          date: 2024-04-15T03:06:11.003Z
        - commits:
            - subject: Update core/contracts digest to d06ad25
              hash: 15fd9358b8b78b140f67180472e339d8a089e678
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.8
          title: ""
          date: 2024-04-11T13:32:23.711Z
        - commits:
            - subject: Update core/contracts digest to bdc5ec8
              hash: dd2e237ba8805ba88d98e0ab40c0ce47d22adc6e
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.7
          title: ""
          date: 2024-04-11T11:33:17.144Z
        - commits:
            - subject: Update core/contracts digest to 619554d
              hash: 12a9383b4cc99f91f27626995c52b9838bd558a5
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.6
          title: ""
          date: 2024-04-10T10:33:42.221Z
        - commits:
            - subject: Update Lock file maintenance
              hash: d6ed71f5ec59715663a4ee736f40520b00d28ff4
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.5
          title: ""
          date: 2024-04-08T02:00:38.626Z
        - commits:
            - subject: Update core/contracts digest to cb7b222
              hash: c17d66a976d9e9f0c0cba108e1c972bf12d822fc
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.4
          title: ""
          date: 2024-04-08T00:51:21.605Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.37
              hash: d9209f59fe962434d45dec77c4f3aa0ef5ccdf47
              body: |
                Update balena-os/leviathan-worker from 2.9.36 to 2.9.37
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.3
          title: ""
          date: 2024-04-04T15:33:01.233Z
        - commits:
            - subject: "core/lib/components: Specify Jetson Xavier boot partition indexes"
              hash: 6388fbbfb04c27fe4a1337d41481d6a55b2f432c
              body: |
                so that the config.json can be injected in the right partition
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: leviathan-2.30.2
          title: ""
          date: 2024-04-04T14:20:05.216Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 55b1560c8b3543a0041809f18ee3cf834a054895
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.30.1
          title: ""
          date: 2024-04-01T00:51:30.207Z
        - commits:
            - subject: "minor: Add general FAQ to Leviathan"
              hash: 2ee9236585807f16959ecbc2f24983b0abe0d8f4
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.30.0
          title: ""
          date: 2024-03-26T19:12:11.114Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 427bab2b42a128fa0cb067c99f122d2bc1e743b1
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.67
          title: ""
          date: 2024-03-26T14:30:08.265Z
        - commits:
            - subject: Update core/contracts digest to 8631765
              hash: 431288192a1bbbe6a75e847d94268f34342caa34
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.66
          title: ""
          date: 2024-03-26T13:35:15.787Z
        - commits:
            - subject: Update core/contracts digest to 2de3526
              hash: dbd017ddf87ab36e3f10dfb09c5e82edad3b9703
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.65
          title: ""
          date: 2024-03-21T08:29:35.853Z
  version: 5.2.6
  title: ""
  date: 2024-04-16T14:13:33.263Z
- commits:
    - subject: "classes: sign-rsa: add class for RSA artifact signing"
      hash: 65a73907c12f03599cec6aed5d83b4f0f4538f84
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.2.5
  title: ""
  date: 2024-04-12T15:16:52.502Z
- commits:
    - subject: Update balena-supervisor to v16.1.10
      hash: fab3d6cf5bfe10546dbafba54f3c6955da8f10c4
      body: |
        Update balena-supervisor from 16.1.5 to 16.1.10
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Add revpi-connect-4 to RPi variants We need the supervisor to be able
                to manage config.txt changes for the RevPi Connect 4.
              hash: b5dbef82d75a701cc2accb8f52e5865641e416fc
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Shreya Patel <shreya@dynamicdevices.co.uk>
                signed-off-by: Shreya Patel <shreya@dynamicdevices.co.uk>
              author: Shreya Patel
              nested: []
          version: balena-supervisor-16.1.10
          title: ""
          date: 2024-03-28T16:51:48.764Z
        - commits:
            - subject: Log the full error on device state report failure as it is more useful
              hash: 20e57f7f168884ccbc048911be15cedc91334192
              body: >
                The message can be an empty string or similarly unhelpful,
                therefore

                logging the entire error means that we will have whatever the
                message

                may be along with the stack trace and other info that will be
                helpful

                even when the message is not
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-16.1.9
          title: ""
          date: 2024-03-25T18:36:42.735Z
        - commits:
            - subject: Set @balena/es-version to es2022 to match tsconfig.json
              hash: 6b0500cdbcd24b718460f35f6f9412ba6093389c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-16.1.8
          title: ""
          date: 2024-03-25T18:11:08.037Z
        - commits:
            - subject: Increase the timeout for auto select family to 5000ms to avoid issues
              hash: 5cd37e73acb63a3bd705aea8e5edb4d255cd1c37
              body: >
                On slower networks the default of 250ms can cause problems as
                all

                attempts will fail rather than only the ones for interfaces that
                do not

                actually work correctly. Increasing this timeout to 5000ms will
                help to

                avoid these issues
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-16.1.7
          title: ""
          date: 2024-03-25T15:25:23.860Z
        - commits:
            - subject: Pin iptables to 1.8.9 (legacy)
              hash: 3d881347e7d9721b00bcc41411996bd40b48d781
              body: >
                With Alpine 3.19, iptables gets bumped to 1.8.10 which uses
                nftables.

                The host OS still uses iptables 1.8.7 (legacy), and we should

                use legacy as well until the OS uses nftables.
              footer:
                See: https://balena.zulipchat.com/#narrow/stream/345889-balena-io.2Fos/topic/iptables.20host.20vs.2E.20nftables.20Supervisor
                see: https://balena.zulipchat.com/#narrow/stream/345889-balena-io.2Fos/topic/iptables.20host.20vs.2E.20nftables.20Supervisor
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.1.6
          title: ""
          date: 2024-03-18T21:37:24.676Z
  version: 5.2.4
  title: ""
  date: 2024-04-03T17:13:37.301Z
- commits:
    - subject: mv docs/{,uefi-}secure-boot.md
      hash: 18e35c55cb486d93aadc43df1f5e0db0ef840c03
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "docs: secure-boot: update for PCR7 sealing"
      hash: e3c6131e6979390292c72e5e18c96d83165096fe
      body: |
        Update secure boot docs to reflect changes made for PCR7 sealing,
        including:

        * No first boot needed anymore to reach secure state
        * PCR roles
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "os-helpers: compute_pcr7: merge event log digests"
      hash: e10d67084621e5ce10f14557f2466e91ff684b41
      body: |
        The main variables measured into PCR7 to ensure secure boot
        configuration integrity are the state and EFI vars, including PK, KEK,
        db, dbx, etc.

        However, some systems have firmware that will measure other, unexpected
        events, such as "DMA Protection Disabled" (related to a Windows feature
        [0]), or "Unknown event type" with strange data.

        These events can't be predicted, and other devices may have different
        measured events that aren't compliant with the TCG spec, so attempt to
        check the TPM event log and extend our digest with any unknown events
        that fit the bill.

        [0] https://learn.microsoft.com/en-us/windows/security/hardware-security/kernel-dma-protection-for-thunderbolt
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: Update policy's PCR7 value in hostapp-update hook
      hash: f05deea2cd1003e186fa7756eecf8f113db26a7f
      body: |
        When performing a hostapp-update, we may touch file and efivars that are
        measured into PCR7. Re-generate the predicted value and reseal the LUKS
        passphrase using this new digest.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "os-helpers-tpm2: compute_pcr7: allow overriding efivars"
      hash: 3e0911a5c4317ea4b9ca03a7816ce600e5b202c5
      body: |
        When computing the digest of PCR7, it may be necessary to override the
        input variables used, in order to predict the value on the next boot.
        Allow these inputs to be overridden using function parameters.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: Move policy update to HUP commit hook
      hash: 80f9bd84de394aa728ed802a2d4c02f3a87f370b
      body: |
        When migrating the TPM2 policy used to secure the LUKS passphrase to use
        different PCRs, we temporarily want to maintain fallback capability in
        case the newly installed hostapp doesn't pass healthchecks. This allows
        the system to boot back into the original OS and try again.

        In order to do so, we leave the passphrase in place with the old PCR
        authentication policy. The cryptsetup hook in the initramfs will try
        PCRs 0,2,3,7 and if those don't work we fallback to the original PCRs.

        Once the new system successfully boots, we'll re-encrypt the passphrase
        and use the new PCRs to create a policy to secure the key.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "rollback-health: move apply-dbx to HUP commit hook"
      hash: 3d78d26366b284313ea718adb8d5498ac4f27e1f
      body: |
        This operation is done after rollback-health completes and the new OS is
        running to ensure the OS is healthy before appending to the forbidden
        signatures list.

        Move this out of rollback-health and into a HUP commit hook, which
        allows it to be excluded from OS images that don't use EFI or support
        secure boot.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "hostapp-hooks: include 0-signed-update only for efi"
      hash: 328222014146f0116e0208443f3e255d0e85ef15
      body: |
        This hook is only applicable for EFI machines. Include it in the build
        only when MACHINE_FEATURES includes EFI.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "secure boot: seal luks passphrase w/ PCR7"
      hash: 86460d1fa00e40caa1e3edd3ebed5d2098dafe31
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "os-helpers-tpm2: separate authentication from crypto"
      hash: 6a4e3cd2f48dc7e48acc35f04200317397d6d0b1
      body: |
        When encrypting the LUKS passphrase, we need the ability to construct a
        policy that can logically OR together multiple policies, such as when
        the machine may or may not measure binaries loaded through EFI boot
        services into PCR7.

        We also need the ability to update the sealing policy to revoke
        previously valid configurations, such as after hostapp-healthcheck
        completes successfully. Ideally, this should be completed before
        modifying any efi variables, to prevent the system from becoming
        unbootable in the event of an interrupted update.

        These requirements necessitate the ability to create sealing policies
        and authenticate against them outside of the hw_{en,de}crypt_passphrase
        functions.

        This commit allows the caller to setup the sealing policy when
        encrypting, and choose what kind of authentication to use when
        decrypting.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tcgtool: new recipe"
      hash: 5217a6c8e8599f18ef84d319fb41049c476be265
      body: |
        Create recipe for tcgtool, a program that replicates the structures used
        to represent data measured and hashed to extend TPM PCRs.

        This is useful to compute a PCR hash at runtime, which is normally
        computed by the firmware before the OS boots. This allows for adjusting
        a TPM2 policy to unlock the disk encryption passphrase with the updated
        state on the next boot.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "recipes-bsp: add recipe for GRUB 2.12"
      hash: 27808e2da6740bcd17d435aa15d644fef7b2b69c
      body: >
        This version changes how kernel images are booted, passing them to the
        EFI

        boot services LoadImage method, which uses EFISTUB and retains the TPM

        event log in memory.


        Copy this recipe from Poky rev 43f9098. This may be removed once Poky is

        bumped to Scarthgap (5.0).


        More info: https://edk2.groups.io/g/devel/topic/93730585
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: skip bootloader config integrity check"
      hash: ad70f51fcc899dd3ec521c280c0a074302f7498f
      body: |
        GRUB 2.12 no longer outputs the escape codes the previous version did.
        Skip this test until we can patch the bootloader to output a string we
        can match against.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "secureboot: enroll kernel hash in db for EFISTUB"
      hash: 45fe30fcc01bb2f3c423c11e2ea244546da30d57
      body: |
        Generate hash for second stage bootloader and enroll in db efivar to
        allow the firmware to verify the image for booting when using EFISTUB.

        This is necessary to update to GRUB 2.12, which passes the EFI image to
        the EFI boot services LoadImage method, which then validates the image
        when secure boot is enabled.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 5.2.3
  title: ""
  date: 2024-03-22T08:48:01.071Z
- commits:
    - subject: Update contributing-device-support with balena-info documentation
      hash: a42c71a14701a2d06d3025abfbbbc869c52b062d
      body: |
        Info on the ascii art for consoles was missing, so we add that
        in this commit.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru
      nested: []
  version: 5.2.2
  title: ""
  date: 2024-03-20T03:17:05.884Z
- commits:
    - subject: "networkmanager: Wait for iptables lock in shared dispatcher script"
      hash: 374c4c32df59cc00e0b04d0c619f6fb98a69f1a5
      body: |
        The dispatcher script that moves around FORWARD rules of shared
        interfaces currently calls iptables assuming it will always work
        but in practice two iptables commands can not run in parallel
        and we have occasionally seen the script fail with:

        Another app is currently holding the xtables lock.
        Perhaps you want to use the -w option?

        This patch adds the -w option to make the script wait for the lock
        when necessary.

        It also makes the script exit with an error code if anything fails,
        which will log the output as WARN instead of INFO as the errors
        are easy to overlook at this moment.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 5.2.1
  title: ""
  date: 2024-03-18T17:11:28.023Z
- commits:
    - subject: Update NetworkManager to version 1.46.0
      hash: 9d88a4566b7a9afc7226df97b40d266f0ece64b6
      body: >
        This recipe is taken from meta-openembedded commit

        f240c5cecf3d7ee75d5ec1ece4c412c94434a879 with the only changes being
        that

        we removed from it the init.d, iwd, and dhcpcd daemon configurations
        which

        are not used by us.


        This is the latest stable version available.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update NetworkManager to version 1.46.0
        changelog-entry: Update NetworkManager to version 1.46.0
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 5.2.0
  title: ""
  date: 2024-03-16T12:02:30.009Z
- commits:
    - subject: "mkfs-hostapp-native: Disable iptables features in yocto balena daemon"
      hash: 1e563863caf75fc88a8e7c7f2ab15f65ad21ebe8
      body: |
        We don't need any iptables features in order to perform
        hostapp-update in this build recipe, and it has no impact
        on build output.

        It does, however, improve compatbility with build environments and
        reduces the dependencies of the build host kernel.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 5.1.54
  title: ""
  date: 2024-03-13T06:45:02.830Z
- commits:
    - subject: Update balena-supervisor to v16.1.5
      hash: b15d808d021e647afc8c4da22f64dc9e7c929310
      body: |
        Update balena-supervisor from 16.1.4 to 16.1.5
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update fatrw to v0.2.21
              hash: 772702793c3ebf9bf3ac8119934436f2caa44bef
              body: |
                Update fatrw from 0.2.9 to 0.2.21
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.1.5
          title: ""
          date: 2024-03-12T13:33:05.116Z
  version: 5.1.53
  title: ""
  date: 2024-03-12T18:48:47.631Z
- commits:
    - subject: "images: balena-image-initramfs: remove uneeded kernel image"
      hash: f1ac14d114955678b62a0cbe661f71297e32a621
      body: |
        Remove the kernel image from the initramfs to save space.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: kernel-balena-noimage: add extra space"
      hash: 3696a0d8ad5f6d67903e3918bbe186300a2245ff
      body: |
        When appending a variable a space needs to be prefixed to create a
        space separated list.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.1.52
  title: ""
  date: 2024-03-11T15:55:46.939Z
- commits:
    - subject: Update balena-supervisor to v16.1.4
      hash: 932d20360314f8297c9b34f5940a95847cc48f58
      body: |
        Update balena-supervisor from 16.1.0 to 16.1.4
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-register-device and its deps
              hash: 790f6b71e4c127a6c6078e3f3797992e78995d3b
              body: |
                This bumps the related dependencies

                - balena-register-device
                - balena-request
                - balena-auth
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.1.4
          title: ""
          date: 2024-03-08T14:10:19.423Z
        - commits:
            - subject: Remove dependency on @balena/happy-eyeballs
              hash: 08727ed2b5f67c55b2469d3ee5c5e2857119521b
              body: |
                Node 20 now implements the happy eyeballs algorithm as part of its core
                `net` module, with the [autoSelectFamily](https://nodejs.org/docs/latest-v20.x/api/net.html#netgetdefaultautoselectfamily) option of `socket.connect`. This option defaults to `true`, meaning that a separate
                implementation of happy eyeballs is no longer needed.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Update Node to v20
              hash: b77dba20462df90ca720dae3fcacb84628fd5069
              body: >
                This updates the supervisor runtime to latest Node LTS version.
                There

                are no breaking changes related to this bump.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.1.3
          title: ""
          date: 2024-03-07T16:10:24.150Z
        - commits:
            - subject: Update typescript to v5
              hash: 6217546894e25c8216d305f231876fc888a6e407
              body: >
                This also updates code to use the default import syntax instead
                of

                `import * as` when the imported module exposes a default. This
                is needed

                with the latest typescript version.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.1.2
          title: ""
          date: 2024-03-06T14:06:45.274Z
        - commits:
            - subject: Update @balena/lint to v7
              hash: 988a1c9e9a2317a66f2be0a1dbddb89f8084014f
              body: >
                This updates balena lint to the latest version to enable eslint
                support

                and unblock Typescript updates. This is a huge number of changes
                as the

                linting rules are much more strict now, requiring modifiying
                most files

                in the codebase. This commit also bumps the test dependency
                `rewire` as

                that was interfering with the update of balena-lint
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.1.1
          title: ""
          date: 2024-03-04T18:16:11.250Z
  version: 5.1.51
  title: ""
  date: 2024-03-08T18:44:40.323Z
- commits:
    - subject: "tests/device-tree: Rework to account for new form of setting dtoverlay
        in config.txt by the supervisor"
      hash: 12a0940ce31031e203364dd6c76a4fc07697133b
      body: |
        The supervisor will now write the following dtoverlay setting

        "gpio-key,gpio=4,active_low=0,gpio_pull=down"

        into config.txt in the following form:

        dtoverlay=gpio-key
        dtparam=gpio=4
        dtparam=active_low=0
        dtparam=gpio_pull=down

        So we need to rework the test to account for these changes.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 5.1.50
  title: ""
  date: 2024-03-07T11:28:39.221Z
- commits:
    - subject: Update tests/leviathan digest to a677d89
      hash: cb9142269bc348e6c0dbe99dfc8b95d4215c0cf4
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update Lock file maintenance
              hash: fad1b73fe8752efee01764264b4aecfd88faf584
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.64
          title: ""
          date: 2024-03-04T02:11:20.831Z
  version: 5.1.49
  title: ""
  date: 2024-03-06T18:33:42.003Z
- commits:
    - subject: "hostapp-update-hooks: Soft include balena-config-defaults"
      hash: a6cd568a3b3aec127e2ef5b9b480b657a3ea246e
      body: |
        a203bcdfd567c0cc4b4ed9de493513142cd7463f introduced a dependency
        on /usr/sbin/balena-config-defaults to hostapp-update-hooks, however
        during HUP the script is not only executed in the "new" OS container
        but directly in the context of the "old" OS as well, so
        /usr/sbin/balena-config-defaults needs to exist there.
        The file was introduced in balenaOS v2.99.28, so trying to HUP
        from anything before that will fail.

        This patch changes this to a soft dependency so even if the file
        is missing HUP will continue.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 5.1.48
  title: ""
  date: 2024-03-06T08:25:08.800Z
- commits:
    - subject: "classes: kernel-balena: fix secureboot append"
      hash: 78a00ffdbebfccabbbb2e891a4b50fa421117cac
      body: |
        Add missing space.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: kernel-balena: correct dmcrypt dependencies"
      hash: 7ee3a14c01b3fdb6a21a3a4b4758e719e9378d5f
      body: |
        Fixes the dm_crypt setting check config warning.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: kernel-balena: separate kexec configuration"
      hash: 693cd55fe098cc4675db28e76d7a174cbcbd8d3f
      body: |
        Only the EFI secure boot mechanism currently needs kexec support, other
        implementation will use the balena bootloader instead.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "kernel-balena: remove EFI specific settings"
      hash: a5e3f7b25914e3b5b128675c7ca3df2eb7a3ccd8
      body: >
        The ZSTD support is not supported for all machines - restrict it to
        those

        that define EFI.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "kernel-balena: separate EFI specific secure boot configurations"
      hash: 4f1dc09e6fb2de97f12302cb90b19a759e231277
      body: |
        These settings are specific to EFI and fail to apply for other
        secure boot enabled platforms.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "kernel-balena: remove deprecated kernel configuration"
      hash: 3c44c1417f7cfbe1ff8414f8e5845544167a5388
      body: |
        The NF_TABLES_SET module has been dropped from v5.10.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "kernel-balena: add nfsd kernel setting"
      hash: 625c4021beba360662127d8ed4f929bb866dc9d6
      body: |
        This setting is moved from a device repository so it is common.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.1.47
  title: ""
  date: 2024-03-03T20:18:56.488Z
- commits:
    - subject: "resin_update_state_probe: ignore RAID members when looking for root"
      hash: e984b21b0270729784735d99f222294be65afd20
      body: |
        At this moment resin_update_state_probe looks for the root partition
        by UUID and assumes that only a single device is returned. This
        assumption breaks when the root is on a MD RAID1 device as not only
        the virtual MD device holds a filesystem with the given UUID,
        each member does as well.

        This patch makes resin_update_state_probe ignore devices
        that are RAID members which in that case will only return
        the MD device as expected.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 5.1.46
  title: ""
  date: 2024-03-02T01:20:54.562Z
- commits:
    - subject: Update tests/leviathan digest to 2b34fec
      hash: 695bd2b086a94945e80d9d677a6019462dd9e35f
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update core/contracts digest to f3ba2ee
              hash: 2334fd02530b6669a3fb5275421543c0a66bca2f
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.63
          title: ""
          date: 2024-02-27T17:34:15.697Z
  version: 5.1.45
  title: ""
  date: 2024-02-29T23:05:05.727Z
- commits:
    - subject: "resin-init-flasher: Allow building images for non-flasher devices that
        have internal storage"
      hash: 3a887512b343b80208196f6792a48f81d1a8c8f9
      body: |
        As per the internal thread: https://balena.zulipchat.com/#narrow/stream/360838-balena-io.2Fos.2Fdevices/topic/balena-raspberrypi.20jenkins.20build.20failures/near/423970246

        Currently devices with on-board storage fail to build in jenkins, if they don't provide a flasher image. One example is the CM4. Since there are multiple devices using this configuration, let's re-enable builds for all of them.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru
      nested: []
  version: 5.1.44
  title: ""
  date: 2024-02-29T16:16:34.376Z
- commits:
    - subject: Start os-config service after extracting CA
      hash: 0a531b5787e9dfd11a851fa36babd5374135e935
      body: |
        OS-config should always run after extracting balena CA
        to prevent race conditions
      footer:
        Change-type: patch
        change-type: patch
      author: jaomaloy
      nested: []
  version: 5.1.43
  title: ""
  date: 2024-02-28T09:12:11.684Z
- commits:
    - subject: Update balena-supervisor to v16
      hash: 2fe4e273e180d68a6eb756ce046352dc6a818f44
      body: |
        Update balena-supervisor from 15.3.1 to 16.1.0
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Add support for repeated overlays
              hash: bda1bac04c708ea0c35318604f926c035ff0883b
              body: >
                RPI firmware configuration allows repeating overlays to define

                configurations on multiple devices. For instance, for
                configuring

                multiple `ads` devices, `config.txt` needs to be setup this way


                ```

                dtoverlay=ads1115,addr=0x48

                dtoverlay=ads1115,addr=0x49

                ```


                Before this change, the supervisor would interpret both lines as

                belonging to the same overlay, preventing users from configuring
                multiple

                devices, and leading to a loop when trying to apply
                configurations with

                repeated overlays coming from the cloud side.
              footer:
                Change-type: minor
                change-type: minor
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.1.0
          title: ""
          date: 2024-02-27T19:30:49.055Z
        - commits:
            - subject: Fix support for rsync deltas
              hash: 24e222045ac511cd4fbb3be66e57eb678a29d854
              body: |
                Rsync (v2) deltas have been broken since [Supervisor v14](https://github.com/balena-os/balena-supervisor/commit/460c3ba0aab31d18a02e3f5dda1838691768c494). While considered legacy,
                they are still used by a few customers with devices running OS < 2.47.1.
                This should fix v2 delta support for those devices until we can
                completely remove rsync deltas from the supervisor
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.0.4
          title: ""
          date: 2024-02-27T15:06:23.251Z
        - commits:
            - subject: Patch default dtparam handling in config.txt
              hash: 3fd035c5bdc88993af66c5f2bc3a6300c44f4ed4
              body: |
                This commit completes the list of default / board-wide dtparams
                to include some `baudrate` and `vc` i2c params.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.0.3
          title: ""
          date: 2024-02-21T21:03:18.619Z
        - commits:
            - subject: Patch config.txt backend to return array configs correctly
              hash: e22253ce6ebc40e865b5bc26844901026f04ec4e
              body: >
                Previously, getBootConfig() of the config.txt backend was
                omitting

                array configurations such as gpio settings, thus resulting in
                the SV

                mistakenly assuming that boot config had not been applied, since
                gpio

                would not be in current config.txt config but would be in target
                config.

                This resulted in SV entering an infinite loop of attempting to
                apply the

                gpio config when it wasn't necessary.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-16.0.2
          title: ""
          date: 2024-02-17T02:44:51.708Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action to v2.0.27
              hash: ac12d9a50c1569229ff97459b7306cd5f7f4faad
              body: Update balena-io/deploy-to-balena-action
              footer:
                Changelog-entry: Update balena-io/deploy-to-balena-action to v2.0.27
                changelog-entry: Update balena-io/deploy-to-balena-action to v2.0.27
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-16.0.1
          title: ""
          date: 2024-02-12T19:56:17.362Z
        - commits:
            - subject: Add special case for base DTO params on RPI config
              hash: 6e6a796da5ecc846248eae4c8495bc626964c038
              body: |
                While ordering is important in the RPI firmware configuration file (config.txt),
                some dt params are by default considered part of the base dt overlay
                if they are not used by other overlays.
                Unfortunately the [list of dtparams](https://github.com/raspberrypi/firmware/blob/master/boot/overlays/README#L133)
                is too long to add all of them as exceptions, but we can add the params
                used in the default config.txt provided in OS images, to avoid reboots
                when updating to this new supervisor and correctly parsing the
                provisioning config.txt as variables.

                While this addition handles most common scenarios, there is still a
                chance a user may have use other base overlay dt params in the initial
                config, in which case those will be interpreted according to the
                relative ordering
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Fix processing of dtoverlay/dtparams on config.txt
              hash: 9546a1a3b1b919649dc401b63f0ff0dedad918b0
              body: >
                DT overlays and DT params need to be consumed in the order that
                they

                appear on the file. DT params apply to the last dtoverlay
                defined on the

                file, or to the base overlay.


                This commit updates config.txt parsing to consider this
                ordering, and it

                also ensures global dtparams are written first so they cannot be

                overriden by later overlays.


                Because of the more strict parsing method, it is possible that
                existing

                HOST_CONFIG vars do not match the interpretation of the parser.
                If

                that's the case, the supervisor will re-apply the target state
                which

                will cause the device to reboot.
              footer:
                Change-type: major
                change-type: major
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-16.0.0
          title: ""
          date: 2024-02-08T21:45:41.648Z
  version: 5.1.42
  title: ""
  date: 2024-02-28T00:23:42.396Z
- commits:
    - subject: "tests: hup: use secondary antenna for revpi4"
      hash: d353a984983e58ca187a678b03bf5420672940a5
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: cloud : use secondary antenna for revpi4"
      hash: 1bbf59431281805b88303dce2747922c0a78eb97
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: os: use secondary antenna for revpi4"
      hash: 67f34c93af43420199e729956d8b47d5e32a0601
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 5.1.41
  title: ""
  date: 2024-02-27T12:56:34.503Z
- commits:
    - subject: Update tests/leviathan digest to d71ce8f
      hash: 813e7442dad72eb0dc8994a1ff09b4cc3f1e717a
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: ad extra autokit setup information, and basic troubleshooting
              hash: 8245d549f586330a1805ea4ad998622f735c347b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.29.62
          title: ""
          date: 2024-02-26T11:59:24.765Z
  version: 5.1.40
  title: ""
  date: 2024-02-26T17:53:35.831Z
- commits:
    - subject: Update tests/leviathan digest to ef8cbac
      hash: fbef3a28eeddce84e055ddeb50e4b36c564b7a3c
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update Lock file maintenance
              hash: c8c6536316c5e96b0bbb59a9eb10fa0fe62fb9c8
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.61
          title: ""
          date: 2024-02-26T02:35:53.616Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 79b98f494241bda4121ad477a2de87296e7d44fb
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.60
          title: ""
          date: 2024-02-26T00:46:26.338Z
  version: 5.1.39
  title: ""
  date: 2024-02-26T07:52:12.767Z
- commits:
    - subject: "balena-rollback: adapt to secure boot support"
      hash: 3f5f5c71288551569522c321fb5f808706ce93c0
      body: |
        Make sure the rollback scripts know to use the non-encrypted boot
        partition to update A/B variables.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "hostapp-update-hooks: Adapt resin-uboot hook to secure boot"
      hash: 727559886b6ebc6a0cbea6226826e454ff0ba023
      body: |
        This is required for devices that use u-boot in their secure boot
        trust chain.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: u-boot: use global secure boot kernel command line instead of
        hardcoding"
      hash: 7457aec1b3efa2a5bf350c7046f165bcf2e08c3d
      body: |
        Use the new OS_KERNEL_SECUREBOOT_CMDLINE global variable instead of
        hardcoding the values for the secure boot command line.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "grub: use global secure boot kernel command line instead of hardcoding"
      hash: af66b4184899c4c909979a065d57e178278569ec
      body: |
        Use the new OS_KERNEL_SECUREBOOT_CMDLINE global variable instead of
        hardcoding the values for the secure boot command line.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "conf: distro: define kernel command line for secure boot"
      hash: 2b5aa3f348c92e0ff4f83db6d8e4002f3c84bb3d
      body: |
        This can then be used in both grub and u-boot.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resindataexpander: encrypted partitions will auto-expand on unlock"
      hash: 4e7ff432425672068f7b7430e416239a6b987fc0
      body: |
        Calling `cryptsetup resize` on LUKS2 actually prompts for a password
        and it is not needed as the partition will auto-expand on unlock.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: migrate: replace hardcoded kernel image names"
      hash: 66083abb5bee31c9efd230c69cae322021f85c63
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-mounts: generalize secure boot mounts"
      hash: 522800093a2271b8814b78a3eb25b09d0a125441
      body: |
        Use the global BALENA_NONENC_BOOT_LABEL to define the name of the
        non-encrypted boot partition to mount.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: abroot: Use the global label for non-encrypted boot
        partitions"
      hash: 69093e694e806bd91fa3f275a075adabe587ef35
      body: |
        Avoid having to redefine this in individual recipes.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: allow for cryptsetup to support different secure boot
        implementations"
      hash: 3d932c8a8034fa0bafa6651f3b381823a3e738ff
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers-fs: add shared wait4udev function"
      hash: 10b435b81e49f24943ca89d6624199ecf82a3195
      body: |
        This allows to share this function between the different device
        integration cryptsetup implementations.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-image-flasher: fix appended variable with a leading space"
      hash: a7c9dd924bb754d49fe57f8c262592f707fc076b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-config-vars: customize for secure boot support"
      hash: d55ed33746e8ebeeee524f556ce0fb7cc9d1dad7
      body: |
        Specify defaults for both the encrypted and non-encrypted boot mount
        points. On a non-secure boot system these will be set the same.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers: add dummy os-helpers-sb"
      hash: 8ca3bd996b78360b669417a4efd4e31b64ac1084
      body: |
        This helper file is to be overwritten by device integration layers
        to provide hostOS update customizations for secure boot devices that
        split the boot partition into encrypted and non-encrypted.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: allow flasher image use in devices without
        internal storage"
      hash: b0dc10609d9a6333cb43f137b73a88798c59b86a
      body: |
        The flasher image is now able to self-install when launched from an
        external storage. This is useful for use cases where an installation
        steps that re-partitions/encrypts disk is required for example.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: flag non-encrypted boot partition as bootable"
      hash: 60377c9a3073698ede0722ba6773a0bf223d881f
      body: |
        Non-EFI systems need this to identify the boot partition and it won't
        affect EFI systems.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: replace hardcoded kernel image names"
      hash: 6c60a5270af3936ec68a21cddf77ff4d330343fe
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: split secureboot and disk encryption interfaces"
      hash: e85a14f22d50745e495bac0b431e942afad79b78
      body: |
        Provide hooks in the flasher script to call out to device specific
        secureboot and disk encryption interfaces.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "distro: balena-os: define the boot labels as global"
      hash: 4254f27f6cd00282710929b314017222a22bb0cd
      body: |
        This allows to use the same values in several recipes without having to
        re-define them.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "distro: balena-os: Specify full GO version"
      hash: 2506468771bffb84c3c507f8e50427b10177a8de
      body: |
        This avoids building warnings.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.1.38
  title: ""
  date: 2024-02-23T12:41:11.397Z
- commits:
    - subject: "tests/device-tree: Minor spelling fixes"
      hash: 928fa031f794d09ce603795acc224fcb61e855d9
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru
      nested: []
    - subject: "test/device-tree: Send vcdbg to DUT"
      hash: aab7e1390f9f1181a47905328ef5fba1b5e509f6
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
    - subject: "patch: Add vcdbg binary to tests"
      hash: db56a276b23ba900bbbb1b4944a6a8fd4ca2f55f
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 5.1.37
  title: ""
  date: 2024-02-22T20:38:47.969Z
- commits:
    - subject: "tests: hup: test breadcrumbs after rollback services"
      hash: dde3e48743fc32349d1a1a33cfdf9b061c804e04
      body: |
        During HUP, rollback-health-breadcrumb and rollback-altboot-breadcrumb
        are created in the state partition to trigger rollback-health and
        rollback-altboot respectively on the next boot. After these services
        complete, they will remove these breadcrumbs.

        Make the broken init fallback tests wait for these services to become
        inactive before testing the state of the breadcrumbs. Otherwise, a race
        condition can make these tests fail. Most notably on slower systems,
        such as emulated generic-aarch64.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 5.1.36
  title: ""
  date: 2024-02-21T16:31:08.117Z
- commits:
    - subject: Update tests/leviathan digest to 95a9d72
      hash: 16d56c258da245227711868d61df9b49b29842cb
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update Lock file maintenance
              hash: 491d5df14d6197c1acae3542d4e950869e710309
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.59
          title: ""
          date: 2024-02-19T00:47:50.443Z
        - commits:
            - subject: Update core/contracts digest to 0c54ce2
              hash: bfb9b6bd67bf8bfe6a337ebcb439aa7f3852fb5c
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.58
          title: ""
          date: 2024-02-14T12:19:16.753Z
  version: 5.1.35
  title: ""
  date: 2024-02-19T05:22:59.235Z
- commits:
    - subject: "resin-init-flasher: add jq dependency"
      hash: 87aa01801d193a893f10367ba71b9cc824bf7e69
      body: |
        Without this dependency, the call to `jq` does not happen and the check
        for INTERNAL_DEVICE_KERNEL is not performed.

        Several devices that define internal storage but do not define
        INTERNAL_DEVICE_KERNEL will now fail and need to be fixed.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.1.34
  title: ""
  date: 2024-02-14T23:11:49.455Z
- commits:
    - subject: "tests: cloud: if no existing release, create generic fleet"
      hash: 5b63019d327a1b8ebe1871fd6bc85b0790f40f81
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 5.1.33
  title: ""
  date: 2024-02-14T07:31:35.324Z
- commits:
    - subject: Update tests/leviathan digest to 4b9de7e
      hash: b4f6a28c7c7f0f9636417b5e06c16a8ddc3ce2e9
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "patch: Authenticate the validator before validation"
              hash: 03ef1b01b99d921fe99b834001de26d4c760f3b8
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.29.57
          title: ""
          date: 2024-02-13T10:45:34.666Z
  version: 5.1.32
  title: ""
  date: 2024-02-13T16:01:45.214Z
- commits:
    - subject: Update tests/leviathan digest to 00ee51c
      hash: e19942dc9ca040d48f3b8e2ab36a03bb31f4bc74
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.36
              hash: 0b7b82ac9044c230b2384c67e2a2f1000e018991
              body: |
                Update balena-os/leviathan-worker from 2.9.35 to 2.9.36
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.56
          title: ""
          date: 2024-02-12T17:06:43.126Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.35
              hash: 52a3095506b23f4024e79e887675f3b45b4db945
              body: |
                Update balena-os/leviathan-worker from 2.9.34 to 2.9.35
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.55
          title: ""
          date: 2024-02-12T14:57:32.329Z
  version: 5.1.31
  title: ""
  date: 2024-02-13T02:11:21.643Z
- commits:
    - subject: "balena-image-bootloader-initramfs.bb: Add fsck module"
      hash: 4b1bc7244ab21a9952ea7569c0c0e1bc9a11e2e0
      body: >
        The balena bootloader initramfs contains the rootfs module and that

        will get the rootfs mounted but not checked first for errors. This is

        problematic because at first boot with network connectivity available,

        time will sync but the rootfs will still have the last mount time in

        1970. If at that point the rootfs gets corrupted then at next boot

        the rootfs' initramfs module from balena-bootloader will try to mount

        the rootfs without checking it first and then after that the filesystem

        check triggered by the fsck module from the actual kernel initramfs will

        fail like this:


        [init][INFO] Running filesystem checks on partition resin-rootA
        (/dev/disk/by-state/resin-rootA)

        resin-rootA contains a file system with errors, check forced.

        resin-rootA: Inodes that were part of a corrupted orphan linked list
        found.


        resin-rootA: UNEXPECTED INCONSISTENCY; RUN fsck MANUALLY.
                (i.e., without -a or -p options)

        This commit will add the fsck module to balena bootloader's initramfs

        which will trigger filesystem checks before the rootfs module runs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 5.1.30
  title: ""
  date: 2024-02-12T19:58:46.698Z
- commits:
    - subject: Update tests/leviathan digest to f6a3391
      hash: 0df90f0d2a1105bb3d0e8db6a28ce9bc76d8e1b0
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update core/contracts digest to 4f7dba1
              hash: 55fdb70de51b296b56752e79375ef5932c294de2
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.54
          title: ""
          date: 2024-02-12T01:49:14.116Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 174797e7ff00c3cec8912d63cc5debfbfadbb3ce
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.53
          title: ""
          date: 2024-02-12T00:49:17.031Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.34
              hash: 676c345f8f2bd4eb14270817774fa9f6d32552eb
              body: |
                Update balena-os/leviathan-worker from 2.9.33 to 2.9.34
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.52
          title: ""
          date: 2024-02-08T09:34:59.187Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.33
              hash: 9eeb44be296aaeb17654afa51d6757242dd9da38
              body: |
                Update balena-os/leviathan-worker from 2.9.32 to 2.9.33
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.51
          title: ""
          date: 2024-02-06T12:48:22.014Z
        - commits:
            - subject: "patch: Add config.js validator"
              hash: 740c4bfbe01703ed694b227e5c6ccebf096cb297
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.29.50
          title: ""
          date: 2024-02-06T10:02:47.800Z
  version: 5.1.29
  title: ""
  date: 2024-02-12T06:15:56.841Z
- commits:
    - subject: Update balena-engine to v20.10.43
      hash: 2f47cdb1996b3ab4421a22fd0b36917899bf77b4
      body: |
        Update balena-engine from 20.10.42 to 20.10.43
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update runc component to v1.1.12 from balena-runc repo
              hash: 9cdf0321cbb1dee0b1712f4e537f1b90caad45ea
              body: >
                Also update containerd component from balena-containerd to also
                use

                runc v1.1.12. Also update dependencies as indicated from
                balena-runc go.mod.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ken Bannister <kb2ma@runbox.com>
                signed-off-by: Ken Bannister <kb2ma@runbox.com>
              author: Ken Bannister
              nested: []
          version: balena-engine-20.10.43
          title: ""
          date: 2024-02-06T08:42:31.660Z
  version: 5.1.28
  title: ""
  date: 2024-02-11T11:59:55.024Z
- commits:
    - subject: "patch: upgrade recipes/devtools/go to 1.17.13"
      hash: 0845ea2914e0b784a022d3c9414168d8a2212c4b
      body: ""
      footer:
        cherry-pick: c93239706f70b0cea59797814a409cfc376b3e0f
      author: JOASSART Edwin
      nested: []
    - subject: "patch: removes recipes/devtools/go to 1.16"
      hash: 6017fdaaae799b8e5cd6b8f3b52e9c51f46e9450
      body: ""
      footer:
        cherry-pick: git://git.yoctoproject.org/poky@c93239706f70b0cea59797814a409cfc376b3e0f
      author: JOASSART Edwin
      nested: []
  version: 5.1.27
  title: ""
  date: 2024-02-09T17:47:17.512Z
- commits:
    - subject: Update balena-supervisor to v15.3.1
      hash: d1816fb95d9d1722f258609c92f9f4d6d982c730
      body: |
        Update balena-supervisor from 15.3.0 to 15.3.1
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Respect update strategies app-wide instead of at the service level
              hash: 3afcef296914840268356f7f98bc4bd8cce9427c
              body: >
                Fixes behavior for release updates which removes a service in
                current state

                and adds a new service in target state.
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#2095"
                closes: "#2095"
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-15.3.1
          title: ""
          date: 2024-02-01T19:31:12.515Z
  version: 5.1.26
  title: ""
  date: 2024-02-06T12:44:48.657Z
- commits:
    - subject: Update tests/leviathan digest to a708a7f
      hash: 42a7b84459eb3cf7d1de83e87a7cea3dc62166ba
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update actions/upload-artifact digest to 5d5d22a
              hash: b59bb24d6b31119cd35b8bcce0f4c43c33cdc33f
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.49
          title: ""
          date: 2024-02-05T22:46:54.576Z
  version: 5.1.25
  title: ""
  date: 2024-02-06T05:41:01.955Z
- commits:
    - subject: Update tests/leviathan digest to 57ba19b
      hash: 95914f064319b07f4fffaea99acba403371f8552
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.32
              hash: 9b77f33362ad96fbcb16144d1ced8f55b1ae229b
              body: |
                Update balena-os/leviathan-worker from 2.9.30 to 2.9.32
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.48
          title: ""
          date: 2024-02-05T14:50:14.058Z
        - commits:
            - subject: Update Lock file maintenance
              hash: aaaa5b9d3cbdc934492b3198be0f589878bb2556
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.47
          title: ""
          date: 2024-02-05T00:45:07.492Z
  version: 5.1.24
  title: ""
  date: 2024-02-05T21:33:40.827Z
- commits:
    - subject: "tests: cloud: disable dut internet after flashing"
      hash: d2862583495343999f413f2279e0a560c4f85036
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 5.1.23
  title: ""
  date: 2024-02-05T08:28:03.676Z
- commits:
    - subject: "balena-rollback/rollback-health: Allow old OS hooks to access efivars"
      hash: df9d9986ab6965b653abd8d5d06dbfc3beb285e9
      body: |
        This fixes rollback-health failures for boards like the Jetson Seeeed
        J4012, which updates efivars for capsule updates from container hooks
        and not from the current OS hooks.

        While the actual HUP works because of /sys being bindmounted by
        hostapp-update, rollbacks will fail to run the old OS hooks unless
        efivarfs is mounted.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 5.1.22
  title: ""
  date: 2024-02-02T16:21:23.127Z
- commits:
    - subject: Update tests/leviathan digest to dd2285a
      hash: 98ff3b7ce4aff6c441313aec505b6c04e4c96a8d
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update core/contracts digest to 75a9764
              hash: 19eb050d554bcec7ad4019b9f56c87cbe9ed980a
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.46
          title: ""
          date: 2024-02-01T11:30:01.804Z
        - commits:
            - subject: Update core/contracts digest to 8dfe06b
              hash: ff3d56371204568e12fd29165cdf71792cea4410
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.45
          title: ""
          date: 2024-01-31T12:10:06.956Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.30
              hash: fa16ab27ffbada5c1e462510045ecb956b8b872a
              body: |
                Update balena-os/leviathan-worker from 2.9.29 to 2.9.30
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.44
          title: ""
          date: 2024-01-30T01:27:20.366Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.29
              hash: 023256fcb3c4d5ad3c32445e3ca5ab6713e64073
              body: |
                Update balena-os/leviathan-worker from 2.9.28 to 2.9.29
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.43
          title: ""
          date: 2024-01-29T18:31:03.729Z
  version: 5.1.21
  title: ""
  date: 2024-02-01T18:17:57.543Z
- commits:
    - subject: Update balena-supervisor to v15.3.0
      hash: 8b1e69874e07597b410c093a814d5968dd83991f
      body: |
        Update balena-supervisor from 15.2.0 to 15.3.0
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Pin docker version to v24 for tests
              hash: 0500fe10bb1c35b01a4a46713c98165685a93433
              body: >
                Moby v25 adds the dynamically generated MAC address to the
                Config field,

                which breaks the state engine, preventing the state from
                settling as the

                current state never matches the target state (empty mac
                address). This

                seems to be a bug in Moby that we reported in moby/moby#47228


                The issue won't affect Balena devices until balenaEngine is
                updated, and this

                change fixes testing for now.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Fix docker utils tests for docker v25
              hash: 6ee606806d5bb7b1805baa67051eaa4d132e5a39
              body: >
                From docker 25, the engine will validate IPAM config. This would
                cause

                the docker utils test to fail since the network/subnet
                configuration was

                incorrect.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Enable nodemon when using test:env
              hash: 23fae633ca2351b37befbf1870e8749c7b03d906
              body: >
                This avoids the need to rebuild the environment when making code
                changes

                and running integration tests
              footer:
                Change-type: minor
                change-type: minor
              author: Felipe Lalanne
              nested: []
            - subject: Improve test:compose and test:env commands
              hash: 2f3e3d2e610160b7111024b597df6f2f6844ce9a
              body: >
                The commands now use docker-compose run instead of docker
                compose up

                for simplicity and also to match what flowzone does.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Add prettierrc for editor compatibility
              hash: e2f54e29faba4f74a59971fd66d64b7c38e9eb0f
              body: >
                The tsserver lsp doesn't seem to work well with .editorconfig.
                Using

                prettierrc will allow formatting to work correctly with editor
                plugins


                This also updates editorconfig to work well with json
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-15.3.0
          title: ""
          date: 2024-01-26T14:51:00.446Z
  version: 5.1.20
  title: ""
  date: 2024-02-01T04:15:55.799Z
- commits:
    - subject: Add balena bootloader class
      hash: 196e586cf4e9379f554aed5d956e580686f70cd3
      body: |
        The class will perform a basic configuration of a linux kernel
        to be used as the balena bootloader. Device types are expected
        to inherit it and perform additional device-specific configuration.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "initrdscripts: remove nr_cpus kernel arg before kexec"
      hash: 3a7b5308dfa9f7449d835c1858a15a8d0477784f
      body: |
        The kexec initrd script currently removes the maxcpus=0 kernel arg
        which we use to put the system into non-SMP mode. This however does
        not work on all platforms and nr_cpus=1 seems to be a more robust
        solution, so with this patch nr_cpus will be removed as well.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 5.1.19
  title: ""
  date: 2024-01-31T21:43:14.605Z
- commits:
    - subject: "classes: kernel-balena: expose watchdog in sysfs"
      hash: 1c56e8e1cb2bb9c871ce3fe805b97e9e2a7c867b
      body: |
        This helps debugging watchdog related issues.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.1.18
  title: ""
  date: 2024-01-29T18:06:47.257Z
- commits:
    - subject: Update tests/leviathan digest to 01e65ec
      hash: d7a8acd5f4dd65be92cc84e2bfd9b94a5ae303a0
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update Lock file maintenance
              hash: 36e64b2498703a536500d79f7f20bf9a2b35d0f9
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.42
          title: ""
          date: 2024-01-29T00:46:20.802Z
  version: 5.1.17
  title: ""
  date: 2024-01-29T06:04:57.114Z
- commits:
    - subject: Update tests/leviathan digest to 7c94243
      hash: fe9fcfac3f90fd78c8e704a268a16d9b93527a0f
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.28
              hash: 756cd0253d0e061e7fa7eaba8d64e9356558dde7
              body: |
                Update balena-os/leviathan-worker from 2.9.27 to 2.9.28
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.41
          title: ""
          date: 2024-01-26T15:03:05.906Z
  version: 5.1.16
  title: ""
  date: 2024-01-27T02:56:42.770Z
- commits:
    - subject: "networkmanager: make FORWARD rules for shared interfaces last in chain"
      hash: 089f4d639383a4981d4840f9e22cccc97270b339
      body: |
        At this moment there is a race condition between NetworkManager
        and the engine when a shared interface is configured. If the interface
        is configured first and the engine second, the containers are allowed
        to access DHCP hosts behind the shared interface. If the engine comes
        up first and the shared interface second, access will be denied.

        This patch adds a dispatcher script that always configures the firewall
        rules as if the engine came up last. This does not really address
        the underlying issue but it overcomes the race condition and makes
        the behavior deterministic, which is good enough at this point.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 5.1.15
  title: ""
  date: 2024-01-26T20:11:41.626Z
- commits:
    - subject: Update tests/leviathan digest to e618772
      hash: 134b8f2e7f8f75c67e4aa49feb8d0d38c0e5121b
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update Lock file maintenance
              hash: 601c03a87a8073ffa13e1abcdf51bb403f571f66
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.40
          title: ""
          date: 2024-01-23T19:29:48.498Z
        - commits:
            - subject: Update actions/upload-artifact digest to 26f96df
              hash: f9f08bf7810406b4fb16a3b1ac2345ad205d3c83
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.39
          title: ""
          date: 2024-01-23T18:31:12.292Z
  version: 5.1.14
  title: ""
  date: 2024-01-24T00:07:16.859Z
- commits:
    - subject: Start extract-balena-ca before os-config update
      hash: 1b43e70a712145abe11c6fe6332d29b4dde50c49
      body: |
        For os-config to use the OS wide ca certificate
        instead of an existing balenaRootCA in the
        config.json
      footer:
        Change-type: patch
        change-type: patch
      author: jaomaloy
      nested: []
  version: 5.1.13
  title: ""
  date: 2024-01-23T10:52:48.191Z
- commits:
    - subject: Update tests/leviathan digest to 6be4049
      hash: 889c23e5e8134f4e456681fc8a2bacc6d126271c
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update actions/upload-artifact digest to 694cdab
              hash: e8ac025c685a10b02c074d34f6321bfa9a85715e
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.38
          title: ""
          date: 2024-01-18T22:30:12.106Z
        - commits:
            - subject: Update actions/upload-artifact digest to 1eb3cb2
              hash: fdc77c10964cd4ad712773ce9c67ded83e5dbd58
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.37
          title: ""
          date: 2024-01-15T01:57:42.562Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 526e3b151506e979ad587f31c07aa5734609a796
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.36
          title: ""
          date: 2024-01-15T00:50:36.593Z
  version: 5.1.12
  title: ""
  date: 2024-01-19T03:26:08.587Z
- commits:
    - subject: "kernel-balena: Only sign initramfs for EFI machines"
      hash: 5e56bc8cace0b71bcbf8e216dfe2a194144ba783
      body: |
        UEFI firmware in secure boot needs to authenticate the kernel plus
        initramfs in the chain of trust. Other firmware implements secure boot
        differently and does not need this.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-image: Add TPM tools conditionally on tpm machine feature"
      hash: 28ec059dd898de5c61ab314475f620d8c979e0d4
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: Add TPM/EFI tools conditionally on tpm machine feature"
      hash: 090e79747eb1344d056cfd406d672c194dcb3bbb
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers: rename os-helpers-secureboot to os-helpers-efi"
      hash: 3f03b92c533e7c77f72128a6c5b0f345ceaf53eb
      body: |
        Secure boot is device specific, this helper contains EFI specific
        helper functions.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "image-balena: extract hup boot partition checks into a function"
      hash: 4caceb149848091203c1328c843cc7ce4ad4cccb
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-keys: Distinguish EFI devices"
      hash: dc78e4ff39bbebf11706e52c77895b6403f0730c
      body: |
        Non EFI devices do not need the UEFI secure boot keys.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-image-flasher: only add grub configuration for EFI devices"
      hash: 0c0966bc40a632945f22a2fb04c505ff42fd44e2
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-image: only add grub configuration for EFI machines"
      hash: 25be7ade2fbb272101047629f8f9d0378b370cc3
      body: |
        Only EFI systems need grub configuration added to the boot partition -
        other device types that also use the signing API do not.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.1.11
  title: ""
  date: 2024-01-18T19:25:25.796Z
- commits:
    - subject: "tests/bluetooth: Leave Autokit host discoverable on BT for a longer
        period of time"
      hash: a4f57877b7582b0e36672269471c178a7511d18f
      body: >
        We've noticed that leaving the host discoverable indefinitely on Pi3
        Autokit hosts solves sporadic scan failures. Thus, leaving the host
        discoverable for 20 minutes should be sufficient to prevent these cases.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 5.1.10
  title: ""
  date: 2024-01-12T15:29:12.742Z
- commits:
    - subject: Update tests/leviathan digest to 0210c02
      hash: 50e34dfc6013518a459c1be749804fbf837803d9
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: change to ssh tunnel
              hash: c15d5183a61e4ed9d437642560c2db071b1d7672
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.29.35
          title: ""
          date: 2024-01-11T12:51:52.503Z
        - commits:
            - subject: Update core/contracts digest to 14a10d9
              hash: bd5f29abd2bbe194df6f7657b69b860f435b1ef7
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.34
          title: ""
          date: 2024-01-10T11:32:06.062Z
  version: 5.1.9
  title: ""
  date: 2024-01-11T18:57:27.371Z
- commits:
    - subject: Update tests/leviathan digest to dbcacdb
      hash: 708458487d1cb01362ca28310b4b67ca847f4a0f
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: timeout netcat process
              hash: 3eee636c92fb352101b62cf6cc04dd799f5c6ae9
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.29.33
          title: ""
          date: 2024-01-09T17:35:20.372Z
  version: 5.1.8
  title: ""
  date: 2024-01-09T21:50:27.806Z
- commits:
    - subject: Update balena-supervisor to v15.2.0
      hash: f3df642e9f4e6525d68fe00b3141b1fa4cdf4fef
      body: |
        Update balena-supervisor from 15.0.4 to 15.2.0
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Try MDNS lookup only if regular DNS lookup fails
              hash: dec39a35d40532a82ac2f2bbcaa2c179b67d3d4a
              body: >
                This is meant to allow users to configure their device to

                resolve `.local` queries via dnsmasq by modifying config.json,
                e.g. `dnsServers":

                "/bob.local/172.17.0.33`.


                This would fail before as MDNS lookups would always come first
              footer:
                Change-type: minor
                change-type: minor
              author: Felipe Lalanne
              nested: []
            - subject: Refactor mdns lookup code in app entry
              hash: 7a39da92b7bb1537a6df3dec6ad665d35e891bcc
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-15.2.0
          title: ""
          date: 2024-01-08T13:25:37.100Z
        - commits:
            - subject: "docs: api: start-service: specify this endpoint affects the device"
              hash: 096fdbc74ab4ca9a58603eec5774435ff07bedb1
              body: >
                The description incorrectly states the endpoint would start a
                service

                in the whole fleet while it only affects the device.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-supervisor-15.1.1
          title: ""
          date: 2024-01-02T18:35:24.583Z
        - commits:
            - subject: Force remove container if updateMetadata fails
              hash: 3ea8d4727a4f4b068b308d1f407b7cf0dae2733b
              body: >
                The `updateMetadata` step renames the container to match the
                target

                release when the service doesn't change between releases. We
                have seen

                this step fail because of an engine bug that seems to relate to
                the

                engine keeping stale references after container restarts. The
                only way

                around this issue is to remove the old container and create it
                again.

                This implements that workaround during the updateMetadata step
                to deal

                with that issue.
              footer:
                Change-type: minor
                change-type: minor
                Relates-to: balena-os/balena-engine#261
                relates-to: balena-os/balena-engine#261
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-15.1.0
          title: ""
          date: 2023-11-22T20:12:13.595Z
  version: 5.1.7
  title: ""
  date: 2024-01-09T11:48:54.597Z
- commits:
    - subject: Update tests/leviathan digest to 5163c31
      hash: 490c8d2f72d0caca055d776702b8738e91a18879
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update Lock file maintenance
              hash: 00fd1164a17d8416f9c2d8fdd85ec4beb9313ac2
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.32
          title: ""
          date: 2024-01-08T00:49:02.459Z
        - commits:
            - subject: Update core/contracts digest to b469f31
              hash: 70b223f36468f7e5831bc8d7529ec911bb0f162e
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.31
          title: ""
          date: 2024-01-05T11:31:48.601Z
  version: 5.1.6
  title: ""
  date: 2024-01-08T05:44:12.539Z
- commits:
    - subject: Update tests/leviathan digest to 70db044
      hash: 0498c1ee79993731af3393075c9b38661d3e9003
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update core/contracts digest to dd3614e
              hash: c3878a8e47e68e873c88ae4289a8d63762ffc92b
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.30
          title: ""
          date: 2024-01-01T01:57:46.608Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 214d045910bbd644022dfb54011765e89138459e
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.29
          title: ""
          date: 2024-01-01T00:53:05.099Z
  version: 5.1.5
  title: ""
  date: 2024-01-01T06:16:53.331Z
- commits:
    - subject: Update tests/leviathan digest to 5068028
      hash: 2ab7461531b08bf32e7db61b4b46e5ed2cda5fef
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update Lock file maintenance
              hash: 004b6152f13c18a1a498c2d6c035b74a6e8ffe56
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.28
          title: ""
          date: 2023-12-25T00:47:40.061Z
  version: 5.1.4
  title: ""
  date: 2023-12-25T05:03:30.910Z
- commits:
    - subject: Update tests/leviathan digest to 57546f9
      hash: 4735bceb5946999f9b5c768863eafdfb6904cbb9
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.27
              hash: 4505a657334e331bcdeaa40a0d7e61115d98208d
              body: |
                Update balena-os/leviathan-worker from 2.9.26 to 2.9.27
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.27
          title: ""
          date: 2023-12-22T15:30:59.290Z
        - commits:
            - subject: Update core/contracts digest to 31188f5
              hash: acea4799e23c4ee3573fb7b8af9085ca6d13267e
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.26
          title: ""
          date: 2023-12-21T15:41:39.414Z
        - commits:
            - subject: Update actions/upload-artifact action to v4
              hash: 574a3002a43599b67507d826ab6f7165fec32d66
              body: |
                Update actions/upload-artifact from 3 to 4
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.25
          title: ""
          date: 2023-12-18T01:58:03.248Z
        - commits:
            - subject: Update Lock file maintenance
              hash: e0fafec6d5a551889c2b9b92887b4ec3714ee36d
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.24
          title: ""
          date: 2023-12-18T00:52:00.697Z
        - commits:
            - subject: Update core/contracts digest to 591fda9
              hash: 4b0abbb41eeb4956a7abcf722fd74bc3cfd4e8c3
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.23
          title: ""
          date: 2023-12-13T16:32:48.778Z
  version: 5.1.3
  title: ""
  date: 2023-12-22T21:40:29.567Z
- commits:
    - subject: "balena-config-vars: increase config.json parsing resilience"
      hash: 42faa76d97f6ca4eeadbc648e44d19737740eb8c
      body: |
        There have been reports of an empty config vars cache file - probably
        because of a race condition when the reading of config.json happens just
        as the file is being replaced.

        Add some checks and retries to avoid this errors from happening.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.1.2
  title: ""
  date: 2023-12-21T13:35:27.955Z
- commits:
    - subject: Update balena-engine to v20.10.42
      hash: 49900e8b33eb6a7a3dcb1b8557a6092219abb13d
      body: |
        Update balena-engine from 20.10.41 to 20.10.42
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update actions/upload-artifact to v4 and generate unique artifacts
              hash: 8326bf0a7eda3214b4b9c0641b81d0d717a2d15d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-engine-20.10.42
          title: ""
          date: 2023-12-19T19:09:00.979Z
  version: 5.1.1
  title: ""
  date: 2023-12-20T00:30:08.191Z
- commits:
    - subject: "migrate: check for mount point before umounting"
      hash: 5e1165213e086efdecabd3dbd8d8a5c9c5d4d2ea
      body: |
        This avoids a warning on each boot.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: move mounting of log mounts to finish module"
      hash: 0f3bd475dadc52aa48f7b98bf18e4cd3a1b9e9e7
      body: |
        The log files are kept in the /run partition that also houses
        the udev database.

        By moving the /run partition to $ROOTFS_DIR/run in the migrate
        module, the udev database persists across reboots.

        The udevcleanup module was introduced to cleanup the database
        so it's regenerated on the final rootfs as the rules are
        different between initramfs and final rootfs. By moving /run
        before udevcleanup ran, the cleanup was not effective.

        This commit moves the relocation of the /run mount to the
        finish module, after udevcleanup is run, and groups it with
        the other relocations needed for the pivot switch.

        Looking at git history, the relocation of the /run partition
        was initially done in the rootfs module, so when the migrate
        module was introduced and needed to mount the rootfs, this
        relocation was just moved into the migration module itself,
        without considering later modules like finish.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.1.0
  title: ""
  date: 2023-12-19T14:17:32.497Z
- commits:
    - subject: "update-balena-supervisor: fix supervisor.conf when image already
        downloaded"
      hash: cdd6cbb7007a1b614bfaa337e3027562c05429e7
      body: >
        If update-balena-supervisor runs and finds the image is already
        downloaded

        it will run the specified supervisor but will not check that
        supervisor.conf

        is updated so the version will revert on the next update.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.0.11
  title: ""
  date: 2023-12-14T14:32:01.902Z
- commits:
    - subject: "hostapp-update-hooks: add debug mode"
      hash: a203bcdfd567c0cc4b4ed9de493513142cd7463f
      body: |
        This provides an easy switch to enable tracing on HUP hooks that works
        both on old and new OS hooks as enabling it depends on a config.json
        setting.

        It is meant to debug field issues with HUP failure where all we see is:
        ```
        Before hooks (old os) ran successfully
        Failed to run the new hooks. Running current hooks..
        ```
        For example:
        https://jel.ly.fish/support-thread-1-0-0-front-cnv-eq6ipvx
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.0.10
  title: ""
  date: 2023-12-13T22:06:14.967Z
- commits:
    - subject: "timesync-https: increase default connection max time to 10s"
      hash: 7f350447206a1a531a18c3628e7ee72d0d1d35f2
      body: |
        We have seen cases of networks that were not able to receive a response
        in the current 5s.

        Increasing the default to 10s should have no negative effect.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.0.9
  title: ""
  date: 2023-12-12T18:01:57.596Z
- commits:
    - subject: Update tests/leviathan digest to c681ee1
      hash: 6e1450efaad2cad10e16251d46c98566f750bc6b
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update Lock file maintenance
              hash: 56b11b13ea28cb9370f43cf834399bb71fa609ee
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.22
          title: ""
          date: 2023-12-11T00:48:58.323Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.26
              hash: 7dc880e73bf2fb125c4dd842ac8e5636f2fa04e3
              body: |
                Update balena-os/leviathan-worker from 2.9.25 to 2.9.26
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.21
          title: ""
          date: 2023-12-04T11:32:45.776Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 54dc38c908a7a40a3abe2f360c652e134359f28a
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.20
          title: ""
          date: 2023-12-04T00:52:55.581Z
  version: 5.0.8
  title: ""
  date: 2023-12-11T05:56:11.919Z
- commits:
    - subject: Update actions/setup-python action to v5
      hash: 964061a70249cd4dabc99ae98083be5f1e650bc3
      body: |
        Update actions/setup-python from v4 to v5
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested: []
  version: 5.0.7
  title: ""
  date: 2023-12-06T16:38:31.017Z
- commits:
    - subject: "os-helpers-logging: replace broken container check"
      hash: 2dc4f8eb88dc51304cca55498b4bd5ceb7127d98
      body: >
        Detecting whether the script is running in a PID namespace by checking

        `/proc/1/sched` does not work for newer kernels

        (see https://github.com/systemd/systemd/pull/17917).


        Properly detecting this is too cumbersome for a bash logging script,

        see https://github.com/systemd/systemd/pull/17902, however, falling

        back to the last check, that is, seeing if `/.dockerenv` exists is easy

        enough and works for our use case.


        This script will only be called from the hostOS, and the only case it is

        called from a container is during HUP and the container is always a
        hostOS

        image. So even though the interface chosen by moby, a file under /,

        is a bad interface in general, it works fine for the specific
        limitations

        of balenaOS.


        Also, check for `/run/.containerenv` which is the equivalent interface

        for podman for future proofing.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 5.0.6
  title: ""
  date: 2023-12-05T18:35:11.870Z
- commits:
    - subject: Update tests/leviathan digest to eaf8774
      hash: 12d2ce997733de80dc89c6d0d84a4cb67a5c2da2
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: add jetson-agx-orin-devkit resin-boot index
              hash: 2a27941b65cc163899016fddf12339e1073e2e97
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.29.19
          title: ""
          date: 2023-12-01T12:13:53.767Z
  version: 5.0.5
  title: ""
  date: 2023-12-02T05:21:14.848Z
- commits:
    - subject: Update balena-engine to v20.10.41
      hash: 791d6306a9b33554606977fd1a8252a90a6a1235
      body: |
        Update balena-engine from 20.10.40 to 20.10.41
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Simplified development doc 'Build and run' instructions
              hash: e23a01b24a60f3a686e1ed9d3667dcc56db437a3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ken Bannister <kb2ma@runbox.com>
                signed-off-by: Ken Bannister <kb2ma@runbox.com>
              author: Ken Bannister
              nested: []
          version: balena-engine-20.10.41
          title: ""
          date: 2023-12-01T18:50:14.756Z
  version: 5.0.4
  title: ""
  date: 2023-12-01T22:19:50.474Z
- commits:
    - subject: Update balena-supervisor to v15.0.4
      hash: 16a85aa4e2fc58f61b189585969872f7b7566946
      body: |
        Update balena-supervisor from 15.0.2 to 15.0.4
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Only build sqlite3 from source
              hash: d18292f68e09d5846eb0fa254d5205f07052dea8
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Update @balena/systemd to 0.5.0
              hash: 7981e6becd6b6d7e5317979277ab02eb7a24840a
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-15.0.4
          title: ""
          date: 2023-11-22T17:10:54.919Z
        - commits:
            - subject: Cache last reported current state to /mnt/root/tmp
              hash: eb8ad11cd702e7d5ffba499c6b2d2fcadc030dd4
              body: >
                Whenever the Supervisor reports current state, it diffs the
                current state

                with its last reported current state. However, when the
                Supervisor starts

                up, there is no last reported state, since that last report is
                stored in

                process memory. Caching the last report in a location that
                survives

                Supervisor restarts will reduce the current report bandwidth
                used on startup.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-15.0.3
          title: ""
          date: 2023-11-22T00:32:48.806Z
  version: 5.0.3
  title: ""
  date: 2023-11-30T23:16:20.736Z
- commits:
    - subject: "balena-rollback: If applicable, run device specific healthchecks"
      hash: 58315e05dc6624eb393fc9e5e3d8b35541755bc3
      body: |
        We add a script which can be replaced by device repositories
        to implement device-specific healthchecks. One usecase for this
        test is the Jetson UEFI firmware update check,
        but can be extended to all other devices as needed.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 5.0.2
  title: ""
  date: 2023-11-30T16:33:10.689Z
- commits:
    - subject: Make Engine healthcheck performance test aware of device type
      hash: def871a2cc2e35076ba5d57e0885b05ae80a6bd9
      body: |
        We previously tried to use a single time limit for the execution of the
        healthcheck test on all device types. This was causing occasional false
        positives in our Continuous Integration pipeline, though -- especially
        on slow devices like Pi Zeros and the generic-aarch64, which runs on
        emulated hardware.

        This commit addresses this issue, this commit:

        1. Limits execution for device types for which we have collected enough
           data to have a good idea of how long the test should take.
        2. Uses time limits specific for each device type.
      footer:
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Change-type: patch
        change-type: patch
      author: Leandro Motta Barros
      nested: []
  version: 5.0.1
  title: ""
  date: 2023-11-29T14:34:44.373Z
- commits:
    - subject: Update balena-supervisor to v15
      hash: c41b110760f510d97ed4244bf39531a0f5bf562b
      body: |
        Update balena-supervisor from 14.13.13 to 15.0.1
      footer:
        Change-type: major
        change-type: major
      author: Felipe Lalanne
      nested:
        - commits:
            - subject: Expose ports from port mappings on services
              hash: 9bd216327fda4526cd60ccf98178960242383769
              body: >
                PR #2217 removed the expose configuration but also caused a
                regresion

                where ports set via the `ports` configuration would no longer
                get

                exposed to the host, despite portmappings being set. This fixes
                that

                issue by exposing only those ports comming from port mappings.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-15.0.1
          title: ""
          date: 2023-10-25T13:04:05.171Z
        - commits:
            - subject: Ignore `expose` service compose configuration
              hash: 416170bc05a9a725f5a7f8ecbab4f8b1c8da5ddf
              body: >
                The docker EXPOSE directive and corresponding docker-compose
                `expose`

                service configuration serves as documentation/metadata that a
                container

                listens on a certain port that may be used for service discovery
                but it doesn't

                have any real impact on the ability for

                other containers on the same network to access the exposed
                service via

                the port. In newer engine implementations, this property may
                conflict

                with other network configurations, and prevent the container
                from being

                started by the docker engine (see #2211).


                This PR removes code that would manage the expose property and
                takes the

                property out of the whitelist. A composition with the `expose`
                property

                will result in the log message `Ignoring unsupported or unknown
                compose fields: expose`.


                While this change should not have operational impact, it still
                removes

                a previously supported configuration and as such there is a
                chance of it

                being a breaking change for some applications. For this reason
                it is

                being published as a new major version.
              footer:
                Change-type: major
                change-type: major
                Closes: "#2211"
                closes: "#2211"
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-15.0.0
          title: ""
          date: 2023-10-23T17:31:08.436Z
        - commits:
            - subject: Add note regading API jitter on target state poll
              hash: b107868765563e26ec04746f84d1bc15dd211723
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.13.14
          title: ""
          date: 2023-10-23T13:34:41.452Z
  version: 5.0.0
  title: ""
  date: 2023-11-28T14:07:17.302Z
- commits:
    - subject: "tests: os: safe-reboot: wait for SV to start"
      hash: 7f301ec876ad361ea0f355e1976c92d83a661d3b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 4.1.11
  title: ""
  date: 2023-11-27T14:31:02.562Z
- commits:
    - subject: Update tests/leviathan digest to c8d2f66
      hash: 374a90c8dc7a7eb20cc9f7a22019ca81f24b0f2d
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update Lock file maintenance
              hash: 5fb29e0cb00d6a8167d19ef6b2db812f7dce0b28
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.18
          title: ""
          date: 2023-11-27T00:49:28.576Z
        - commits:
            - subject: Update core/contracts digest to 9a88055
              hash: 1b2b778dd3f1d9cc1f6784f82f119131564215b4
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.17
          title: ""
          date: 2023-11-24T10:35:06.748Z
  version: 4.1.10
  title: ""
  date: 2023-11-27T05:11:30.909Z
- commits:
    - subject: "tests: allow for multiple worker fleets"
      hash: 7797aa081ab0a5339eea6e2fd326947d9e6ec6f1
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 4.1.9
  title: ""
  date: 2023-11-24T15:52:04.744Z
- commits:
    - subject: Update tests/leviathan digest to 935f8ef
      hash: 8b9f83c774bd7df17714dfa5443cf41822702ad6
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update Lock file maintenance
              hash: 3a19b6a005b2354d247e43ee63f374fd2822e4ef
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.16
          title: ""
          date: 2023-11-22T11:32:22.495Z
        - commits:
            - subject: Update core/contracts digest to c45079c
              hash: 1d890adc096a64d8a7766ca22ffe4e11d8933434
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.15
          title: ""
          date: 2023-11-22T10:35:34.292Z
  version: 4.1.8
  title: ""
  date: 2023-11-22T15:44:31.064Z
- commits:
    - subject: "meta-balena-common: Move code from meta-balena-kirkstone"
      hash: a8098360caf7ec3c6ede8aa953361fab2004b766
      body: |
        The code moved from meta-balena-kirkstone was not really specific to
        kirkstone so let's move it here so that future branches for newer yocto
        releases which we'll base off kirkstone don't continue to add this
        unneeded  duplication.
        There are other meta-balena-* directories that still contain the
        duplication we moved from meta-balena-kirkstone but we're not really
        concerned with that because going forward those old directories will
        naturally get deprecated.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 4.1.7
  title: ""
  date: 2023-11-17T10:23:11.798Z
- commits:
    - subject: Update tests/leviathan digest to 30c115d
      hash: 910c9b89c2c867b48b2e47a9a3775249e0211329
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "patch: Add support for local autokit support"
              hash: 0c9fa8af880987316dbb0ca096ae15522784735b
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.29.14
          title: ""
          date: 2023-11-15T19:24:24.674Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 1bd306de3510c8da83b42f87f49905fc532cfaf5
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.13
          title: ""
          date: 2023-11-13T03:35:12.022Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.25
              hash: 0e6357d94d2e05d8cef28dfc5f09e8fceea49114
              body: |
                Update balena-os/leviathan-worker from 2.9.24 to 2.9.25
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.12
          title: ""
          date: 2023-11-13T01:58:28.069Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 4699166b073f9a6912b51e2814a38f1c9d8955d7
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.11
          title: ""
          date: 2023-11-13T00:59:30.237Z
  version: 4.1.6
  title: ""
  date: 2023-11-17T10:10:54.558Z
- commits:
    - subject: "update-balena-supervisor: ensure target supervisor is running"
      hash: bb56c90dd91913773bb838ee5361731ab65fc754
      body: |
        If the target supervisor image is already cached but there is no
        container running with it, the update script would just exit without
        actually running the target supervisor.

        This commit checks whether there is a running container using the
        target image and restarts the supervisor if there is none.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "update-balena-supervisor: use os-helpers logging"
      hash: 65419a73aab31f92f640dee998dd85f9620e3ca8
      body: |
        This allows the script to log messages to the journal.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "hostapp-update: surface logs to journal"
      hash: f34090d23ceef8c352d188a6aa34351885971239
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "hostapp-update-hooks: surface logs to journal"
      hash: 5e1fdf9e3d94af2f814e9cef44b4f114b7ac2b76
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers-logging: skip logging to journal from a container"
      hash: 07f32d8098ef6a826b49f09cda04f9a11181409d
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 4.1.5
  title: ""
  date: 2023-11-10T16:58:38.759Z
- commits:
    - subject: Update tests/leviathan digest to af50e8d
      hash: c2f33c50ca7e24e74afed1bd8490b1c49d67ddfa
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "core: remove request timeout on flashing"
              hash: 8c8ff58cfd7d2c93cda7735cb48f92556445e053
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.29.10
          title: ""
          date: 2023-11-08T10:24:24.736Z
  version: 4.1.4
  title: ""
  date: 2023-11-10T09:57:20.312Z
- commits:
    - subject: Update tests/leviathan digest to 2a64939
      hash: 44b9074caa94ce8704c2caeac46269338ec30466
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update Lock file maintenance
              hash: ae22f3efcbe5858619bb87acb78e1f9e8001ef90
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.9
          title: ""
          date: 2023-11-06T00:53:48.210Z
        - commits:
            - subject: "patch: Update Learn More docs content"
              hash: 2e4d53c54239eb550c252dc1a6d7eabdb059ed3e
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.29.8
          title: ""
          date: 2023-10-30T14:22:19.959Z
        - commits:
            - subject: Update Lock file maintenance
              hash: 7fb3d995abf9949466994affea68419e5ee91ae5
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.7
          title: ""
          date: 2023-10-30T00:51:53.810Z
        - commits:
            - subject: Update core/contracts digest to 1091793
              hash: 4a2ffb821d539af2e4a2e42cf467120bc950c99c
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.6
          title: ""
          date: 2023-10-26T07:39:59.321Z
  version: 4.1.3
  title: ""
  date: 2023-11-06T05:41:30.588Z
- commits:
    - subject: "flasher: remove user mode check after programming keys"
      hash: 05d3d41323c20f557a773229766afaef1dbf1eb5
      body: |
        This check is now done in the cryptsetup initramfs hook rather than
        during installation, which obviates the need to perform it during setup.
        Remove it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "initrdscripts: unlock LUKS partitions only in user mode"
      hash: 63672541fefde9643040a555ba125e0bd021dc46
      body: |
        During installation, some firmwares may allow keys to be enrolled but
        fail to tip the system into user mode until the system is rebooted. We
        don't want to mislead users with only full-disk encryption into thinking
        their system also has secure boot enabled when it doesn't.

        Disable the hook to unlock encrypted partitions if the firmware fails to
        boot into user mode.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "os-helpers: add secure boot helpers"
      hash: c8e0369c239b229366278d5d7725bfcd2e8ac86d
      body: |
        We now have several places where secure boot specific configuration is
        checked. Create an os-helpers-secureboot package to consolidate and
        reuse this code.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 4.1.2
  title: ""
  date: 2023-11-01T08:29:33.877Z
- commits:
    - subject: "plymouth: Remove --retain-splash flag from plymouth quit"
      hash: 01a0cc9a3116274fd6e6e6c999705e6e5a8acfec
      body: |
        This flag isn't needed on balenaOS as the splash screen
        remains even after plymouthd is stopped.

        Having the flag in place prevents user apps from writing to
        tty consoles after stopping plymouth via dbus.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 4.1.1
  title: ""
  date: 2023-10-25T19:07:25.710Z
- commits:
    - subject: "tests: add safe reboot checks"
      hash: 8d99048a3e2218d4cfdbbf9e27e2a3e04c1aa700
      body: |
        This check tests the safe_reboot script used in hostOS updates to
        make sure application locks are respected.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "hostapp-update: move lock checking to helper function"
      hash: 8cf977610619687e5958c66b430585cd91f0dbe2
      body: |
        The helper function can then be called both from hostapp-update and
        from the actions server hup script.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers-logging: output script logging to journald"
      hash: e0f1c60cf6eaf668c4c5714d525da17df58073e5
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers: add safe_reboot function"
      hash: 18ebc142a761b798fe3b08bc93baf52a11702a2c
      body: |
        This script performs a safe system reboot with application update
        locks checks.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 4.1.0
  title: ""
  date: 2023-10-25T08:06:44.556Z
- commits:
    - subject: 'Revert "kernel-balena: Remove apparmor support"'
      hash: ddc94ae58072323cf94ac39d6c2d16c78ff794d8
      body: |
        This is no longer needed after the balena_os/balena-engine commit:
        https://github.com/balena-os/balena-engine/commit/ed8ba18e8776a7bf37b3326baeca8196b4ea76b0

        released in balena-engine v20.10.39

        This reverts commit 18cd233a83554b58b3540164afd768fdeda60b03.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 4.0.31
  title: ""
  date: 2023-10-24T16:20:53.918Z
- commits:
    - subject: Update tests/leviathan digest to 5a3ce72
      hash: 0216b1316a6d264dbea12fa127f46b53eaa4e020
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update Lock file maintenance
              hash: 1cc18146582d9f526999e96e421d9112674a6eee
              body: |
                Update
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.5
          title: ""
          date: 2023-10-23T00:52:28.730Z
  version: 4.0.30
  title: ""
  date: 2023-10-23T19:50:24.069Z
- commits:
    - subject: "resin-device-progress: Add status code check and error reporting"
      hash: 43ad69ed6a770c90e43a9ea844a32d7308a8ad45
      body: |
        This script is used by balenaHup to report provisioning failures to
        the cloud. Adding retries, return status code check and error output
        should make it more resilient and easier to debug.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 4.0.29
  title: ""
  date: 2023-10-23T13:07:12.186Z
- commits:
    - subject: Update tests/leviathan digest to cd38f4a
      hash: 9850216225e8c140b710e8a5f8454b5a7b2264c4
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update core/contracts digest to 42e712d
              hash: 1853c343fcb27ff2a287880dcf4906a1012a7ae3
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.4
          title: ""
          date: 2023-10-20T07:21:37.849Z
        - commits:
            - subject: Update core/contracts digest to 2d44c9c
              hash: bffd6dae100a692c10ec1afcef775d908e57ed11
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.3
          title: ""
          date: 2023-10-19T13:43:36.969Z
        - commits:
            - subject: Update actions/checkout digest to b4ffde6
              hash: d04f4cc5cc497173cae45b5538abbc1e21cb7564
              body: |
                Update actions/checkout
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.2
          title: ""
          date: 2023-10-19T11:21:08.816Z
        - commits:
            - subject: Update core/contracts digest to 97f176d
              hash: 72ad2ce2a67767be53aa94b920fc6314e2ae86b5
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.29.1
          title: ""
          date: 2023-10-19T08:49:38.251Z
  version: 4.0.28
  title: ""
  date: 2023-10-20T11:37:25.753Z
- commits:
    - subject: Update balena-supervisor to v14.13.13
      hash: 0e98377b4e1d35b6fc7391782f8a3f8ee3a21fca
      body: |
        Update balena-supervisor from 14.13.4 to 14.13.13
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Switch some _.includes usage to native versions
              hash: e15205301c345398873097b07869c191d1f09d08
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
            - subject: Switch _.assign usage to native versions
              hash: a4a9a17c1aba1a7611b000b2b440600331349a07
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
            - subject: Switch _.isNaN usage to native versions
              hash: d0cb54537f74c19f5262a6b1515e13cfb476dfd3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
            - subject: Switch _.isFunction usage to native versions
              hash: c9f032e13ad0f2b31b8316c8334f2175f3af4014
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
            - subject: Switch _.isUndefined usage to native versions
              hash: 3bfdc4454e90732f17e8adaaadfe60c21a8f3748
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
            - subject: Switch _.isNull usage to native versions
              hash: 8e23091aa9c997dbcbce8faacd34c275239a746e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
            - subject: Switch _.isNumber usage to native versions
              hash: ca3faebfc9ade3b720380b5f002a747ba4817b92
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
            - subject: Switch _.isArray usage to native versions
              hash: 20df54668ce12790320ec78cbc8044a4065f6a16
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
            - subject: Switch _.isString usage to native versions
              hash: 3fe8a22fb0158bf456bf3eba1b0a0b27ce004c8a
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-14.13.13
          title: ""
          date: 2023-10-16T21:43:19.070Z
        - commits:
            - subject: Revert "Do not expose ports from image if service network mode"
              hash: 3e828dcc5262528639a7a039d62855d9607d1779
              body: >
                This reverts commit 0c7bad779291e15e419166a2c66c2a21dd06aa83, as
                that

                change causes a service restart loop. The supervisor cannot
                distinguish

                between ports exposed via the `EXPOSE` directive and the
                docker-compose

                `expose` property. Because of this, in the case of
                `network-mode:

                service:<...>` the current state and target state never match,
                leading

                to a service restart loop.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.13.12
          title: ""
          date: 2023-10-16T16:59:13.864Z
        - commits:
            - subject: Fix husky config for automatic linting on commit
              hash: 23d5311a515755ba3171fc5d26dc4c6486eff9a2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-14.13.11
          title: ""
          date: 2023-10-16T15:43:25.738Z
        - commits:
            - subject: Convert multiple bluebird uses to native promises
              hash: 766cce89c772440d86472ff0a0a0efd884261188
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-14.13.10
          title: ""
          date: 2023-10-16T13:50:17.934Z
        - commits:
            - subject: Do not expose ports from image if service network mode
              hash: 0c7bad779291e15e419166a2c66c2a21dd06aa83
              body: >
                The supervisor exposes ports configured using the `EXPOSE`
                directive in

                the dockerfile when configuring the container for runtime. This
                can

                cause issues if using `network_mode: service:<service name>` as
                the

                expose configuration is not compatible with that network mode.
                This

                fix now skips image exposed ports for that particular network
                mode.
              footer:
                Change-type: patch
                change-type: patch
                Relates-to: "#2211"
                relates-to: "#2211"
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.13.9
          title: ""
          date: 2023-10-16T02:14:30.242Z
        - commits:
            - subject: Move mdns-resolver to devDependencies
              hash: eb485cfde4a0a2adcbe00a1e107156e0711c1c67
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Move got to devDependencies
              hash: c3832cf06157eb93777a4d2c996ff8ac5dd308f9
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Move semver to dev-dependencies
              hash: dcef2ec78b8556a22c076fd7550e93394b8690b0
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Move happy-eyeballs to dev-dependencies
              hash: 50d2d59cd149475c9778bb8860b9988b1efe1e1a
              body: |
                This allows it to be tree-shaken
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Move systeminformation to devDependencies
              hash: a67a5a0f8f06856645bc54fd8c79ddc8950e75cb
              body: >
                devDependencies are tree-shaked, while dependencies are stored
                in the

                image. We reserve dependencies just for those that contain
                binary

                bindings
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.13.8
          title: ""
          date: 2023-10-12T19:28:38.969Z
        - commits:
            - subject: Use mutation for adding service/image ids to logs to reduce allocations
              hash: 3d73bf3e915e9a33e7d9dbb2635d8a626df51ab3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
            - subject: Keep the container lock for the entire duration of attaching logs
              hash: d685ccacb245f0f0e4e2c8cd04d5c202da0d551b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
            - subject: Remove unnecessary async on handling journald stderr entries
              hash: 74d374b5ad974d8baf004d7378d151d226ff06a6
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
            - subject: Avoid unnecessary work in systemd log row handling for invalid logs
              hash: e3806ec018bd7d29bec15074a5c09494fe5e9d6b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-14.13.7
          title: ""
          date: 2023-10-12T01:34:01.769Z
        - commits:
            - subject: Remove unused docker logs logging code
              hash: 894bdeeeb66ff997c7e16157d932024ece5bea09
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-14.13.6
          title: ""
          date: 2023-10-11T14:12:02.642Z
        - commits:
            - subject: Revert os-release path to /mnt/root
              hash: bc1d251e66b863abbd7829fecc4b618fca71d2c3
              body: >
                /mnt/boot/os-release isn't always accurate so /mnt/root should
                be the source of truth.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.13.5
          title: ""
          date: 2023-10-10T18:54:18.074Z
  version: 4.0.27
  title: ""
  date: 2023-10-18T16:33:59.568Z
- commits:
    - subject: Update tests/leviathan digest to 62974d9
      hash: 9f29eda9c04b60dc4b89cb502eb055095424171d
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "minor: Add Zip Compression support"
              hash: 3fc402a6b4ea7de55a3092454e9682d098fd8a61
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.29.0
          title: ""
          date: 2023-10-16T20:52:51.445Z
        - commits:
            - subject: "client: enable searching multiple apps for worker"
              hash: 7efc9e006c545a07cd27b7bf8f2c4f94653152b7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.28.35
          title: ""
          date: 2023-10-16T20:28:34.452Z
        - commits:
            - subject: Update core/contracts digest to a06c0cc
              hash: ca4ef2e5af70e8e46edd34f27daa2a45d9fb5cee
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.34
          title: ""
          date: 2023-10-13T09:43:01.695Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.24
              hash: dcb165a7894925cbafff76229dd0f5b9a65d90d2
              body: |
                Update balena-os/leviathan-worker from 2.9.23 to 2.9.24
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.33
          title: ""
          date: 2023-10-13T09:15:02.195Z
        - commits:
            - subject: Update core/contracts digest to d68265e
              hash: fbfc19a33c02fab16f0dc874437b5689aeb38de8
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.32
          title: ""
          date: 2023-10-02T07:37:20.892Z
  version: 4.0.26
  title: ""
  date: 2023-10-17T00:42:36.952Z
- commits:
    - subject: Update Pin dependencies
      hash: 52aec8faecdffd8c957d75bef99bb632ab79aceb
      body: |
        Update actions/checkout
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested: []
  version: 4.0.25
  title: ""
  date: 2023-10-11T21:28:49.290Z
- commits:
    - subject: "classes: image_types_balena: do not hardcode path to data image"
      hash: 68365fdf211485e4a9694192cf10899136ce75ce
      body: |
        Use the `DEPLOY_DIR_IMAGES` variable which is filled by the deploy
        class from the docker-disk recipe deploy task.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 4.0.24
  title: ""
  date: 2023-10-11T16:21:53.282Z
- commits:
    - subject: "os-helpers-fs: fix returning multiple matching devices"
      hash: 3d99028daf1f9bfb0513f4e0702f3863aed3a205
      body: |
        When searching for devices matching the glob list in
        get_internal_device(), a glob match breaks from a nested loop rather
        than the parent loop, allowing the function to output multiple matches.

        When running the flasher, this results in the script failing with an
        incorrect path to the internal disk.

        Break from the parent loop to fix this behavior.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 4.0.23
  title: ""
  date: 2023-10-10T20:22:32.072Z
- commits:
    - subject: Update tibdex/github-app-token action to v2.1.0
      hash: 033be56bc0ff464afb21488430dfea7d0d16c847
      body: |
        Update tibdex/github-app-token from v2.0.0 to v2.1.0
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested: []
  version: 4.0.22
  title: ""
  date: 2023-10-09T23:14:49.240Z
- commits:
    - subject: Update backports with current 2.112.x
      hash: 5e933611adce56c0028507838b8582635b4421e4
      body: |
        Set current to 2.112.x, next to 2.114.x and sunset to 2.107.x
      footer:
        Change-type: patch
        change-type: patch
      author: BalenaCI github workflow
      nested: []
  version: 4.0.21
  title: ""
  date: 2023-10-09T17:57:35.519Z
- commits:
    - subject: "balena-net-config: Ensure NM dispatcher scripts are executable"
      hash: ee6083ce3c690aff7c617af1455e19144d3048fc
      body: >
        This commit fixes the following error:
            nm-dispatcher[4209]: req:1 hostname: find-scripts:
                Cannot execute ... 50-example-script.sh: not executable by owner.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 4.0.20
  title: ""
  date: 2023-10-05T14:41:28.636Z
- commits:
    - subject: "flowzone: meta-balena-esr: add weekly run to keep workflow enabled"
      hash: 858161349540531fb1554be2ca3bcf1468f57dea
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 4.0.19
  title: ""
  date: 2023-10-03T10:42:46.377Z
- commits:
    - subject: Update balena-supervisor to v14.13.4
      hash: 5d0cd299c2ee51c73e4165df5681ab9ef9fcba81
      body: |
        Update balena-supervisor from 14.12.2 to 14.13.4
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Add tmpfs for /mnt/root/tmp in test env
              hash: 5564a51acf4897c7981808d8bdd28e1c016caca1
              body: >
                This is to prevent the target state cache from getting written
                to host

                during tests.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.13.4
          title: ""
          date: 2023-10-02T21:38:10.350Z
        - commits:
            - subject: Use `~=` to specify alpine package versions
              hash: 4a4a8a59bfd664e9683f60d4681a0c6583c68dd1
              body: >
                Alpine allows the `~=` syntax to match a part of the package
                version

                when installing. In this case we want to use it to specify node
                and

                npm major versions
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.13.3
          title: ""
          date: 2023-10-02T14:22:18.491Z
        - commits:
            - subject: Use native structuredClone instead of _.cloneDeep
              hash: 06d4775178af40264d0dfe476ee11815235fc52e
              body: >
                Memory tests have shown performance improvements to using the
                native method.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.13.2
          title: ""
          date: 2023-09-30T00:37:03.496Z
        - commits:
            - subject: Update balena-io/deploy-to-balena-action to v1.0.3
              hash: aa07a160e9fb7b94576b428064ff61b6de193170
              body: Update balena-io/deploy-to-balena-action
              footer:
                Changelog-entry: Update balena-io/deploy-to-balena-action to v1.0.3
                changelog-entry: Update balena-io/deploy-to-balena-action to v1.0.3
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-14.13.1
          title: ""
          date: 2023-09-28T20:17:05.922Z
        - commits:
            - subject: Update runtime-base image to alpine:3.18
              hash: 3766013cbdbb8864abf2f353332b27713c357818
              body: |
                We were still on 3.16, where the nodejs package was
                pointed at Node 16. 3.18 moves the pointer to Node 18.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.13.0
          title: ""
          date: 2023-09-28T18:13:11.954Z
  version: 4.0.18
  title: ""
  date: 2023-10-03T10:09:53.629Z
- commits:
    - subject: "workflows: Switch to balenaOS ESR [bot] for authentication"
      hash: 6cb9379a3055da7811215ad6572f2205658ec986
      body: >
        Flowzone App no longer has workflow:write permissions for security
        reasons.


        This new balenaOS ESR bot has contents:write and workflows:write
        permissions

        but is only available on balenaOS repositories.
      footer:
        See: https://github.com/apps/balenaos-esr
        see: https://github.com/apps/balenaos-esr
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 4.0.17
  title: ""
  date: 2023-10-02T20:32:23.925Z
- commits:
    - subject: Update tests/leviathan digest to 04a53d3
      hash: 0be7bf36487912ce1c82aa8ec53013f849bf4463
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update core/contracts digest to 27ea28b
              hash: f0c4b6939f15d10dd359589f52066ecd0b55711d
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.31
          title: ""
          date: 2023-09-28T07:41:51.643Z
  version: 4.0.16
  title: ""
  date: 2023-09-28T11:16:09.515Z
- commits:
    - subject: Update tests/leviathan digest to b4e68c8
      hash: f772b9dde29bd43c1baf88edc0abc954a32040af
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update actions/checkout action to v4
              hash: eb892035fb8c34e2a87ebf37f2b7f8bd8b00a61c
              body: |
                Update actions/checkout from 3 to 4
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.30
          title: ""
          date: 2023-09-25T14:25:17.184Z
  version: 4.0.15
  title: ""
  date: 2023-09-27T20:13:31.640Z
- commits:
    - subject: "patch: Add custom build docs"
      hash: 1d5f8ba92d5bd5b7a1fd26fa25473febc8e097d2
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 4.0.14
  title: ""
  date: 2023-09-27T13:13:37.324Z
- commits:
    - subject: "balena-rollback: Add support for balena bootloader"
      hash: 3175beaa5cc1e8685bc56e528f3b74f6974e3384
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "hostapp-update-hooks: Add hook for balena bootloader"
      hash: c0a1e5f003ea49455056e11d480357bdb028c8c6
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "initrdscripts: add a script that switches between rootA and rootB"
      hash: 7aa14b6887da279c0b7bb6f665eebb83e2ec12df
      body: |
        This is done by the bootloader (uboot/grub) at this moment but as we
        are moving towards the balena 2nd stage bootloader, it needs to be
        moved into the initramfs.

        This adds a standalone recipe - by default yocto tries to build all
        modules defined in the initramfs-framework recipe, which breaks
        on armv7 when abroot is defined there. This is because it depends
        on grub-editenv which is not supported on armv7.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "initrdscripts: make kexec script more robust"
      hash: a075c7b89e888edb7575fc72b56d29be8eecfa09
      body: |
        * Do not hardcode bzImage kernel type
        * Do not assume root=XXX kernel parameter is always defined
        * Remove maxcpus=0 kernel parameter if defined for compatibility
        * Add missing dependency on os-helpers-logging
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "initrdscripts: add missing dependencies to rootfs script"
      hash: 6be16523780ef5d0eedccd5a6f3f75c53748c5f5
      body: |
        The rootfs script uses both os-helpers-fs and os-helpers-logging
        though the package depends on neither. This seems to work now because
        in most cases something else pulls in the dependencies or the code
        on a particular device does not fall under the branches that use
        the missing functions.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "balena-image-bootloader-initramfs: Add balena bootloader"
      hash: 32982ff3e2958dd17b27b06b1b847f1b40ce0617
      body: |
        This minimal image is executed by a vendor provided bootloader and will
        kexec into BalenaOS.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 4.0.13
  title: ""
  date: 2023-09-26T12:05:37.168Z
- commits:
    - subject: Check if SUPERVISOR_OVERRIDE_LOCK is set
      hash: 02c52347758feb3214990ef6d83be5d804b6e6f2
      body: |
        This is so that we respect user's decision
        to skip update locks on HUP as well.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: jaomaloy <jaomaloy@balena.io>
        signed-off-by: jaomaloy <jaomaloy@balena.io>
      author: jaomaloy
      nested: []
    - subject: Check and get service lockfiles on HUP reboot
      hash: 0ab1230d19f4f60cb780d9d1495eb9062b5ec5e0
      body: |
        This is so that the HUP reboot doesn't interrupt
        any user service processes.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: jaomaloy <jao.maloy@balena.io>
        signed-off-by: jaomaloy <jao.maloy@balena.io>
      author: jaomaloy
      nested: []
  version: 4.0.12
  title: ""
  date: 2023-09-25T12:04:56.750Z
- commits:
    - subject: Update balena-engine to v20.10.40
      hash: aae06988f0dcfda16c63f62521ed63bbcf757ae2
      body: |
        Update balena-engine from 20.10.39 to 20.10.40
      footer:
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Change-type: patch
        change-type: patch
      author: Leandro Motta Barros
      nested:
        - commits:
            - subject: Re-vendor to get the containerd-shim-runc-v2 sources
              hash: 155b7771ff14a9dc9abf65f34bdf716baac04481
              body: >
                Including changes we did to make it work with balenaEngine's
                amalgamated

                binary.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: Default to io.containerd.runc.v2
              hash: cd0ca50fe417e59f2e2345e12b9ba43a694bf74e
              body: |
                runc.v1 was deprecated with the 20.10 major release of moby
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: balena-engine-20.10.40
          title: ""
          date: 2023-09-11T19:02:17.939Z
  version: 4.0.11
  title: ""
  date: 2023-09-21T15:09:12.808Z
- commits:
    - subject: Update balena-supervisor to v14.12.2
      hash: 3a0ac5e503021781f9b9af8c5cd592cecc9e4ea1
      body: |
        Update balena-supervisor from 14.12.1 to 14.12.2
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Dump target-state to hostOS tmp dir
              hash: ab513cc021d90b1337bd79b58e6bb9e0c91e11d0
              body: |
                This change is mainly for the hostOS
                to know if update locks should be ignored
                when updating to a newer version.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: jaomaloy <jao.maloy@balena.io>
                signed-off-by: jaomaloy <jao.maloy@balena.io>
              author: jaomaloy
              nested: []
          version: balena-supervisor-14.12.2
          title: ""
          date: 2023-09-15T01:57:40.718Z
  version: 4.0.10
  title: ""
  date: 2023-09-20T14:01:36.751Z
- commits:
    - subject: Update tests/leviathan digest to 397a10f
      hash: b8421872d45f16e654fde0e1d1e240968c475422
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.23
              hash: 7c2d1e6651350949eafa17fd038018bae40df8d7
              body: |
                Update balena-os/leviathan-worker from 2.9.22 to 2.9.23
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.29
          title: ""
          date: 2023-09-14T10:54:52.758Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.22
              hash: 3d8c8a9c5c8e3d9d8b09300a4d65af8bb42db05c
              body: |
                Update balena-os/leviathan-worker from 2.9.21 to 2.9.22
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.28
          title: ""
          date: 2023-09-12T16:58:45.014Z
  version: 4.0.9
  title: ""
  date: 2023-09-15T23:27:58.821Z
- commits:
    - subject: Enable back ModemManager AT commands through D-Bus and	mmcli
      hash: da1a6c0dd2e74fc8b98aafb109eed5aed7e95c43
      body: |
        That feature was lost when transitioning from autotools to meson.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Enable back ModemManager AT commands through D-Bus and	mmcli
        changelog-entry: Enable back ModemManager AT commands through D-Bus and	mmcli
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 4.0.8
  title: ""
  date: 2023-09-15T17:27:00.202Z
- commits:
    - subject: Update tibdex/github-app-token action to v2
      hash: c0ba7aaea9cd960d9066822d5319cafac93b57d0
      body: |
        Update tibdex/github-app-token from v1.8.2 to v2.0.0
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested: []
  version: 4.0.7
  title: ""
  date: 2023-09-14T01:20:50.000Z
- commits:
    - subject: Update balena-supervisor to v14.12.1
      hash: e24c7a84c64b4fe1465303987c898268a22cb73f
      body: |
        Update balena-supervisor from 14.12.0 to 14.12.1
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Bump sqlite3 to 5.1.6
              hash: 99962dc94f2356008c063ede08a2a71b4ef21630
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Bump knex to v2.5.1
              hash: 06e258ecad2e91f40c2b1602a59b0120bc5639c3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.12.1
          title: ""
          date: 2023-08-21T16:17:32.755Z
  version: 4.0.6
  title: ""
  date: 2023-09-13T20:19:59.968Z
- commits:
    - subject: "tests: os: retry healthcheck disable"
      hash: 19e9d67b642ca815b5da5315fcab84701a54c985
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 4.0.5
  title: ""
  date: 2023-09-13T14:15:00.133Z
- commits:
    - subject: renovate updates patch only
      hash: 1a0b95602763304669ddaffe1cb67cc026723244
      body: ""
      footer:
        change-type: patch
      author: ab77
      nested: []
  version: 4.0.4
  title: ""
  date: 2023-09-11T18:49:51.206Z
- commits:
    - subject: Update tests/leviathan digest to 0acfe61
      hash: 411e0b19183a2d6177872ac56623c9a509a584bf
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update actions/upload-artifact digest to a8a3f3a
              hash: a0872927995592524673167c1bc33ad587ff50a6
              body: |
                Update actions/upload-artifact
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.27
          title: ""
          date: 2023-09-06T19:51:32.877Z
        - commits:
            - subject: Update core/contracts digest to 518a1d4
              hash: 10a961344aeff9113d7674cd7a98a0e493f115e5
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.26
          title: ""
          date: 2023-09-04T07:57:26.710Z
  version: 4.0.3
  title: ""
  date: 2023-09-09T03:01:22.296Z
- commits:
    - subject: Update balena-engine to v20.10.39
      hash: ebfeada3a7dcb52e19d7dcbea6ca2acca8e61edb
      body: |
        Update balena-engine from 20.10.38 to 20.10.39
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Don't enable AppArmor if `apparmor_parser` is not present
              hash: ed8ba18e8776a7bf37b3326baeca8196b4ea76b0
              body: >
                This commit updates balena-containerd to a new version in which
                we

                cherry-picked the change from here:
                https://github.com/containerd/containerd/pull/8086


                This change avoids enabling AppArmor if the
                `/sbin/apparmor_parser`

                binary is not found in the system.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: balena-engine-20.10.39
          title: ""
          date: 2023-08-30T20:39:38.647Z
  version: 4.0.2
  title: ""
  date: 2023-09-08T20:00:23.639Z
- commits:
    - subject: "classes: sign: add a retry to the signing call"
      hash: 0f6d0ccf27f9a356fef918bccf8d328d42af0859
      body: |
        When the signed artifacts are big we see closed connections because
        of timeouts in the front caches. A retry should help.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 4.0.1
  title: ""
  date: 2023-09-08T12:59:39.384Z
- commits:
    - subject: Update actions/checkout action to v4
      hash: 9b6169bbff3de4d637969f1305bf88ad23d86c09
      body: |
        Update actions/checkout from v3 to v4
      footer:
        Change-type: major
        change-type: major
      author: Self-hosted Renovate Bot
      nested: []
  version: 4.0.0
  title: ""
  date: 2023-09-06T14:51:51.368Z
- commits:
    - subject: "timesync-https: skip time sync if connectivity URI is null"
      hash: c9e8e50d0595bac83bb815e58d61aa0ba82d442c
      body: |
        This allows to still launch network services in isolated environments.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "README: update time in the OS section"
      hash: 5f1009db2d45ab294a8ed7fdbe49ceff13730607
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 3.2.12
  title: ""
  date: 2023-09-06T08:03:14.463Z
- commits:
    - subject: Update tibdex/github-app-token action to v1.8.2
      hash: 2c08fe375d06ae4421cb234dec3ddd6a61953256
      body: |
        Update tibdex/github-app-token from v1.8.0 to v1.8.2
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested: []
  version: 3.2.11
  title: ""
  date: 2023-09-01T17:32:58.971Z
- commits:
    - subject: "meta-resin-pyro: do not apply further modemmanager updates"
      hash: 03d4aea5e8e846fe83ad8aa8369992beba8d0180
      body: |
        The meta-balena version of modemmanager is no longer compatible with
        Yocto Pyro, so stop trying to apply bbappend to it from meta-balena.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 3.2.10
  title: ""
  date: 2023-09-01T09:41:04.904Z
- commits:
    - subject: Update tests/leviathan digest to b353754
      hash: fc8f12ca01cfa5f3a1bc06b0132b0044fca51ab7
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.21
              hash: c622ef70e804d2dc41e6fdfa21d05162f00dcf34
              body: |
                Update balena-os/leviathan-worker from 2.9.20 to 2.9.21
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.25
          title: ""
          date: 2023-08-30T14:59:49.181Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.20
              hash: 7ec82aa36d60cbd31148a08631cc5fac14618b7c
              body: |
                Update balena-os/leviathan-worker from 2.9.19 to 2.9.20
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.24
          title: ""
          date: 2023-08-30T12:51:16.148Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.19
              hash: 9e9ac1ed9ff9ee53d6dd05c5c2bebfb801d48b05
              body: |
                Update balena-os/leviathan-worker from 2.9.18 to 2.9.19
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.23
          title: ""
          date: 2023-08-30T10:43:49.886Z
        - commits:
            - subject: add nocache flash to balena push
              hash: daf54b5efbbbd66dd71a3c9478c813b8780293ee
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.28.22
          title: ""
          date: 2023-08-30T09:42:49.965Z
        - commits:
            - subject: "patch: Update client dependencies"
              hash: 1a152c49d67f4760cfcac68a4fa945a722ba836c
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.28.21
          title: ""
          date: 2023-08-30T09:07:01.984Z
        - commits:
            - subject: "patch: Clarify env variables in Documentation"
              hash: 892fca0c46d1aa8746042c61b505a8b00d5392c6
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.28.20
          title: ""
          date: 2023-08-30T07:40:12.502Z
        - commits:
            - subject: "patch: Add .nojekyll file to docs"
              hash: 9673e6b5415ca80148ddca294715a3bbc8458db7
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.28.19
          title: ""
          date: 2023-08-30T07:17:29.891Z
        - commits:
            - subject: "patch: Resolve dead links in README"
              hash: 2ad20d6b91a9dd8e0201343f2bc63b9d39c9793f
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.28.18
          title: ""
          date: 2023-08-29T15:54:14.475Z
        - commits:
            - subject: Update core/contracts digest to ca46c34
              hash: aac3e01e14b350ad08b4c31bc24b3a4a4648634a
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.17
          title: ""
          date: 2023-08-29T12:55:26.515Z
        - commits:
            - subject: Update core/contracts digest to d61d911
              hash: 1fef7b7887f11162aa2d1a36b874bb4742dcb44f
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.16
          title: ""
          date: 2023-08-25T18:47:20.503Z
        - commits:
            - subject: Update actions/checkout digest to f43a0e5
              hash: 7228ba0840a92298b9b223c7841b595c5b7265ae
              body: |
                Update actions/checkout
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.15
          title: ""
          date: 2023-08-25T17:51:45.085Z
        - commits:
            - subject: Remove custom automerge rules and use the inherited rules
              hash: 3741d840df1870084acc68ade63ef0d36dc49aee
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.28.14
          title: ""
          date: 2023-08-25T16:34:19.155Z
        - commits:
            - subject: "patch: Exit GH job if tests fails"
              hash: ecadbe90faa5b52f2b643f4d5293ec4954980772
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.28.13
          title: ""
          date: 2023-08-25T07:43:04.108Z
  version: 3.2.9
  title: ""
  date: 2023-08-31T14:48:00.950Z
- commits:
    - subject: "meta-balena-warrior: modemmanager: use v 1.18.4"
      hash: d02bb9abe2705f30f8a94c58787c8b03a32ff3c4
      body: |
        The current meta-balena modemmanager is not compatible with Meson older
        than 0.53.0.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-warrior: libmqmi: use v 1.30.2"
      hash: 789d7f313c58183ed2c60c27b42e3fce8eb7e5ea
      body: |
        The current meta-balena libqmi is not compatible with Meson
        older than 0.53.0.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-warrior: libmbim: use v 1.26.2"
      hash: 627bfe3196c30e0b1c742a3b1e2252acd1f97d47
      body: |
        The current meta-balena libmbim version won't work with
        Meson older than 0.53.0.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 3.2.8
  title: ""
  date: 2023-08-24T14:57:02.794Z
- commits:
    - subject: Update tests/leviathan digest to e7622aa
      hash: 0734600358fedd609c76d95ac14067584c4643c9
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.18
              hash: 2b27e7a539bd30b96ffb02e0491f720095e0c484
              body: |
                Update balena-os/leviathan-worker from 2.9.13 to 2.9.18
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.12
          title: ""
          date: 2023-08-23T21:00:04.376Z
  version: 3.2.7
  title: ""
  date: 2023-08-24T02:00:02.949Z
- commits:
    - subject: "resin-u-boot.class: Fix for older u-boot versions"
      hash: 8da86ebc124eacda1a1bf22d183f13a112c22158
      body: |
        The env_get() function was renamed from getenv() in commit
        00caae6d47645e68d6e5277aceb69592b49381a6
        env: Rename getenv/_f() to env_get()

        Fix the balena_check_crc32 function to build for those older
        u-boots too.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 3.2.6
  title: ""
  date: 2023-08-23T19:20:53.089Z
- commits:
    - subject: "contributing-device-support.md: Clarify repo set-up in balenaOS org
        for private device types"
      hash: 2e4da2fdd63a1eb0328ffd12209d90a9fdeb6545
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 3.2.5
  title: ""
  date: 2023-08-22T15:55:05.868Z
- commits:
    - subject: "tests: cloud: lockfile: change test order"
      hash: 3134d64124c6dbbcd34f54874a1f4eaee09a4c6f
      body: |
        Change the test order to make things more consistent.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 3.2.4
  title: ""
  date: 2023-08-21T17:51:32.589Z
- commits:
    - subject: Update tests/leviathan digest to 26e6cea
      hash: 59254670dbe87a26764f9264e5a2d2839deb245d
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: improve autokit quickstart
              hash: fb7005cb55d91ce5b0713af9e534803d0841ff57
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.28.11
          title: ""
          date: 2023-08-18T14:21:19.299Z
        - commits:
            - subject: "patch: Update suites dependencies to latest"
              hash: 6b20fa345404169da50b3b9bd853c41105448e67
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.28.10
          title: ""
          date: 2023-08-18T14:00:30.655Z
        - commits:
            - subject: "patch: Add balenaCloud configurable environments to e2e"
              hash: e1858f52a46fc154644352ae9d85d22959523e22
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.28.9
          title: ""
          date: 2023-08-18T10:12:14.545Z
  version: 3.2.3
  title: ""
  date: 2023-08-21T11:51:01.752Z
- commits:
    - subject: "modemmanager: hold ModemManager 1.14.2 on Thud"
      hash: a13370eb1f57c42aaf78364b09e3424c8d801049
      body: |
        Latest stable ModemManager does not compile anymore on Thud, so we
        there use the previous version 1.14.2.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-thud: libqmi: Use v1.26.0"
      hash: c0f6308d2308551e2bf9b51c1512cfd1ad3ef6b9
      body: |
        Newer versions are incompatible with the libc available in sumo.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-thud: libmbim: use v 1.24.2"
      hash: 2dc7b072896e9793fa9292e9dcdc06de54f2ce4d
      body: |
        The current meta-balena libmbim is not compatible with thud's libc
        version.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 3.2.2
  title: ""
  date: 2023-08-18T12:38:52.035Z
- commits:
    - subject: "meta-balena-thud: adapt migrate module dependencies"
      hash: 5ff9a0c1077ef3c2ff3ff2a2ba678944fb0073a2
      body: |
        On Thud, the util-linux recipe had still not split components into
        different packages.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 3.2.1
  title: ""
  date: 2023-08-17T14:35:32.390Z
- commits:
    - subject: Update balena-supervisor to v14.12.0
      hash: 4f2c41743c27ea27d6eaedd5b4516427d9157d10
      body: |
        Update balena-supervisor from 14.11.14 to 14.12.0
      footer:
        Change-type: minor
        change-type: minor
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update README
              hash: c88d557aafc3088e4048a8cd9b9fc5fea8a45e01
              body: |
                Add the new dependency on RUST, reorganize the documentation
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Replace node-dbus with @balena/systemd
              hash: 327dc31ef02caa365e5a0c03597ba18d121c32a3
              body: >
                The node-dbus module is unmaintained and a blocker for the
                update to

                Node 18. Switching to our own node bindings for systemd solves
                this

                issue
              footer:
                Relates-to: Shouqun/node-dbus#241
                relates-to: Shouqun/node-dbus#241
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Replace dbus test service with mock-systemd-bus
              hash: 8f17c30de68f62477a52dd16a268e1d003c666ea
              body: >
                This avoids unnecessary mocking and tests against the real
                systemd API
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Update to nodejs 18
              hash: 2da691bcd5dd5ee8d8ee9460d93c895b73b4e2f4
              body: ""
              footer:
                Change-type: minor
                change-type: minor
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-14.12.0
          title: ""
          date: 2023-08-17T00:38:30.372Z
  version: 3.2.0
  title: ""
  date: 2023-08-17T04:33:51.281Z
- commits:
    - subject: "Integration layers: mobile-broadband-provider: fix fetch failure"
      hash: 38cd8393b4a69b78a348e15176c232244e67bdb2
      body: |
        mobile-broadband-provider-info 'master' branch was renamed to 'main',
        causing do_fetch() to fail before it was changes in Yocto Kirkstone
        commit e4795393c4882cf38273521539cc255a4ffcb34a.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 3.1.13
  title: ""
  date: 2023-08-16T13:31:36.723Z
- commits:
    - subject: Update balena-supervisor to v14.11.14
      hash: f42a9345171daeb1834ec50edae5a60cfac4f1c7
      body: |
        Update balena-supervisor from 14.11.13 to 14.11.14
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-io/deploy-to-balena-action to v0.28.0
              hash: 4f54395be2cbbb7bcd1d0c1a9acef3b707f34691
              body: Update balena-io/deploy-to-balena-action
              footer:
                Changelog-entry: Update balena-io/deploy-to-balena-action to v0.28.0
                changelog-entry: Update balena-io/deploy-to-balena-action to v0.28.0
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-14.11.14
          title: ""
          date: 2023-08-14T23:47:06.985Z
  version: 3.1.12
  title: ""
  date: 2023-08-15T04:26:33.597Z
- commits:
    - subject: Update balena-supervisor to v14.11.13
      hash: dd37dc33373fed3295dd64658a8728ddd6a3998e
      body: |
        Update balena-supervisor from 14.11.12 to 14.11.13
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "patch: Remove reference of override_lock variable"
              hash: 7560c70a085d27d8b44eb0dab8b3fa40ab0c9e94
              body: This is being done to keep the source of truth for this variable in one
                place and reduce confusion since it's better for dashboard users
                to reference the dashboard option rather than the actual
                variable name
              footer: {}
              author: Vipul Gupta
              nested: []
          version: balena-supervisor-14.11.13
          title: ""
          date: 2023-08-10T16:51:23.863Z
  version: 3.1.11
  title: ""
  date: 2023-08-12T05:34:05.584Z
- commits:
    - subject: "hostapp-update: bind-mount /sys for Jetson efivars"
      hash: 5e0dbce7a08ec04a281e21a7df8c03affafeb8f2
      body: |
        The hostapp-update hooks for UEFI capsule updates
        need to create and update the contents of some platform
        specific efi variables inside the /sys directory, and thus
        we need to bindmount this directory in the hostapp-update
        script for internal testing, as well as in balenahup for
        api triggered updates.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 3.1.10
  title: ""
  date: 2023-08-12T00:14:11.652Z
- commits:
    - subject: "tests: secureboot: add test for module signing"
      hash: 20120b58d1d3ac5eba164862df7405b226efee92
      body: |
        Verify kernel lockdown prohibits loading of unsigned modules, and still
        loads modules with a signature that validates against a trusted key.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 3.1.9
  title: ""
  date: 2023-08-10T20:10:05.348Z
- commits:
    - subject: "tests: hup: retry sending image if fails"
      hash: 22466325860a1de70724c4bbbb45a8458d3cf8dd
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 3.1.8
  title: ""
  date: 2023-08-09T13:34:42.388Z
- commits:
    - subject: "tests: os: eng. healthcheck: retry timeout change"
      hash: 288ccf608306695c7a709ca682726e82282918f0
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 3.1.7
  title: ""
  date: 2023-08-08T12:49:13.321Z
- commits:
    - subject: "resin-init-flasher: Allow background device registration"
      hash: 0b246409da5359741138a81b552fcc6bb3ecc24e
      body: |
        314047e and b5c5214 made flasher block until the resin-device-register
        service exits and made resin-device-register give up after 6 seconds
        not to block infinitely when no network is available. This effectively
        means that if the device fails to register within first 6 seconds,
        it will never retry, flasher will not report status to the dashboard
        and the device will only register on first boot.

        This patch changes the logic back to resin-device-register trying
        in the background in an infinite loop and moves the "give the device
        a chance to register" delay to flasher itself. It also extends
        the wait to openvpn as flasher already does that and wants VPN to run
        to be debuggable - in case flashing fails, it would be possible
        to SSH in via the VPN and look at the logs remotely.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 3.1.6
  title: ""
  date: 2023-08-02T08:37:52.265Z
- commits:
    - subject: Reduce scope of app token used for backports and ESR
      hash: 331589395a0dbbb16fc9d9491c5c43c2ca68c1fa
      body: |
        These permissions have already been removed from flowzone-app[bot]
        so they cannot be requested at runtime.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 3.1.5
  title: ""
  date: 2023-08-01T21:53:05.189Z
- commits:
    - subject: "kernel-balena: remove mispelled config setting"
      hash: c73973972067d5c1afeb133ed7868684c054a0d9
      body: >
        The kernel-balena class contains:

        CONIFG_SECURITY=n


        which is mispelled and not being applied. The commit where this was

        introduced claims it's needed to completely disable the audit logs, and

        also that the security framework is unused.


        I disagree in that it's unused - the hostOS is not using any security

        framework, but applications may, so luckily the security framework was

        never disabled.


        Removing this mispelled entry should have no functional effect. Whether

        the audit subsystem is disabled will depend on the final kernel

        configuration. Definitely we have not seen a need to disable it
        recently,

        and we have not seen the kernel log flooded with messages.


        I'd argue the disabling of the audit subsystem in meta-balena serves no

        need but I also have no specific reason to remove it at the moment.


        Fixes #2947
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 3.1.4
  title: ""
  date: 2023-07-30T14:26:53.310Z
- commits:
    - subject: "resin-init-flasher: Install the dispatcher scripts to installation
        media"
      hash: 77d61290946ed69f348f05887334b28fc2aa0435
      body: |
        The flasher/installer image can be configured by the user and that
        configuration finishes up in the installed image. Add the dispatcher
        scripts to this existing mechanim.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-net-config: populate the dispatcher bind mount"
      hash: 0d1798d8742f34d92fd0d98314d349ba4b5dc54a
      body: |
        On boot, the dispatcher script are copied from the boot partition where
        the user has configured them, to the bind mount used by the running
        applications.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-mounts: add dispatcher.d bind mount"
      hash: 32abffb44d74fc0be6949ed6e893ee3476ffcf2e
      body: |
        This allows for user configuration of NetworkManager's dispatcher
        scripts.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 3.1.3
  title: ""
  date: 2023-07-28T11:36:17.599Z
- commits:
    - subject: "grub-conf: Do not hardcode the path for grub_extraenv"
      hash: f7ec67bd53e0998c12bcbdcaccea99f1f6856bcf
      body: |
        At this moment grub.cfg sources /grub/grub_extraenv which works fine
        on MBR systems, however on EFI systems this does not work because GRUB
        is installed in /EFI/BOOT/ rather than /grub/.

        This patch replaces the hardcoded /grub with ${prefix} which should
        expand to the appropriate directory regardless of the platform. It also
        removes the loading of grub_extraenv from the secure boot variant
        of the GRUB config since this would not load without a signature anyway.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 3.1.2
  title: ""
  date: 2023-07-27T15:15:34.234Z
- commits:
    - subject: "linux/kernel-devsrc: Fix aarch64 kernel-headers-test build"
      hash: 65abb381ec266066b24f53fa3119dd47ec8af1a3
      body: |
        This fix has been ported from the following upstream
        change: https://patchwork.yoctoproject.org/project/oe-core/patch/002c31d6add77e1002fb1ccd4050ce826a654170.1659653543.git.bruce.ashfield@gmail.com/
        and fixes the following compilation error on generic-aarch64:

            make[1]: *** No rule to make target 'arch/arm64/tools/gen-sysreg.awk',
            needed by 'arch/arm64/include/generated/asm/sysreg-defs.h'.  Stop.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 3.1.1
  title: ""
  date: 2023-07-26T18:12:23.719Z
- commits:
    - subject: "linux-firmware: upgrade 20210511 -> 20230404"
      hash: 6035e749c4bd989f7b8d23a5f48848af7d75efd8
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "common: firmware: repackage iwlwifi-quz-a0-hr-b0"
      hash: 1bf5489acc3e4c3696bccdae98ea95653ec0d8b7
      body: |
        Package all subversions of this firmware
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "common: firmware: repackage iwlwifi-cc-a0"
      hash: 1336cb0802c8589439557afca0c28d2aee248e60
      body: |
        Repackage iwlwifi-cc-a0 to include all firmware versions shipped
        upstream, rather than only an older version (48) that's no longer
        shipped as of 20230404.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "compat: connectivity: drop deprecated iwlwifi files"
      hash: daef22bbb706898721eee131872862a5e2d7709e
      body: |
        linux-firmware-20230404 no longer ships several older firmware versions,
        remove them.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "compat: install linux-firmware-iwlwifi-3160"
      hash: 9442d98a51bb0ef62991bd4292717e2052cd39ef
      body: |
        Replace older versioned iwlwifi packages with
        linux-firmware-iwlwifi-3160 package that includes all versions shipped
        in linux-firmware.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 3.1.0
  title: ""
  date: 2023-07-25T21:09:07.177Z
- commits:
    - subject: "balena-image: Install extra_uEnv for all boards that use u-boot"
      hash: c9d665f0c2a0454a84d9890d56e4d93f57bf93ad
      body: |
        Some board BSPs may define UBOOT_MACHINE, others UBOOT_CONFIG,
        let's make sure we include the extra_uEnv.txt file in the non-flasher
        image for both cases.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 3.0.17
  title: ""
  date: 2023-07-25T13:45:11.862Z
- commits:
    - subject: "modemmanager: increase qmi port open timeout"
      hash: d3358a33b29cf1c8404f2a0c266bbb2023235f84
      body: |
        The SIM7600G modem will fail to connect using
        QMI and the default 45s timeout, nor will it work
        with a 65s one. The value we found to work consistently
        with this modem connected over pcie is 95s.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
    - subject: Update ModemManager to v1.20.6
      hash: 0d629552a0caf3745e9e3738b3e74bbf802b020c
      body: |
        Also updated are the dependencies libqmi and libmbim.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update ModemManager to v1.20.6
        changelog-entry: Update ModemManager to v1.20.6
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 3.0.16
  title: ""
  date: 2023-07-22T05:19:59.203Z
- commits:
    - subject: "tests: cloud: sv-timer: account for conn. error"
      hash: 11464aad53779c62199efb0b19f835835e332c72
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: cloud: use local ssh for sv timer test"
      hash: d7ece01f84ebec41fe094cf5dbf8175e043c38e3
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: cloud: remove preload log check"
      hash: 4d0a75a4dab16efe919ad040578b19bc7de19439
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: allow for configurable BC env"
      hash: be732d8955e661116477a8aca59697bec748f306
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 3.0.15
  title: ""
  date: 2023-07-20T15:06:12.237Z
- commits:
    - subject: Update balena-supervisor to v14.11.12
      hash: dd6b9c93a5cfc4f4a04e190700284c79d4bd9f9a
      body: |
        Update balena-supervisor from 14.11.10 to 14.11.12
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "mount-partitions: do not hardcode partition types"
              hash: cc2ca84448e2a3894294c39b8078c050c0237b87
              body: >
                Query instead the device for its filesystem type before mounting.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-supervisor-14.11.12
          title: ""
          date: 2023-07-19T07:55:53.054Z
        - commits:
            - subject: "backends: Add Jetson Orin NANO custom device-tree support"
              hash: 512240c54490ccd0cb83c13f0c6e8cae43fe9a88
              body: ""
              footer:
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
                Change-type: patch
                change-type: patch
              author: Alexandru Costache
              nested: []
          version: balena-supervisor-14.11.11
          title: ""
          date: 2023-07-12T08:35:23.009Z
  version: 3.0.14
  title: ""
  date: 2023-07-20T06:59:16.510Z
- commits:
    - subject: Update tests/leviathan digest to 4e4c1bb
      hash: ea0654d17b9ddf5babc8e647a919199b36f26e09
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.13
              hash: ea149d835fd8b170ae9a8554e063e964c4b34af6
              body: |
                Update balena-os/leviathan-worker from 2.9.12 to 2.9.13
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.8
          title: ""
          date: 2023-07-19T09:05:02.721Z
        - commits:
            - subject: update e2e tests to use sshconfig
              hash: 1f44580c2010f0e88eb395da951cb539b6afbcdb
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "core: allow configurable ssh target"
              hash: 3b72e4963586aa9687aad5f6339910f587201fc2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.28.7
          title: ""
          date: 2023-07-18T14:08:01.343Z
  version: 3.0.13
  title: ""
  date: 2023-07-19T18:45:09.490Z
- commits:
    - subject: "tests/os: skip boot switch during provisioning"
      hash: 7320af76d0a64561ff563384e5710f37c27a5852
      body: |
        The imx8mm-var-dart-plt also uses a custom implementation
        for detecting the boot switch, so let's make use of the
        existing support in meta-balena for the testbot provisioning
        use-case and add this DT in the Autokit.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io
        signed-off-by: Alexandru Costache <alexandru@balena.io
      author: Alexandru Costache
      nested: []
  version: 3.0.12
  title: ""
  date: 2023-07-16T10:42:23.885Z
- commits:
    - subject: ".github/workflows: Replace GitHub PAT with ephemeral app tokens"
      hash: d62f8a2d4450b588147c3065e1437af741185418
      body: |
        GitHub App installation tokens are short-lived and do not
        need to be rotated the same way PATs do.

        The default app ID and installation ID correspond to
        flowzone-bot[app] installed in the balena-os Org.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 3.0.11
  title: ""
  date: 2023-07-14T12:47:33.615Z
- commits:
    - subject: "initrdscripts: make initramfs-module-cryptsetup pull libgcc in"
      hash: 046a17ec1494fe15da45e3accb1de562ff7e976e
      body: |
        cryptsetup lazily depends on libgcc. With libgcc missing, certain
        operations, especially luksOpen will fail with
        `libgcc_s.so.1 must be installed for pthread_exit to work`
        which panics the kernel and triggers a reboot loop indistinguishable
        from a "device has been tampered with" state on regular builds
        with no console output.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 3.0.10
  title: ""
  date: 2023-07-14T11:06:57.107Z
- commits:
    - subject: Update tests/leviathan digest to b1581a2
      hash: 4db34bf47ba5a581d427d6c897e7b57424c2485b
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.12
              hash: 5cf43a3e84d16110d16df6a9d740781294a10879
              body: |
                Update balena-os/leviathan-worker from 2.9.11 to 2.9.12
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.6
          title: ""
          date: 2023-07-13T13:06:30.963Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.11
              hash: 94444ca4ab7b5878c2b02981a80b633b17e5d1ac
              body: |
                Update balena-os/leviathan-worker from 2.9.10 to 2.9.11
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.5
          title: ""
          date: 2023-07-13T11:59:23.815Z
  version: 3.0.9
  title: ""
  date: 2023-07-13T17:21:31.286Z
- commits:
    - subject: Update tests/leviathan digest to e081190
      hash: c45feeb0b15c8aeb0fc91376c39bbff9ea94bc00
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.10
              hash: 9392a57b4ca3ddf3d259fc468af532ce24b8eb4c
              body: |
                Update balena-os/leviathan-worker from 2.9.9 to 2.9.10
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.4
          title: ""
          date: 2023-07-07T14:42:57.471Z
  version: 3.0.8
  title: ""
  date: 2023-07-10T08:46:22.093Z
- commits:
    - subject: bail out in kexec initramfs hook on failure
      hash: 87e9fad4dc9e6954c9edc36a233e849c8adb6d41
      body: |
        Kexec is used to boot into the decrypted kernel in the hostapp on
        systems with secure boot and full-disk encryption.

        If kexec fails, we don't want to continue with the rest of the boot
        process in the first stage kernel, so bail out on failure.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 3.0.7
  title: ""
  date: 2023-07-06T19:15:08.317Z
- commits:
    - subject: "kernel-devsrc: fix for v6.1+"
      hash: 1687110706cbde4a4d968afb04b3abc07e5c7eaa
      body: |
        Adapted as a bbappend from:
        https://git.yoctoproject.org/poky/commit/meta/recipes-kernel/linux/kernel-devsrc.bb?id=2be1b5d7d38d72c35ec593b98366d128fe5ce12c

        The 6.1 kernel has a number of Kbuild and architecture changes
        that required us to update our devsrc recipe. With these changes
        we are once again able to build on target modules for all
        supported archectures.

        (From OE-Core rev: a3972b3f919400a12bb9a546ae98092cbfdcdbb8)
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 3.0.6
  title: ""
  date: 2023-07-06T09:59:05.261Z
- commits:
    - subject: Update balena-supervisor to v14.11.10
      hash: ff0ccecb9211bccf482105bc40d453f82a44d3f9
      body: |
        Update balena-supervisor from 14.11.9 to 14.11.10
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Add revpi-connect-s to Raspberry Pi variants
              hash: 8d2b310af840d86ed9b96ac5bb4c5bc74e52e7ff
              body: >
                We need the supervisor to be able to manage config.txt changes
                for the

                Revolution Pi Connect S.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: balena-supervisor-14.11.10
          title: ""
          date: 2023-07-05T19:00:39.117Z
  version: 3.0.5
  title: ""
  date: 2023-07-06T01:55:50.942Z
- commits:
    - subject: Update balena-engine to v20.10.38
      hash: 74c07c2f4979b78eac4bc95a70fe6988bcd44590
      body: |
        Update balena-engine from 20.10.37 to 20.10.38
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Document a couple of troubleshooting tips
              hash: c8cc7e6e22d65ece306d125fee17e65b51bde84a
              body: |
                These are some smaller things I do every now and then when
                troubleshooting and are worth documenting.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: balena-engine-20.10.38
          title: ""
          date: 2023-07-03T14:00:04.969Z
  version: 3.0.4
  title: ""
  date: 2023-07-05T21:55:41.168Z
- commits:
    - subject: Update balena-supervisor to v14.11.9
      hash: ea7301f6c8a24b2090adec21074598f9bd644dda
      body: |
        Update balena-supervisor from 14.11.8 to 14.11.9
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Remove the 'Stopped' status for services
              hash: 38fe8dae75cd05bf313626b968e208dcfb6f307c
              body: >
                It's not an official status from container inspects, and the
                Supervisor

                doesn't set it internally anywhere. It's better to remove it
                entirely as the

                method by which Supervisor sets internal service statuses is by
                using a global

                event emitter (reportNewStatus) which makes things difficult to
                test.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.11.9
          title: ""
          date: 2023-06-28T21:01:03.352Z
  version: 3.0.3
  title: ""
  date: 2023-07-05T17:50:36.341Z
- commits:
    - subject: Update tests/leviathan digest to 498d4cb
      hash: f4a1b8bd1c044e3a49d66bb3a820bc03cfc6faeb
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.9
              hash: 637c10800ffbd5c514f11b83768178716ab110ad
              body: |
                Update balena-os/leviathan-worker from 2.9.8 to 2.9.9
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.3
          title: ""
          date: 2023-07-05T11:03:27.568Z
        - commits:
            - subject: Update core/contracts digest to 6e3d563
              hash: cf53ba6f0d58dce5b6d8e94a799600f52dbfe75d
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.28.2
          title: ""
          date: 2023-07-05T10:03:26.492Z
        - commits:
            - subject: "patch: Pass env variables to client"
              hash: 09086c9c1c3471c8c803e6a91cbd72b09f1c9210
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.28.1
          title: ""
          date: 2023-07-05T09:00:56.929Z
        - commits:
            - subject: "minor: Make client work with different balenaCloud environments"
              hash: d975cfff5f15cfdffffa81202de5ad6fd8d41d87
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.28.0
          title: ""
          date: 2023-06-30T15:07:41.244Z
  version: 3.0.2
  title: ""
  date: 2023-07-05T13:49:59.489Z
- commits:
    - subject: "docs: Explain TPM ownership and possible TPM fill-up with secure boot"
      hash: 3770f5898cef8fc5ba70276056bf534e8c197186
      body: |
        Explain that balenaOS does not take control of the TPM and that it
        is possible to fill all the key slots with enough provisioning cycles.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "docs: Recommend BIOS password and no F-key shortcuts with secure boot"
      hash: 586a46f447f859ec5866a78abddb85e6a2441451
      body: |
        We have seen devices that won't change PCR1 hash when a temporary boot
        order override was applied or secure boot was disabled via BIOS setup.
        The implementation of what PCR1 actually measures is very
        device-specific, but many of the risks can be mitigated by setting up
        a BIOS password and disabling F-key shortcuts for interacting with
        the firmware.

        [skip ci]
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 3.0.1
  title: ""
  date: 2023-07-04T20:47:23.997Z
- commits:
    - subject: "mkfs-hostapp-native: Allow the compile task to access the network"
      hash: 92fe10a9db2eb32ca1ac1909e37a1ab2f4b3328d
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "mkfs-hostapp-native: Use image tags instead of parsing docker output"
      hash: 2597705df7f8a153f878075a5373c45d28b624b8
      body: |
        From docker 23.0 `docker build` is an alias to `docker buildkit build`
        and the output is not parseable in the same way.

        To avoid using unstable outputs as API, use image tags instead.

        Fixes #3035
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "kernel-headers-test: Use image tags instead of parsing docker output"
      hash: b69d24466bd973e08224d9238f748dd117262d82
      body: |
        From docker 23.0 `docker build` is an alias to `docker buildkit build`
        and the output is not parseable in the same way.

        To avoid using unstable outputs as API, use image tags instead.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "kernel-headers-test: Allow network access for compile task"
      hash: 12d8df5344b017ee1ddce568870f31e32974e51b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "kernel-modules-headers: use kernel-devsrc to provide kernel headers"
      hash: 9143fbe4f99fdfd5d61502b1ca630f6055027dce
      body: >
        Both `kernel-modules-headers` and `kernel-devsrc` provide kernel headers

        since Yocto Thud switched `kernel-devsrc` from full source to just

        kernel headers.


        The only difference between them is that `kernel-modules-headers` builds

        some target binaries which need to be built with `make modules_prepare`

        when using `kernel-devsrc` headers. These binaries depend on libc
        version

        matching though so they have shown to be problematic.


        This commit removes the `kernel-modules-headers` recipe and modifies

        `kernel-devsrc` to replace it. The deployed artifact remains named as

        `kernel-modules-headers` as it's a more descriptive name.


        This introduces a breaking change in the balenaOS API as customers that

        are using `kernel-modules-headers` to build external kernel modules will

        now need to issue a `make modules_prepare` as part of their build
        scripts.


        Fixes #1822
      footer:
        Change-type: major
        change-type: major
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 3.0.0
  title: ""
  date: 2023-07-04T12:58:06.352Z
- commits:
    - subject: "resin-init-flasher: Increase size of LUKS header to 16MB"
      hash: 024a6dfc244247f739f5c6bf72c8bf55cbe8b6e1
      body: |
        After switching to LUKS2, the header size increased from 2MB to 16MB.
        While HUP of older systems works, it is impossible to provision
        new encrypted systems.

        This patch fixes the header size in flasher.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.115.18
  title: ""
  date: 2023-06-29T08:26:11.052Z
- commits:
    - subject: "balena-keys: add SIGN_KMOD_KEY_APPEND"
      hash: 981a4eec5106bc41643dc708bd64470093ad741c
      body: |
        This variable accepts the base64 encoded public key of a kernel module
        signing keypair and appends it to the list of trusted keys the kernel
        will use to validate signed modules. Multiple keys may be appended,
        delimited with a semicolon.

        A PEM file can be used like so:

        SIGN_KMOD_KEY_APPEND="$( sed -e '/-----BEGIN CERTIFICATE-----/d' \
                                     -e 's/-----END CERTIFICATE-----/;/g' \
                                     -e '$d' signing_key.pem \
                                 | tr -d '\n' )"

        balena-yocto-scripts/build/balena-build.sh \
            -g "-a SIGN_KMOD_KEY_APPEND=${SIGN_KMOD_KEY_APPEND}" \
            ...
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.115.17
  title: ""
  date: 2023-06-28T20:35:09.852Z
- commits:
    - subject: Update balena-supervisor to v14.11.8
      hash: ff30642b741a2bd44091fa41e7b2d0f5c13470fd
      body: |
        Update balena-supervisor from 14.11.7 to 14.11.8
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Parse container exit error message instead of status
              hash: 71d24d6e3366b28e1466e99322d58420b5ebbb67
              body: >
                The previous implementation in #2170 of parsing the container
                status was too general,

                because it relied on the mistaken assumption that a container
                would have a status of

                `Stopped` if it was manually stopped. This turned out to be
                untrue, as manually stopped

                containers were also getting restarted by the Supervisor due to
                their inspect status of

                `exited`. With this, parsing the exit message became unavoidable
                as there are no other

                clear ways to discern a container that has been manually stopped
                and shouldn't be started

                from a container experiencing the Engine-host race condition
                issue (again, see #2170).


                Since we're just parsing the exit error message, we don't need
                to worry about different behaviors

                amongst restart policies, as any container with the error
                message on exit should be started.
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#2178"
                closes: "#2178"
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina W
              nested: []
          version: balena-supervisor-14.11.8
          title: ""
          date: 2023-06-23T18:46:22.881Z
  version: 2.115.16
  title: ""
  date: 2023-06-28T07:37:09.027Z
- commits:
    - subject: Update balena-engine to v20.10.37
      hash: c607d7be4d740802ab5e27b67f5e6714e1407855
      body: |
        Update balena-engine from 20.10.36 to 20.10.37
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: "Bugfix: concatReadSeekCloser.Read() with buffers of any size"
              hash: 84471473ce02a0b8820e13105f845b67c19903c9
              body: >
                Previously, `concatReadSeekCloser.Read()` would incorrectly
                return

                an `io.ErrUnexpectedEOF` if the last read from the second
                concatenated

                `Reader` didn't completely fill the passed buffer.


                For instance:


                ```
                      First Reader    Second Reader
                    |aaaaaaaaaaaaa|bbbbbbbbbbbbbbbbbbb|      <--- concatReadSeekCloser
                    |--- previously read ---|--- buffer ---| <--- last read
                                                      |xxxx| <--- "excess" buffer
                ```


                In this example, we have a `concatReadSeekCloser` that
                concatenates two

                `Reader`s (`aaa...` and `bbb...`). The last `Read()` used a
                buffer

                larger than the yet-to-be-read portion of the `bbb...`. So, it
                would

                incorrectly return an `io.ErrUnexpectedEOF`.


                This commit makes sure that last `Read()` returns all the
                remaining data

                without an error. It also adds various test cases for

                `concatReadSeekCloser.Read()`, many of which would fail before
                this

                correction.


                Interestingly, this bug was silently affecting us. Not in a
                fatal way,

                but causing deltas to be larger than necessary. Indeed, running

                `TestDeltaSize` after this commit shows that some test cases are

                producing deltas smaller than what we expected before. For
                posterity,

                see all the details below.


                We use `concatReadSeekCloser`s to concatenate all layers of the
                basis

                image when creating the "signature" of the basis image. In this
                process,

                the `concatReadSeekCloser`s are wrapped around by a buffered
                reader with

                a buffer of 65kB.


                If, in any read, part of this 65kB buffer was beyond the second

                concatenated reader, it would result in an
                `io.ErrUnexpectedEOF`. This

                would not cause the whole process to fail, but would prematurely
                end the

                signature generation: some of the final blocks in the basis
                image would

                not be added to the signature. Therefore, if those blocks
                appeared in

                the target image, they'd result in (larger) LITERAL, instead of

                (smaller) COPY operations.


                For illustration, here's the delta generated for the
                `delta-006-008`

                test case. First before this commit:


                ```
                  OP_COPY_N1_N2 0 512
                  OP_COPY_N2_N2 1536 1024
                  OP_COPY_N2_N2 3584 1024
                  OP_COPY_N2_N2 5632 1536
                  OP_COPY_N2_N2 8192 1536
                  OP_COPY_N2_N2 10752 4096
                  OP_COPY_N2_N2 15872 8704
                  OP_COPY_N2_N2 25600 10752
                  OP_COPY_N2_N2 37376 10752
                  OP_COPY_N2_N4 49152 131584
                  OP_COPY_N4_N4 181760 150528
                  OP_COPY_N4_N4 333312 500736
                  OP_COPY_N4_N4 835072 1000960
                  OP_COPY_N4_N4 1837056 1000960
                  OP_COPY_N4_N4 2839040 1027584    # Here: a COPY op...
                  OP_LITERAL_N2 21504              # ...followed by a 21 kB LITERAL.
                  OP_COPY_N4_N2 2838528 512
                  OP_COPY_N4_N2 2838528 512
                         OP_END
                ```


                And after this commit:


                ```
                 OP_COPY_N1_N2 0 512
                  OP_COPY_N2_N2 1536 1024
                  OP_COPY_N2_N2 3584 1024
                  OP_COPY_N2_N2 5632 1536
                  OP_COPY_N2_N2 8192 1536
                  OP_COPY_N2_N2 10752 4096
                  OP_COPY_N2_N2 15872 8704
                  OP_COPY_N2_N2 25600 10752
                  OP_COPY_N2_N2 37376 10752
                  OP_COPY_N2_N4 49152 131584
                  OP_COPY_N4_N4 181760 150528
                  OP_COPY_N4_N4 333312 500736
                  OP_COPY_N4_N4 835072 1000960
                  OP_COPY_N4_N4 1837056 1000960
                  OP_COPY_N4_N4 2839040 1049088    # COPY only, since we detected a longer match
                  OP_COPY_N4_N2 3888640 512
                  OP_COPY_N4_N2 3888640 512
                         OP_END
                ```


                That 21kB LITERAL is the difference in size we saw in the test
                results.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: Minor code and comments tweaks
              hash: 7dd51428c918980163fbe34511152dc72e7a3372
              body: >
                Using `defer` for the sake of being more idiomatic (and maybe
                slightly

                more reliable); plus, using the proper doc comment standards.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: balena-engine-20.10.37
          title: ""
          date: 2023-06-26T13:44:22.217Z
  version: 2.115.15
  title: ""
  date: 2023-06-28T02:21:32.534Z
- commits:
    - subject: Update tests/leviathan digest to a19d6ef
      hash: 2283326d55c288889a02f04c471fe058576fd9b4
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.8
              hash: 2a3757973579a8beeaa1aca0f226a58857d28e32
              body: |
                Update balena-os/leviathan-worker from 2.9.7 to 2.9.8
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.27.9
          title: ""
          date: 2023-06-27T15:57:35.158Z
        - commits:
            - subject: Update core/contracts digest to 6c4386a
              hash: 18ddcf64b3db0ac97051e86e9efaf63f5a183d2a
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.27.8
          title: ""
          date: 2023-06-27T12:08:02.856Z
        - commits:
            - subject: "patch: Update QEMU getting started guide"
              hash: 04333e2ffabf3044ad288c6588470373d6a97b6f
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.27.7
          title: ""
          date: 2023-06-22T12:30:58.563Z
  version: 2.115.14
  title: ""
  date: 2023-06-27T20:32:39.974Z
- commits:
    - subject: "os-helpers: Fix os-helpers-api build warnings"
      hash: 46e6802ee5e8abf5eea4c8fd9ab737115382b033
      body: |
        * Add curl as a native dependency
        * Add package dependencies to test api
        * Replace status code check for a POSIX compliant version
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.115.13
  title: ""
  date: 2023-06-26T13:15:57.968Z
- commits:
    - subject: Update balena-supervisor to v14.11.7
      hash: d2277092cfb2f61f7fcd1197f0b431f45fe169d7
      body: |
        Update balena-supervisor from 14.11.3 to 14.11.7
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Fix /v2/applications/state endpoint
              hash: 12eac04484e3c0a347b6f31783ed7973991046fa
              body: >
                It was returning stale information, particularly the download
                progress

                of the target release images never got updated.
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#2174"
                closes: "#2174"
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.11.7
          title: ""
          date: 2023-06-19T21:54:56.093Z
        - commits:
            - subject: Add fail-safe to test the image architecture
              hash: 1cf325d5c55bfb9d2ebb4cde7b9c448a6cfb2067
              body: >
                Verify that the target image architecture matches what is
                expected

                according to the balena app architecture.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Use multi-arch in dockerfile
              hash: c1b157971d5fe15f9b85cdc6f0eed90b8d2eb22f
              body: >
                This is necessary since the builder no longer passes the
                platform flag

                to the build. This would lead to dockerfiles that are mixing
                multi and single

                arch stages to pull the wrong architecture images, particularly
                when

                trying to build images in emulated builds (e.g. armv7hf built on
                aarch64).


                Moving the full build to multi-arch solves this as the docker
                engine is

                capable of chosing the right architecture from the manifest.
              footer:
                Relatest-to: balena-io/balena-builder#1010
                relatest-to: balena-io/balena-builder#1010
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.11.6
          title: ""
          date: 2023-06-19T20:53:34.395Z
        - commits:
            - subject: Improve tests surrounding Engine-host race patch
              hash: 7eba48f8b832ec16465565f210e659a9f822e5b3
              body: ""
              footer:
                See: "#2170"
                see: "#2170"
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.11.5
          title: ""
          date: 2023-06-19T19:01:19.323Z
        - commits:
            - subject: Specify fs type when mounting partitions to prevent "Can't open
                blockdev" warnings
              hash: e6662f664c15a16e4f36fa128510c5367b20a09f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.11.4
          title: ""
          date: 2023-06-19T07:56:33.558Z
  version: 2.115.12
  title: ""
  date: 2023-06-23T09:04:04.118Z
- commits:
    - subject: Update tests/leviathan digest to 09eff9c
      hash: 7826281aa5efacde91b68ee468a65d0cf12a56cd
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.7
              hash: 2c1ab4511f9c1f65460ac182527b99a25681a27e
              body: |
                Update balena-os/leviathan-worker from 2.9.6 to 2.9.7
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.27.6
          title: ""
          date: 2023-06-19T15:04:05.885Z
        - commits:
            - subject: "tests: only do serial file read with testbot"
              hash: a947d2a02aed6125d3ec406152c7ee2d670ee2aa
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "core: enable serial executeCommandinHostOS"
              hash: 95d11c34f427479c5adee718029169af3db3e68c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.27.5
          title: ""
          date: 2023-06-19T13:36:32.892Z
        - commits:
            - subject: Update alpine Docker tag to v3.18.2
              hash: a25d1904ff9ecc703d5b5ed17253bf7c153b1083
              body: |
                Update alpine from 3.18.0 to 3.18.2
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.27.4
          title: ""
          date: 2023-06-16T12:09:58.840Z
        - commits:
            - subject: Update core/contracts digest to c777910
              hash: 4e53b2c01825ba15b9da03b3d76c8b19da7d4a94
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.27.3
          title: ""
          date: 2023-06-16T11:05:22.184Z
        - commits:
            - subject: 'patch: Revert "minor: Add Leviathan Test Helpers"'
              hash: 691f2b21428bc9920c2bf03f982e3f1e2b6963fd
              body: ""
              footer: {}
              author: Vipul Gupta
              nested: []
          version: leviathan-2.27.2
          title: ""
          date: 2023-06-16T09:59:06.250Z
        - commits:
            - subject: Update Pin dependencies
              hash: 1a8858c782269f69ae99a3984eeaa4f91d70efe9
              body: |
                Pin actions/checkout
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.27.1
          title: ""
          date: 2023-06-09T16:29:10.820Z
  version: 2.115.11
  title: ""
  date: 2023-06-21T14:16:09.680Z
- commits:
    - subject: "resin-init-flasher: Format encrypted partitions as LUKS2"
      hash: 9e01a5d485ee93975b531b9dbd304db9b73de3fa
      body: |
        This should be the default but with no explicit argument we still
        end up with LUKS1 partitions. This patch adds the parameter to enforce
        LUKS2 formatting and adds conversion to LUKS2 to the cryptsetup
        initrd script.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.115.10
  title: ""
  date: 2023-06-21T05:08:09.995Z
- commits:
    - subject: Update balena-supervisor to v14.11.3
      hash: 1d9f52fee5040b952077846bef79ea99bdf465e0
      body: |
        Update balena-supervisor from 14.11.2 to 14.11.3
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update balena-io/deploy-to-balena-action to v0.27.0
              hash: 1675c16622d861ce6e6e445400b5440a447688f7
              body: |
                Update balena-io/deploy-to-balena-action
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-io/deploy-to-balena-action to v0.27.0
                changelog-entry: Update balena-io/deploy-to-balena-action to v0.27.0
              author: Self-hosted Renovate Bot
              nested: []
          version: balena-supervisor-14.11.3
          title: ""
          date: 2023-06-15T19:49:42.493Z
  version: 2.115.9
  title: ""
  date: 2023-06-15T23:43:34.815Z
- commits:
    - subject: "balena_check_crc: Add helper u-boot command for crc manipulation"
      hash: 770cbdbb2c961a06dfb887b0898cae362e680947
      body: |
        This helper command saves and compares crc32 sum for a memory
        area where the kernel image or the device-tree is loaded.

        Can be used after loading the kernel and the dtb, and also prior
        to calling booti.
      footer:
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
        Change-type: patch
        change-type: patch
      author: Alexandru Costache
      nested: []
  version: 2.115.8
  title: ""
  date: 2023-06-14T12:41:03.634Z
- commits:
    - subject: "README: Add bootloader section"
      hash: c27e2989052871033c414bed5042948da91533de
      body: |
        with info on how u-boot, grub, cboot and
        UEFI L4TLauncher are used in balenaOS.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.115.7
  title: ""
  date: 2023-06-09T13:09:46.102Z
- commits:
    - subject: Update tests/leviathan digest to 62e4099
      hash: c1931cf32a8f884c2ebe73e2558afef558a39c9a
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Update alpine Docker tag to v3.18.0
              hash: 17174d8a1f5e61e03ccd71bc0dd1c3247cc33b79
              body: |
                Update alpine from 3.17.3 to 3.18.0
              footer:
                Change-type: minor
                change-type: minor
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.27.0
          title: ""
          date: 2023-05-29T22:58:52.645Z
        - commits:
            - subject: Update core/contracts digest to fd4af4e
              hash: 7b44fe1af6900656ec56a52122d7f61f39e494c8
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Self-hosted Renovate Bot
              nested: []
          version: leviathan-2.26.1
          title: ""
          date: 2023-05-29T21:57:30.744Z
        - commits:
            - subject: Update balena-cli to v16.1.0 with arm64 binaries
              hash: 6ee61795d23f48be83fd9404835e9641d8c65271
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.26.0
          title: ""
          date: 2023-05-29T08:42:40.808Z
  version: 2.115.6
  title: ""
  date: 2023-06-08T15:22:38.847Z
- commits:
    - subject: Update balena-supervisor to v14.11.2
      hash: e1361fa5dc3f18733cb07b24ad9e6aaa0f5984e4
      body: |
        Update balena-supervisor from 14.11.1 to 14.11.2
      footer:
        Change-type: patch
        change-type: patch
      author: Self-hosted Renovate Bot
      nested:
        - commits:
            - subject: Handle Engine-host race condition for "always" and "unless-stopped"
                restart policy
              hash: 7f3214195838a8bf3242ef7540b4487338687e4c
              body: >
                There exists a race condition between Engine and a host resource
                that may not

                be immediately created. In this race condition, if a container's
                compose config

                depends on the existence of that host resource, such as a
                network interface, and the

                Engine tries to create & start the container before the host
                resource is created, the

                Engine will not reattempt to start the container, regardless of
                the restart policy.

                This is undesireable behavior but seems to be the behavior as
                implemented by Docker.


                To rectify this, the Supervisor state funnel noops for a grace
                period of 1 minute

                after starting a container to see that the container's status
                has become 'running`.

                If the container exits because of the race condition, the status
                becomes 'exited' and the

                Supervisor will attempt to generate another start step. This
                noop-wait-start step loop

                will repeat until the container is able to start.


                If the container is never able to start, there was a problem in
                the host in the creation of the

                host resource, and that should be fixed at the host level.


                This commit does not handle the case of services with restart
                policies "no" or "on-failure"

                which encounter this host race, as metadata from container
                inspects needs to be introduced

                during step calculation in order to figure out whether services
                with those restart policies

                need to be started. This will be fixed in a future PR.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.11.2
          title: ""
          date: 2023-06-05T18:53:18.287Z
  version: 2.115.5
  title: ""
  date: 2023-06-08T10:17:55.709Z
- commits:
    - subject: "docs: Make secure boot docs more detailed"
      hash: 96ec764b245197380d58a556949011ab444ce96e
      body: |
        This patch extends secure boot documentation with more details about
        how the feature works and tries to explain why some decisions were made.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.115.4
  title: ""
  date: 2023-06-01T09:37:58.007Z
- commits:
    - subject: "resin-init-flasher: check that commands exist before calling"
      hash: 6782f81954dd6e5ca6e848603ea0153ded2f7dd0
      body: |
        When running in the initramfs, the resin-device-progress package is not
        installed as we cannot guarantee that the initramfs would be able to
        bring up all types of network interfaces.

        This commit adds a check for the script to exists instead of getting a
        `command not found` when an API endpoint is defined.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.115.3
  title: ""
  date: 2023-05-29T14:28:02.605Z
- commits:
    - subject: "os-helpers: do not fail build if API tests fail"
      hash: 933f265da4a6919183a28d6ca8e0cfb0f1811fee
      body: |
        The purpose of testing the API calls is to detect breaking changes, not
        to fail builds because of temporary network or API access problems.

        Printing a warning instead should be enough for developers to detect
        breaking changes.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.115.2
  title: ""
  date: 2023-05-28T13:40:24.584Z
- commits:
    - subject: "tests: config: set both network options to false"
      hash: 3715edcd98aaadb983419d6389d666c10391afc9
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: hup: use contract to configure network"
      hash: c054e184f2dd96c9c878008d9f16d96928e5dff3
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: cloud: use contract to configure network"
      hash: 5c81d124453159a6bb7374a68d27275bb1141fa0
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: os: use contract to configure network"
      hash: 81c0c7c5df0727df3979db20a6a4a6b00c82b12a
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.115.1
  title: ""
  date: 2023-05-17T08:32:52.294Z
- commits:
    - subject: Update balena-supervisor to v14.11.1
      hash: 1222c7adec29b958dec4277ea5b716cad3f6a9b1
      body: |
        Update balena-supervisor from 14.10.10 to 14.11.1
      footer:
        Change-type: minor
        change-type: minor
      author: Renovate Bot
      nested:
        - commits:
            - subject: Fix `sw.arch` typo when testing contracts
              hash: 2758e190b28ea07d5b40daaa9e59434f2bfc28e9
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.11.1
          title: ""
          date: 2023-05-11T22:07:32.863Z
        - commits:
            - subject: Add `arch.sw` to the valid container requirements
              hash: 8656bd62f705624a5cb02a0b0677888b21dd4627
              body: ""
              footer:
                Change-type: minor
                change-type: minor
              author: Felipe Lalanne
              nested: []
            - subject: Allow using slug to validate hw.device-type contract
              hash: f1f09e0e27b1b538d0ca806cd1bb167303d65779
              body: |
                This also adds the hw.device-type test case to the unit tests.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Simplify and move lib/contract.spec.ts to tests/unit
              hash: a884a58b4cdbc9e06be01929138b4973e5e8ffd9
              body: >
                Improve contract tests to remove dependence on stubs and
                unnecessary

                system calls.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.11.0
          title: ""
          date: 2023-05-10T12:39:14.767Z
        - commits:
            - subject: Add information about hdmi port 2 config vars
              hash: d5cc8238cbe7218d318cf1ce0375ab649a4495c6
              body: >
                Support for colon characters was added v14.6.0 which enabled

                configurations for HDMI port 2 (e.g on the RPi 4). These
                configurations

                are not documented anywhere else so this allows users to be able
                to

                better find the relevant information for working with HDMI.
              footer:
                Change-type: patch
                change-type: patch
                Relates-to: "#2090"
                relates-to: "#2090"
              author: Felipe Lalanne
              nested: []
            - subject: Update table formatting on configurations.md
              hash: ba39cf539ef381f6cb80f81408f8e4571fd61179
              body: |
                For better readability on text editor
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.10.11
          title: ""
          date: 2023-05-08T20:35:26.833Z
  version: 2.115.0
  title: ""
  date: 2023-05-12T21:42:33.085Z
- commits:
    - subject: "tests: hup: enable boot-switch skip"
      hash: f8f0b66b5a9d9f93c61f19f6998a57a7214ffe3a
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: cloud: enable boot-switch skip Commit body"
      hash: 9a724ff741b0ad0f873b031108535f3cf4e99b15
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: os: enable boot-switch skip"
      hash: 25094a479849cccf743c97f55f81a5c8dff17933
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.114.25
  title: ""
  date: 2023-05-12T17:21:39.646Z
- commits:
    - subject: "resin-init-flasher: add more comments around efi/boot partition split"
      hash: 63663b30f8962be8b6d8070340fe89e435f8915b
      body: |
        This is hard to follow when reading the code without context.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "resin-init-flasher: reboot into signed flasher when provisioning
        secure boot"
      hash: ceedc55646898e4eacb840f89710f39c58674323
      body: |
        When programming keys for secure boot, some devices do not clear
        the setup mode flag after a new PK is installed. In this case
        flasher will reboot in order to ensure the keys are actually saved
        and the device comes back with secure boot enabled. Since we changed
        flasher to be unsigned by default, this reboot causes a security
        violation.

        With this patch flasher will add a new boot entry before issuing
        the reboot so that signed flasher comes up and the installation process
        can continue.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "resin-init-flasher: Fill db EFI variable from esl file instead of auth"
      hash: d1e045b826c48168d75163cf9bb9fb1a387ed4f2
      body: >
        Currently the db.auth file is signed as "append" in order to make HUP
        work.

        Most UEFI firmwares will accept such file even for "replace", which we
        do

        during the initial provisioning, however we have seen devices that will

        only allow appending, which makes flasher fail.


        With this patch flasher will use the esl file for initial programming

        of the db variable.


        PK and KEK are unaffected.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.114.24
  title: ""
  date: 2023-05-11T20:31:43.765Z
- commits:
    - subject: "tests: suites: remove default migration force configuration"
      hash: 6cbb6a983574158cb8531b24e3baeff8518ebe1a
      body: |
        Instead we will configure this on specific Jenkins jobs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: avoid partition labels clashes"
      hash: 6af87bf9a3cae40ab7b9cad844b8ed71f6d004f8
      body: |
        When using labels to mount partitions, restrict it to a specific drive
        to avoid clashes.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: recovery: set adb default timeouts in minutes"
      hash: ecb720889cc870670b2e683913f28251f7ccbd88
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "tests: move installerForceMigration suite configuration to balenaOS
        section"
      hash: 020f7da433b0743e5c045239a24e3ed00445b8dc
      body: |
        The balenaOS section is the logical place for this configuration to be.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "tests: simplify accessing config.json data"
      hash: 831c12fd9bd49fec048cb20509fe5ac6255e8da8
      body: |
        There is no longer need to go through the context for this.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.114.23
  title: ""
  date: 2023-05-06T19:31:19.959Z
- commits:
    - subject: Update balena-engine to v20.10.36
      hash: 192ab1d65bcfb50495378f0b7a1481827cc1ae10
      body: |
        Update balena-engine from 20.10.35 to 20.10.36
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Further improve resilience of image pulls
              hash: d864e340bfe050144252db8b0de9c66a3a40fa20
              body: >
                Previously, we'd time-out a pull operation after unsuccessfully
                retrying

                for about 17 minutes (for details see commit

                582487f832c59c2f734a780ab0492833f29002c9). This worked fine in
                most

                situations, but we have seen at least one case of a particularly

                unreliable network connection that would not be able to finish a
                large

                pull when operating under this policy.


                This commit:


                * Completely removes timeouts from image pulls. We'll keep
                retrying
                  forever, or until users cancel the pull. (From the perspective of the
                  REST API, "canceling" mean closing the HTTP connection. This is what
                  happens when a user Ctrl+C during a pull in the CLI, or, say, we kill
                  a curl process that was using the REST API to pull image.)
                * Still uses exponential back-off, but we now limit the interval
                between
                  retries to 5 minutes. The rationale is that some very unreliable
                  networks may be up only for relatively small time windows. Therefore,
                  using intervals that are too long would increase the risk of missing
                  these windows.
                * Tries to avoid flooding the log stream with messages about
                retries.
                  We'll log every retry attempt up to the 10th. After that, we'll log
                  retries only once about every 2h. This retry count is reset every time
                  we successfully download any amount of data.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: balena-engine-20.10.36
          title: ""
          date: 2023-05-04T10:15:21.705Z
  version: 2.114.22
  title: ""
  date: 2023-05-05T07:14:09.662Z
- commits:
    - subject: Update tests/leviathan digest to 256b844
      hash: e9c98147c26054bff79cd5dee1638a3ba4c2d611
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: "suite: move installer configuration to balenaOS configuration section"
              hash: 342f30a9f5665ac70fcc648af28e6751c50c6ef5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: leviathan-2.25.6
          title: ""
          date: 2023-05-04T10:24:35.420Z
  version: 2.114.21
  title: ""
  date: 2023-05-05T02:33:12.010Z
- commits:
    - subject: Updated the CDS link
      hash: c3614eaa6e757f6e8276f87ecefc1af4d0314150
      body: Updated CDS link to the balena.io subdomain one
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Hampton (@rhampt) <rhampt@balena.io>
        signed-off-by: Ryan Hampton (@rhampt) <rhampt@balena.io>
      author: Ryan
      nested: []
  version: 2.114.20
  title: ""
  date: 2023-05-04T22:20:34.357Z
- commits:
    - subject: Update tests/leviathan digest to e6180e9
      hash: 315d127dc824089da1eb4392c7d8361bbbbd3766
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update core/contracts digest to 75cd5e9
              hash: 6b45662a5ec0dde4d499ecaf7a4ef3d119e626c6
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested: []
          version: leviathan-2.25.5
          title: ""
          date: 2023-05-03T11:00:17.452Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.6
              hash: b5bf6d376cfe1f99eb55f4ed7f8b179205dfacf0
              body: |
                Update balena-os/leviathan-worker from 2.9.4 to 2.9.6
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested: []
          version: leviathan-2.25.4
          title: ""
          date: 2023-05-01T19:03:59.596Z
        - commits:
            - subject: Update core/contracts digest to 6c6ed28
              hash: 940ba252779573f7dcef0b99d163de94ca934e3d
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested: []
          version: leviathan-2.25.3
          title: ""
          date: 2023-05-01T18:07:18.096Z
        - commits:
            - subject: "suite: add installerForceMigration configuration"
              hash: 70674774a7652a9e7766710bc74a829cd1156aa0
              body: >
                Read the suite configuration for the force migration flag which
                configures

                the flasher image to force an installer migration.


                With the current QEMU setting, `installerForceMigration` alone
                is not

                enough and the QEMU_INTERNAL_STORAGE also needs to be set to
                false in

                the worker's environment so only a single external disk is
                attached to

                the emulator.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: leviathan-2.25.2
          title: ""
          date: 2023-04-26T12:24:07.524Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.4
              hash: 669aa2e1cb3ebc3286483912981eac3a25a9b7e0
              body: |
                Update balena-os/leviathan-worker from 2.9.2 to 2.9.4
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested: []
          version: leviathan-2.25.1
          title: ""
          date: 2023-04-25T18:48:00.802Z
        - commits:
            - subject: Update Node.js to v18.16.0
              hash: 2f2d14f3919f306c1ff3add08caff08ee7b7a8e9
              body: |
                Update node from 18.13.0 to 18.16.0
              footer:
                Change-type: minor
                change-type: minor
              author: Renovate Bot
              nested: []
          version: leviathan-2.25.0
          title: ""
          date: 2023-04-20T23:53:28.826Z
        - commits:
            - subject: Update alpine Docker tag to v3.17.3
              hash: 0b2f18af6469d216a003c2ac8078b035064160cc
              body: |
                Update alpine from 3.17.1 to 3.17.3
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested: []
          version: leviathan-2.24.5
          title: ""
          date: 2023-04-20T22:45:55.982Z
        - commits:
            - subject: Update core/contracts digest to 777cd35
              hash: 997f3e27ac0dc6143f5dc7371078e8e3b5e796ae
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested: []
          version: leviathan-2.24.4
          title: ""
          date: 2023-04-20T21:54:11.743Z
        - commits:
            - subject: Update balena-os/leviathan-worker to v2.9.2
              hash: 6028bb0b206db9fbb4b796058867e3496af54cbd
              body: |
                Update balena-os/leviathan-worker from 2.9.1 to 2.9.2
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested: []
          version: leviathan-2.24.3
          title: ""
          date: 2023-04-17T13:55:54.890Z
        - commits:
            - subject: "docker-compose-qemu: allow to configure internal disk"
              hash: 24778477fe25c36558d36e619f14e2755f8d1eab
              body: >
                Whether the internal disk is attached or not will be defined by
                the

                environment. This allows to test the migrator that requires
                booting only

                the external disk.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: leviathan-2.24.2
          title: ""
          date: 2023-04-15T14:20:36.020Z
  version: 2.114.19
  title: ""
  date: 2023-05-04T09:05:39.686Z
- commits:
    - subject: Update balena-supervisor to v14.10.10
      hash: 2db66def0ea9273503ce9169142d7b6e66449cd1
      body: |
        Update balena-supervisor from 14.10.8 to 14.10.10
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: "mount-partitions.sh: Add support for encrypted partitions"
              hash: 004592894474676e3d024e5636b9fccce9f173f9
              body: >
                After a recent change enforcing all the partitions to be on the
                same

                block device, encrypted partitions are no longer being detected

                correctly. This is because the assumption that the parent block
                device

                is a substring of the actually mounted block device does not
                work

                for LUKS devices - the mount will either be /dev/mapper/luks-XXX

                or /dev/dm-X while the parent device is still e.g. /dev/sda.


                The usual balenaOS boot partition is also split in two - boot
                and efi.

                The boot partition (mounted under /mnt/boot) is encrypted and
                the efi

                partition (mounted under /mnt/efi) is not.


                This patch generalizes the detection of the parent device so
                that

                it works with both encrypted and unencrypted partitions.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: balena-supervisor-14.10.10
          title: ""
          date: 2023-05-03T16:01:37.089Z
        - commits:
            - subject: Run test supervisor under a different service name
              hash: 33b29cfa225959dd0a58564128017e04d019ea5f
              body: >
                The docker compose V2 spec no longer accepts `network_mode:
                bridge`,

                which means we can no longer override the network configuration
                of

                the `balena-supervisor` service for tests.


                For this reason we now create a separate service to run the
                built

                supervisor `balena-supervisor-sut` and run API tests against
                this

                service instead of the default `balena-supervisor`.
              footer:
                Change-type: patch
                change-type: patch
              author: Kyle Harding
              nested: []
          version: balena-supervisor-14.10.9
          title: ""
          date: 2023-05-03T14:26:36.360Z
  version: 2.114.18
  title: ""
  date: 2023-05-03T18:08:17.355Z
- commits:
    - subject: "test: append installer configuration instead of replacing it"
      hash: 2844d312784f2bf452fb547f2a4418814217ded1
      body: |
        Both the migrator and secureboot tests assumed they were creating an
        installer config.json section. Modify the code so both settings are
        included.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "test: os: use boolean for installer migration flag"
      hash: e2a4555c035ddd90c22afbf2150769175c6fb2f1
      body: |
        The installerForceMigration is a boolean, so let's use the proper type.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.114.17
  title: ""
  date: 2023-05-03T13:25:15.091Z
- commits:
    - subject: "initrdscripts: give the root device a chance to come up before
        cryptsetup"
      hash: 23b87079d424fa52753949d46a89d872360ee4ff
      body: |
        At this moment if the cryptsetup initrd script executes before the root
        device comes up (e.g. when booting off a USB disk), it assumes
        that encryption is not in place because it was not able to find
        the EFI partition.

        This patch adds a wait4file loop to the script that waits
        for the /dev/disk/by-state directory. This is not tied to any particular
        partition or device but since the directory does not exist by default
        and is only created by a custom balenaOS udev rule, its existence
        implies that the rule fired and a device with balenaOS partitions
        is present in the system.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.114.16
  title: ""
  date: 2023-05-02T23:16:09.725Z
- commits:
    - subject: "patch: Add additional logs when logging in using balenaSDK"
      hash: 2c607e878de285f30baab3c94605ca8d151ac597
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.114.15
  title: ""
  date: 2023-04-28T13:49:31.011Z
- commits:
    - subject: Update balena-supervisor to v14.10.8
      hash: d454cdb1145c80128cc280f40e6633d862ae0086
      body: |
        Update balena-supervisor from 14.10.7 to 14.10.8
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Fix service comparison when creating component steps
              hash: 5fdd689590d048685cc11e32a14ccf7faf3887ee
              body: >
                A bug in service comparison would make it that a device already
                running

                a service from a new release with network changes would never
                stop the

                running service so remaining services would forever get stuck in

                `Downloaded` state.


                This fixes the comparison so the service will get killed in this
                case,

                particularly allowing devices to recover from #1576
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: "Create tests with recovery from #1576"
              hash: 7b8b187c749c3390243b2246ba20d60ccc40db1f
              body: >
                Devices affected by the bug described in 1576, are also stuck
                with some

                services in the `Downloaded` state, because the state engine
                does not

                detect that the running services should be killed on a network
                change

                even if they belong to a new release. This is a bug, which can
                be

                replicated by the tests in this commit
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Skip updateMetadata step if there are network changes
              hash: 7aecaae8b02832afca3d52d233ecf5eaa8fa9ab8
              body: >
                Previous behavior would make it that an `updateMetadata` step
                would take

                precedence over a `kill` step when network changes are present.
                This

                would lead to an inconsistent state if an update included a

                network and a container change.
              footer:
                Closes: "#1576"
                closes: "#1576"
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Add replication of issue using unit tests
              hash: 0a358a4463717b53c3619432781a0ab568fb74c1
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Add integration tests for state-engine
              hash: 138aec5de418c7673285303d66d35b8cea43e4a8
              body: >
                These tests use the supervisor API to check that applying a
                target state

                allows the device to eventually get to the desired target
                configuration.


                This are high-level tests that work with real images and
                containers

                using dind.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Do not pass auth to images with no registry
              hash: c1207cbbff836f99fadb33dd5cf65baa2da0ecf8
              body: >
                The supervisor allows the target image to be an image without a

                registry (e.g. `alpine:latest`), while this really only happens
                while in

                local mode, we don't want to pass credentials to the default
                registry as

                those credentials are meant for balena registry and will
                otherwise fail.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.10.8
          title: ""
          date: 2023-04-26T18:49:41.754Z
  version: 2.114.14
  title: ""
  date: 2023-04-27T17:45:02.161Z
- commits:
    - subject: "hostapp-update-hooks: use unsafe fatrw copy for bootfiles"
      hash: 71d1fa57f88e73a39cc95cca41ee148c0a2bd8c7
      body: >
        A safe copy would only work for files that are read by fatrw also and
        that is

        not the case for boot files. Still, some file like `config.json` would

        benefit from a safe copy so we still try that first.


        Fixes #2998
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-config-vars: introduce unsafe fatrw copy"
      hash: df43a753c7d191b715101fd107da93fcdb7085cb
      body: |
        If a safe copy is preferred but non-critical, the unsafe fatrw command
        can be used and if fatrw does not have enough resources to make a safe
        copy it will fallback to a standard cp.

        This is useful when performing hostOS updates for example where a safe
        copy would only work for files that are read by fatrw also and that is
        not the case for boot files for example.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.114.13
  title: ""
  date: 2023-04-27T12:25:49.566Z
- commits:
    - subject: "classes: kernel-balena: force recompilation if signing variables change"
      hash: ed976cd342d7f70236a683bdf179a8490862f747
      body: |
        If they signing variables change, we need to rebuild and resign kernel
        and modules.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-keys: make tasks depends on signing variables"
      hash: 421d737c200915787e5bc6c6829254cf5b4976f1
      body: |
        To avoid unneeded rebuilds, just make the actual key fetching tags
        depend on the signing variables.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: sign: make signing task depends on signing variables"
      hash: a17f312bea7302577b7c739d57474e9014d4b8d1
      body: |
        The signing process order depends on the package to be signed, so let's
        make sure the re-signing happens.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.114.12
  title: ""
  date: 2023-04-26T10:01:38.568Z
- commits:
    - subject: Update balena-engine to v20.10.35
      hash: eb6d64cc9f8cf9b429ae9047ffc6b5e5afa81e10
      body: |
        Update balena-engine from 20.10.34 to 20.10.35
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update libnetwork to fix port binding issue
              hash: 56aa6337c29329e6100c24f6775840c47081cd06
              body: >
                This new version has a patch cherry-picked from here:

                https://github.com/moby/libnetwork/pull/1805


                This patch is meant to avoid cases in which libnetwork internal
                state

                gets inconsistent in case of crashes.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: balena-engine-20.10.35
          title: ""
          date: 2023-04-24T13:11:04.337Z
  version: 2.114.11
  title: ""
  date: 2023-04-24T19:52:26.600Z
- commits:
    - subject: "mkfs-hostapp-native: Update base image in Dockerfile"
      hash: 5d0e8d90050ab0bf94911ab4e676cb529c70c56b
      body: |
        Update Dockerfile base image from debian strech to the latest
        stable debian bullseye to fix mkfs-hostapp-native build.

        The old image has been moved in Dockerhub to debian/eol.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.114.10
  title: ""
  date: 2023-04-24T14:32:34.955Z
- commits:
    - subject: "tests: os: configure to use installer's migrator"
      hash: 0715805137a721f6d551e3087f7eb5231036c004
      body: |
        Configuring the flasher image to force the migration. We use this to
        skip migration tests when not configured.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "test: os: add installer migration test"
      hash: fa327dce24a147846662ad110cc5b9d43f9a0604
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.114.9
  title: ""
  date: 2023-04-22T20:25:50.077Z
- commits:
    - subject: Update balena-supervisor to v14.10.7
      hash: 05df5cf13d140f03365acd732bdca73bf48f09ff
      body: |
        Update balena-supervisor from 14.10.6 to 14.10.7
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Remove safeStateClone function
              hash: 6c031299d686cca9bb89f950b105ab5bf62fae97
              body: |
                This function is no longer needed with the latest changes to
                getCurrentState
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Get rid of targetVolatile in app manager
              hash: 36311ef7a1b9192879c4951fb7e4521ef3c4840b
              body: >
                Target volatile doesn't make sense now that we can use the

                current state as a target. It wasn't actually being used for
                anything

                anymore apparently
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Make pausingApply a private member of device-state
              hash: 1e0dd381f54efd31119454db592d5c047d829681
              body: >
                This simplifies this module interface and hides implementation
                details

                from the rest of the code.


                The function `applyIntermediateTarget` will now call
                `pausingApply`

                before applying the target


                API actions no longer need to call pausing apply
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Simplify doRestart and doPurge actions
              hash: 3d43f7e3b367636f01ac9b6388c933bab5c896e5
              body: >
                The actions now work by passing an intermediate state to the
                state

                engine.


                - doPurge first removes the user app from the target state and
                passes
                  that to the state engine for purging. Since intermediate state doesn't
                  remove images, this will have the effect of basically re-installing
                  the app.

                - doRestart modifies the target state by first removing only the
                  services from the current state but keeping volumes and networks. This
                  has the same effect as before where services were stopped one by one
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Fix network appUuid inference in local mode
              hash: 43630e52674e82bf32792e2d15db35a9af332865
              body: >
                Local mode uses a numeric `appUuid` which was messing up parsing
                the

                network name. This fixes this issue so the current state can be
                used

                as a target state
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Get image name from DB when getting the app current state
              hash: b1fc4e1761e02edc84c1be344a91ef29e771aa28
              body: >
                The Service class in `compose/service.ts` cannot get the image
                name

                from the image id when building the object from the container
                metadata.


                We query the metadata in the application manager getCurrentApps
                method

                so the current state can be used as target by API methods
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Improve net alias comparison to prevent unwanted restarts
              hash: 27f0d2e655a5c11c89103847c485fa06babc1954
              body: >
                Network aliases are now compared checking that the target state
                is a

                subset of the current state. This will prevent service restarts
                due to

                additional aliases created by docker in the container.
              footer:
                Closes: "#2134"
                closes: "#2134"
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Exclude containerId from service network aliases
              hash: cb98133717b1c4c8f9e46c95ec7df996deae60e6
              body: >
                When getting the service from the docker container, remove the

                containerId from the list of aliases (which gets added by
                docker). This

                will make it easier to use the current service state as a
                target.


                This will help us remove the `safeStateClone` function in the
                API in a

                future commit
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Skip image delete when applying intermediate state
              hash: f2ca7dbb6ae465f361fc05fb42dc5ff7cfc8de4c
              body: >
                This replaces the previous flag `isApplyingIntermediate` on
                application

                manager and simplifies the interface of the state engine to make
                temporary changes to the

                general app state.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Make local mode image management work as in cloud mode
              hash: 967cb7747f187f70500f6393360df10b40fddebf
              body: >
                There were multiple places in the state engine that skipped some

                operations while in local mode. In reality, all it's needed
                while in

                local mode is to skip image and volume deletion.


                This commit simplifies application-manager and compose app to be
                more

                local mode agnostic and instead making the image deletion and
                volume

                deletion configurable via function arguments.


                This also has the benefit to make the treatment of local mode

                applications more similar to cloud mode applications, allowing
                for

                API endpoints to function the same way both modes.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Remove ignoreImages argument from getRequiredSteps
              hash: 76d5be64e56c63c01474cee2ead43d02470c1389
              body: >
                The argument was unused and hence unnecesary. This is just a bit
                of

                cleanup
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.10.7
          title: ""
          date: 2023-04-21T23:04:18.417Z
  version: 2.114.8
  title: ""
  date: 2023-04-22T02:27:23.269Z
- commits:
    - subject: Update balena-supervisor to v14.10.6
      hash: ddd2e839ed3cab692488640cb98cdd6a795fcfba
      body: |
        Update balena-supervisor from 14.10.4 to 14.10.6
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Do not restart balena-hostname on rename
              hash: 7b68ee4c4f03f464c762afc0b3da06e3f4620440
              body: >
                The OS since v2.82.6 will monitor changes to config.json and
                restart

                the relevant services to apply the changes. There is no need to
                trigger

                restart of the services via the supervisor. Users on older OS
                versions

                will need to update their OS or restart the services manually as
                OS

                loses support after 2y.
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#2160"
                closes: "#2160"
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.10.6
          title: ""
          date: 2023-04-20T18:25:01.001Z
        - commits:
            - subject: Remove anonymous build volume from Dockerfile
              hash: a3675651898f050eaefce0a9c4e02890ddc57b57
              body: >
                We don't need this anonymous volume as /data is bind mounted
                into

                the container from host (legacy), and will soon be mounted by
                the

                Supervisor itself on startup.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.10.5
          title: ""
          date: 2023-04-13T21:01:21.133Z
  version: 2.114.7
  title: ""
  date: 2023-04-20T20:18:09.935Z
- commits:
    - subject: Update db and dbx hashes during HUP when secure boot is enabled
      hash: 775dc7dba7afe2674dc0ef84e00bb773495d4c98
      body: |
        After moving to hashes for authenticating the allowed OS list, we need
        to update the db variable on each HUP to make sure the new OS
        will be bootable. After confirming that the update went through,
        we need to update the dbx variable to make sure the old OS is
        no longer bootable.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "balena-db-hashes: ship both db and dbx updates"
      hash: c428010c83fd3a3ca1f4cdc72fc94a90f6be6ee4
      body: |
        In order to use hashes we can not use UEFI time-based authentication
        for updates as this would prevent rollbacks. Instead we ship appendable
        updates for both db and dbx that HUP can use.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: Use hashes instead of certificates for secure boot image validation
      hash: c205b247c14cbdd132cb1bb335da2d17fa40caf5
      body: |
        This patch changes the validation of bootable images from certificate
        signatures to a list of allowed hashes of binaries. This only applies
        on db level, PK and KEK are still certificates.

        The motivation is that certificates expire and we need to be sure
        that even devices that have been lying on a shelf for several years
        or whose CMOS battery has died and reset date to 1970-01-01 are still
        bootable. Using hashes is more aligned with this use-case and also
        more similar to the approach that embedded SoCs use.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.114.6
  title: ""
  date: 2023-04-20T04:15:18.461Z
- commits:
    - subject: Ship separate GRUB images for secure boot
      hash: 1eb49acca051d7c34fa0e48bd673fc764320b2e9
      body: |
        Shipping a single image with signature checks enabled will enforce
        the signatures on non-secure-boot systems as well. GRUB does not have
        a simple method to check whether secure boot is enabled that could
        be embedded with the default built-in config.

        With this patch we build two separate images - one enforcing
        the signatures and the other one not, keeping the original behavior.
        HUP and flasher both can detect if secure boot is enabled so they
        put the correct image in place when installing/updating GRUB.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.114.5
  title: ""
  date: 2023-04-19T10:14:40.931Z
- commits:
    - subject: "initedscripts: recovery: do not use strings for timeout"
      hash: c17da3802213251c69ba8a99ce6a8a63b358f022
      body: |
        Remove the `m` suffix to the timeout as they are supposed to be compared
        as integer numbers.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: limit boot device identification to booting disk"
      hash: 5ee9a12075c3c0a11455ccb342ce4499916395be
      body: |
        The installer is to copy configuration files into the boot partition on
        the installer disk - searching by label needs to be restriced to the
        booting disk to avoid clashes if there are other disks with matching
        labels present.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: add verbose copy of migration log"
      hash: 8fe29890b6e3c2caca1c603f1ecbe046d9cd1fc1
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: fix EFI installation for multiple disks"
      hash: 69459a964f62adbe4b9661b718994391c4a78363
      body: |
        Search for the installation disk on the same device the system is being
        installed on. This avoids problems when there are more than one disk
        with balena/resin labelling.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: migrate: correctly identify boot device"
      hash: 27fd9e05d16d60a7340a16abcda5e93fd1fdb199
      body: >
        The internal target device to program is not always the device the
        system

        is booting from. Make sure the `flash-boot` partition search is done

        on the booting device.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "distro: balena-os: update GRUB key id for signature"
      hash: f4242aa560e869892a7289ac8523bed055feffe3
      body: |
        Update the default Grub key id so it matches the currently configured
        key. This avoids having to configure this in the build jobs.

        [skip ci]
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.114.4
  title: ""
  date: 2023-04-18T12:20:45.009Z
- commits:
    - subject: Update balena-supervisor to v14.10.4
      hash: 8dc882977526603790280a7550985df3bce4db09
      body: |
        Update balena-supervisor from 14.10.2 to 14.10.4
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Log uncaught promise exceptions on the app entry
              hash: 676464142690da2e36a810cb35e4ea4d0d751636
              body: |
                Node 15 [changed the way it treats unhandled promise rejections](https://github.com/nodejs/node/blob/main/doc/changelogs/CHANGELOG_V15.md#throw-on-unhandled-rejections---33021) from a warning to a throw.
                For this reason errors like a corrupt migration directory, that happens when trying to
                roll back to a previous supervisor version were no longer showing a
                message but dumping the full minimized code into the journal logs.

                This PR adds a catchall on app.ts to log the exception and throw an exit
                code of 1.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.10.4
          title: ""
          date: 2023-04-10T18:15:41.878Z
        - commits:
            - subject: Fix assertion error in restart-service
              hash: b9e1464d96824f5332c71324d753d94ddbdecf90
              body: |
                From: https://github.com/balena-os/balena-supervisor/pull/2153/commits/c0b4fafe842115933b1da9b4d68e601a19c3e4eb
                Restart-service checks that both services have restarted in its test assertion, which is
                incorrect as restart-service should only restart one service.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.10.3
          title: ""
          date: 2023-04-10T15:17:58.539Z
  version: 2.114.3
  title: ""
  date: 2023-04-12T13:45:48.569Z
- commits:
    - subject: "tests: cloud: convert ssh tunneling to test"
      hash: 248e90fc904bf6ebd5db30d9bb20b354292acf7f
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: hup: convert ssh tunneling to test"
      hash: 7e5651325fc5350a6380f0725149223c93e2e48c
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: os: convert ssh tunneling to test"
      hash: cbf245f22c4726a8a89038c683efe0f0ae1e3f3f
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: cloud: check engine+sv ok in suite"
      hash: 6a3f7954003491513fd4e32d9f6cff2866dad202
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: os: check engine+sv ok in suite"
      hash: 2d312e67a8d347083e3f036fcb488a4118b37f87
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests:cloud: convert initial SSH attempt into test"
      hash: e14af621a3224979c5b50b36476a814ea4c5fbe1
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: hup: convert initial SSH attempt into test"
      hash: 6aa5127d328c798bc8d36f34fc96dba3dd845506
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: os: convert initial SSH attempt into test"
      hash: 42de079f6adc8e2bf8bd1aaf1b8e36e7dca0056c
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.114.2
  title: ""
  date: 2023-04-12T08:58:35.753Z
- commits:
    - subject: Update balena-supervisor to v14.10.2
      hash: 822ccaddeb62a8cc732f6422566f1f3ec129c3a0
      body: |
        Update balena-supervisor from 14.10.1 to 14.10.2
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: "backends: Add Jetson Orin NX custom device-tree support"
              hash: 6b67db98e54cd7756d7e31d9676d31ab305c4d56
              body: ""
              footer:
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
                Change-type: patch
                change-type: patch
              author: Alexandru Costache
              nested: []
          version: balena-supervisor-14.10.2
          title: ""
          date: 2023-04-07T18:35:17.559Z
  version: 2.114.1
  title: ""
  date: 2023-04-07T21:27:08.879Z
- commits:
    - subject: Update balena-supervisor to v14.10.1
      hash: 0bb69e86e973bf449539a942dec3ac82660ed37a
      body: |
        Update balena-supervisor from 14.9.8 to 14.10.1
      footer:
        Change-type: minor
        change-type: minor
      author: Renovate Bot
      nested:
        - commits:
            - subject: Use dbus-send to get current boot block device instead of fdisk
              hash: 4ab8250c971e2f05d9dbf5870f9feb8dd298bdda
              body: ""
              footer:
                Closes: "#2150"
                closes: "#2150"
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.10.1
          title: ""
          date: 2023-04-07T00:15:59.534Z
        - commits:
            - subject: Mount boot partition into container on Supervisor start
              hash: 49ee1042a87ce0b101054e32b84afaa324a371de
              body: >
                As the Supervisor is a privileged container, it has access to
                host /dev, and therefore has access

                to boot, data, and state balenaOS partitions. This commit sets
                up the framework for the following:


                - Finds the /dev partition that corresponds to each partition
                based on partition label

                - Mounts the partitions into set mountpoints in the device

                - Removes reliance on env vars and mountpoints provided by
                host's start-balena-supervisor script

                - Simplifies host path querying by centralizing these queries
                through methods in lib/host-utils.ts


                This particular changes env vars for and mounts the boot
                partition.


                Since the Supervisor would no longer rely on container `run`
                arguments provided by a host script,

                this change moves Supervisor closer to being able to start
                itself (Supervisor-as-an-app).
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.10.0
          title: ""
          date: 2023-03-28T19:13:49.886Z
  version: 2.114.0
  title: ""
  date: 2023-04-07T02:24:02.321Z
- commits:
    - subject: Update balena-engine to v20.10.34
      hash: 5400eacc4003ff9fdf7d9d6e8b60ffb96dde9d87
      body: |
        Update balena-engine from 20.10.33 to 20.10.34
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update librsync-go to v0.8.5, circbuf to v0.1.3
              hash: a7c917a97048314e956d7264e97598465f88c1c7
              body: >
                Notable improvements these new versions bring:


                * Optimized code path for generating deltas with blocks that are
                  power-of-two-sized.
                * Avoid allocating unbounded amounts of memory when the target
                differs
                  completely from the source.
                * Several bugfixes in edge cases that shall not affect
                balenaEngine.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: balena-engine-20.10.34
          title: ""
          date: 2023-04-05T13:06:06.674Z
  version: 2.113.35
  title: ""
  date: 2023-04-05T15:18:23.115Z
- commits:
    - subject: Update tests/leviathan digest to 5785e44
      hash: 47268fc3f69a0dc59d11d0ab1e12e7c229c5af24
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Deprecate worker release env var (again)
              hash: cb7f600321dc11cc7481bc3ffd111155f763e621
              body: |
                This env var breaks Renovate parsing, and it is
                no longer used by Jenkins or leviathan-worker e2e tests.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.24.1
          title: ""
          date: 2023-04-04T21:10:17.519Z
        - commits:
            - subject: "minor: Add Leviathan Test Helpers"
              hash: f3f2752cb25fca9ad851de96cc246916f84012ce
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.24.0
          title: ""
          date: 2023-04-03T06:44:28.297Z
        - commits:
            - subject: "patch: Output final-result in the end"
              hash: eacad86187f72586ddbcd36041f619fb40c5b7ad
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipulgupta2048@gmail.com>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.23.6
          title: ""
          date: 2023-03-31T13:18:07.076Z
        - commits:
            - subject: update default worker version
              hash: 5b659e8a3d0921f01f1cf493373a97f909d60d26
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.23.5
          title: ""
          date: 2023-03-31T12:49:09.258Z
        - commits:
            - subject: "swtpm: store state in tmpfs"
              hash: 25460508d5477dd27a4743b4684e97e6d0f8529a
              body: >
                swtpm stores state in the directory specified in the --tpmstate
                argument


                If the same state directory/files are used for multiple
                installations,

                the available space can be filled, and the installer will fail
                with the

                error "insufficient space for NV allocation".


                Move swtpm state to tmpfs to create new state files every run.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.23.4
          title: ""
          date: 2023-03-29T22:31:39.865Z
        - commits:
            - subject: Update core/contracts digest to fa51fae
              hash: 10e156b48610903182257493aea812f8d8893b84
              body: |
                Update core/contracts
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested: []
          version: leviathan-2.23.3
          title: ""
          date: 2023-03-29T20:32:23.397Z
  version: 2.113.34
  title: ""
  date: 2023-04-04T23:15:50.826Z
- commits:
    - subject: Update tests/leviathan digest to e5dcbae
      hash: a536523b56cbbfc50b9db7e356cd142bb674e9fd
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: "patch: Update path to balena-io/renovate-config"
              hash: 2698c25cb7bf70920b5025f941ea57b16532285c
              body: ""
              footer: {}
              author: Kyle Harding
              nested: []
          version: leviathan-2.23.2
          title: ""
          date: 2023-03-28T17:08:00.960Z
  version: 2.113.33
  title: ""
  date: 2023-03-28T20:47:58.221Z
- commits:
    - subject: "renovate: Inherit automerge settings from org"
      hash: 1db559de9180eaf96235bed661060b4b34d98ca4
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.113.32
  title: ""
  date: 2023-03-28T16:06:51.691Z
- commits:
    - subject: Don't create core dumps in containers by default
      hash: 1a78f2a1a27684bf244c881555b691d63a3247f6
      body: |
        Setting `LimitCORE=0` will avoid the creation of core dump files on
        containers. This will avoid cases in which a crashlooping user app ends
        up filling up the entire storage with dump files.

        Users can re-enable core dumps in their services by manually setting the
        `ulimits.core`. For example:

        ```
        services:
          my-service:
            ulimits:
              core: -1
        ```

        (Where -1 is used to mean "unlimited")
      footer:
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Change-type: patch
        change-type: patch
      author: Leandro Motta Barros
      nested: []
    - subject: Make sure balenaEngine owns the container cgroups
      hash: 5efa793c5af63ef177de95b8b4251799b0de7f40
      body: |
        Setting `Delegate=yes` ensures that systemd will not change anything on
        the cgroups created for running the containers.

        This setting is used upstream since this commit:
        https://github.com/moby/moby/commit/d16737f971092767c1b9d28302a3f5aedbe2f576

        And also is recommended by systemd: https://systemd.io/CGROUP_DELEGATION/
      footer:
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Change-type: patch
        change-type: patch
      author: Leandro Motta Barros
      nested: []
  version: 2.113.31
  title: ""
  date: 2023-03-28T03:45:14.883Z
- commits:
    - subject: Update balena-engine to v20.10.33
      hash: e902f495278255bdea5f341ac7634d5ec0238d5d
      body: |
        Update balena-engine from 20.10.32 to 20.10.33
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Add integration tests for balena's "delta on load"
              hash: 47a0a065f8c28bfdcbac2f0e96d9cbc3adb1c3bb
              body: ""
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: Simplify and improve delta error handling
              hash: 2c972dff108a153896116b07798bbc959c07ef01
              body: >
                The original delta code on the `xfer` package used to set
                `d.err` when

                an unexpected EOF was found in the delta tar stream. Turns out
                `d.err`

                would end up being overwritten before it was read, so that
                initial

                assignment was effectively a no-op.


                This commit simplifies the code a little bit by removing this
                bogus

                assignment and also improves the error reporting a notch by
                adding more

                context to the error messages.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: Refactor the xfer portions of delta
              hash: 8c9e6ec7c0efcb81c718c979ad45133f64679fc8
              body: >
                This factors out portions of the `xfer` package, so that we can

                reuse this functionality between `balena pull` and `balena
                load`. There

                was a good deal of duplication.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: Refactor the distribution portions of delta
              hash: 34dd5a92f29e85a77926b9c5983552054dd483c8
              body: >
                This factors out portions of the `distribution` package, so that
                we can

                reuse this functionality between `balena pull` and `balena
                load`. There

                was a good deal of duplication.


                This piece of code is tricky to factor out into a separate
                function.

                Basically we had two options:


                1. Create a completely reusable, DRY function that encapsulates
                all the
                   duplicate code. Sounds nice until you noticed that would be a
                   horrendous function with 5 return values and overly obscure
                   semantics.
                2. We create a small set of functions with clearer interfaces
                and
                   semantics, but which will still lead to some code duplication between
                   the `pull` and `load` implementations.

                I opted for the second alternative because the resulting code is
                much

                easier to understand and maintain. Also, the remaining
                duplication is

                mostly dumb, integration and error handling code that almost
                writes

                itself as we call the new reusable functions -- so, this is sort
                of a

                benign duplication.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: balena-engine-20.10.33
          title: ""
          date: 2023-03-27T18:46:44.671Z
  version: 2.113.30
  title: ""
  date: 2023-03-27T21:30:24.970Z
- commits:
    - subject: Update balena-supervisor to v14.9.8
      hash: 52b8dee720722c0e917810676321a713075e09e1
      body: |
        Update balena-supervisor from 14.9.7 to 14.9.8
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Revert "Use multi-arch in dockerfile"
              hash: 75eeac5ed4b7ec076482c0cace2d2cfca8b6b2d4
              body: >
                This reverts commit 00e389e5f559dd10e49cfa411784b89498c3c0eb.


                Images generated using this dockerfile still don't have the
                right

                architecture. More testing is needed
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.9.8
          title: ""
          date: 2023-03-27T08:05:44.148Z
  version: 2.113.29
  title: ""
  date: 2023-03-27T14:11:59.453Z
- commits:
    - subject: "README: modify migration documentation to match module"
      hash: f237b34bd6510d106202461b78da7fa0f2637ca0
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.113.28
  title: ""
  date: 2023-03-27T09:42:22.974Z
- commits:
    - subject: Update balena-supervisor to v14.9.7
      hash: ff8a0471336b1c9f3dd0abe6f5c0af4a63121089
      body: |
        Update balena-supervisor from 14.9.4 to 14.9.7
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Add missing log backend field assignment in logger init
              hash: 37371d89dcea3e1d713b9bb806fc6866cdd5ae9f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.9.7
          title: ""
          date: 2023-03-23T21:40:32.099Z
        - commits:
            - subject: Update deploy-to-balena action to 0.26.2
              hash: 7cde98d7f7fb6a476dd14bbec5df7d45a1bfd3e8
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Use multi-arch in dockerfile
              hash: 00e389e5f559dd10e49cfa411784b89498c3c0eb
              body: >
                This is necessary since the builder no longer passes the
                platform flag

                to the build. This would lead to dockerfiles that are mixing
                multi and single

                arch stages to pull the wrong architecture images, particularly
                when

                trying to build images in emulated builds (e.g. armv7hf built on
                aarch64).


                Moving the full build to multi-arch solves this as the docker
                engine is

                capable of chosing the right architecture from the manifest.
              footer:
                Relatest-to: balena-io/balena-builder#1010
                relatest-to: balena-io/balena-builder#1010
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.9.6
          title: ""
          date: 2023-03-23T20:18:31.098Z
        - commits:
            - subject: Use log endpoint subdomain if it exists in config.json
              hash: 36e46d80a6f147b95664ac052fd01cd438388555
              body: ""
              footer:
                See: https://github.com/balena-io/open-balena-api/pull/1288
                see: https://github.com/balena-io/open-balena-api/pull/1288
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.9.5
          title: ""
          date: 2023-03-20T19:21:47.709Z
  version: 2.113.27
  title: ""
  date: 2023-03-24T03:30:52.600Z
- commits:
    - subject: Update balena-engine to v20.10.32
      hash: 47dd9486a7d306301119c5099bc8e3e0854ec21c
      body: |
        Update balena-engine from 20.10.26 to 20.10.32
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: "Installer: Make the script POSIX-compliant"
              hash: cc0683f0aa5cdd5cae54cf278e060328e2c2595f
              body: >
                There were various usages of Bash-specific features. As a
                result, the

                script would work correctly only on OSes that have `sh` as an
                alias to

                `bash`. It would fail on Ubuntu, for example.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: "Installer: Improve handling of su/sudo"
              hash: 0a46c1fbce94daff87799074a8243dbdd75b39c2
              body: >
                A couple of changes here:


                * Check for sudo necessity and availability before doing any
                real work.
                  Better to warn and exit quick and early!
                * Remove the support for using `su`. It was broken for two
                reasons.
                  First, unlike `sudo`, `su -c` expects the command as a single
                  argument. Second, `su`, unlike `sudo`, reads the password from stdin
                  which in this case "contains" the tarball being downloaded. The second
                  point is particularly tricky to solve without saving the tarball to
                  storage (and we want to avoid extra storage space and wear). And,
                  anyway, users that can `su -c` can also `su` manually before
                  installing.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: "Installer: Improve checking for dependencies"
              hash: a0a285599586bd6167c7eb4b73c7a2a2c0b3be1c
              body: >
                A couple of changes here:


                * Check for missing dependencies before doing any real work.
                Better to
                  warn and exit quick and early!
                * Fix the actual check. We previously used `[ $abort ] && exit
                1` which
                  caused the script to always exit (`abort` is never empty).
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: "Installer: remove support for the 386 architecture"
              hash: 7403e49d04e41907d89d81054ee4d6a14bb32b9b
              body: |
                We disabled builds for linux/386 in v20.10.28 (commit
                ae2500b7e254b91f4a8f86e44d1ac6f2679c953a).
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: Remove the installation script from docs/
              hash: 5305ab263ffebd08d0346de2bdbed34585805f4f
              body: >
                This is removing a duplicate, since the same script is also
                present

                under contrib/
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: balena-engine-20.10.32
          title: ""
          date: 2023-03-21T20:13:28.900Z
        - commits:
            - subject: Remove references to deprecated build targets
              hash: 9e72257bf1ced842076f4df8d488c10580561711
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Kyle Harding
              nested: []
            - subject: Revert "Cross-build the dynbinary target"
              hash: 9562704af9213870b7f861dcd394a06be6782678
              body: |
                This reverts commit 0240d94e35a43be595cd5e79b0653440c228229f.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-engine-20.10.31
          title: ""
          date: 2023-03-20T20:13:05.215Z
        - commits:
            - subject: Fix typos in the masterclass docs
              hash: 0633e148120feffef1d2d13aece801a4d43d4a49
              body: ""
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: "patch: Migrate balenaEngine Debugging docs from masterclass"
              hash: 8a5f98ef25b951ed3108ff6e12cf23841508d9ec
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: balena-engine-20.10.30
          title: ""
          date: 2023-03-13T17:03:36.999Z
        - commits:
            - subject: Rename test functions for better clarity
              hash: f5b966a63503577b1b826dc23b95773fd073aacf
              body: >
                Added an `Asserting` suffix to all functions that internally
                call

                `assert.*()`. This makes clearer what is really going on at the
                point of

                call, without needing to look under the hood.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: Add test case for the delta image store
              hash: aecb27a8dc6af5a39bb882f2c2f30894ed0b2abd
              body: ""
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: Add dev-focused docs on some balenaEngine features
              hash: 75b62a76df57767fcc1ab86f0adb3a9f210480a7
              body: >
                Most notably, on the "delta root" feature, which is important
                for HUPs,

                not very well-known and not documented anywhere else I know.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: Simplify test code by using new std lib function
              hash: 2d192ea16be1df569c86028128397515d6d3322d
              body: >
                io.ReadAll() is available since Go 1.16 (to which we upgraded
                some time

                ago).
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: Set the delta image store, fix delta-based HUPs
              hash: 9fe31eb8dad8dbcc35e48cb0f90a12b67256e490
              body: >
                We apparently have broken this during the 20.10 merge. Not
                setting the

                delta image store breaks delta-based balenaOS updates (HUPs).
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: balena-engine-20.10.29
          title: ""
          date: 2023-02-20T13:34:08.745Z
        - commits:
            - subject: Disable builds for linux/386
              hash: ae2500b7e254b91f4a8f86e44d1ac6f2679c953a
              body: |
                This is currently broken (apparently also upstream).
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: balena-engine-20.10.28
          title: ""
          date: 2023-02-20T12:32:22.989Z
        - commits:
            - subject: Merge upstream v20.10.17
              hash: 013d0279ce25791b87a0a0d77686e2cd74f6462a
              body: "For full changelog see:
                https://github.com/balena-os/balena-engine/blob/20.10.17-balena\
                /CHANGELOG.md#2023-02-07-upstream-release"
              footers:
                change-type: patch
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
              author: Leandro Motta Barros
              nested: []
          version: balena-engine-20.10.27
          date: 2023-02-07T12:00:00.000Z
  version: 2.113.26
  title: ""
  date: 2023-03-23T23:31:29.250Z
- commits:
    - subject: "kernel-balena: Include NFS V2, V3 and V4 client and server modules"
      hash: 54c4090b518bccfdba0b635ead129502572685be
      body: |
        As per internal discussion thread
        https://balena.zulipchat.com/#narrow/stream/345882-_help/topic/.E2.9C.94.20nfs.20.283.20or.204.29.20on.20jetson.20nano/near/342072698
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.113.25
  title: ""
  date: 2023-03-23T19:39:38.006Z
- commits:
    - subject: "dunfell+: remove obsolete systemd patch"
      hash: f649288c2b284cb06081d296e52b4562f512107b
      body: |
        The patch applied to systemd addressed this upstream moby issue:
        https://github.com/moby/moby/issues/27202

        This was fixed in containerd 1.0.2:
        https://github.com/containerd/console/pull/10/commits/c358734ec94e72903243bd1c9034874a1de09424

        This fix is present in balena engine since v17.13.5, which has been in
        use since commit 53ce147. Drop this patch from meta-balena-dunfell and
        later.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "plymouth: replace duplicated patches w/ shared drop-ins"
      hash: 72706964b8dd308b6c1772fa22c4e89d1680d205
      body: >
        Plymouth services are modified in the installation directory with balena

        specific customizations using patches. This increases the manual
        intervention necessary

        when adding support for a new version of this package or Yocto. Replace

        the patches with equivalent drop-in configs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "systemd: mask systemd-getty-generator instead of patching"
      hash: e54f4c5d49d1aa18a3544ab8c7e46aef8e366a0a
      body: |
        We disable systemd-getty-generator to allow explicit control over when
        we setup getty to create consoles. Previously, this was done using a
        patch to systemd, removing this generator. Mask this instead so we can
        consolidate this configuration in meta-balena-common.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "systemd: replace duplicated patch w/ shared drop-ins"
      hash: 1481e83e225a341da13c7b7a60d8c96865a458de
      body: |
        Certain services, such as getty@.service, and systemd-logind.service are
        disabled when running in a container using a patch to the source files.
        This increases the manual intervention necessary when adding support for
        a new version of systemd. Replace the patch with drop-in configs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.113.24
  title: ""
  date: 2023-03-22T14:23:33.694Z
- commits:
    - subject: "pyro/sumo: initrdscripts: fix migrate module for older Yocto versions"
      hash: 4eca2991ce9433ad5291af6e17887815db068ca9
      body: |
        In old Yocto versions the util-linux recipe has not yet been split into
        individual packages.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "networkmanager: do not update to latest version in sumo"
      hash: 75311179f65172d2ca38f74b4487fe812b691a46
      body: |
        Hold the networkmanager update for older Yocto version as the new meson
        based build system in newer versions is broken.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.113.23
  title: ""
  date: 2023-03-22T09:22:48.249Z
- commits:
    - subject: Update tests/leviathan digest to ad4f908
      hash: 92086f551ef3714f76432e66c09ce305a1de0e07
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: "compose: qemu: add FLASHER_SECUREBOOT var"
              hash: 51977e109069f08f0364eed208fab2e01c104284
              body: >
                This environment variable is passed through to the suite to
                preconfigure

                a flasher image to enable secure boot for testing.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "swtpm: fix abort on exit"
              hash: fc65360ae7896545bdcaad0d37f1345a447251f4
              body: >
                Some incoming tests require QEMU to exit, simulating a device
                powering

                off, before starting QEMU again. This is used to "reflash" a
                virtualized

                device before continuing with testing, for instance after
                tampering with

                boot files on a secure boot enabled device to verify secure boot
                checks.


                However, swtpm will exit when QEMU disconnects. The
                `--exit-code-from`

                compose argument implies `--abort-on-container-exit`, so this
                results

                in the test run aborting prematurely.


                Adapt the entrypoint and command of the swtpm container to
                always

                restart the program without exiting the container.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.23.1
          title: ""
          date: 2023-03-14T01:58:44.771Z
  version: 2.113.22
  title: ""
  date: 2023-03-21T15:17:11.571Z
- commits:
    - subject: "tests: os: secureboot: add integrity checks"
      hash: c65d0cac90a47dfb8260a2bbdd4ca27e38c225d7
      body: |
        Verify secure boot integrity checks of bootloader binary and
        configuration.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: configure flasher secure boot opt-in"
      hash: 4abccf4929df3354a5b7b0c1912092aeef56aec2
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.113.21
  title: ""
  date: 2023-03-20T20:17:03.365Z
- commits:
    - subject: "tests: os: disable unwrapping"
      hash: d27b7a53763e0682f1a47865be24345fa52e58ff
      body: |
        The QEMU leviathan-worker now simulates flashing from an external
        device, which tests both flasher images, as well as
        secure-boot/full-disk encryption setup.

        Disable the ad-hoc unwrapping in the OS suite setup.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: hup: disable unwrapping"
      hash: 7e99b96cdfc69b0251566e71f4f9a44ac8e50ac4
      body: |
        Disable ad-hoc unwrapping in the HUP test suite in favor of utilizing
        the QEMU worker's new ability to bind a disk image to an emulated
        external USB mass storage device. This runs the flasher in QEMU, and
        installs to emulated internal storage.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: cloud: disable unwrapping"
      hash: 609706e3e631e305dde86c8462fd9a474e5593ce
      body: |
        Utilize QEMU worker's new internal/external storage emulation to run
        flasher in VM, rather than unwrapping image.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.113.20
  title: ""
  date: 2023-03-20T16:43:02.693Z
- commits:
    - subject: "resin-u-boot.bbclass: Default to u-boot Kconfig support"
      hash: ef248aa51635b08421ddd1a9ddf805ebeda47b43
      body: |
        It should be safe to assume that boards now use newer u-boot versions
        that all have Kconfig support so we default to that. This allows for
        device repos not to specify it and use Kconfig support or if for some
        reason there are boards with old u-boot versions they can overwrite the
        UBOOT_KCONFIG_SUPPORT variable to 0.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.113.19
  title: ""
  date: 2023-03-20T15:16:33.267Z
- commits:
    - subject: Enable CI for external contributions from forks
      hash: abb948565781160616f7b3982d066dd1cd8bbb22
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.113.18
  title: ""
  date: 2023-03-16T15:40:01.689Z
- commits:
    - subject: Removed links to hub
      hash: 09b8567c43f9e3aff55d2c162c5ea35080bc55bc
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Hampton (@rhampt) <rhampt@balena.io>
        signed-off-by: Ryan Hampton (@rhampt) <rhampt@balena.io>
      author: Ryan H
      nested: []
  version: 2.113.17
  title: ""
  date: 2023-03-16T14:08:01.614Z
- commits:
    - subject: "balena-image-flasher: Default image type to balenaos-img"
      hash: 36750c1d0e75d82ec096faeff6d61579c075e0c4
      body: |
        This avoids device repositories having to specify it, and it can always
        be overwritten in append files.

        This change is an extension of https://github.com/balena-os/meta-balena/commit/a3c276a1058d05e66991871bf167079fc2824843
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.113.16
  title: ""
  date: 2023-03-16T10:00:27.471Z
- commits:
    - subject: "resin-u-boot.bbclass: Replace static patch
        resin-specific-env-integration-kconfig.patch"
      hash: 281a2c8bd47bb77ccf1974ae05b9c42129094911
      body: >
        Because we use this patch with various u-boot versions it often happens
        that this patch

        does not apply so we then need to rework it in the device integration
        layer. Instead it

        would be better to have some code at configure time parsing the same
        file and inserting

        the balena env dynamically, so regardless of u-boot versions we use.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.113.15
  title: ""
  date: 2023-03-16T01:58:53.905Z
- commits:
    - subject: Update balena-supervisor to v14.9.4
      hash: 1220917cd334560a48faf580479e216b536dac42
      body: |
        Update balena-supervisor from 14.9.1 to 14.9.4
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Skip pin device step if release was deleted
              hash: f6435814cd86380dd3b02416f6f2199b483bb33c
              body: >
                Preloaded devices can require that the device is pinned to the
                preloaded

                release on provisioning. However if the provisioned release gets

                released in the future, that would lead to the device remaining
                in "VPN

                only" state forever as the provisioning process could not finish
                due to

                pinning failure.


                This commit changes the behavior so if the release does not
                exist, the

                pinning step is skipped and the device follows the fleet pinning
                state.
              footer:
                Closes: "#2133"
                closes: "#2133"
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.9.4
          title: ""
          date: 2023-03-13T20:49:30.509Z
        - commits:
            - subject: Use single-arch in dockerfile
              hash: 17aa625d3b115103efa30bb98b83ee1fc54230c4
              body: >
                This is necessary since the builder no longer passes the
                platform flag

                to the build. This would lead to dockerfiles that are mixing
                multi and single

                arch stages to pull the wrong architecture images, particularly
                when

                trying to build images in emulated builds (e.g. armv7hf built on
                aarch64).


                Moving the full build to single-arch solves this as the docker
                engine is

                capable of chosing the right architecture from the manifest.
                Once some

                of the builder issues are fixed, we should move to #2141
              footer:
                Relates-to: balena-io/balena-builder#1010
                relates-to: balena-io/balena-builder#1010
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.9.3
          title: ""
          date: 2023-03-10T22:26:07.185Z
        - commits:
            - subject: Replace BALENA-FIREWALL rule in INPUT chain instead of flushing
              hash: 84a9e7e9acd803b6b49d58ae3040694a5e2f823d
              body: >
                The issue with the original Supervisor implementation of the
                firewall is that

                on Supervisor start, the Supervisor flushes the INPUT chain of
                the filter table.

                This doesn't play well with services that add to the INPUT chain
                on startup that

                may start up before the Supervisor, such as certain
                NetworkManager connection

                profiles. This change only replaces the BALENA-FIREWALL rule in
                the INPUT chain,

                preserving the other rules as well as their order.
              footer:
                Closes: "#1482"
                closes: "#1482"
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.9.2
          title: ""
          date: 2023-03-02T21:48:06.727Z
  version: 2.113.14
  title: ""
  date: 2023-03-15T17:11:34.345Z
- commits:
    - subject: "update-balena-supervisor: use API request helper"
      hash: 91f8f7b6d77085614dace780997ff792c88b6ab2
      body: |
        Use an API request helper that checks the status code response before
        trying to use the response itself.

        Fixes #3052
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers: add test for os-helpers-api"
      hash: 9c8612027020ba14fd0f9c0435d2e0b754594b81
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers: add os-helpers-api"
      hash: 338edf9527652c467ad52046d75adfaf7a95ecf4
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.113.13
  title: ""
  date: 2023-03-15T13:00:48.209Z
- commits:
    - subject: Remove a bad check in Internet connection sharing test
      hash: 80d2c45d7318464935516acdc2dd884efaacf31a
      body: |
        In the Internet connection sharing test one of the checks may run
        into a racing problem. The following command is holding the iptables
        lock for 3 seconds while NetworkManager activates a connection with
        sharing enabled:

        `flock /run/xtables.lock sleep 3 & nmcli c up dummy & wait`

        NetworkManager waits for 2 seconds for the lock to be released and
        those three seconds should be enough for one of the iptables rules
        to fail. However there is no guarantee that NetworkManager will start
        adding the iptables rules that quickly - it may start adding those
        after one out of those three seconds already passed, which will
        lead to all iptables rules to be set at the end.

        This check is non-essential for the test itself, so it is removed with
        this commit.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.113.12
  title: ""
  date: 2023-03-14T10:35:04.209Z
- commits:
    - subject: "peak: Ship signed module when signing is enabled"
      hash: 97d64167c1bcbb76d1638486aa3eb158f37785c9
      body: >
        At this moment, when module signing is enabled, the peak module is
        signed

        but do_install ignores the signed variant and installs the original

        unsigned file. With this patch do_install installs the signed file

        if available.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.113.11
  title: ""
  date: 2023-03-14T01:03:28.843Z
- commits:
    - subject: "patch: Add balenaOS debugging docs"
      hash: a091584f0ab6af190fd7ad18ab7f5db091ae90f0
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.113.10
  title: ""
  date: 2023-03-09T16:37:31.248Z
- commits:
    - subject: "flasher: fix installation when in user mode w/ sb disabled"
      hash: 1592a4cfa4035892fcdc1484717bfcb5966221f3
      body: |
        Previously, we bailed out of the installer when the system was in user
        mode (keys enrolled) but the user had not opted in to secure boot, as it
        was ambiguous whether the user actually wanted SB/FDE.

        However, some systems come with vendor keys pre-enrolled, and a user may
        simply turn off secure boot in the firmware setup menu without erasing
        the keys. This would result in the installer bailing out even though
        secure boot is disabled in the firmware menu.

        Check that secure boot is enabled in addition to having keys enrolled
        before bailing out.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.113.9
  title: ""
  date: 2023-03-09T05:34:10.446Z
- commits:
    - subject: fix ip for dummy interface to avoid ip conflicts
      hash: e3fd7de4f5a61773a77cf33bd05a58c77186ecf2
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: os: NetworkManager iptables rules test for Internet sharing"
      hash: 90dbb8f414435c88e95a53535d003039ca7d42a4
      body: >
        Test for the NetworkManager patch done in

        https://github.com/balena-os/meta-balena/pull/2963


        A racing condition between balenaEngine and NetworkManager led to some
        Internet

        connection sharing iptables rules not being applied when NM connection
        profile

        with Internet sharing was activated at boot.


        This test checks whether all necessary iptables rules are added by
        artificially

        blocking iptables for 1 second and then for 3 seconds while a connection

        profile with Internet sharing is activated.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.113.8
  title: ""
  date: 2023-03-08T11:28:57.215Z
- commits:
    - subject: "conf: distro: balena-os: use lower case for signing key names"
      hash: 177a88c334a43fb8959f842170d6cbd976a9e53d
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.113.7
  title: ""
  date: 2023-03-07T18:26:31.574Z
- commits:
    - subject: "recipes-core/images: Ensure redsocks sample files are deployed"
      hash: fe8b2b248d6a65b26def40c9d374f04c813fd40c
      body: |
        ... before trying to include them in the boot partition, otherwise
        the yocto build may fail sporadically.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.113.6
  title: ""
  date: 2023-03-07T14:25:45.437Z
- commits:
    - subject: "image-balena.bbclass: deploy grub-conf before building the boot
        partition"
      hash: 22942a52bdf3f1cde6201c0bcc71cb72e3c899b9
      body: |
        do_resin_boot_dirgen_and_deploy needs all the partial files deployed
        when it runs as it will be copying them to the actual boot partition.
        There is a race condition between it and grub_conf:do_deploy,
        we have seen builds fail when grub_conf:do_deploy does not execute
        in time. This patch adds an explicit dependency to avoid such situation.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.113.5
  title: ""
  date: 2023-03-07T11:02:11.648Z
- commits:
    - subject: "balena-keys: do not ship certificates in DER format"
      hash: bef02fa7e4800e8c2370b6323ddfc56fb9adec62
      body: |
        We have added DER certificates because it is the only format
        that QEMU/TianoCore accepts in UEFI setup. Since we made setup mode
        work properly, there is no need to program the QEMU keys manually
        and therefore there is no reason to pollute the boot partition with
        the DER files. If indeed necessary, they can always be extracted
        from the ESL, which is still shipped. Shipping the DER files is also
        not possible when db uses hashes instead of certificates, which we
        want to move towards.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.113.4
  title: ""
  date: 2023-03-03T14:57:31.134Z
- commits:
    - subject: "balena-units-conf: launch os-config on config changes"
      hash: b3324272950bffa587963b8ce53d7111ebc04471
      body: |
        This allows to transition from unmanaged to managed by just writing
        a config.json file, like it's the case with AWS cloud configuration.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.113.3
  title: ""
  date: 2023-03-02T21:55:35.239Z
- commits:
    - subject: Refer to balenaEngine by its full name
      hash: 74b747bd20bf906704b75058f43248f8a5f0c20c
      body: |
        Previously, it was being referred to only as "balena". Being explicit
        that this is about balenaEngine makes it simpler to grep for
        Engine-related portions of balenaOS. Might also help a tad bit when
        looking at logs.
      footer:
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Change-type: patch
        change-type: patch
      author: Leandro Motta Barros
      nested: []
  version: 2.113.2
  title: ""
  date: 2023-03-02T13:07:15.621Z
- commits:
    - subject: "os-helpers-fs: formatting and fixing lint warning"
      hash: 69878f0fa6c83dfc7d38921c364577f00c2a4461
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers-fs: fix check for media attached"
      hash: 7f84a4220469f7324997488945ea2fd8eda45bb5
      body: |
        Fix the check for media attached to device that fails with:

        sh: [: -l: binary operator expected

        Also, redirect all output to use only the exit code.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: migrate: use du instead of wc to calculate byte sizes"
      hash: 28eb87859810e0a9e43936b4fc893fc5893510b0
      body: |
        The `du` utility has the same output format for single or several files,
        while the `wc` utility doesn't and does not display a total for single
        files.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.113.1
  title: ""
  date: 2023-02-28T13:33:39.382Z
- commits:
    - subject: "resin-init-flasher: use logging helper"
      hash: a34d154e494addc1f32a088909d56b7b237a731a
      body: |
        Replace custom logging with helper functions.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: replace shutdown for reboot in case of migration"
      hash: f5671f9514216c93b4770a20adc9ff71730f8f63
      body: |
        When migrating, we can't assume a device can be remotely powered on, so
        finish the flashing with a reboot instead of a shutdown.

        This is possible as the initramfs does not currently have a shutdown
        command and avoids the complexity of having to detect whether we are
        running from initramfs or not.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "README: add installer section"
      hash: 736f12029c93427fb6fe75cbb18fe9a0a73768a9
      body: |
        Document the installer section of `config.json`
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: Add migration module"
      hash: c59a7090f281a0b0e1602efded31816101c094b1
      body: |
        This module allows to program the internal storage from initramfs hence
        making it possible to migrate an existing OS by booting from the same
        disk.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "integration layers: use `android-tools` from Yocto Dunfell and before"
      hash: 0d9e43d1133eb246aa6b220198264ff10e72e512
      body: |
        The `android-tools-adbd` package was only split after Dunfell.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: comply with recovery mode"
      hash: b0e671fe8d1782bfdc38c277899be43ae0cab977
      body: |
        If booting in recovery mode, wait on adbd to exit before continuing.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscritps: Move moving /run mountpoint from rootfs to migrate
        module"
      hash: 7b3227c08f693131933fb9fea0d3796571837253
      body: >
        The migrate module needs to umount the rootfs, so by moving the
        mountpoint

        moving into the migrate module it's only done when not migrating.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: add recovery module"
      hash: 2431bc39dde12cab35f407423e4b57db3ec78aff
      body: |
        When `recovery` is passed in the kernel command line, the initramfs will
        not boot into the OS but launch adbd.

        A connection can then be established via the network (if a DHCP address
        is provided) or using a USB gadget connection.

        For a network connection, the client needs to install `adb` and run:
        ```
        adb connect $IPADDR:5555
        adb shell
        ```

        Other adb commands, like pull/push of files are also available.

        Resolves #2864
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.113.0
  title: ""
  date: 2023-02-25T14:46:47.829Z
- commits:
    - subject: "os-helpers-fs: add dependency on util-linux fdisk"
      hash: f27132636f4dda10d51cf0e1a3eb13d3db67b1a2
      body: |
        The os-helpers-fs script uses functionality not available on busybox's
        fdisk.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.112.15
  title: ""
  date: 2023-02-24T09:45:05.390Z
- commits:
    - subject: "balena-config-vars: Remove dependency on fatrw"
      hash: 57facfad07b7dd1de5687ab20258f6387575bd79
      body: |
        There is nothing in `balena-config-vars` itself that needs `fatrw`, so
        change it so scripts don't exit if it is not available. For example,
        `balena-config-vars` gets used in the initramfs but `fatrw` is not
        required (and it is quite heavy).
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-config-vars: split in two packages"
      hash: f120d3fea123fc45be78fec0759cd3779c597959
      body: |
        Introduce a `${PN}-config` package that only contains the
        balena-config scripts and not unit configuration dependencies.

        This allows to include only the balena-config scripts in the initramfs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Add raid support based on machine features
      hash: 4f43052ba8fbd74fb5af92fd8d818ef2512d08ab
      body: |
        Not all device types need to support RAID, and its components increase
        the images size significantly.

        This commit introduces a `raid` machine feature that device types need
        to define if RAID support is required.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "packagegroup-resin: add resin-device-progress dependency"
      hash: deb0fd28613ef26a0bbe1f588b8ed152b01b90cd
      body: |
        As we removed the dependency from `resin-init-flasher` given that it
        will also be used from the initramfs, move the dependency to
        packagegroup-resin so that resin-device-progress is still included in
        the flasher image.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: remove device-register and device-progress
        dependencies"
      hash: da696aff03e0080d67c87f1b4d3e7e12904b8e48
      body: |
        These are not always required for the flasher to work, only when the
        flasher is not running from initramfs.

        These dependencies are already part of the corresponding packagegroups,
        so listing them here is redundant and wrong as it increases the size of
        the initramfs with no reason.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: reduce dependencies"
      hash: b4b6dded00d2710f29f1bbef97dd6937a4766821
      body: |
        As we are pulling resin-init-flasher into the initramfs optimise the
        dependencies by removing the whole util-linux package and adding
        dependencies for the specific tools it uses.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers-fs: replace inform with info helper"
      hash: c9863f14cf000586d9167ab9b3d1406630c60a85
      body: |
        `inform` will print to stdout which is used by calling functions.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: Build time check on INTERNAL_DEVICE_KERNEL only
        for flasher device types"
      hash: 33e33381ce8353bc539a1c61eec75ade2447eddc
      body: >
        Now that the installer script is added to the initramfs and is included

        both for flasher and non-flasher device types, limit the

        `INTERNAL_DEVICE_KERNEL` existence check to flasher images as

        it is only used in the installer script.


        Also, make the resin-init-flasher script check for it's existance before
        using

        it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: wait for the by-label links to be created"
      hash: 21e7b74a4f8af7baf751859e5a5477c2ae99c8fa
      body: >
        The by-label links can be used both for physical and mapper devices
        (used

        in disk encryption).


        Adding a loop that waits for the links to be available adds robustness

        in case there are device specific delays.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.112.14
  title: ""
  date: 2023-02-22T15:35:14.876Z
- commits:
    - subject: "recipes-bsp/u-boot: Disable saveenv shell command"
      hash: 376e597c49c8b011559294501d9158184d4742f4
      body: |
        balenaOS uboot exports specific environment variables
        in resinOS_uEnv.txt and does not have any use-cases of
        saving the entire uboot environment in any device specific
        partitions. This because it relies on the default environment being
        stored in the u-boot binary.

        Let's disable the saveenv command and avoid potential incorrect
        usage which may overwrite the partition table, resin-boot filesystem
        or other areas of the eMMC that may be pre-configured by the BSP.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
    - subject: Update tests/leviathan digest to 771bac8
      hash: 3c5ea2af806515b479f605d0df64fd347393b5f6
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested: []
  version: 2.112.13
  title: ""
  date: 2023-02-22T10:34:14.804Z
- commits:
    - subject: "os-helpers-fs: get_internal_device() skip disks w/out media"
      hash: 1da9ea7a3ea1fb87ce31c9281376c2ad5110c1dd
      body: |
        Block device nodes are sometimes created without attached media. These
        devices can neither be read from, nor written to. In this case, the
        flasher will attempt to install to the invalid disk and fail.  Detect
        this case and skip the disk to allow flashing to continue.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.112.12
  title: ""
  date: 2023-02-20T23:28:32.426Z
- commits:
    - subject: Update tests/leviathan digest to 84c2b96
      hash: 42f3b3d1fb78b411cf2438c178c13bad293c98a9
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update core/contracts digest to 93ba80c
              hash: af30f3eac9c532f57ddb2dc4abb5f06c63bc8877
              body: |
                Update core/contracts to

                Update core/contracts from  to
              footer:
                Change-type: minor
                change-type: minor
              author: Renovate Bot
              nested: []
          version: leviathan-2.22.0
          title: ""
          date: 2023-02-20T12:47:09.199Z
  version: 2.112.11
  title: ""
  date: 2023-02-20T17:44:14.866Z
- commits:
    - subject: "tests: os: secureboot: skip if system is not locked down"
      hash: 00ad363a00eef7805f9f0569d43b933b28504abb
      body: |
        Secure boot is now opt-in, even in the case where the image is signed,
        and it's supported in firmware. Skip the secure boot tests when it's not
        enabled at runtime.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.112.10
  title: ""
  date: 2023-02-20T15:27:19.879Z
- commits:
    - subject: Update tests/leviathan digest to 8a7bdcc
      hash: 128aa14588d7422beed6ffa68f5594910a394dd3
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update core/contracts digest to 103037c
              hash: 552aeee66ae5b0a1918e8ccd1c3e12203a602adc
              body: |
                Update core/contracts to

                Update core/contracts from  to
              footer:
                Change-type: minor
                change-type: minor
              author: Renovate Bot
              nested: []
          version: leviathan-2.21.0
          title: ""
          date: 2023-02-20T08:26:59.418Z
        - commits:
            - subject: "client: throw errors instead of blanket handling"
              hash: 0f4b4b55b01bbfb023bcddba0ea585bcbe968a07
              body: >
                Remove try/catch block surrounding client code that blanket
                handles all

                exceptions, and makes debugging and log messages worse.


                When we don't have a valid way to handle an exception, just
                throw it.

                The traceback is more useful than the handler.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.20.1
          title: ""
          date: 2023-02-20T06:55:01.314Z
  version: 2.112.9
  title: ""
  date: 2023-02-20T10:31:10.153Z
- commits:
    - subject: Update balena-supervisor to v14.9.1
      hash: c9ea12209bd6427234012a624304439ff32ddb62
      body: |
        Update balena-supervisor from 14.9.0 to 14.9.1
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Always lower case the cpu id to avoid bouncing between casing when
                reporting
              hash: d356f979d3addbf8b08933694b9e80f66af8d9e2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-14.9.1
          title: ""
          date: 2023-02-15T14:13:57.161Z
  version: 2.112.8
  title: ""
  date: 2023-02-17T11:27:28.794Z
- commits:
    - subject: "renovate: Only consider github releases when bumping engine"
      hash: 3793f39f0081e2e7a4d3ce38a206771e618faf20
      body: |
        The engine is currently versioned in such a way that upstream
        semver tags are added to branches before merging to master.

        We don't want to try and pin to those commits so only
        consider automated GitHub Releases.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.112.7
  title: ""
  date: 2023-02-16T15:20:17.402Z
- commits:
    - subject: Update tests/leviathan digest to 92cb71a
      hash: 029d02e0f656ed42fda0398a440741b7bf649f56
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update core/contracts digest to 9b8811f
              hash: 377606d77cee69fff7f272b58e597f111e99de78
              body: |
                Update core/contracts to

                Update core/contracts from  to
              footer:
                Change-type: minor
                change-type: minor
              author: Renovate Bot
              nested: []
          version: leviathan-2.20.0
          title: ""
          date: 2023-02-16T07:39:32.419Z
        - commits:
            - subject: "patch: Improve Getting Started instructions"
              hash: 50dfd8d30591dfd7a513e8b135d8866413cf5982
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.19.2
          title: ""
          date: 2023-02-15T20:15:38.071Z
  version: 2.112.6
  title: ""
  date: 2023-02-16T12:52:59.268Z
- commits:
    - subject: "grub: Add chain module to support multiboot"
      hash: 4bf5883849e869cfe3e166cd69e2db8e7861b492
      body: |
        This is used to support falling back into the original OS when
        performing a brownfield migration into balenaOS from a flasher image.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.112.5
  title: ""
  date: 2023-02-16T10:19:12.824Z
- commits:
    - subject: Update backports with current 2.102.x
      hash: 23f8f6428cecd2933800e3ae9f7cdc82f6bdebc7
      body: |
        Set current to 2.102.x, next to 2.107.x and sunset to 2.99.x
      footer:
        Change-type: patch
        change-type: patch
      author: BalenaCI github workflow
      nested: []
  version: 2.112.4
  title: ""
  date: 2023-02-15T13:23:18.936Z
- commits:
    - subject: "workflows: update-backports: remove skipping tests"
      hash: 36ee78634fdc2c95644fcf2ad303d48b6193b6f2
      body: |
        It's not clear how the feature to skip tests work, so modify the commit
        message to be of type patch to avoid balenaCI errors on type none.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.112.3
  title: ""
  date: 2023-02-15T13:15:45.445Z
- commits:
    - subject: "workflows: add update-backports"
      hash: 04b6db97ced04eeae3204c9c88d162355abd297c
      body: |
        This workflow will update the backports entry in repo.yml after a new
        ESR release is created.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.112.2
  title: ""
  date: 2023-02-15T12:29:05.023Z
- commits:
    - subject: Update aufs5 kernel patches for 5.10 versions
      hash: 525ae72f84fe7092dd642cb1068238e0593f9e2e
      body: >
        We update to the newest patch revisions for 5.10 kernel versions from
        upstream
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update aufs5 kernel patches for 5.10 versions
        changelog-entry: Update aufs5 kernel patches for 5.10 versions
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.112.1
  title: ""
  date: 2023-02-15T10:31:48.529Z
- commits:
    - subject: Update balena-supervisor to v14.9.0
      hash: d436bcdd9aedb07602b7ac18008525312409fb82
      body: |
        Update balena-supervisor from 14.8.0 to 14.9.0
      footer:
        Change-type: minor
        change-type: minor
      author: Renovate Bot
      nested:
        - commits:
            - subject: Find and remove duplicate networks
              hash: 89175432af9beb9f9765a6cfdbc8914a8eae251e
              body: >
                We have seen a few times devices with duplicated network names
                for some

                reason. While we don't know the cause the networks get
                duplicates, this

                can be disruptive for updates as trying to create a container
                referencing a duplicate

                network results in a 400 error from the engine.


                This commit finds and removes duplicate networks via the state
                engine,

                this means that even if somehow a container could be referencing
                a

                network that has been duplicated later somehow, this will remove
                the

                container first.


                While thies doesn't solve the problem of duplicate networks
                being

                created in the first place, it will fix the state of the system
                to

                correct the inconsistency.
              footer:
                Change-type: minor
                change-type: minor
                Closes: "#590"
                closes: "#590"
              author: Felipe Lalanne
              nested: []
            - subject: Reference networks by Id instead of by name
              hash: 180c4ff31ad719fb2b00217548514d42a4b5c4cf
              body: |
                We have seen a few times devices with duplicated network names for some
                reason. While we don't know the cause the networks get duplicates,
                this is disruptive of updates, as the supervisor usually queries
                resource by name, resulting in a 400 error from the engine because of
                the ambiguity.

                This replaces those queries by name to queries by id. This includes
                network removal. If a `removeNetwork` step is generated, the supervisor
                opts to remove all instances of the network with the same name as it
                cannot easily resolve the ambiguity.

                This doesn't solve the problem of ambiguous networks, because even if
                networks are referenced by id when creating a container, the engine will
                throw an error (see https://github.com/balena-os/balena-supervisor/issues/590#issuecomment-1423557871)
              footer:
                Change-type: patch
                change-type: patch
                Relates-to: "#590"
                relates-to: "#590"
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-14.9.0
          title: ""
          date: 2023-02-14T17:10:08.122Z
  version: 2.112.0
  title: ""
  date: 2023-02-14T19:28:11.748Z
- commits:
    - subject: "tests: hup: fix flashing for tx2"
      hash: 6e49511d7de1e88ba3a42e6b546cf5e0ebe9a7cf
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.111.4
  title: ""
  date: 2023-02-14T12:45:58.350Z
- commits:
    - subject: Update tests/leviathan digest to 975e8ca
      hash: c20e74bf9f52eb6de9800938c1872fc7c12fbb32
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: "docker-compose: qemu: remove dep on swtpm"
              hash: 6d47df092a224b74251d6159f1e57796cc229c3d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.19.1
          title: ""
          date: 2023-02-14T01:24:14.769Z
  version: 2.111.3
  title: ""
  date: 2023-02-14T03:29:04.625Z
- commits:
    - subject: "docs: add section for sb/fde opt-in"
      hash: 0b6b034cbb0ca5a9cd7a13690d1f8b0b7485e674
      body: |
        Document the opt-in boolean for secure boot and full-disk encryption.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.111.2
  title: ""
  date: 2023-02-13T14:35:32.625Z
- commits:
    - subject: "resin-init-flasher: do not report progress if unprovisioned"
      hash: c6e81823002c1b7f73373fc5eee9434c8805f5b5
      body: |
        If we know we have not provisioned, let's not print errors when the
        report cannot be sent.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: check splash configuration exists before copying"
      hash: 150bef07e330695cc2abcc1e46d533ed43b0a732
      body: |
        Otherwise, if the flasher is configured without a splash configuration
        directory, the boot partition content is overwritten.
      footer:
        Change-type: patch
        change-type: patch
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: Move configuration data definitions to config file"
      hash: be9f8c76eab4494d6dfaaca81ec2c695d9f78d8c
      body: |
        This exposes a file based interface for configuration sharing. The
        clarity is needed while working on the migrator.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.111.1
  title: ""
  date: 2023-02-13T09:12:12.081Z
- commits:
    - subject: Update balena-supervisor to v14.8.0
      hash: 8b951dd95f2323524a7aab8a4a08182f31b43fc3
      body: |
        Update balena-supervisor from 14.7.1 to 14.8.0
      footer:
        Change-type: minor
        change-type: minor
      author: Renovate Bot
      nested:
        - commits:
            - subject: Remove dependent devices content in codebase
              hash: c4f9d72172ef678c73ee05e8766c9bcfddd47073
              body: >
                This includes:

                - proxyvisor.js

                - references in docs

                - references device-state, api-binder, compose modules, API

                - references in tests


                The commit also adds a migration to remove the 4 dependent
                device tables from the DB.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Christina Ying Wang <christina@balena.io>
                signed-off-by: Christina Ying Wang <christina@balena.io>
              author: Christina Ying Wang
              nested: []
          version: balena-supervisor-14.8.0
          title: ""
          date: 2023-02-10T23:01:03.277Z
  version: 2.111.0
  title: ""
  date: 2023-02-11T01:57:28.602Z
- commits:
    - subject: Update tests/leviathan digest to 589449d
      hash: 52969e49099d62c2138d0beb77e8d2e594cfac44
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Update core/contracts digest to 35f4223
              hash: e961e26202498739b02e204ac20783b304274835
              body: |
                Update core/contracts to

                Update core/contracts from  to
              footer:
                Change-type: minor
                change-type: minor
              author: Renovate Bot
              nested: []
          version: leviathan-2.19.0
          title: ""
          date: 2023-02-10T06:55:02.463Z
  version: 2.110.4
  title: ""
  date: 2023-02-10T16:27:06.148Z
- commits:
    - subject: "os-helpers: remove shebangs as these are not meant to be executed"
      hash: 5ffda998055973cb6f4cb68a355b1a73bdea7c48
      body: |
        The os-helpers scripts are meant to be sourced by other scripts, not
        executed. When sourced, the shebang should be ignored.

        However, we have seen instances where a bash script sourcing a sh
        os-helper scripts triggers POSIX behaviour, specifically glob parsing
        failures.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resindataexpander: Fix formatting"
      hash: 58e3ee6755fac41e831fdf2b296c6e5f997b190b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: Extract code that resolved internal device"
      hash: f85631573b08efdc298a82d5e5471a3fe6606d66
      body: |
        This is now also used from the migrator module.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers-fs: Add shared code from resin-init-flasher"
      hash: 59886212f4f73cac06bb3f62fd61878856a40536
      body: |
        As we work in the migrator there is some code we want to share.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: remove unused variable"
      hash: 800db4f0ce54dcd9d2f9b1ef8300c1534a3a55c1
      body: |
        The INTERNAL_DEVICE_CONF_PART_MOUNTPOINT is no longer used in the code.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: Use the default for the external boot partition
        mount"
      hash: 9599a70c6e7440dde993d847e1e1800f5f5d4409
      body: |
        This simplifies the code as we only set the boot partition mount in one
        place.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: search for images to copy instead of hardcoding
        paths"
      hash: c261dbf4c96ee4204001be8e96654ebadf490516
      body: |
        The files will live in different places depending on whether the script
        is run from a flasher image or from initramfs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: Do not  hardcode the path to the internal boot
        device"
      hash: 60f130fabd947f1d929213196419bc2153258b2c
      body: |
        Make sure the internal boot device we mount is the one we have just
        programmed - using the resin-boot label might clash.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: remove systemd dependency"
      hash: dbda0afade7c575f0b1f4ac3146e9760a5bcda26
      body: |
        Allow to run the script from initramfs where no systemd is installed.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: Do not hardcode path to the raw image"
      hash: e48c090e1285ac03281c80d44644961d3f253d96
      body: |
        Allow the script to search for the raw balena image in the rootfs. This
        allows to use the raw image from different sources.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscript: prepare: expose path to initramfs logs"
      hash: b82c8deb415c0e83bc1fa393036c4f3259019f2d
      body: |
        This allows other module to use it without hardcoding the value.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscript: resindataexpander: skip for flasher images"
      hash: f3448518b30f2cb41c4ee38e246b35f5ba7b77df
      body: |
        The code outside of the enabled and run functions is not meant to be
        executed for flasher images and it prints verbose errors.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "docs: add initramfs overview"
      hash: 6bcfb867ef9c5381c7a07e6f595f13e7d15b66d0
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.110.3
  title: ""
  date: 2023-02-09T11:41:04.136Z
- commits:
    - subject: Update tests/leviathan digest to 4f63a2d
      hash: 1c5a216f8e5eee8f1150db3838af2f32e04a510d
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: "patch: Automate docs deployment with Flowzone"
              hash: 80e54cfbf70f33393e2727d244f02e29355d2da4
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.18.1
          title: ""
          date: 2023-02-07T17:39:20.063Z
        - commits:
            - subject: Update core/contracts digest to 7797750
              hash: 397528cd30ec8bba1f65ab8ce4234204ab544bb4
              body: |
                Update core/contracts to

                Update core/contracts from  to
              footer:
                Change-type: minor
                change-type: minor
              author: Renovate Bot
              nested: []
          version: leviathan-2.18.0
          title: ""
          date: 2023-02-07T08:53:50.875Z
        - commits:
            - subject: "patch: Update client lockfile"
              hash: 515a6883a0aa236ecdf3846721af4524205d70b7
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
            - subject: "patch: Update core lockfile"
              hash: da7fd4ea8c75c41a02e542bbb56b907ebfdb0545
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.17.6
          title: ""
          date: 2023-02-07T07:44:52.573Z
        - commits:
            - subject: "patch: Update core dependencies"
              hash: 2b91fb5147f662dfa11cd4413982c9427c06f37d
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.17.5
          title: ""
          date: 2023-02-06T14:27:06.833Z
  version: 2.110.2
  title: ""
  date: 2023-02-07T22:31:50.564Z
- commits:
    - subject: "renovate: Include to and from versions for supervisor and engine"
      hash: 3ae9703ba53a33e99e2ee81e588466f0e4665977
      body: |
        This allows properly formatted commit messages to support
        nested changelogs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.110.1
  title: ""
  date: 2023-02-07T16:40:57.399Z
- commits:
    - subject: Update balena-supervisor to v14.7.1
      hash: 53b0b2cf27a0460d80ef4a3881840ac9f2767353
      body: Update balena-supervisor
      footer:
        Change-type: minor
        change-type: minor
      author: Renovate Bot
      nested: []
  version: 2.110.0
  title: ""
  date: 2023-02-07T12:28:37.194Z
- commits:
    - subject: "efitools: backport patch to fix build failure"
      hash: 4497229d9d3435384564cde802a3d16cbc47300c
      body: |
        Copied from buildroot mailing list:
        http://lists.busybox.net/pipermail/buildroot/2021-April/610255.html
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "efitools: fix cross-compilation on arm"
      hash: 86887855e9023e56cd9c96fdfc29053f649366f5
      body: |
        efitools defaults ARCH to x86_64 when unset, leading to architecture
        specific flags being misapplied, breaking the build

        Set ARCH based on the target architecture, and override OBJCOPY to the
        binary provided by the target architecture's toolchain.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: Only include EFI tools if the machine feature is defined
      hash: ebeccdfa45e5e98215aa3b47429df1be82750021
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.109.2
  title: ""
  date: 2023-02-07T09:05:22.787Z
- commits:
    - subject: "resin-extra-udev-rules: Remove after all device types have been updated"
      hash: 75dd55660bcb9e37f458b505e23acc3f19dfddc7
      body: |
        This recipe has now been renamed to extra-udev-rules across all device
        types repositories.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.109.1
  title: ""
  date: 2023-02-06T20:35:12.019Z
- commits:
    - subject: "kernel-balena: Remove apparmor support"
      hash: 18cd233a83554b58b3540164afd768fdeda60b03
      body: |
        Newer releases of moby expect appArmor userland tools when appArmor is
        enabled in the kernel.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.109.0
  title: ""
  date: 2023-02-05T16:28:20.664Z
- commits:
    - subject: "flasher: handle user mode system w/out secure boot"
      hash: 73ca2d64f9bc22764694f774898db02a6c9e9825
      body: |
        When a user runs the flasher with secure boot enabled in `config.json`,
        the public keys used to validate the bootloader are enrolled. If any
        other bootloader signature fails to validate against this public key, it
        won't be executed.

        If the user attempts to run the balenaOS flasher on that system again
        without first enabling the secure boot option, the flasher won't enroll
        keys, but the installed system will be signed. This will result in a
        secure boot enabled system without full-disk encryption.

        Bail out in this case so the user must choose to explicitly opt-in to
        secure boot for the new installation, and full-disk encryption along
        with it. Otherwise, the user must reset the enrolled keys to install
        without secure boot.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "flasher: fix keys not enrolling with secure boot enabled"
      hash: e9622bc5bb415d98bfd3c3277db96e5b585c583b
      body: |
        Extended globbing is not enabled by default, which makes the substring
        match for trimming leading zeroes not work. This causes SETUPMODEVAR to
        evaluate to "01", which fails comparison with the string "1", skipping
        key enrollment when secure boot is enabled. Compare using an integer
        expression instead.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "flasher: fix secure boot setup with enrolled keys"
      hash: 2116dc08fbc8e0df3739fc1067a3884712a55ade
      body: >
        When refactoring secure boot setup, a logic mistake in the purpose and

        use of SECUREBOOT_VAR meant that devices booting the flasher with keys
        already

        enrolled would bail out with an incorrect message about secure boot not

        being supported in firmware.


        This variable is `00` on systems with secure boot support in firmware,

        but not enabled and enforced, `01` on systems where secure boot is

        enforced, and empty when secure boot is unsupported.


        Change this conditional to bail out only when the variable is empty,

        indicating that secure boot is unsupported.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.108.39
  title: ""
  date: 2023-02-03T23:26:11.949Z
- commits:
    - subject: Update leviathan to v2.17.4
      hash: c1bae2e96f6cc4209899a31e7bdb85078135076d
      body: |
        Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested:
        - commits:
            - subject: "patch: Upgrade client to v18"
              hash: 4a29cfca1dc2176bf47d032cfd920b01ca4df3a8
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.17.4
          title: ""
          date: 2023-01-28T07:04:28.321Z
        - commits:
            - subject: "patch: Update client dependencies"
              hash: 453e1b5bdd03b724bd8331faa3ea04243efbbfce
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.17.3
          title: ""
          date: 2023-01-26T20:41:43.701Z
        - commits:
            - subject: "chore(deps): update alpine docker tag to v3.17.1"
              hash: 2de5aacb8b4ba86bf2392e23551f9e865138736e
              body: |
                Update alpine to 3.17.1

                Update alpine from 3.17.0 to 3.17.1
              footer:
                Change-type: patch
                change-type: patch
              author: renovate[bot]
              nested: []
          version: leviathan-2.17.2
          title: ""
          date: 2023-01-19T21:20:13.041Z
        - commits:
            - subject: "patch: Convert balenaCloudInteractor to JS"
              hash: a8da6622d1ba6468f8130a51b260519847625583
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.17.1
          title: ""
          date: 2023-01-19T15:53:32.738Z
        - commits:
            - subject: "chore(deps): update dependency json5 [security]"
              hash: 36d7967c770b7929948882f043f03c455416572f
              body: |
                Update json5 to 1.0.2

                Update json5 from 1.0.1 to 1.0.2
              footer:
                Change-type: minor
                change-type: minor
              author: renovate[bot]
              nested: []
          version: leviathan-2.17.0
          title: ""
          date: 2023-01-19T01:06:24.777Z
        - commits:
            - subject: split swtpm service into separate compose file
              hash: 93d0160eb9a07c86c309cb2c0c2f1b709185884d
              body: >
                Not all platforms support secure boot, notably aarch64 using
                tianocore

                firmware. Additionally, swtpm may not be available for all
                platforms.

                Accordingly, move the swtpm service to a separate compose file
                that is

                only used when secure boot is enabled.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.16.1
          title: ""
          date: 2023-01-19T00:41:15.836Z
        - commits:
            - subject: "chore(deps): update core/contracts digest to 8392bb2"
              hash: ab31953ea1d8e8145be1ee27b876a838c21baa0a
              body: |
                Update core/contracts to 

                Update core/contracts from  to 
              footer:
                Change-type: minor
                change-type: minor
              author: renovate[bot]
              nested: []
          version: leviathan-2.16.0
          title: ""
          date: 2023-01-18T06:30:50.979Z
        - commits:
            - subject: "patch: Drop config NPM package"
              hash: f4cdd63b1b2976a6699e710e96355250ab439343
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.15.1
          title: ""
          date: 2023-01-17T12:42:44.293Z
        - commits:
            - subject: "chore(deps): update dependency ansi-regex [security]"
              hash: 795fabd9701bb10b46f80b931648a9ccc50f1a48
              body: |
                Update ansi-regex to 4.1.1

                Update ansi-regex from 4.1.0 to 4.1.1
              footer:
                Change-type: minor
                change-type: minor
              author: renovate[bot]
              nested: []
          version: leviathan-2.15.0
          title: ""
          date: 2023-01-14T15:28:50.892Z
        - commits:
            - subject: "compose: qemu: add swtpm service"
              hash: 302446a90ceedf0e406ed5edef7600925cf55c8c
              body: >
                QEMU is capable of using an emulated software TPM exposed via
                socket. A

                TPM is necessary for full disk encryption (FDE), so add a
                service to

                provide this to the QEMU worker.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.14.9
          title: ""
          date: 2023-01-05T23:53:03.325Z
  version: 2.108.38
  title: ""
  date: 2023-02-03T18:37:02.754Z
- commits:
    - subject: Update balena-engine to v20.10.26
      hash: 488f4d5888f7133ec70a3c41cff6289bb23ef05b
      body: Update balena-engine
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested: []
  version: 2.108.37
  title: ""
  date: 2023-02-02T17:29:34.078Z
- commits:
    - subject: "flasher: remove duplicate EFI boot entries"
      hash: f93eb1a115a74af3a1875cbbd26306ddb76acd63
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "flasher: create EFI boot entry"
      hash: 5979409faeaaa2b0df7503b408e202d87c6d2f7b
      body: |
        Some firmwares will not boot balenaOS by default without explicitly
        creating a boot entry, so create one on EFI platforms after flashing.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "common: os-helpers-fs: fix get_dev_path_from_label w/ luks"
      hash: 3b7ad68f938776db770a067de6b2973876cc7430
      body: |
        get_dev_path_from_label() calls lsblk to get the name and label of a
        disk, then filters the list using the label and returns a /dev path.

        The name returned when using a luks encrypted partition is the
        /dev/mapper name, rather than the kernel's device mapper name under
        /dev/dm-*. When assembling a path under /dev using the luks name, the
        path is invalid, and the by-state links aren't created.

        This leads to the rootfs hook failing to find and mount the resin-rootA
        partition.

        Change the attribute retrieved using lsblk to kname to fix this.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "flasher: make secure boot opt-in"
      hash: c6b84df2e571231bea8283e88750af949ca78df9
      body: |
        Opt-in to secure boot, full-disk encryption, and kernel lockdown with
        the `secureboot` boolean in the `installer` object contained in
        config.json.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "flasher: ensure image is signed before enrollment"
      hash: 765ec79b9760a8822fab5801459398b798bd5e31
      body: |
        The flasher image enrolls the secure boot keys before rebooting into
        secured user mode and creating the encrypted luks volumes on disk.

        If the image is not signed, the key enrollment will fail, and the
        flasher will enter a loop trying to enroll them and rebooting.

        Instead, skip the key enrollment if the image is not signed, resulting
        in a non secure-boot installation.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "flasher: refactor secure boot block"
      hash: 7127247bdabe96827b13837a573fc0c3966b1557
      body: |
        Improve readability and formatting of secure boot configuration section
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.108.36
  title: ""
  date: 2023-02-02T10:23:47.357Z
- commits:
    - subject: "renovate: Add regex manager for balena-engine"
      hash: 30e3fcdff7a2d02cbe6eb744f02e313471de9785
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.108.35
  title: ""
  date: 2023-02-01T17:18:53.825Z
- commits:
    - subject: "docs: Add secure boot and disk encryption overview"
      hash: 2c808fd7ea1355f3aa9541970f836a978e1bb7c9
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "hostapp-update-hooks: Fail if new keys are used"
      hash: e61b8183fc046b733f18c55ae21cdde29ec28064
      body: |
        Abort the hostOS update if new keys are detected so the device is
        not bricked until updating keys is supported.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: In setupmode program new keys"
      hash: 46a0b3839eccb69e00d15fd69027b904a8613a89
      body: |
        If the device has been configured in setupmode, make the flasher images
        program the balena keys from the boot partition.
      footer:
        Relates-to: "#2444"
        relates-to: "#2444"
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.108.34
  title: ""
  date: 2023-02-01T13:14:46.064Z
- commits:
    - subject: "tests: os: skip persistent logging test for pi0"
      hash: 2b35568f7d8743a59250dd7824858a42f8eb35fe
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.108.33
  title: ""
  date: 2023-01-31T18:21:33.712Z
- commits:
    - subject: "efitools: Allow builds for ARM architecture"
      hash: 03962bda4860726332715df5fbdec05a475b6026
      body: >
        There are ARM systems that use UEFI, and for example the `efivar`
        package

        can also be built for ARM architectures.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.108.32
  title: ""
  date: 2023-01-31T15:09:50.319Z
- commits:
    - subject: "rollback-health: bind-mount EFI partition when split from boot"
      hash: 2ebbcd90b5e2b12ff44af0f85183329b3db773e7
      body: |
        With secure boot enabled boot and EFI partition are split apart.
        During rollback-health, when bind-mounting inactive root to run
        old hooks from, the EFI partition must be bind-mounted as well
        otherwise the /mnt/boot/EFI symlink is invalid and rollback fails
        to deploy files into that directory.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.108.31
  title: ""
  date: 2023-01-31T07:07:29.232Z
- commits:
    - subject: "redsocks: Deploy README and sample configration file"
      hash: caed40bf5a5d02a9a06e2a3fb0735dc45995994e
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
    - subject: "recipes-bsp/u-boot: Import extra uboot environment from scanned devices"
      hash: 14420225697fb7fb4b7bf7135ef7367631a92076
      body: |
        This allows for the testbot to set resin_flasher_skip=0
        in the extra_uEnv.txt file of the flasher image and
        bypass the boot switch detection mechanisms used for
        specific private device types.

        The boot pins would otherwise prevent the flasher
        from running if they were set to the eMMC position.

        The flasher extra_uEnv.txt file overrides any resin_flasher_skip
        value previously configured by the device integration layer.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.108.30
  title: ""
  date: 2023-01-30T13:05:34.970Z
- commits:
    - subject: "bluez: Update to v5.66"
      hash: 00342a7702226dc071f6b690bd68fdab5c9996c2
      body: |
        Update from v5.64 to v5.66

        Fixes #2981
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.108.29
  title: ""
  date: 2023-01-28T09:44:05.026Z
- commits:
    - subject: "patch: Update balenaOS docs title"
      hash: ec4bb501c04430c0507e7b31d53b5c0eab25063f
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.108.28
  title: ""
  date: 2023-01-26T18:36:44.693Z
- commits:
    - subject: "tests: os: fix tests that use glider on rpi0"
      hash: 864b4ed84c7af438d61501a77996639f3af3499c
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.108.27
  title: ""
  date: 2023-01-20T23:08:16.096Z
- commits:
    - subject: Enable back connectivity check in NetworkManager
      hash: b4ae8c2df204107054316e8b9f78075155c1f606
      body: |
        In v2.108.0 we did a major NetworkManager upgrade as we started using
        meson as a build system. The connectivity check feature was left
        disabled, which is a regression and it produces fake results.

        This commit enables it back.

        Fixes #2964.
      footer:
        Changelog-entry: Enable back connectivity check in NetworkManager
        changelog-entry: Enable back connectivity check in NetworkManager
        Change-type: patch
        change-type: patch
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.108.26
  title: ""
  date: 2023-01-20T10:35:50.736Z
- commits:
    - subject: "tests: os: add basic SB/FDE tests"
      hash: f8ada0481cc159fd03ac1291c981e4dc0d03342d
      body: |
        Check for secureboot and full-disk encryption when supported by
        firmware.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.108.25
  title: ""
  date: 2023-01-18T21:44:59.128Z
- commits:
    - subject: "networkmanager: Make iptables wait for xtables.lock"
      hash: afebbcddeebdda9e5988507a5fcf5ad93cf79cab
      body: |
        iptables takes a file lock at /run/xtables.lock. By default, if
        the file is locked, iptables will fail with error. When that happens,
        the iptables rules won't be configured, and the shared mode
        (for which we use iptables) will not be setup properly.

        Instead, pass "--wait 2", to block.

        The included patch has to be removed once we upgrade to next
        NetworkManager version as it is already included upstream.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.108.24
  title: ""
  date: 2023-01-18T11:11:18.440Z
- commits:
    - subject: "balena-keys: rebuild if keys change"
      hash: 64cc69a741568d2c2e95cd4197b18628310f34e2
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: sign-*: resign if keys change"
      hash: 1decda2966271638196840c04955ffa12a57158a
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.108.23
  title: ""
  date: 2023-01-16T23:11:19.102Z
- commits:
    - subject: "workflows: esr: use semver compatible versions"
      hash: 36b9c035f5d7b55540c2190492f6e02af890bd13
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.108.22
  title: ""
  date: 2023-01-16T09:25:15.067Z
- commits:
    - subject: "efitools: Package lock down EFI image into its own package"
      hash: 461ad62f13732cd325f3f532fda4fac4b9ffb3da
      body: >
        This EFI image contains the secure boot certificates and when executed
        it

        is supposed to load the keys into the respective secure boot slots.


        We don't use this binary in our secure boot implementation, but
        currently

        the build breaks as the binary is installed but not packaged.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.108.21
  title: ""
  date: 2023-01-14T11:56:57.966Z
- commits:
    - subject: "workflows: meta-balena-esr: Fix version calculation"
      hash: b56da33230839f4af74bac954cf834c2116e6209
      body: |
        Correct the calculation of the version to include in the yml file.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.108.20
  title: ""
  date: 2023-01-12T14:06:53.452Z
- commits:
    - subject: "redsocks: Increase maximum number of open files"
      hash: e90b9159ed5f0dac3d9fe1b1b486201ee85f1161
      body: |
        This increases the number of open connections that redsocks can support
        to a new maximum of 2048.

        See https://github.com/darkk/redsocks/blob/19b822e345f6a291f6cff6b168f1cfdfeeb2cd7d/base.c#L419
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.108.19
  title: ""
  date: 2023-01-10T18:47:46.842Z
- commits:
    - subject: 'Revert "flasher: output logs to serial console"'
      hash: 406317b15726798d0c11928851897a530c980170
      body: |
        In development mode, the flasher service is killed by getty. Revert this
        change to unbreak the flasher when OS development is enabled.

        This reverts commit 131893e433ef64a1f3b05dfcd44b0e022f13646d.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.108.18
  title: ""
  date: 2023-01-09T22:49:31.599Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.4.10
      hash: ee049573aecb9004d53fd4134ec4aa8c21c99e6c
      body: Update balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.108.17
  title: ""
  date: 2023-01-09T15:58:47.708Z
- commits:
    - subject: "balena-supervisor: Set the supervisor package version"
      hash: 950cbe5dd708511e37d707d4121032cc06376d1a
      body: |
        This should reflect the included supervisor version in the hostapp
        manifest.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.108.16
  title: ""
  date: 2023-01-09T10:35:58.184Z
- commits:
    - subject: Update tests/leviathan digest to e23c1bb
      hash: d823c8af4587ac7ac7a776a60d75d4a18fa8b36c
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "chore(deps): update dependency eslint-config-standard to 17.0.0"
              hash: 79b20a0922d590ac7fd9e8ed9507923a758975b5
              body: |
                Update eslint-config-standard to 17.0.0

                Update eslint-config-standard from 11.0.0 to 17.0.0
              footer:
                Change-type: patch
                change-type: patch
              author: renovate[bot]
              nested: []
          version: leviathan-2.14.8
          title: ""
          date: 2023-01-05T04:01:23.954Z
        - commits:
            - subject: "worker: Deprecate the WORKER_RELEASE env var"
              hash: e2f450f44af3e07d516c0f5308908e2d8f1f46e6
              body: |
                Instead the worker e2e suite will use sed to replace
                the worker release at runtime.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.14.7
          title: ""
          date: 2023-01-05T02:23:06.642Z
        - commits:
            - subject: "e2e: Switch from rpi4 to rpi3 for e2e tests"
              hash: 455ccc7f13a0b69e54c48c836086de3df0136d6f
              body: |
                The rpi3 devices in the rig seemed more reliable
                and there are more of them.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "core: Increase the default timeout for worker connections to 30s"
              hash: 44002ac3e50fbbbf70bbb5abc325da4b92acbf02
              body: |
                This is a further attempt to avoid ETIMEOUT errors when running
                on GH actions and connecting to real testbots.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.14.6
          title: ""
          date: 2023-01-05T01:59:02.020Z
        - commits:
            - subject: "renovate: Disable automerge for major and minor updates"
              hash: fee3db4f57f2f10cb5e34605f59448d58306b387
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.14.5
          title: ""
          date: 2023-01-04T18:46:30.732Z
        - commits:
            - subject: "chore(deps): update dependency typedoc to 0.23.23"
              hash: 503f7bf80dadb5a7b2e363987b9fe561c66dad39
              body: |
                Update typedoc to 0.23.23

                Update typedoc from 0.21.9 to 0.23.23
              footer:
                Change-type: patch
                change-type: patch
              author: renovate[bot]
              nested: []
          version: leviathan-2.14.4
          title: ""
          date: 2023-01-04T11:43:17.406Z
  version: 2.108.15
  title: ""
  date: 2023-01-05T07:44:09.336Z
- commits:
    - subject: "tests: os: chrony: disable NTP w/ dnsmasq dbus API"
      hash: 743e49deef0b99bff17b55510c69c359810892b2
      body: |
        The previous method of disabling NTP by stopping the nameserver
        (dnsmasq) relied on the dnsmasq unit not being reactivated before the
        test completed.

        Instead, disable NTP by blocking ntp.org in the local dnsmasq instance
        using a dbus method call. NTP is re-enabled as before, by restarting
        dnsmasq.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.108.14
  title: ""
  date: 2023-01-04T18:26:07.691Z
- commits:
    - subject: Update tests/leviathan digest to 44dceb4
      hash: 4180a3d2e17df753171d562017e1c7982d518e1b
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "chore(deps): update dependency eslint to 8.31.0"
              hash: 3da50c4a3faee39dfb7c816bcdce97a03cd60b89
              body: |
                Update eslint to 8.31.0

                Update eslint from 4.19.1 to 8.31.0
              footer:
                Change-type: patch
                change-type: patch
              author: renovate[bot]
              nested: []
          version: leviathan-2.14.3
          title: ""
          date: 2023-01-04T07:22:54.604Z
    - subject: Update tests/leviathan digest to 4383482
      hash: 05c137b17bf8afdc819cee71bb99cd3178106f8b
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "chore(deps): update dependency eslint to 8.31.0"
              hash: 3da50c4a3faee39dfb7c816bcdce97a03cd60b89
              body: |
                Update eslint to 8.31.0

                Update eslint from 4.19.1 to 8.31.0
              footer:
                Change-type: patch
                change-type: patch
              author: renovate[bot]
              nested: []
          version: leviathan-2.14.3
          title: ""
          date: 2023-01-04T07:22:54.604Z
  version: 2.108.13
  title: ""
  date: 2023-01-04T11:31:31.771Z
- commits:
    - subject: "tests/hup: Avoid an old engine bug when pulling multiarch images on rpi"
      hash: 6a47531bd8c1a3a032e57efe6b1c2d764d6d0570
      body: >
        This has since been fixed in the engine but since it impacts the HUP
        from

        version we need to handle it in the test suite.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.108.12
  title: ""
  date: 2023-01-04T03:22:27.475Z
- commits:
    - subject: Update tests/leviathan digest to d3485ab
      hash: 307ebcbf59876e199bb0fa3df3f1889ce426c681
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: 'Revert "minor: Add @balena/leviathan-test-helpers package"'
              hash: d662f07d297dc130c1592552f8ef1bcdcdabe37f
              body: |
                This reverts PR https://github.com/balena-os/leviathan/pull/826.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.13.0
          title: ""
          date: 2023-01-03T16:38:27.306Z
        - commits:
            - subject: "chore(deps): update dependency eslint-plugin-standard to 4.1.0"
              hash: 995006f5df146e6d24d4ba55474938bfe38fdb61
              body: |
                Update eslint-plugin-standard to 4.1.0

                Update eslint-plugin-standard from 3.1.0 to 4.1.0
              footer:
                Change-type: patch
                change-type: patch
              author: renovate[bot]
              nested: []
          version: leviathan-2.12.4
          title: ""
          date: 2022-12-30T10:01:43.057Z
  version: 2.108.11
  title: ""
  date: 2023-01-03T20:21:02.126Z
- commits:
    - subject: Update tests/leviathan digest to 7d6326d
      hash: fa65ccab6f7b8fd3c55c8a1cd2947764da454770
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "chore(deps): update dependency eslint-plugin-node to 11.1.0"
              hash: 4176dfc47d2dd7abe8c8f556f215481e3935d26b
              body: |
                Update eslint-plugin-node to 11.1.0

                Update eslint-plugin-node from 6.0.1 to 11.1.0
              footer:
                Change-type: patch
                change-type: patch
              author: renovate[bot]
              nested: []
          version: leviathan-2.12.3
          title: ""
          date: 2022-12-30T05:11:02.619Z
        - commits:
            - subject: Run out-of-band e2e tests after Flowzone passes
              hash: 4c82cc453f44736e05b2917be7357ac24348c212
              body: |
                Custom actions can only use certain secrets and single-dimension
                run matrices. By running an entirely separate job after Flowzone
                is successful we have a lot more options.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.12.2
          title: ""
          date: 2022-12-29T23:20:01.166Z
        - commits:
            - subject: "chore(deps): update dependency eslint-plugin-jsdoc to 39.6.4"
              hash: 5e184eaa1262cc9c333d0fc2fbc5a1d2ad30e78a
              body: |
                Update eslint-plugin-jsdoc to 39.6.4

                Update eslint-plugin-jsdoc from 3.15.1 to 39.6.4
              footer:
                Change-type: patch
                change-type: patch
              author: renovate[bot]
              nested: []
          version: leviathan-2.12.1
          title: ""
          date: 2022-12-29T10:36:24.073Z
        - commits:
            - subject: "chore(deps): update core/contracts digest to 4698e4e"
              hash: 6c174fba4fe4c6020180db70ae56bee1108c50c1
              body: |
                Update core/contracts to 

                Update core/contracts from  to 
              footer:
                Change-type: minor
                change-type: minor
              author: renovate[bot]
              nested: []
          version: leviathan-2.12.0
          title: ""
          date: 2022-12-29T06:59:25.022Z
        - commits:
            - subject: "chore(deps): update dependency balena-os/leviathan-worker to 2.6.13"
              hash: aeb38f8d70e9219dd40697172f25d153d579e474
              body: |
                Update balena-os/leviathan-worker to 2.6.13

                Update balena-os/leviathan-worker from 2.6.11 to 2.6.13
              footer:
                Change-type: patch
                change-type: patch
              author: renovate[bot]
              nested: []
          version: leviathan-2.11.9
          title: ""
          date: 2022-12-29T05:19:51.486Z
  version: 2.108.10
  title: ""
  date: 2022-12-30T10:03:22.750Z
- commits:
    - subject: Update tests/leviathan digest to 1dcb432
      hash: 830ab691c31d4e1ff3bacba743b43ee1c04235f3
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "chore(deps): update dependency eslint-config-prettier to 8.5.0"
              hash: af17a52befb96751ed412770397be99609e02273
              body: |
                Update eslint-config-prettier to 8.5.0

                Update eslint-config-prettier from 4.3.0 to 8.5.0
              footer:
                Change-type: patch
                change-type: patch
              author: renovate[bot]
              nested: []
          version: leviathan-2.11.8
          title: ""
          date: 2022-12-28T23:03:27.783Z
  version: 2.108.9
  title: ""
  date: 2022-12-29T03:03:57.328Z
- commits:
    - subject: Update tests/leviathan digest to e09fae4
      hash: 49c24a43ede0371c2c5a992e9197124492b55808
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "renovate: Remove v prefix from leviathan-worker github-tags"
              hash: 80778c4b2ea6f2e225b903b6d0a43000a492701e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.11.7
          title: ""
          date: 2022-12-28T16:49:10.897Z
  version: 2.108.8
  title: ""
  date: 2022-12-28T21:07:27.490Z
- commits:
    - subject: "tests: os: fix modem test teardown"
      hash: e5f9b72eae7bcc88cb28d99f8b1bf7f2c1b65789
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.108.7
  title: ""
  date: 2022-12-28T16:06:50.921Z
- commits:
    - subject: "flasher: output logs to serial console"
      hash: 131893e433ef64a1f3b05dfcd44b0e022f13646d
      body: |
        Improve debugging experience of flasher service by outputting logs to
        serial console.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.108.6
  title: ""
  date: 2022-12-27T20:53:27.624Z
- commits:
    - subject: "Engine healthcheck: deal with empty uuid file"
      hash: 345d1440d34fe042f03884c4ae32f0ba7e7768e8
      body: |
        In rare cases (believed to be caused by a non-atomic file creation and
        writing operation in containerd), we end up with an empty file at
        `/mnt/data/docker/containerd/daemon/io.containerd.grpc.v1.introspection/uuid`.
        This causes `ctr version` (and hence the health check) to fail. See
        https://github.com/balena-os/balena-engine/issues/322

        This commit addresses this issue in two ways:

        1. Before running `ctr version`, we check if the uuid file exists and is
           empty. If so, we remove it. (The subsequent execution of `ctr
           version` by the healthcheck will create the file again.)
        2. After running `ctr version`, we check if the uuid file was really
           created and is not empty.

        In both cases, when an empty uuid file is detected, we log the event to
        help us confirm our hypothesis about the root cause.
      footer:
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Change-type: patch
        change-type: patch
      author: Leandro Motta Barros
      nested: []
  version: 2.108.5
  title: ""
  date: 2022-12-21T21:36:44.680Z
- commits:
    - subject: "distro: For OS development, enable serial console"
      hash: 82df437d84bec2e2bb03c33b5f153bab82003d8a
      body: |
        Add graphical and serial console output when building in OS development
        mode.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.108.4
  title: ""
  date: 2022-12-20T13:39:26.550Z
- commits:
    - subject: Update tests/leviathan digest to f06d285
      hash: 424c0af78fd902d8109b28a77ac94ca6a3eed786
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: Fix renovate extends syntax to include balena-io config
              hash: 79cb0996fcb77d2211eba02d7221d059e98aba03
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.11.6
          title: ""
          date: 2022-12-16T17:23:34.994Z
        - commits:
            - subject: "renovate: Inherit settings from balena-io/renovate-config"
              hash: 488ea00e558ba338d2b3abea74457a40686caafa
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.11.5
          title: ""
          date: 2022-12-16T16:17:01.461Z
        - commits:
            - subject: add logging and timeout to balena push
              hash: fb354023beadff1151ed3b8acc24817312b68b86
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.11.4
          title: ""
          date: 2022-12-16T15:07:34.575Z
  version: 2.108.3
  title: ""
  date: 2022-12-20T01:29:29.457Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.4.9
      hash: a56e178900a41a56e7f56b0f5964764f02e58932
      body: Update balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.108.2
  title: ""
  date: 2022-12-19T18:21:23.232Z
- commits:
    - subject: "common: signing: improve debug output on failure"
      hash: 18599bd74eacf844674f508c612014349575ba55
      body: |
        If the signing server's response is anything other than successful, such
        as with an authentication failure or bad request, the HTTP status code
        and response are hidden due to the --silent flag passed to cURL.

        Drop the stdio redirect to the output file along with the --silent flag,
        and instead use the -o parameter to output the response to the
        appropriate file on success. This allows the status code and response to
        be shown in the logs upon failure.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.108.1
  title: ""
  date: 2022-12-18T19:27:56.286Z
- commits:
    - subject: Update NetworkManager to 1.40.4
      hash: aeab6a6b030bd6d0047a92dcc8d41fd9e542ffe7
      body: >
        Main NetworkManager recipe was migrated to match latest one from

        meta-openembedded, so that all improvements are merged now.


        Excluded from it are `iwd` and `dhcpcd` daemon configurations that are

        not used by us.


        Default NM firewall in meta-openembedded is `nftables` where we are
        still

        using `iptables`.


        The new recipe relies on `meson` as a build system now.


        The .bbapend file that contains modifications specific to balena is
        preserved.

        Only `balena-client-id.patch` is removed as it references code that no
        longer

        exists. This is because the internal systemd DHCPv4 client code that NM
        used

        is now replaced by nettools' n-dhcp4 implementation.


        Closes #2872
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update NetworkManager to 1.40.4
        changelog-entry: Update NetworkManager to 1.40.4
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.108.0
  title: ""
  date: 2022-12-16T21:10:35.840Z
- commits:
    - subject: Add upstream resolvconf 1.91 recipe for kirkstone
      hash: af89ddb51d7829dc045cd3434fb4cf0bec7fba37
      body: >
        Current resolvconf version is broken for kirkstone, which is fixed
        upstream,

        so we reuse the fixed version from upstream.


        The symptom is that DNS servers provided by DHCP are not being used.


        Closes #2907
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add upstream resolvconf 1.91 recipe for kirkstone
        changelog-entry: Add upstream resolvconf 1.91 recipe for kirkstone
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.107.40
  title: ""
  date: 2022-12-16T16:09:54.407Z
- commits:
    - subject: Update tests/leviathan digest to f44bbbd
      hash: 1e766256fffb649856eced1e85bbfd5808999993
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: Disable renovate config for now
              hash: f0dd47cafe9fe2addc506a9c3fc2295ef0f483a3
              body: |
                There is a conflict with the balena-os Renovate GitHub App
                and the balena-io/renovate-config self-hosted job.

                Disable this renovate config for now to stop the
                GitHub App from processing this repo until the conflict
                is resolved.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: Restore worker release env var
              hash: 83c46ab5d605f64f2cee2b42f460aa403e95f1e9
              body: |
                This env var is still used by the leviathan-worker project
                for e3e tests against draft worker releases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.11.3
          title: ""
          date: 2022-12-16T00:49:27.820Z
        - commits:
            - subject: Update Node.js to v12.22.12
              hash: 5ad6ecf5568b267c8d020e559fd95f252d7047c5
              body: |
                Update node to 12.22.12

                Update node from 12.22.7 to 12.22.12
              footer:
                Change-type: patch
                change-type: patch
              author: Renovate Bot
              nested: []
          version: leviathan-2.11.2
          title: ""
          date: 2022-12-15T22:00:38.475Z
        - commits:
            - subject: Remove dependabot as renovate is enabled in balena-io/renovate-config
              hash: a51b4d5ff26b3c770cf69237936aba2119bd5343
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: Pin worker to a release and add renovate regex template
              hash: ee8d737587d3ad511c75d0c986825dfa30bba35a
              body: |
                This will allow Renovate to bump the worker block reference
                to point to the latest GitHub tag.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.11.1
          title: ""
          date: 2022-12-15T20:00:34.137Z
        - commits:
            - subject: Update core/contracts digest to 08f029b
              hash: a71d3ec968e21f4e681bea08dfc317786dcd4fec
              body: |
                Update core/contracts to

                Update core/contracts from  to
              footer:
                Change-type: minor
                change-type: minor
              author: Renovate Bot
              nested: []
          version: leviathan-2.11.0
          title: ""
          date: 2022-12-15T19:23:14.566Z
        - commits:
            - subject: Revert "Avoid conflicting docker subnets"
              hash: 1f7383da5580a31ee03d6f38de863e48dd047829
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Vipul Gupta
              nested: []
          version: leviathan-2.10.12
          title: ""
          date: 2022-12-15T17:21:51.118Z
  version: 2.107.39
  title: ""
  date: 2022-12-16T09:09:09.759Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.4.8
      hash: c17d172ab71504dc15cd9f25f5837000c15d86f9
      body: Update balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.107.38
  title: ""
  date: 2022-12-16T02:18:49.848Z
- commits:
    - subject: "tests: cloud: simplify apps to speedup suite"
      hash: 9552f6ba4961e032fb3bd086548eec06b650609a
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.107.37
  title: ""
  date: 2022-12-15T14:05:57.987Z
- commits:
    - subject: Update tests/leviathan digest to 48ffd13
      hash: 71f0b808ee097643b9ea6f8572fb30b9e8c7e0c7
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: Avoid conflicting docker networks
              hash: 5e04208a9f07567c6aa7fdc55dc95d2cacb6c8c3
              body: >
                The `make subnet` command can be called on Jenkins and similar
                to generate

                a unique subnet that is not in use.


                The DinD daemon in the core service will also start with a
                non-default

                subnet.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.10.11
          title: ""
          date: 2022-12-14T14:15:43.765Z
  version: 2.107.36
  title: ""
  date: 2022-12-15T06:04:52.294Z
- commits:
    - subject: "patch: Add default debug object to test config"
      hash: 3def4d69a63952eac4a5c3fb6bd94fe03b666eda
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.107.35
  title: ""
  date: 2022-12-15T00:03:58.037Z
- commits:
    - subject: "initrdscripts: Wait for udev processing to complete when unlocking
        LUKS devices"
      hash: dc31885048db9a1ef5e1aaa705af9bf3d04052a3
      body: >
        When unlocking LUKS devices, udev events initializing the DM devices are
        still

        generated in the background even after cryptsetup luksOpen returns. We
        need to

        wait for the udev processing to finish before killing udev and cleaning
        up

        the udev database to avoid having to deal with partially initialized
        devices

        or corrupted udev database in the target OS.
      footer:
        Fixes: "#2857"
        fixes: "#2857"
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.107.34
  title: ""
  date: 2022-12-14T18:02:58.755Z
- commits:
    - subject: "tests: hup: clean up inactive partition pre hup"
      hash: 1356c4f244be8b67fac9da9e15d2dee8c3816611
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.107.33
  title: ""
  date: 2022-12-14T13:22:43.735Z
- commits:
    - subject: "tests/cloud: Increase the wait time for services to start"
      hash: 99799e83e492f149ff30f956faead7cf34aeeea6
      body: |
        Also reduce the interval to 1s.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.107.32
  title: ""
  date: 2022-12-14T06:01:21.542Z
- commits:
    - subject: Update tests/leviathan digest to 27b78a4
      hash: b3b219aae0e3aeed8ac72ce2c5ac9f156d1a4279
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: Enable external contributions via flowzone
              hash: 8e2489e75fd2d750dec077699f2410335995a6b2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.10.10
          title: ""
          date: 2022-12-13T19:44:28.072Z
  version: 2.107.31
  title: ""
  date: 2022-12-14T00:00:25.148Z
- commits:
    - subject: "extra-udev-rules: Update teensy.rules"
      hash: 9d10e815e773e47f86decaac1358490c5f0959c7
      body: |
        Updated rules from https://www.pjrc.com/teensy/00-teensy.rules

        Fixes #2247
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "extra-udev-rules: Rename recipe"
      hash: dcc6f5c793982c04a9ca0235d6542334cbbf5431
      body: |
        Remove the resin prefix.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.107.30
  title: ""
  date: 2022-12-13T14:16:24.113Z
- commits:
    - subject: "balena-image-initramfs: disable redundant compression"
      hash: 91213a65ab83794be274757c8598c4c3495ceece
      body: |
        Our initramfs is built into the kernel, which is always compressed.
        Disable redundant initramfs compression, which should save some CPU
        cycles during build and boot, as well as improving compression ratio.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.107.29
  title: ""
  date: 2022-12-13T07:13:16.319Z
- commits:
    - subject: "initrdscripts: Only unlock LUKS partitions on the OS drive"
      hash: f5e8488e7b87c38829d241f788413433526d2f78
      body: >
        In the current state the cryptsetup initrd script tries to unlock all

        LUKS volumes in the system using the TPM. This includes user-defined
        LUKS

        volumes that, if present, fail to unlock and make the system unbootable.

        We should also not touch user-defined volumes in the first place.


        This patch modifies the cryptsetup script to only unlock LUKS volumes

        that are on the OS drive (same block device as the EFI partition).
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.107.28
  title: ""
  date: 2022-12-12T21:10:45.792Z
- commits:
    - subject: "chrony: disable reverse dns lookups in healthcheck"
      hash: aa303afe9e3528023e6986bf5ceccc8bf8b5433f
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ken Bannister <kb2ma@runbox.com>
        signed-off-by: Ken Bannister <kb2ma@runbox.com>
      author: Ken Bannister
      nested: []
  version: 2.107.27
  title: ""
  date: 2022-12-12T13:55:20.224Z
- commits:
    - subject: "connectivity: Add linux firmware for iwlwifi 9260"
      hash: 6857496c1a03282375f40a5621ea1ee39171cb0d
      body: |
        Some device types are being sold with this WiFi chipset so let's include
        the firmware.

        Fixes #2059
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.107.26
  title: ""
  date: 2022-12-12T06:07:30.516Z
- commits:
    - subject: "image_types_balena: fix inconsistency with flasher image partition
        naming"
      hash: 795e2427821d28fcf894da1cba9afc245efc38b3
      body: >
        Partitions in flasher images are being created with different LABEL and

        PARTLABEL, for example:

        ```

        /dev/sdd2: LABEL="flash-rootA"
        UUID="5585296a-c183-4b10-89ae-20607e5604be" TYPE="ext4"
        PARTLABEL="resin-rootA" PARTUUID="582478f2-be4b-4279-9124-536385c9551d"

        ```


        This commit fixes the inconsistency as the PARTLABEL is used as a
        fallback

        method to identify devices.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.107.25
  title: ""
  date: 2022-12-11T20:05:22.123Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.4.6
      hash: 70a888685d33267af60e53ac70a6169b744416bd
      body: Update balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.107.24
  title: ""
  date: 2022-12-09T20:45:04.709Z
- commits:
    - subject: "patch: Add product documentation"
      hash: a081ff2439838073afbaa28f38f3e7f6850dddfe
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.107.23
  title: ""
  date: 2022-12-09T14:41:44.836Z
- commits:
    - subject: "tests: os: fsck: make compatible with old yocto releaes"
      hash: 1e57154d1f3eedd82c20bbe463006783d63bc668
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.107.22
  title: ""
  date: 2022-12-09T12:55:56.317Z
- commits:
    - subject: "tests/connectivity: Run the proxy tests with the actual redsocks uid
        of the DUT"
      hash: 17b49075804ea85aadfbb20d557025c1a4c2ee4f
      body: >
        Not all the boards we support have the redsocks uid as 995 in their
        rootfs so let's

        fetch the actual redsocks uid from the DUT before running the proxy
        tests and

        update that in the docker-compose.yml. We do so because the REDSOCKS_UID
        value

        isn't substituted in the compose if the variable, even if it is passed
        trough

        the cli.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.107.21
  title: ""
  date: 2022-12-08T10:39:40.903Z
- commits:
    - subject: "kernel-balena: enable zstd compression"
      hash: 0473815cdf1210936b2110bdafb5294ae527db50
      body: |
        Enabling CONFIG_KERNEL_ZSTD=y improves the compression ratio compared
        to gzip while being faster to decompress. With kernel 5.15 in balenaOS
        v2.105, we see the 24 MB kernel compress to approximately 19 MB.

        Zstd support was added in commit 48f7ddf, first introduced in kernel
        v5.9. Enable this config unconditionally in supported kernels.

        Note that not every architecture and device support this option, but in
        those cases, Kconfig will automatically disable it as HAVE_ZSTD is also
        missing.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.107.20
  title: ""
  date: 2022-12-07T22:06:34.638Z
- commits:
    - subject: "image_types_balena: generate bmap file"
      hash: 73541251086eeecf19ddfe89f84af432c137f1f1
      body: |
        Generate a bmap file from the sparse image to allow for punching holes
        in the disk image ranges that were unmapped after building. This data is
        lost during compression, and the bmapfile allows for recreating,
        writing, and verifying the sparse image.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "flasher: write disk image skipping sparse blocks"
      hash: a19ca73cc1b155ac2acec79a853d402a4a69d56b
      body: |
        This optimization reduces write wear, and speeds up flashing by
        approximately 200%.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "image_types_balena: create sparse disk image"
      hash: 7d4d1c40fc11088f2b17c3297021c15c31596462
      body: |
        Create filesystem images sparsely allocated. Write filesystems to final
        disk image skipping sparse blocks.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.107.19
  title: ""
  date: 2022-12-06T15:14:03.293Z
- commits:
    - subject: Update tests/leviathan digest to fe4d6a1
      hash: 1d95e19ed302bc281db4dc86b0394f7ce8ef74f3
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: 'Revert "docker-compose: stop using the default docker bridge"'
              hash: 957acc6a86c610835a9567fca172a812ff1d54bd
              body: |
                This reverts commit eb69ff445fe0cac4f2060e67fa6994e61c3ca4b9.

                Hardcoding the bridge address like this results in conflicts
                when multiple instances are running on one jenkins node.

                A new solution for local workstation testing will have to be
                considered.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.10.9
          title: ""
          date: 2022-12-02T20:15:29.352Z
  version: 2.107.18
  title: ""
  date: 2022-12-04T18:41:52.812Z
- commits:
    - subject: Update tests/leviathan digest to de97fa2
      hash: 050b88febd7ae6d9e548abfd95a5681b04928049
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "patch: Improve archivelogs journalctl command"
              hash: 30ba7b601fd06182d4383bb0a5ebb3caadfccc27
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
            - subject: "core: Reduce to 30 the retries number when trying to get the IP
                address of the DUT"
              hash: 02b270e1c55429c7316a9c65f70362185bbe3aec
              body: |
                Instead of retrying to get the DUT IP address 120 times on a 1 seconds interval,
                let's reduce it to 30 times because the resolveLocalTarget which we call will
                timeout too in 15 seconds:

                https://github.com/balena-os/leviathan-worker/blob/master/lib/helpers/index.ts#L162

                So reducing the retries number to 30 will effectly bring the total combined timeout to a maximum of 8 minutes.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: leviathan-2.10.8
          title: ""
          date: 2022-11-30T20:29:13.571Z
        - commits:
            - subject: "docker-compose: stop using the default docker bridge"
              hash: eb69ff445fe0cac4f2060e67fa6994e61c3ca4b9
              body: >
                This causes problems for make-local tests when the user apps in
                the

                DUT also uses the default docker bridge network range.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: leviathan-2.10.7
          title: ""
          date: 2022-11-30T13:06:01.741Z
        - commits:
            - subject: "os/balenaos: Remove hidden attribute from DUT wireless connection
                file"
              hash: 5046eaae99fb0ba2edf8c15ef6ad2e34e54260d8
              body: |
                The testbot AP is visible and is discovered during a scan.
                Let's remove the hidden attribute as it may cause problems
                for the 243390-rpi wireless tests.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: leviathan-2.10.6
          title: ""
          date: 2022-11-29T15:23:45.559Z
        - commits:
            - subject: "patch: Add debug: unstable to docs"
              hash: ea6fc63f1848540f5af7e011920afe13e18e82d1
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.10.5
          title: ""
          date: 2022-11-29T11:26:46.125Z
  version: 2.107.17
  title: ""
  date: 2022-12-02T06:49:15.345Z
- commits:
    - subject: Refactor and clean up the purge data tests
      hash: 65b0e02ec72ab1b68448f9546e5e5c570b1fe01a
      body: |
        Clean up some duplicated code and avoid test comments
        that to not write to logs when called but instead await
        the next test command.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.107.16
  title: ""
  date: 2022-12-01T23:40:57.700Z
- commits:
    - subject: Updated CBS Docs Updated link to the CDS Product Repo
      hash: 8513275e98d0fec277c0b4dd98acc20fa90812f7
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Hampton (@rhampt) <rhampt@balena.io>
        signed-off-by: Ryan Hampton (@rhampt) <rhampt@balena.io>
      author: Ryan H
      nested: []
  version: 2.107.15
  title: ""
  date: 2022-12-01T16:39:52.944Z
- commits:
    - subject: "test: os: fix search for active interface"
      hash: 45c5fd9850e5cdcf5360d6910b3fde253b9629a9
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.107.14
  title: ""
  date: 2022-11-30T09:07:27.223Z
- commits:
    - subject: "balena-image-flasher: Include LUKS variant of GRUB config with FDE in
        place"
      hash: 87b65de7f8506b0a7796d007145a230228b5ae06
      body: >
        There are two GRUB config variants - one for regular devices and one

        for devices with FDE enabled. This commit makes flasher include the
        latter

        in the boot partition when secure boot and FDE is included in the image.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.107.13
  title: ""
  date: 2022-11-29T13:54:47.975Z
- commits:
    - subject: Update tests/leviathan digest to 61016ad
      hash: a40308833e556d9d5c0a8db88ca17c6376e6caab
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: bump contracts to 2.0.27
              hash: 3ff1c8e5bf93d185b2f048579ad86539abbfd420
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.10.4
          title: ""
          date: 2022-11-25T12:20:52.662Z
        - commits:
            - subject: On Apple Silicon we should install balena CLI via npm
              hash: ccdd4ff5b3255738f24e91ea3202fbf43706acfa
              body: |
                On x86 we should use the standalone package to save time.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.10.3
          title: ""
          date: 2022-11-24T14:41:23.842Z
  version: 2.107.12
  title: ""
  date: 2022-11-28T12:47:31.350Z
- commits:
    - subject: add os testing docs
      hash: f3f16f956cd2c0dad6cf9ae2c07d295a41f22999
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.107.11
  title: ""
  date: 2022-11-25T20:17:32.926Z
- commits:
    - subject: "balena-image.bb: Include bits for LUKS when FDE is enabled"
      hash: 57670e3d2538729cb17c882edf75bc523cd72bef
      body: >
        We want meta-balena to pull in these packages automatically when FDE is
        enabled

        rather than relying on device types to have them.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.107.10
  title: ""
  date: 2022-11-25T09:31:14.957Z
- commits:
    - subject: "resin-init-flasher: Fix double /dev/ prefix when encrypting partitions"
      hash: 96186d604c40d804226ddb20790797c67c4337b2
      body: >
        get_part_number_by_label expects the block device name without the /dev/

        prefix, flasher uses this correctly in all but one place, this patch
        fixes it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "grub-conf: fix partition indexes in LUKS config"
      hash: 9268f5309703c10e4320dc27a8230950503b821a
      body: |
        On most device types rootA and rootB are partitions 2 and 3
        but with LUKS encryption and boot/EFI split they are shifted to 3 and 4
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "os-helpers-fs: add dependency on parted"
      hash: b11e98742cee3acf8cbe9f06440758732ff76948
      body: |
        This is necessary for get_part_table_type
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "hostapp-update-hooks: use stage2 bootloader GRUB config when using LUKS"
      hash: bd97f35a3a0f50652b3ac1e26849e25b8330292e
      body: |
        We are using two variants of GRUB configs - one for LUKS-encrypted OS
        and the other one for the rest. HUP needs to acknowledge this and use
        the correct one based on the system being updated.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "balena-rollback: Fix partition index detection for luks devices"
      hash: b73c9657d041b9e70ab2c905dd4e52f6e45853fd
      body: |
        This is the same as we do for hostapp-update-hooks
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "balena-rollback: Find following symbolic links"
      hash: 27efb90747605d0ca8e853d65b08f95bc726a32e
      body: |
        On full disk encrypted devices the EFI partition is a soft link in the
        boot partition. This commit fixes detecting files in the EFI partition
        from the boot partition.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "hostapp-update-hooks: Find following symlinks"
      hash: f29fd0e4bb5fdcf84055636c0888048343d15c97
      body: |
        On full disk encrypted devices the EFI partition is a soft link in the
        boot partition. This commit fixes detecting files in the EFI partition
        from the boot partition.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "hostapp-update-hooks: Fix partition index detection for luks devices"
      hash: 58b959b7a587d705ef9123a98c21b3c6585b145d
      body: >
        When using LUKS encryption, the output of lsblk is:

            sda                                             8:0    0    8G  0 disk
          |-sda1                                          8:1    0   40M  0 part  /mnt/boot/EFI
          |-sda2                                          8:2    0   42M  0 part
          | `-luks-a91cd125-9e4c-45e6-b3f4-1e9b4ec9e5b9 250:0    0   40M  0 crypt /mnt/boot

        This commit allows extracting the physical device (sdaN) whic is needed

        to extract the partition index using sysfs both for luks or standard

        devices.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.107.9
  title: ""
  date: 2022-11-24T15:12:42.613Z
- commits:
    - subject: Update tests/leviathan digest to bdf8eb2
      hash: 443fd7c7a87d8d43f2f42b697ae975d9ebce5484
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: add high level architecture overview
              hash: 49fcd08d9b7d8af9a3b1f33c6d758906bf4b63ec
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.10.2
          title: ""
          date: 2022-11-23T15:38:40.661Z
        - commits:
            - subject: Add conditions for Apple Silicon workstations
              hash: ff3d9fee035d2aa7a7c04e47dfbddb638c564878
              body: |
                Convert Darwin to lowercase and arm64 -> aarch64 as needed.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.10.1
          title: ""
          date: 2022-11-23T12:09:17.356Z
  version: 2.107.8
  title: ""
  date: 2022-11-24T00:10:11.885Z
- commits:
    - subject: "tests: ssh-auth: rework local authentication with cloud keys to work
        in testbots"
      hash: f93065327126d39069e5d1d19a4c78b41e582b17
      body: |
        The tunnel to port 22222 used by testbots communicate between the core
        container and the DUT does not allow to ssh as a non-root user.

        Run ssh from the worker to test local SSH authentication with a cloud
        user.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "ssh-auth: do not use a separate custom key"
      hash: abf5936f0ada2d7af15c87a147e4416a403b3607
      body: |
        Given that testbot devices use a tunnel to specific ports to communicate
        with the DUT that is established with the suite-generated keys, using
        a different keypair for the ssh-auth test would require to tear down and
        re-establish the tunnel.

        It's easier to just use the existing key pair in the ssh-auth test.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'Revert "test: ssh-auth: fix test cases using custom keys"'
      hash: b2450a9df2c1a773b807652bc37e6c92ccecef35
      body: |
        Using two set of keys, the one created by the suite to authenticate by
        the proxy and a new custom key, is tricky as when running on testbot the
        key is used to establish the tunnel between core and DUT.

        Revert this change in preparation to removing the custom key and
        modifying the tests to use a single key.

        This reverts commit b24d92774a67cf0c0b83a29848bdcf6ed8a574db.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.107.7
  title: ""
  date: 2022-11-23T14:08:31.414Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.4.4
      hash: 6917f26494d1c68803508c8c5ff3d06e5fa0d99c
      body: Update balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.107.6
  title: ""
  date: 2022-11-22T21:24:54.566Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.4.2
      hash: f5b649f4a2ad0192bad28f332ad45d35725e8d56
      body: Update balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.107.5
  title: ""
  date: 2022-11-22T01:19:51.508Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.4.1
      hash: 3904c5734f5307cc6d225df7021dea61d8a014fd
      body: Update balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.107.4
  title: ""
  date: 2022-11-19T22:54:21.548Z
- commits:
    - subject: "kernel-balena: Kernel version check should include provided version"
      hash: 42ec259c4d1c6e9a7c8171f21157562ed3a07cc9
      body: |
        When adding a kernel configuration conditional in a provided kernel
        version, make the check include the provided kernel version as that is
        the intuitive way to understand it.

        The two places that use this function already used it in this way.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.107.3
  title: ""
  date: 2022-11-19T14:52:45.759Z
- commits:
    - subject: "chronyd: allow service status notification socket access to all"
      hash: ddf2c4ed50e812296ed5f9fe3ece48b1ce8a0107
      body: |
        chrony 4.2 introduces security hardening in the
        service definition that removes the CAP_SYS_ADMIN permission, affecting
        the way healthdog uses execve to become chronyd.

        commit 83f96efdfd2d (examples: harden systemd services)

        This commits works around it by allowing all members of the service's
        control group to send notification messages.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "chrony: update to version 4.2"
      hash: 6a923864e66d7a2a552f3977727caefda444045d
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.107.2
  title: ""
  date: 2022-11-18T19:49:48.786Z
- commits:
    - subject: "docs: add RAID setup info"
      hash: c1be8607aca2b4086230305689a0bc6ea77f5cc7
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.107.1
  title: ""
  date: 2022-11-17T22:46:30.954Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.4.0
      hash: ca6727af811b274e036b259e286316170292d401
      body: Update balena-supervisor
      footer:
        Change-type: minor
        change-type: minor
      author: renovate[bot]
      nested: []
  version: 2.107.0
  title: ""
  date: 2022-11-17T17:45:43.032Z
- commits:
    - subject: "classes: kernel-balena: add wireguard module"
      hash: a3491c4ba4161ca7b6e9c25e6e0beb33f0f67a04
      body: |
        Add the wireguard module by default so it is included in all device
        types. This is a frequently requested by customers and will avoid having
        to patch individual device repositories.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.106.8
  title: ""
  date: 2022-11-17T11:04:24.192Z
- commits:
    - subject: "test: ssh-auth: fix test cases using custom keys"
      hash: b24d92774a67cf0c0b83a29848bdcf6ed8a574db
      body: |
        There are two sets of keys used in this test, one stored in `/root/id`
        which is created by the cloud suite to SSH via the proxy server, and
        a custom key stored in `/root/test_id` used in some of the subtests.

        Fix the test cases using the custom key to use the correct private key.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.106.7
  title: ""
  date: 2022-11-15T15:37:55.466Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.3.3
      hash: f2d3858900aa8a092331c38a590a63525fbb2a57
      body: Update balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.106.6
  title: ""
  date: 2022-11-15T05:36:48.415Z
- commits:
    - subject: "openvpn: fix a race condition that leaves system with no running
        supervisor"
      hash: fd788120e5915820e75240e548760fd107cc0580
      body: |
        The `os-config` application stops the supervisor before fetching openvpn
        configuration and starting the `openvpn` service unit.

        As the `openvpn` service units stops `os-config`, it might not get to
        restart the supervisor.

        This commit checks that `os-config` is not already active before
        starting it.

        Fixes #2855
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.106.5
  title: ""
  date: 2022-11-14T09:32:57.346Z
- commits:
    - subject: "ssh-auth: setConfig: run synchronously"
      hash: 5534839614a5221068d25fb703658b780d6c7463
      body: |
        Most tests expects a specific device configuration so having the setting
        run asynchronously leads to unexpected failures.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "cloud: ssh-auth: use custom path for custom key"
      hash: 6c83fd02383baf7b6932858a3e88ae207cbecc3b
      body: |
        Right now it overwrites the key created by the cloud suite to connect
        to the proxy.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-config-vars: Set permissions for cache file"
      hash: 3406f9a45a5a97542972c442f1c8a8e3e80a7d37
      body: >
        The sshd daemon is configured to fetch keys from the API for local

        user connections. The script that fetches the keys,
        cloud-public-sshkeys,

        sources balena-config-vars and is run as an exclusive non-root user.


        Let's set the correct permissions for this file to allow not to break

        the above.


        Also, add a test to check that the SSH authentication with user

        registered keys does not break again.


        Fixes #2785
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.106.4
  title: ""
  date: 2022-11-12T15:47:45.326Z
- commits:
    - subject: "common: kernel-devsrc: fix pseudo abort"
      hash: e5307d7c7459ac977914122edc11d9ae7222e54b
      body: |
        Yocto builds will abort due to inconsistencies between the pseudo
        database and files modified outside of the pseudo context [0].

        This will occasionally cause builds to fail in the do_deploy step of the
        kernel-devsrc recipe. [1]

        Fix this by not removing the kernel_source tarball in the do_deploy
        step.

        Fixes: https://github.com/balena-os/meta-balena/issues/2806

        [0] https://wiki.yoctoproject.org/wiki/Pseudo_Abort
        [1] https://github.com/balena-os/meta-balena/issues/2806
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.106.3
  title: ""
  date: 2022-11-11T08:21:56.144Z
- commits:
    - subject: "flasher: minor formatting"
      hash: b92ade134716ea122949a0d5adf7238f274acc96
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "flasher: fix detection and exclusion of installation media"
      hash: 02ba95a7f2b3889443f8fc2857723898140ff05e
      body: |
        The old test no longer matches on full disk paths including /dev, which
        can potentially result in the installation disk not being excluded from
        the pool of installation targets.

        Fix the comparison so that the installation disk will not be
        overwritten.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "flasher: properly expand device_pattern globs"
      hash: 1b8059cf553b99de9a854dbbc7d81d7c079fe2a5
      body: |
        Previously, globs such as 'md/balena{,_*}' and 'mmcblk?' weren't being
        properly expanded, resulting in the old behavior of explicit lists of
        disks continuing to work, but consolidated globs matching multiple disks
        would not.

        Fix glob expansion to enable this feature to work properly.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.106.2
  title: ""
  date: 2022-11-10T21:20:24.210Z
- commits:
    - subject: "tests: cloud: use cloud ssh to avoid race cond"
      hash: 970d504c2fec7f82d8a87b1203702cb4320fbe9b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.106.1
  title: ""
  date: 2022-11-10T17:19:31.839Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.3.0
      hash: 099700fd5247b20af5aec205f51e54c0a6c1fef3
      body: Update balena-supervisor
      footer:
        Change-type: minor
        change-type: minor
      author: renovate[bot]
      nested: []
  version: 2.106.0
  title: ""
  date: 2022-11-10T05:31:24.750Z
- commits:
    - subject: Enable network access for tasks talking to the signing service
      hash: ab1d75a0db11cde16d93cb7b3ebe734f61583e28
      body: |
        Since kirkstone tasks have network access disabled by default so we need
        to enable it explicitly for tasks that talk to the signing service.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.105.32
  title: ""
  date: 2022-11-09T15:15:46.084Z
- commits:
    - subject: Add meta-balena-esr workflow
      hash: bcaddc164814569a9971c728bfbae316bbae88b3
      body: |
        This workflow will create an ESR branch from the latest patch of the
        previous minor version the first day of each quarter.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.105.31
  title: ""
  date: 2022-11-08T20:30:19.317Z
- commits:
    - subject: "tests: os: ensure by-state links are created"
      hash: 724fa0e549fa6752c2f00acf52549255037f1fbd
      body: |
        These links are required for HUP, ensure they're created by udev
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.105.30
  title: ""
  date: 2022-11-08T05:28:07.419Z
- commits:
    - subject: "prepare-openvpn: do not use cached configuration"
      hash: 021495a07f736c7a80497e18dea33e23ac63318b
      body: |
        This script needs to update the VPN authentication with the currently
        configured keys so do not use cached values.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.105.29
  title: ""
  date: 2022-11-07T15:30:37.789Z
- commits:
    - subject: "patch: Delete conf.js for test suites"
      hash: 5e52f52aec4cd1ccd238dd0e6ee6dd68fdc1dc63
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.105.28
  title: ""
  date: 2022-11-06T11:05:01.690Z
- commits:
    - subject: "wpa-supplicant: Sync with v2.10 from upstream"
      hash: 5464be07070bbc4a06a4d432250dd70b2b2e1522
      body: |
        Synced from:
        http://cgit.openembedded.org/openembedded-core/commit/meta/recipes-connectivity/wpa-supplicant?id=3a43c2a82881688d85238464db371f695e60b572

        Closes #2838
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.105.27
  title: ""
  date: 2022-11-04T22:15:37.135Z
- commits:
    - subject: "patch: Skip HUP suite if no releases found"
      hash: 40a12706d64383f5b5f1f41cecc6331d1c2fcc79
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.105.26
  title: ""
  date: 2022-11-04T10:56:57.967Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.2.20
      hash: 6b77e059fb1fc0e3eddebaa5702fce26f11b5e76
      body: Update balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.105.25
  title: ""
  date: 2022-11-04T02:27:30.706Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.2.18
      hash: 797d966e06f4ef02962f8afc51a78a5a4b2bcc03
      body: Update balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.105.24
  title: ""
  date: 2022-11-03T01:52:10.456Z
- commits:
    - subject: "tests: hup: handle exception when unwrapping non-flasher image"
      hash: 4d020e008232c29a8d9ab316f7c71d7fb161d98e
      body: |
        Handle ENOENT ErrnoException when attempting to unwrap a non-flasher
        image in HUP tests. This mirrors a similar change made in ce2d33ad8.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.105.23
  title: ""
  date: 2022-11-01T00:42:23.029Z
- commits:
    - subject: Update Docs Link Updated the link in the docs to the device-type
        listings (on hub as SOT)
      hash: c79adacfc30e36cf9bc548c9495dae5bfc4eb742
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Hampton (@rhampt) <rhampt@balena.io>
        signed-off-by: Ryan Hampton (@rhampt) <rhampt@balena.io>
      author: Ryan H
      nested: []
  version: 2.105.22
  title: ""
  date: 2022-10-31T12:42:22.402Z
- commits:
    - subject: "openssh: allow RSA signatures with SHA1 algorithms"
      hash: df5e9dcd4a8f61ace849d5bb437798d16a440191
      body: |
        Openssh v8.8 removes this support by default but the backend still
        needs to be updated to drop these.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.105.21
  title: ""
  date: 2022-10-27T08:02:52.407Z
- commits:
    - subject: "meta-resin-sumo: libical: Fix build QA error"
      hash: a34583a3f5cbac25502ac9ad62f0d0073eb96511
      body: >
        Address the following build error:

        ```

        ERROR: libical-2.0.0-r0 do_package: QA Issue: libical: Files/directories
        were installed but not shipped in any package:

        /usr/lib/cmake

        /usr/lib/cmake/LibIcal

        /usr/lib/cmake/LibIcal/LibIcalTargets.cmake

        /usr/lib/cmake/LibIcal/LibIcalConfig.cmake

        /usr/lib/cmake/LibIcal/LibIcalConfigVersion.cmake

        /usr/lib/cmake/LibIcal/LibIcalTargets-noconfig.cmake

        ```
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.105.20
  title: ""
  date: 2022-10-26T14:42:10.358Z
- commits:
    - subject: "meta-resin-sumo: keep tpm2-tools in 5.0"
      hash: 6c0596989bd182f26da1255ccfa7a55e45a0194e
      body: >
        Newer versions fail on the configuration step with:

        Requested 'libcrypto >= 1.1.0' but version of OpenSSL-libcrypto is
        1.0.2o
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.105.19
  title: ""
  date: 2022-10-26T01:25:34.955Z
- commits:
    - subject: Update tests/leviathan digest to f83df7d
      hash: fb3a49ca995fb2553f1b635cdf06559a239f92ed
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "minor: Add @balena/leviathan-test-helpers package"
              hash: 47f061bef9a6bc73782599ad8ab0add43d10883b
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.10.0
          title: ""
          date: 2022-10-25T13:23:40.230Z
  version: 2.105.18
  title: ""
  date: 2022-10-25T16:35:47.720Z
- commits:
    - subject: "tests: hup: reduce num. flashes and  hostapp sends"
      hash: 51f558450d60776470f92341789e14eecc217a65
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.105.17
  title: ""
  date: 2022-10-21T15:04:03.760Z
- commits:
    - subject: "common: openvpn: remove resin.conf"
      hash: ce288ba9138ab385370e2375a64ef8c185feb2c9
      body: |
        This config file hasn't been used since commit 2db88c2, which unified
        how managed and unmanaged images operate. Since that commit, openvpn
        starts up if the config file at /etc/openvpn/openvpn.conf is found, and
        otherwise remains inactive. This file is populated by os-config.

        Remove the old config to prevent misdirection and cleanup the layer.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.105.16
  title: ""
  date: 2022-10-20T02:12:40.759Z
- commits:
    - subject: "Revert \"chrony: update to version 4.1 to match kirkstone's version\""
      hash: 3ea5184c30f3051d58f1a1befd19c76c17ee4334
      body: |
        With the updated version the systemd watchdog events are not received.

        Fixes #2823

        This reverts commit 5049451b32d2d2c59f2aeb4713b2e6539bffeb49.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.105.15
  title: ""
  date: 2022-10-19T16:58:50.881Z
- commits:
    - subject: "patch: Enable RPi3-64 for Device tree tests"
      hash: 55ac90b20dabbd8efe54f6e84d6c9e8c0d8166e9
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.105.14
  title: ""
  date: 2022-10-18T16:04:41.810Z
- commits:
    - subject: "ntp: Remove race condition from directory creation"
      hash: 5fd19e26d35d7160e2531277a9a14e194d0b95c6
      body: |
        Chronyd checks that the directory specified as `sourcedir` in `chrony.conf`
        (in this case `/var/chrony`) is not world accessible if it exists (chrony
        will create it correctly if it does not exist), and does not start
        if that's the case.

        The way that the `/var/chrony` is created when it does not exist opens
        the possibility of the directory existing with the wrong permissions and
        hitting this problem.

        This commit creates the directory with the correct permissions from the
        start to avoid the race condition.

        It also changes the permissiong from 750 to 770 to match what chrony
        does (see
        https://github.com/mlichvar/chrony/blob/7b197953e8add5515b7e58c4638dc55aa4bb91b7/conf.c#L1761)
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.105.13
  title: ""
  date: 2022-10-18T12:38:31.247Z
- commits:
    - subject: "classes: kernel-balena: Allow aufs patching to use network"
      hash: 549c6922e4d427f37727b6dffb7e5008f5afdfb6
      body: |
        On kirkstone, tasks need to be explicitely allowed to access the
        network.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.105.12
  title: ""
  date: 2022-10-17T08:41:58.221Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.2.10
      hash: e6a6abbb3994937bbb5e5d2e1479e97a76faec88
      body: Update balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.105.11
  title: ""
  date: 2022-10-13T20:48:28.279Z
- commits:
    - subject: "classes: kernel-balena: improve aufs branch selection"
      hash: 83f866691184df43c5b08b9da646a5bf99227b7b
      body: |
        The task that applies the aufs patches is still required to support
        hostOS updates between aufs and overlay2 balenaOS versions.

        This commit adds support for 5.15 kernels and improves the branch
        selection logic to cover some corner cases.

        It also adds a test task so that we can test regressions.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.105.10
  title: ""
  date: 2022-10-12T13:48:37.596Z
- commits:
    - subject: "meta-balena-rust: Fix ABI for arm"
      hash: efe707f06134a345ef4d6f396555b4c3e057f23d
      body: >
        The move to include the ABI in the target definition was done in Poky:

        d6b563710e6cc0857843433d85023d47f9f2037d


        Without much explanation in the commit, the ABI was removed in Poky:

        e4c16d11128f0e9cc2567fc9e3579e9a94988b2e


        Only to be re-introduced, also without much explanation in Poky:

        0bf2fd16273436f1cd9ea2ab99ad882e879f965d


        Then, there was a partial revert to remove the ABI again in Poky:

        66ff1fb3a164fa794ee186960809e3fa9e938b48


        This last 66ff1fb3a164fa794ee186960809e3fa9e938b48 commit is reverted
        here as

        it fails to build for ARM targets. All our boards that cover all the

        possible ABIs build with this change.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.105.9
  title: ""
  date: 2022-10-11T21:36:12.907Z
- commits:
    - subject: "meta-balena-thud: Enable GOCACHE"
      hash: a2189c33b4969a76c963dad736f60d23e6fba83c
      body: |
        Versions above 1.12 require GOCACHE to be used.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.105.8
  title: ""
  date: 2022-10-11T15:49:46.421Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.2.8
      hash: 5a09b25d77f3dd3fe467fab36d218578f2d2d2d3
      body: Update balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.105.7
  title: ""
  date: 2022-10-06T11:12:36.851Z
- commits:
    - subject: Update tests/leviathan digest to 4482393
      hash: f3b00f1bb4c811fdd020de0f13d12da301393a43
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: 'Revert "worker: Pin to stable release 2.5.10 prior to md support"'
              hash: 4f6f194e231fb1afccb0a86f6f8550e26dbcd142
              body: |
                This reverts commit 3b6ce13734e98e981492e01bc874c0a439cb1536.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.9.9
          title: ""
          date: 2022-10-05T23:52:50.772Z
        - commits:
            - subject: Switch to Flowzone for CI
              hash: b4397c12da38c2bfd00be93a3d1f5d666e389ea9
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: Remove leftover balena.yml file
              hash: 376b764d8ee5404f096e8cdcc8b877aa44e30dfd
              body: |
                This repo is not deployed as a fleet, instead the
                balena-os/leviathan-worker is deployed as a block and
                as a fleet.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.9.8
          title: ""
          date: 2022-10-05T23:37:02.507Z
  version: 2.105.6
  title: ""
  date: 2022-10-06T03:18:48.372Z
- commits:
    - subject: Update tests/leviathan digest to a2079bd
      hash: 897f002e8f17452caeb92a947e4dc67854d820e2
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: Splie interface name into config
              hash: e49a508e0390cb5f89d34c3a6f5d91ff27ee31b0
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: "core: Specify wireless interface name for the 243390 device type"
              hash: ab724d208cdbb8ba8a34b3c6cdd46144a4265f7a
              body: |
                The 243390 device specific tests assess that the hotspot
                connection is created on the intended interface. We thus
                need to ensure that the connection to the testbot is
                established using the embedded wifi chip.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: leviathan-2.9.7
          title: "'core: Add 243390-rpi3 support, use specific network configuration for
            it'"
          date: 2022-09-30T11:46:08.530Z
  version: 2.105.5
  title: ""
  date: 2022-10-01T08:58:29.896Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.2.7
      hash: 819b8e70d8a918cc534d68091b150fc2bc74d71d
      body: Update balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.105.4
  title: ""
  date: 2022-10-01T02:59:51.026Z
- commits:
    - subject: "flowzone: Run also for pull requests into ESR branches"
      hash: 1c9fa8bf07231b5ede3d640292161b62eeb818af
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Switch from balenaCI to flowzone
      hash: 970175638be9665a05faeb5ac7a6b29ccb996237
      body: ""
      footer:
        Change-type: patch
        change-type: patch
      author: Pagan Gazzard
      nested: []
  version: 2.105.3
  title: ""
  date: 2022-09-30T18:43:16.299Z
- commits:
    - subject: "contributing-device-support.md: Clarify repo set-up in balenaOS org"
      hash: ef51c09db6b72bed58d4662f11717c7835611eee
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.105.2
  title: "'contributing-device-support.md: Clarify repo set-up in balenaOS org'"
  date: 2022-09-22T14:00:38.365Z
- commits:
    - subject: Update tests/leviathan digest to 15d608b
      hash: d4e90da30fccd8e811df4ec68e2b6c34053350be
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "core/contracts: bump contracts to v2.0.16"
              hash: 2643f0d89eb47a6d27a2c49da172baff26d7fbd0
              body: |
                To include RockPro LED changes
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: leviathan-2.9.6
          title: "'core/contracts: bump contracts to v2.0.16'"
          date: 2022-09-21T09:27:41.644Z
  version: 2.105.1
  title: "'Update tests/leviathan digest to 15d608b'"
  date: 2022-09-21T11:00:59.021Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.2.0
      hash: 3ff628443f4ac28111cdec3255bfd88c6ab50bc4
      body: Update balena-supervisor
      footer:
        Change-type: minor
        change-type: minor
      author: renovate[bot]
      nested: []
  version: 2.105.0
  title: "'Update balena-os/balena-supervisor to v14.2.0'"
  date: 2022-09-20T19:26:25.046Z
- commits:
    - subject: "balena: remove kernel-module-nf-nat-native dependency for host build"
      hash: bd36b84df9281ddfc61920189968f51cb691ac16
      body: >
        This fixes the following error when building mkfs-hostapp-native

        with Honister for a Variscite iMX8MM which only has Hardknott support:


        mkfs-hostapp-native-1.0-r0 do_prepare_recipe_sysroot:
          Manifest /work/build/tmp/sstate-control/manifest-x86_64_x86_64-nativesdk-linux-libc-headers.populate_sysroot not found
          in cortexa53 armv8a-crc armv8a aarch64 allarch x86_64_x86_64-nativesdk (variant '')?
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.104.1
  title: "'balena: remove kernel-module-nf-nat-native dependency for host build'"
  date: 2022-09-20T08:10:10.709Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.1.1
      hash: c1b6a829856f115de713d941daa293361fca8dc3
      body: Update balena-supervisor
      footer:
        Change-type: minor
        change-type: minor
      author: renovate[bot]
      nested: []
  version: 2.104.0
  title: "'Update balena-os/balena-supervisor to v14.1.1'"
  date: 2022-09-19T21:42:44.943Z
- commits:
    - subject: Update balena-os/balena-supervisor to v14.0.25
      hash: df1ecdb5747440bccdf4628c86c15c3a158b224a
      body: Update balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.103.5
  title: "'Update balena-os/balena-supervisor to v14.0.25'"
  date: 2022-09-19T09:18:33.056Z
- commits:
    - subject: Update tests/leviathan digest to 881cd72
      hash: 8134b1cd498dbac2cc90ab165e21afafb9a91b6e
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: bump contracts to  v2.0.15
              hash: 89f6ae542f33f1e9ae533ca40e1902e6dc4f9f25
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.9.5
          title: "'bump contracts to  v2.0.15'"
          date: 2022-09-15T07:45:52.354Z
        - commits:
            - subject: increase timeout on local push sv ping
              hash: e767bd998022a5f2f0b4eeec9f99ccc7252bea4d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.9.4
          title: "'increase timeout on local push sv ping'"
          date: 2022-09-13T13:50:43.614Z
        - commits:
            - subject: "patch: Remove unused SDK helpers"
              hash: 459b90b19682cc1670794188fc0c8f8e04e25e57
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.9.3
          title: "'patch: Remove unused SDK helpers'"
          date: 2022-09-08T12:30:15.417Z
        - commits:
            - subject: "patch: Remove unused CLI helpers"
              hash: 66afc7ec415604bc04fd463c93042dc39bab4ac2
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.9.2
          title: "'patch: Remove unused CLI helpers'"
          date: 2022-09-08T11:06:43.780Z
        - commits:
            - subject: "patch: Remove npm package as dependency"
              hash: 613af06779560bd0ac1c660227a2d2fcd8613dbb
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.9.1
          title: "'Core: Cleanup dependencies'"
          date: 2022-09-08T08:03:01.727Z
        - commits:
            - subject: "core: Switch to debian base and install standalone balena-cli"
              hash: b6993366ce72f0c25f14dfeccdf42076fbf8dd50
              body: >
                Unfortunately the standalone balena-cli package is linked to
                glibc

                and does not work with musl (alpine) so we need to switch to
                debian.


                The trade-off seems worth it for build times though.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "core: Set node engine to match the Dockerfile"
              hash: 06fcacf6573385aa2709bb2f0deb8a6bee3dd14a
              body: |
                This version can likely be increased now that the balena-cli
                is no longer part of the ndoe dependencies, but for now just
                publish the current setting.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "core: Remove balena-cli npm dependency"
              hash: 8b785515f4e4b5d2161f2b84a93a6d162b929875
              body: |
                Pave the way for installing balena-cli standalone package.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.9.0
          title: "'core: Switch to debian base and install standalone balena-cli'"
          date: 2022-09-07T20:13:19.163Z
  version: 2.103.4
  title: "'Update tests/leviathan digest to 881cd72'"
  date: 2022-09-17T01:16:08.536Z
- commits:
    - subject: "resin-init-flasher: skip array members not matching a named array"
      hash: 2c4c437329ff0e74521cf11b74edcf83f58ff8b3
      body: |
        If a block device specified in resin-init-flasher.conf is part of an
        array, but that assembled array name wasn't specified, skip it to avoid
        data loss.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "resin-init-flasher: support pattern matching of devices"
      hash: d552508ce70cf53b5a9fd1e18f5e31d9dbcf2108
      body: >
        Instead of querying devices w/ `fdisk -l`, glob match patterns specified

        in resin-init-flasher.conf with devices present in `/dev`. This allows
        us to

        specify devices like `hd? sd? mmcblk?` instead of individual device

        numbers, which don't consistently map to any particular disk.


        This also allows RAID arrays to be matched with the array name and a

        pattern that glob matches even arrays assembled automatically on a

        non-matching host, such as `md/balena?(_?)` matching an array named

        `balena` and assembled on-device at `/dev/md/balena_0`.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.103.3
  title: "'resin-init-flasher: support pattern matching of devices'"
  date: 2022-09-15T14:44:38.001Z
- commits:
    - subject: "mobynit: allow compile task to use network"
      hash: 307a7ecbd1e803a901738d5eecda69e15ea2340c
      body: |
        Mobynit requires network access to fetch dependencies.
      footer:
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
        Change-type: patch
        change-type: patch
      author: Joseph Kogut
      nested: []
  version: 2.103.2
  title: "'mobynit: allow compile task to use network'"
  date: 2022-09-14T16:17:30.163Z
- commits:
    - subject: "tests: os: only do hdmi test if has capture device"
      hash: 7dbe61633da64fd2c6372a817a954e0d1db24556
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.103.1
  title: "'tests: os: only do hdmi test if testbot has capture device'"
  date: 2022-09-13T10:17:51.672Z
- commits:
    - subject: "README: Add kirkstone support"
      hash: aeff6b085ceeca7ff1d27079bcee7ebe2c6e6d7e
      body: |
        Also, remove the TESTED note as all releases are tested. Specify what is
        the upstream status for the different releases too.

        Fixes #2616
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "layer.conf: Add kirkstone support"
      hash: d1eb2f80951f199976c002cbc7af55c7a7b125fc
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "kernel-balena-noimage: Remove kernel-image packages from image"
      hash: 08a1b066dfe21da6f43642c2d396edbfc34bb757
      body: >
        These packages also install kernel images into the boot directory in the

        root partition, overwriting the initramfs kernel installed by

        kernel-image-initramfs.


        Before kirkstone, the way to not include the kernel image was to

        override the `RDEPENDS:${KERNEL_PACKAGE_NAME}-base` not to include

        `kernel-image`, as was done in the `kernel-resin-noimage` class.


        Kirkstone changes the dependency from RDEPENDS to RRECOMMENDS in

        Poky's commit f6d963fa6d0e64d53f7ef56fd2c12d67f5811829


        Now excluding the kernel image needs to `PACKAGE_EXCLUDE =
        "kernel-image-*"`
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-kirkstone: plymouth: Adapt custom patches"
      hash: 1a559f5ea11114c8fa5d0cf046abf83e9ff35032
      body: |
        Fix patches that no longer apply.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-kirkstone: systemd: Ammend patches to remove fuzziness
        warning"
      hash: b534b8e8e81f3ccd0f78a3ad587f7755b4a86a6d
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-kirkstone: replace honister with kirkstone"
      hash: cbd28eeab4688ec2c6825b8943aef5d36f1aed48
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-kirkstone: use upstream kernel-devsrc recipe"
      hash: d7656e313c88dd2b751d8e269a7f9dd049fbd4d4
      body: |
        This recipe was brough-in when the default meta-balena version was still
        behind the upstream version introducing it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-kirkstone: use the procps recipe from upstream"
      hash: 871fc59292c9ca0673bae3486022d36751478a7d
      body: |
        This recipe was useful until poky modified the procps recipe to include
        just the ps utility.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-kirkstone: Add kirkstone integration layer"
      hash: 55731ad71793e0c9ebbf4a80d1b04fa5f049213e
      body: |
        This is a 1:1 copy of meta-balena-honister
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: image-balena: Fix journal blocks calculation"
      hash: b890cab9e4c5b364944e520ed4034ce71932f0bc
      body: |
        Replace a static check for the "honister" distro name with a version
        check on dumpe2fs which does not need further maintenance.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "packagegroup-resin: Move libnss-ato out of packagegroup to avoid build
        error"
      hash: c03f72e3da35193b68de139e688039700ad4599d
      body: >
        Yocto kirkstone complains with:


        ERROR: packagegroup-resin-1.0-r1 do_package_write_ipk: An allarch
        packagegroup shouldn't depend on packages which are dynamically renamed
        (libnss-ato to libnss-ato2)


        For lack of a better place, move to the balena-image recipe.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "openvpn: update to version 2.5.6"
      hash: 106fa9df896e2594638c48aef2557aadc75900e1
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-supervisor: Allow network use in install task"
      hash: 817c68135f5a96a4fc1673175bee25402fc58801
      body: |
        This recipe checks the API for the supervisor version so it must be
        allowed network access.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "docker-disk: Allow compile task to use network"
      hash: f1110e861c33625d1789d1dc6f262f302f550f10
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "chrony: update to version 4.1 to match kirkstone's version"
      hash: 5049451b32d2d2c59f2aeb4713b2e6539bffeb49
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-config: Adapt to kirkstone"
      hash: 7092dda34b52947db2e8643c45c3f5f9a6e31407
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "healthdog: Adapt to kirkstone"
      hash: e15b4faf33d0d7b72d65a0ee5ca7a7d6eff25d9d
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "compatibility: Do not update tpm2-tss below Dunfell"
      hash: b3dfb63f189e50f6dd2303c6201e26e91209fd0d
      body: |
        Newer versions require autoconf >= v2.70 not to fail with:
        ```
        configure: error: unrecognized option: `--runstatedir=/run'
        ```
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "tpm2-tss: update to kirkstone"
      hash: 7f37dae8a1300d58daf0b09ef8a9732916d65130
      body: >
        Copied from the kirkstone branch of
        https://git.yoctoproject.org/meta-security/
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "tpm2-tools: update to kirkstone"
      hash: e25996b46287d43033b673b6c02d685a0a00f01f
      body: >
        Copied from the kirkstone branch of
        https://git.yoctoproject.org/meta-security/
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "tpm2-abrmd: update to kirkstone"
      hash: 27895d536b277b5dae9ac6fa8b4f89526176d6f2
      body: >
        Copied from the kirkstone branch of
        https://git.yoctoproject.org/meta-security/
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-common: Assure all recipes have branch and protocol in
        SRC_URI"
      hash: f84acf9c4dee58987d1abf3c45e55d4d9f0834f3
      body: |
        This is the result of running the `convert-srcuri.py` script.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "bluez5: update to 5.64"
      hash: f70ef8d009461fb5c25fec23ee51a56a3d50a2a6
      body: |
        We keep the bluez recipe in meta-balena so we can use the same version
        independently of the Yocto version and integration layer used.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "efi-tools: Replace SSTATE_DUPWHITELIST with SSTATE_ALLOW_OVERLAP_FILES"
      hash: 8e3628e32c3ecc880a40e90f227eb536aa2f64cb
      body: |
        This is part of Yocto's inclusive language improvements.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.103.0
  title: "'Update to kirkstone'"
  date: 2022-09-12T10:29:08.814Z
- commits:
    - subject: Update tests/leviathan digest to 7fe3c5f
      hash: 501e9f0cd4a82b40451cca4eef244ad242565614
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "core: Copy all files/directories except those in dockerignore"
              hash: d65bfbb94cab3cbfa676f53b42b85969bde41e58
              body: |
                In some situations the contracts submodule may not exist so this
                will prevent the docker build from failing.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "core: Move contracts submodule back to original path"
              hash: ed4b658cb327c9133d223c3474bb9d882b8fcb36
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.8.4
          title: "'core: Move contracts submodule back to original path'"
          date: 2022-09-07T14:39:45.563Z
        - commits:
            - subject: "patch: Migrate away from config package"
              hash: b04974e51ad26b2b6dfce52ea4897c51276989ef
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.8.3
          title: "'core: Migrate away from config package'"
          date: 2022-09-07T11:55:30.839Z
        - commits:
            - subject: "worker: Pin to stable release 2.5.10 prior to md support"
              hash: 3b6ce13734e98e981492e01bc874c0a439cb1536
              body: |
                Software raid support is not backwards compatible so pin
                to a stable version of the worker prior to 2.6.0.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.8.2
          title: "'worker: Pin to stable release 2.5.10 prior to md support'"
          date: 2022-09-06T13:48:15.525Z
        - commits:
            - subject: "patch: Fix contracts name"
              hash: 5f48a749c71bcc2e540a764f633dd823c3fcc35c
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.8.1
          title: "'patch: Fix contracts name'"
          date: 2022-09-03T23:38:43.521Z
        - commits:
            - subject: "patch: Accept 429 HTTP codes using config file"
              hash: 846773a1aae8677f618660395515be4515a6b6d4
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
            - subject: "minor: Add support for Private Contracts"
              hash: 3259bc9e08dec07058a11ce189fc261c44479123
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.8.0
          title: "'minor: Add support for Private Contracts'"
          date: 2022-08-26T12:39:14.021Z
        - commits:
            - subject: Fix "Declaration emit" error during `npm run docs`
              hash: 42c89019bd9d2f423ccf5141ef1b30ecad833868
              body: ""
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: leviathan-2.7.4
          title: |-
            'Fix "Declaration emit" error during 
            > leviathan@2.7.3 docs
            > npm --prefix core run docs


            > docs
            > rimraf ../docs/ && npx typedoc --tsconfig tsconfig.json'
          date: 2022-08-24T17:59:42.344Z
  version: 2.102.6
  title: "'Update tests/leviathan digest to 7fe3c5f'"
  date: 2022-09-07T17:51:24.028Z
- commits:
    - subject: "patch: Add package-lock.json files for tests"
      hash: 89ce7a08596ba0fd3402910f224c21de49201f9f
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.102.5
  title: "'patch: Add package-lock.json files for tests'"
  date: 2022-09-06T08:15:14.569Z
- commits:
    - subject: "udev: run resin-update-state after md assemble"
      hash: 09a985b3847b887ae47047c011057372cfee993e
      body: |
        Run the resin-update-state rules that create the by-state links after md
        arrays are assembled. This fixes state link creation when running on a
        RAID array.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "resin_update_state_probe: do not skip md devices"
      hash: fbfb67820b58fcf7659d616e20657857959e46fe
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.102.4
  title: "'Fix creating by-state links when rootfs is on a RAID array'"
  date: 2022-08-30T21:04:53.554Z
- commits:
    - subject: "renovate: Restore default commit body"
      hash: 05be6314e136d40ae8cdf54988b27e059de07e68
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.102.3
  title: "'renovate: Restore default commit body'"
  date: 2022-08-30T19:45:01.208Z
- commits:
    - subject: "Renovate: Fix package rules for balena supervisor"
      hash: 2a7cb0c5bc3a53980ac8bcd2190500a51fcd85c5
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.102.2
  title: "'Renovate: Fix package rules for balena supervisor'"
  date: 2022-08-29T16:15:17.586Z
- commits:
    - subject: "meta-balena-thud: initramfs: Fix building with latest meta-balena"
      hash: 30bc6e7d27fb2ceaff5ea241fdd0e7b8224b84ea
      body: |
        The latest meta-balena includes `util-linux-findmnt` as a kexec module
        dependency and this package has not yet been split from `util-linux` in
        thud.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.102.1
  title: "'meta-balena-thud: initramfs: Fix building with latest meta-balena'"
  date: 2022-08-29T08:26:13.610Z
- commits:
    - subject: "meta-balena-common: distro: Add rust preferred versions"
      hash: 0d3221fe5378ddb09248694ba2eb8571db63511b
      body: |
        Also, do not set the preferred version for integration layers so we
        use the same rust version across all Yocto releases.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-common: os-config: Update to v1.2.11"
      hash: 6b5d60c8295477abe3cd8ac4ed5779843f3ebd3a
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-integration: Replace parallel_make_argument()"
      hash: 127be828f7c665d7bc6035b0b45d2cf81acfc0fa
      body: |
        The oe.utils parallel_make_argument() was introduced in Zeus, so this
        commit replaces by a direct call to fetch PARALLEL_MAKE.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-integration: Update cmake for versions below Zeus"
      hash: c12764c100cc9bdbcc6fd5c9f5c62f327e695e11
      body: |
        In order to use the same rust toolchain across all supported Yocto
        versions this commit updates the cmake version on all integration layers
        below Zeus to 3.13.4, which is the minimum version to compile the rust
        1.62 toolchain.

        The cmake recipe and classes come from Poky's 2daa03ecfeaf
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-rust: Add condition check for parallel_make_argument() use"
      hash: bb853604fed3daa17abab38325a765b546751550
      body: |
        This function is not part of all supported Yocto versions so make a
        check for its existence before using it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-rust: Provide crate fetcher for Yocto versions without it"
      hash: 8c251ac51f23b750f3716f16fbd5d5b9cd6c74dc
      body: |
        The crate fetcher was introduced in bitbake in Kirkstone, before that
        it was living in meta-rust.

        We want to use the balena-rust layer across a wide variety of Yocto
        versions so include the fetcher conditionally.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-rust: Modify to use without oe.rust.arch_to_rust_arch()
        support"
      hash: 5c48ac4b15bbabce38fb73488deae1b0bb219414
      body: >
        The arch_to_rust_arch() function was introduced to cater for ppc64le

        systems and is not present in older Yocto releases.


        This commit reverts to the previous way of setting the rust
        architecture.

        It will not work for ppc64le and if we would need to support such an

        architecture the arch_to_rust_arch() function will still be called if it

        exists in Kirkstone or newer Yocto versions.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-rust: Add rust recipes to keep the rust version a
        distribution config"
      hash: ecf0f36e6a316584dcf10397fa00d146a5bd478a
      body: >
        With Kirkstone and the support of openSSL 3.0 it's not possible to find

        a set of dependencies that work for all of our rust applications across

        the 1.32 to 1.62 toolchain versions that are supported across all the

        Yocto versions we keep compatibility with.


        This layer allows to set a preferred version as a distro setting that
        can

        be used across all Yocto versions.


        These rust recipes come from Poky Kirkstone

        2642bdb8908afb800e6dc5722602a87228dd8694
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-balena-rust: Add compatibility layer"
      hash: 9242585678e1e9027483fedcbe1d3e795deb0ebf
      body: >
        This layer will allow to use the same rust toolchain across all
        supported

        Yocto compatibility layers.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.102.0
  title: "'Add meta-balena-rust compatibility layer'"
  date: 2022-08-25T09:10:02.651Z
- commits:
    - subject: "renovate: Fix nested changelogs and change-type for SV updates"
      hash: 516432877cf9fda8b65cae1b3cddcd8bd8cc249d
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.101.11
  title: "'renovate: Fix nested changelogs and change-type for SV updates'"
  date: 2022-08-24T12:22:37.592Z
- commits:
    - subject: "meta-resin-sumo: linux-firmware: Move to a location included in BBPATH"
      hash: 148fcadbb792bdbabdbc152b886125415b3e4838
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-resin-sumo: use v1.14.2"
      hash: 5bb3a29c1c5dfa0f02da47e48f3b64d3d3f9cd08
      body: |
        Newer versions are not compatible with the libc version in sumo.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-resin-sumo: libqmi: Use v1.26.0"
      hash: 1c25bb333c6cb458af955274c82f164a83a2b914
      body: |
        Newer versions are incompatible with the libc available in sumo.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "meta-resin-sumo: libmbim: use v 1.24.2"
      hash: 1fe708b4bf84e60032c4e7f52316632a49ecc490
      body: |
        The current meta-balena libmbim is not compatible with sumo's libc
        version.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena: Disable GOCACHE"
      hash: 2e79582c81a6f0f5ff42ed01bdc69ba06550e63a
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.101.10
  title: "'Update sumo compatibility layer'"
  date: 2022-08-23T08:15:40.582Z
- commits:
    - subject: Update tests/leviathan digest to f7533c1
      hash: d31e056f263085ce4451bd99a01911c359b9e0f6
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "compose: qemu: enable loopback and metadata devices"
              hash: 962a1705b11457c7d9a87c17cc9e3bf1671d2257
              body: >
                Copied from https://github.com/balena-os/leviathan-worker/pull/21
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.7.3
          title: "'compose: qemu: enable loopback and metadata devices'"
          date: 2022-08-16T17:06:56.295Z
  version: 2.101.9
  title: "'Update tests/leviathan digest to f7533c1'"
  date: 2022-08-23T03:16:57.699Z
- commits:
    - subject: Update balena-io/balena-supervisor to v14.0.14
      hash: b4bc31f23aac390eb8ad99fc361dc39d14b0c92e
      body: Update balena-io/balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.101.8
  title: "'Update balena-io/balena-supervisor to v14.0.14'"
  date: 2022-08-23T00:10:09.726Z
- commits:
    - subject: Add automated tests for the Engine healthcheck
      hash: 16d8dbe0e1dae47b161680a227213247ea699f1a
      body: ""
      footer:
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Change-type: patch
        change-type: patch
      author: Leandro Motta Barros
      nested: []
    - subject: Use a lightweight Engine healthcheck
      hash: 7146e4614c2658d6f7d5384602eb8ad213e08759
      body: |
        Previously, our healthcheck verified if we were able to start a new
        container. This had two downsides:

        1. It was relatively heavyweight. In devices under heavy load, it would
           sometimes take so long to run that the Engine was killed by the
           watchdog.
        2. It wrote to the storage media. Creating a container involves writing
           some data to persistent storage, therefore the healthcheck was
           wearing the storage media.

        This new healthcheck simply pings both `balenad` and `containerd`, which
        is much faster than starting a new container and doesn't write to disk.
        The step of pinging `containerd` is important because we have seen at
        least one case in the past in which `balenad` was working but
        `containerd` wasn't.
      footer:
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Change-type: patch
        change-type: patch
      author: Leandro Motta Barros
      nested: []
    - subject: Make Engine watchdog termination graceful
      hash: 9e322ee25bf50949880446f4fb85d1d8e864da37
      body: |
        With `WatchdogSignal=SIGTERM` systemd will send a SIGTERM and give the
        Engine 90 seconds to gracefully shutdown before sending a SIGKILL. We
        had cases of Engine metadata on disk getting corrupted after the
        watchdog sent it a SIGKILL directly. This change shall minimize this
        issue.
      footer:
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Change-type: patch
        change-type: patch
      author: Leandro Motta Barros
      nested: []
  version: 2.101.7
  title: "'Improve Engine healthchecks'"
  date: 2022-08-17T13:45:38.348Z
- commits:
    - subject: "tests/cloud: fix ssh prod test for physical duts"
      hash: abbb8233f803fd4216fe27bb8a9c28f96d30085e
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.101.6
  title: "'tests/cloud: fix ssh prod test for physical duts'"
  date: 2022-08-15T12:33:41.204Z
- commits:
    - subject: "meta-balena-rust: Link to meta-rust"
      hash: 83bd38733af9063c5d29d90fc0695838e4b718d3
      body: |
        This is a temporary way that will allow to update the bblayers.conf of
        device type repositories to include meta-balena/meta-balena-rust while
        still building.

        This change will be reverted with the meta-balena-rust layer.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.101.5
  title: "'meta-balena-rust: Link to meta-rust'"
  date: 2022-08-12T08:01:52.474Z
- commits:
    - subject: Update tests/leviathan digest to c2c68d2
      hash: 769f708630e8bf5bc58ca97a05d24a62e9c8976b
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: exit with failure if suite doesn't start
              hash: 1221cdfa4aaae98e9fadcc961adc574fc6d3ffba
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.7.2
          title: "'core: exit with failure if suite doesn't start'"
          date: 2022-08-05T12:37:55.576Z
        - commits:
            - subject: Regenerate docs
              hash: 603564525d93f41d3583f4a9d8f42edd5311827c
              body: ""
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: Document proper worker config for QEMU workers
              hash: 0165578f87d8b1eb4209f5f1c4f490a8e893c794
              body: ""
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
            - subject: Fix a couple of typos in the docs
              hash: b2fa59745ed8ebc3c8d5346c78b26cfc70a061be
              body: ""
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: leviathan-2.7.1
          title: "'Document proper worker config for QEMU workers'"
          date: 2022-08-02T21:09:19.617Z
        - commits:
            - subject: "minor: Add Unstable tests debug feature"
              hash: eb2c583f988056cacc93b761568549988d4f85eb
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.7.0
          title: "'Add unstable tests debug feature'"
          date: 2022-07-26T17:56:37.204Z
  version: 2.101.4
  title: "'Update tests/leviathan digest to c2c68d2'"
  date: 2022-08-08T11:54:12.550Z
- commits:
    - subject: Update balena-io/balena-supervisor to v14.0.13
      hash: 86f7f397f711093dcf71a86c349f3adc29bd17ac
      body: Update balena-io/balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.101.3
  title: "'Update balena-io/balena-supervisor to v14.0.13'"
  date: 2022-08-05T17:03:57.877Z
- commits:
    - subject: DRY the HUP smoke tests
      hash: 46dc350d829c352dae62a87eb1aec21e69789503
      body: |
        Our tests perform two HUPs (into and out of the release under test), and
        the code for both of these HUPs were duplicated. This commit factors
        this code out to a common function.
      footer:
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Change-type: patch
        change-type: patch
      author: Leandro Motta Barros
      nested: []
    - subject: Check volume contents over HUPs
      hash: ef4e861fdd1dd7ea8d3a9b6dd34a0e1e30c8e852
      body: |
        This is a small improvement over our previous test: in addition to
        checking that the volumes themselves are preserved over HUPs, we now
        check if the contents of these volumes is preserved.

        Resolves #2428
      footer:
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Change-type: patch
        change-type: patch
      author: Leandro Motta Barros
      nested: []
  version: 2.101.2
  title: "'Check volume contents over HUPs'"
  date: 2022-08-05T13:32:38.536Z
- commits:
    - subject: "os-config: Update os-config from v1.2.1 to v1.2.10"
      hash: 1663c7d601882813f9219209fefee6bfb3eb2e6d
      body: |
        The tool now has optimized binary size in release builds
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.101.1
  title: "'Optimize binary size in release builds for Rust tools'"
  date: 2022-08-01T14:48:59.790Z
- commits:
    - subject: "resin-device-register: Use fatrw to access the boot partition"
      hash: 9730e7a5805f8589ff392ccad0029b67ff0619d4
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "hostapp-update-hooks: Use fatrw to access the boot partition"
      hash: a4b626edb5d27f35a754cf6e7b718dd379453a01
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-unique-key: Use fatrw to access the boot partition"
      hash: 4c29d63e09ad1e6966bfe3a6ada7f4875ca5ff58
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-rollback: Use fatrw if available"
      hash: 2f14cdf9e82bd50d5cbabfc62d9d3ed5b3f2de7b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "update-hostapp-extensions: Use fatrw if available"
      hash: 6043f89df336b2aa22253c90a1923f0ea9f9b773
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-config-vars: Provide FAT safe filesystem access alternatives"
      hash: 09ddd9c7d9e9cce2e9956d15644931d879ce0ad3
      body: |
        The boot partition is currently a FAT filesystem that does not support
        atomic writes. To prevent corruption, this commit introduces a fatrw
        application that needs to be used both when reading and writing files
        to the boot partition to provide safe accesses.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "fatrw: Add recipe"
      hash: c8312e6a8a6b20d5534754ab2930463b302c87d4
      body: |
        Builds a CLI application to perform atomic writes to FAT filesystems.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.101.0
  title: "'Use fatrw for atomic writes to boot partition'"
  date: 2022-07-29T15:21:30.925Z
- commits:
    - subject: "test: os: chrony: Double the wait for time skew test"
      hash: 756b5eba8d3b197f56688be030b522f94a628c42
      body: |
        Including the 2min systemd watchdog timer, plus 60 attempts to sync
        the time via chronyc waitsync, it may take longer than expected to
        trigger the healthcheck condition.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "os: tests: chrony: Wrap disable/enable NTP in test conditions"
      hash: 6d51bd39d02898a3a50f8b5ff133a283b0368463
      body: |
        This allows us to catch if one of the enable/disable steps has failed
        and includes time to execute.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests: os: Add helper to write or remove properties in config.json"
      hash: ce338f46cf7d79044b7f67850744784db3869465
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.100.11
  title: "'tests: os: Add helper to write or remove properties in config.json'"
  date: 2022-07-25T17:36:43.495Z
- commits:
    - subject: "tests: cloud: preload: fix no-return-await"
      hash: 4011daec80bf0e81915bdaf6aafdcd1cd298e5d6
      body: |
        Fix ESLint no-return-await
        https://eslint.org/docs/latest/rules/no-return-await
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: cloud: preload: reduce waitUntil interval"
      hash: 5b4669444e99788ceff5615ed66edc13719ab70b
      body: |
        Specify an explicit retry interval in waitUntil().
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: cloud: multicontainer: reduce waitUntil interval"
      hash: 92d72c900e0017203a8de21a7de1930528eb25e6
      body: |
        Specify an explicit retry interval in waitUntil().
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.100.10
  title: "'Jakogut/cloud fixups'"
  date: 2022-07-24T10:14:15.412Z
- commits:
    - subject: "tests: os: engine-socket - wait for response"
      hash: 61b32c0d36e2c2af387b77bdc398d3294ffedbda
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.100.9
  title: "'tests: os: engine-socket - wait for response before continuing test'"
  date: 2022-07-22T19:35:54.404Z
- commits:
    - subject: "tests/os: Add 243390 unmanged Wifi HATs tests from testLodge"
      hash: d02baf51d053124059aae911eb1e0e75f92d62d7
      body: |
        This covers the unmanaged part of the tests for the CUS
        and EUS wifi chipsets on this DT: TC50, TC51, TC52, TC53,
        TC55, TC56.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.100.8
  title: "'tests: Add 243390 unmanged Wifi HATs tests from testLodge'"
  date: 2022-07-21T23:48:56.244Z
- commits:
    - subject: "tests: hup: Clear inactive storage partition before HUP"
      hash: 411639a031cdbdfc8ccdcc911e06f94fbf28ca9c
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests: hup: Add root partition tests"
      hash: 0aa0a53a27867ce9e1a1d511f68736d62a9b3b1c
      body: |
        Rather than verify the OS version that doesn't always
        change between upgrades, we should confirm that we are not
        running on the same root partition as we were before HUP.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests: hup: Replace custom steps with tests and verify exit code"
      hash: 60923171f34aa9d55edce08b010a7b48f97f615f
      body: |
        We want to fail the test if one of setup steps fails to execute.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests: hup: Wait for rollback files to be removed or created"
      hash: e4ba7abc3225f26926cf6cd9acee1431bb839950
      body: |
        Rather than waiting for services to become inactive, just
        wait for the expected files to be created or removed in
        the state partition.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.100.7
  title: "'tests: hup: Clear inactive storage partition before HUP'"
  date: 2022-07-21T16:21:04.482Z
- commits:
    - subject: "balena-config-vars: Do not use cache in flasher images"
      hash: c99ac402222d3187f5b7c71d6a40400328fd3327
      body: |
        Flasher images use an alternative configuration storage so skip caching.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.100.6
  title: "'balena-config-vars: Do not use cache in flasher images'"
  date: 2022-07-21T11:41:09.297Z
- commits:
    - subject: Update balena-io/balena-supervisor to v14.0.12
      hash: a02e1aaa0128bb8d83af498be7c5e9baec4facab
      body: Update balena-io/balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.100.5
  title: "'Update balena-io/balena-supervisor to v14.0.12'"
  date: 2022-07-21T07:32:23.025Z
- commits:
    - subject: Update tests/leviathan digest to d3c6489
      hash: 03e3f1863ef6e0d3627b16cbb300bff13ad9f8a0
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "core: Reduce logging in failed SSH attempts"
              hash: a51082819ea19c25a3e195ef9af420b01e425a55
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.6.8
          title: "'core: Reduce logging in failed SSH attempts'"
          date: 2022-07-20T18:16:21.491Z
        - commits:
            - subject: 'Revert "patch: Increase timeout for worker connections"'
              hash: 5e98079b8a44b2470c8edc9ac6e4ab65b9a6da96
              body: >
                This reverts commit 87a741fd22a78c190bec59fa6628de921ac2809f.


                This change didn't actually help to resolve the original
                ETIMEDOUT

                issues so it can be reverted.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "core: Update node-tap to 14.10.8"
              hash: 9307ec92f4a700e4d3e51aebb812667c3b809fb5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.6.7
          title: "'core: Update node-tap to 14.10.8'"
          date: 2022-07-18T19:00:05.817Z
  version: 2.100.4
  title: "'Update tests/leviathan digest to d3c6489'"
  date: 2022-07-20T23:56:49.035Z
- commits:
    - subject: "tests: ssh-auth: Rework to prevent race conditions"
      hash: a54368b0c2f52e17242117ec59313ce8d0fec88c
      body: |
        Use a common function to apply settings in config.json to avoid
        code duplication. It also provides timed results so we know
        how long it took to apply a setting.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.100.3
  title: "'tests: ssh-auth: Rework to prevent race conditions'"
  date: 2022-07-20T20:33:49.443Z
- commits:
    - subject: Update tests/leviathan digest to c2755a1
      hash: d585bb1d5c02402a8a33718174b75439f8f4edc1
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "core: worker: add retryOptions to executeCommand methods"
              hash: 2f2d7a8b99fcaffc22d0032f9102e194160f7e1f
              body: >
                The executeCommand family of methods default to retrying on
                failure. In

                some cases, such as in the ssh-auth test in the cloud test
                suite, we

                expect failures to happen, and want them to be raised
                immediately. Other

                situations might demand adjusting the number of retries and
                interval to

                fit specific tests. Add a retryOptions object to these methods
                to allow

                for this behavior to be configured.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.6.6
          title: "'core: worker: add retryOptions to executeCommand methods'"
          date: 2022-07-15T00:04:31.325Z
  version: 2.100.2
  title: "'Update tests/leviathan digest to c2755a1'"
  date: 2022-07-15T17:58:23.253Z
- commits:
    - subject: "tests: cloud: fix production mode ssh test"
      hash: 916d400456ef2cb58f13c7b8b6e542c23b57e8c2
      body: |
        This test was broken previously, and would fail with "All configured
        authentication methods failed" after a long delay caused by excessive
        retries.

        Fixes: #2719
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.100.1
  title: "'tests: cloud: fix production mode ssh test'"
  date: 2022-07-15T00:06:09.193Z
- commits:
    - subject: "docs: Add configuration overview"
      hash: c5ffb602ede43b129770024d4e0fb1919741c0dd
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Create empty configuration units
      hash: 7fa2152878de1f40df40dc6db74fc77e02480967
      body: |
        By creating empty configuration units when no configuratin is applied to
        a service instead we avoid regenerating them at boot if stored in
        persistent memory helping with boot times in less powerful devices.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Make configuration units storage path a distro setting
      hash: a5a9b3cf31b92e31f91eb6d4c99c9a2cc42b1257
      body: |
        This allows for specific devices to override the defaults, which is to
        store configuration units on volatile memory re-generating them every
        boot and avoiding storage media writes.

        Changing this to permanent storage trades boot times with media life
        expectancy.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-configurable: Generate initial unit configuration file"
      hash: f59f2f1716f0c59ac4e21cb35ebf1b34ad8a945e
      body: |
        Before starting services generate the initial unit configuration file.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-units-conf: Add script to generate configuration units"
      hash: 0de0d36727f13d8229e6f4936cc8ff14fdb4e204
      body: |
        Separate the generation of configuration units before a service has been
        started, from the processing of configuration changes.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-units-conf: Rename configuration directory"
      hash: ef87329afc96e168acca33b79ed1db04fffc85b2
      body: |
        Rename CONF_TMPDIR to CONF_DIR not to imply volatile storage.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-units-conf: Process static configuration unit files at build
        time"
      hash: a0bbe0038b2bf99f0845095c42a9dca517293049
      body: |
        Currently `os-config-json` is also parsing `units-conf.json` at runtime.
        This is expensive to do for smaller devices, so this commit performs the
        processing at build time.

        For this, it also splits the configuration units processing in
        balena-config-vars into its own recipe to allow for task ordering.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers-config: Extract functions from os-config-json to helper file"
      hash: 368d2c981d6229c5896e54afb11fc9488893dc3d
      body: |
        This allows to re-use the functions from other places.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers: Rename os-helpers-devmode to os-helpers-config"
      hash: 2afcac4cd3b35c0299b34f43cdaec96c700d3928
      body: |
        This makes it more general and allows it to be expanded.

        Also, allow its native use so it can be included in recipe tests.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-config-vars: Split static defaults into a different file"
      hash: bfe134f8dc24bb3bab5cef8e1b82a6844e1e5de3
      body: |
        This allows to source the static configuration without having to parse
        config.json which is expensive for smaller devices.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-config-json: Log configuration changes"
      hash: 6b876340ccccdc326b772292f5fcb7ba8304f9e5
      body: |
        Identify configuration changes in the log.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-config-json: Recreate environment cache file"
      hash: bddb396bee22111b908f67b332169ce11cda5fcc
      body: |
        When config.json changes the environment cache file needs to be
        recreated.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-config-vars: Cache environment in memory file"
      hash: fe1581bf347fd354e806eb617ee6c446d22b52cb
      body: |
        Executing balena-config-vars is quite taxing for smaller devices. For
        example a RaspberryPi Zero.

        This commit introduces a cached memory file with the configuration
        environment that is recreated when `config.json` changes and will be
        used if present.

        time source /usr/sbin/balena-config-vars --no-cache

        real    0m2.928s
        user    0m1.050s
        sys     0m0.030s

        time source /usr/sbin/balena-config-vars

        real    0m0.011s
        user    0m0.008s
        sys     0m0.000s
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.100.0
  title: "'Optimize configuration watchers'"
  date: 2022-07-14T12:22:34.189Z
- commits:
    - subject: Update backport for current being 2.98.x
      hash: b9e0614e7fca33fefdfd05267881e2a4405ef127
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.99.30
  title: "'Update backport for current being 2.98.x'"
  date: 2022-07-14T07:57:05.557Z
- commits:
    - subject: Update balena-io/balena-supervisor to v14.0.10
      hash: 8333afa3429b681419d0d834e39c80c6180f31cc
      body: Update balena-io/balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.99.29
  title: "'Update balena-io/balena-supervisor to v14.0.10'"
  date: 2022-07-14T00:31:19.818Z
- commits:
    - subject: Update tests/leviathan digest to d57299a
      hash: 72ff6adac8ab2b0bf0e4dd359ae5e5f3da7cb7d6
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "core: Reduce the interval for sdk.executeCommandInHostOS"
              hash: 72d3ff016213b88f6a552761536a697cbec98b03
              body: |
                Maintaining the total time of 600s but reducing the interval
                from 10s to 1s to catch successful commands faster.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: Revert "reduce ssh retries"
              hash: 47ca4a05ad2c970fa71dc5819c04fbfa46489a3b
              body: |
                This reverts commit ca1a9238fd59fb3b46321f36a157021c705d1605.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.6.5
          title: "'Revert \"reduce ssh retries\"'"
          date: 2022-07-12T21:38:11.489Z
        - commits:
            - subject: remove parallel suites across multiple workers
              hash: d3d1558f2f732fc0e559f1b0a46f3e057f37a82e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.6.4
          title: "'remove parallel suites across multiple workers'"
          date: 2022-07-07T10:40:01.869Z
        - commits:
            - subject: reduce ssh retries
              hash: ca1a9238fd59fb3b46321f36a157021c705d1605
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.6.3
          title: "'reduce ssh retries'"
          date: 2022-07-06T11:25:17.154Z
        - commits:
            - subject: "Makefile: Fix unique container names when running on Jenkins"
              hash: 59d1f3e41aef5f60b61de27eb05512cec69b7d36
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "Makefile: Ignore failures when cleaning up"
              hash: 808dd2218755c34f86e849ce9378f1bc8cc540a2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.6.2
          title: "'Makefile: Ignore failures when cleaning up'"
          date: 2022-07-04T19:32:28.939Z
        - commits:
            - subject: "patch: Remove testing step of purging old volumes"
              hash: ff51ed9846c46cef5733d35414b8952acc83187f
              body: ""
              footer:
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "patch: Increase timeout for worker connections"
              hash: 87a741fd22a78c190bec59fa6628de921ac2809f
              body: ""
              footer:
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.6.1
          title: "'patch: Increase timeout of http requests to worker'"
          date: 2022-07-01T14:27:56.188Z
        - commits:
            - subject: "minor: Improve e2e serial test for Leviathan v2"
              hash: 3cff5f39767dfa507c52a7827e7317fdc07d0be6
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.6.0
          title: "'minor: Improve e2e serial test for Leviathan v2'"
          date: 2022-06-30T23:41:09.545Z
        - commits:
            - subject: "patch: Limit e2e execution time to 2 hours"
              hash: e8daaaef99db5476d3d78b370a05d4c08bd4a6cc
              body: ""
              footer:
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.5.7
          title: "'patch: Limit e2e execution time to 2 hours'"
          date: 2022-06-30T21:19:32.813Z
        - commits:
            - subject: "patch: Use ubuntu-latest GH runners for e2e"
              hash: ee024769aa476e5d5dca66cc8fbc707f1eed37bc
              body: ""
              footer: {}
              author: Kyle Harding
              nested: []
          version: leviathan-2.5.6
          title: "'patch: Use ubuntu-latest GH runners for e2e'"
          date: 2022-06-30T17:30:22.471Z
  version: 2.99.28
  title: "'Update tests/leviathan digest to d57299a'"
  date: 2022-07-13T17:09:10.663Z
- commits:
    - subject: "tests: os: fingerprint: fix errant promise"
      hash: ff22bce2e729c4fd74963ab7a96377656cad7559
      body: |
        When parallelizing fingerprint checks with Promise.any(), the
        unsuccessful command would continue retrying in the background, causing
        spurious error messages.

        With mDNS resolution memoization, this optimization no longer saves us
        time, so remove it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.99.27
  title: "'tests: os: fingerprint: fix errant promise'"
  date: 2022-06-30T18:10:06.725Z
- commits:
    - subject: "tests: cloud: Wait for random triggers to be updated"
      hash: b0223bb3a36ffcbfdf5e306cd9fa88398278a42c
      body: |
        This prevents a race condition on slower hardware where
        the systemd unit does not have a value for Trigger immediately
        after skewing the clock.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.99.26
  title: "'tests: cloud: Wait for random triggers to be updated'"
  date: 2022-06-29T18:46:55.181Z
- commits:
    - subject: Update tests/leviathan digest to 4fe9b19
      hash: 8d61aa7664fdfb621770fe546d20edd21be9d51c
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "github: Run e2e tests via github actions"
              hash: 3ef31444872dc701f0efa23cc0a208f0cbcf5155
              body: |
                This will replace the Jenkins job for e2e tests
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "make: Clean local volumes before running tests"
              hash: 1ff4f9e8bddca3f25d5d260d925448d62ca3be22
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "worker: Pin worker image to latest by default"
              hash: 3d8a4d5c57db246c4d4b9b82ae2ec4f5bdc0b081
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "e2e: Update e2e suite config to support testbots"
              hash: 46ff1fe17f33dffdacf6bdc923a4f986b16465af
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.5.5
          title: "'Run QEMU and testbot e2e tests via github-actions'"
          date: 2022-06-24T20:48:38.481Z
  version: 2.99.25
  title: "'Update tests/leviathan digest to 4fe9b19'"
  date: 2022-06-28T23:32:06.902Z
- commits:
    - subject: "tests: Increase delay when testing randomized timers"
      hash: 0163f4b3df5fbe2e49e56b45f5f200b18128417b
      body: |
        This should prevent failed tests on slower devices.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.99.24
  title: "'tests: Increase delay when testing randomized timers'"
  date: 2022-06-28T14:53:51.098Z
- commits:
    - subject: "Update: update balena-io/balena-supervisor to v14.0.8"
      hash: 87b9883c5cef60d2e00d566cc3bc83ac18bb737d
      body: Update balena-io/balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.99.23
  title: "'Update: update balena-io/balena-supervisor to v14.0.8'"
  date: 2022-06-27T23:40:10.965Z
- commits:
    - subject: "balena-supervisor: Replace BOOT_MOUNTPOINT with BALENA_BOOT_MOUNTPOINT"
      hash: 8e4ed15d512304498540fd30c280a5f000dc4ba9
      body: |
        BOOT_MOUNTPOINT is no longer exported in the configuration environment.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-config-vars: Remove BOOT_MOUNTPOINT from configuration
        environment"
      hash: 5ae6971c2574f4cc7a26ea420d25f2e36d80a965
      body: |
        BALENA_BOOT_MOUNTPOINT is used in 32 places in the OS, while
        BOOT_MOUNTPOINT is used in 5.

        This commit replaces BOOT_MOUNTPOINT with BALENA_BOOT_MOUNTPOINT to
        remove the duplication.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.99.22
  title: "'Replace BOOT_MOUNTPOINT with BALENA_BOOT_MOUNTPOINT'"
  date: 2022-06-27T18:01:12.674Z
- commits:
    - subject: "balena-config-vars: Do not use systemctl to list unit files"
      hash: efcc9a0f876dc9b0955189cab535bc4a1926554d
      body: |
        On occassions, this fails with a broken pipe error.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.99.21
  title: "'balena-config-vars: Do not use systemctl to list unit files'"
  date: 2022-06-27T09:18:07.649Z
- commits:
    - subject: "tests: os: make apiKey an optional parameter"
      hash: 5b959d374810ab1d5e82d3017b91e678d50e4a2d
      body: |
        When accessing a test device as part of a fleet, a cloud API key is
        required in order to generate an SSH key and access the device through
        the VPN. However, when accessing a device locally, such as a QEMU
        instance running on the workstation itself, we have a direct path, and
        no VPN is necessary.

        Make the apiKey optional, and don't login when it's not specified. This
        allows direct connections to work without it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.99.20
  title: "'tests: os: make apiKey an optional parameter'"
  date: 2022-06-24T20:23:18.792Z
- commits:
    - subject: "tests: os: purge-data: reduce intervals in waitUntil"
      hash: 1d1bc06cfbaf7be838190cf33427aa63f5b61788
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.99.19
  title: "'tests: os: purge-data: reduce intervals in waitUntil'"
  date: 2022-06-24T02:35:03.988Z
- commits:
    - subject: "tests: os: config-json: fix race in udevRules test"
      hash: 8825d721ca64d523dc6faf8c317f4a09796457b6
      body: |
        Readlink can fail when the path is non-existent, raising an error and
        making the udevRules test fail. Test that the link exists before
        attempting to use readlink.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.99.18
  title: "'tests: os: config-json: fix race in udevRules test'"
  date: 2022-06-23T22:09:44.331Z
- commits:
    - subject: Update balena-io/balena-supervisor to v14.0.7
      hash: 81c901c7a5c4636a4c19ee411b2c6137ac926ea2
      body: Update balena-io/balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.99.17
  title: "'Update balena-io/balena-supervisor to v14.0.7'"
  date: 2022-06-22T23:30:36.614Z
- commits:
    - subject: "tests: os: modem: reduce time taken scanning for modems"
      hash: 7cb747bfadba14447cb682cfd15e0a15df0e3545
      body: |
        Reduce the interval between scans as well as the maximum number of scans
        for modems, reducing the time spent waiting when no modem is present
        from ~50s to ~5s.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.99.16
  title: "'tests: os: modem: reduce time taken scanning for modems'"
  date: 2022-06-22T15:50:28.606Z
- commits:
    - subject: Update tests/leviathan digest to 9e0ab34
      hash: 5a828ca31e722a76a8f3fa869354fcf39dae0e8b
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested:
        - commits:
            - subject: "core: worker: simplify rebootDut"
              hash: 55981700fb4c90a1f81192a44725f2c2d49e6135
              body: >
                worker.rebootDut() contains retry logic using utils.waitUntil()
                wrapping

                this.executeCommandInHostOS(). The latter contains its own retry
                logic,

                which will try to execute a given command for up to five minutes
                before

                timing out. Remove the retry logic from worker.rebootDut(), as
                it's

                redundant and adds latency.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "core: worker: reduce interval in executeCommandInHostOS"
              hash: 7f8b371b3035eed2b32011295768d5bec19ba1ba
              body: >
                The default interval for retrying this command is 5s, with a
                total

                timeout of 2m30s. Reduce the timeout to 1s to reduce latency for
                the

                successful case, while increasing the total timeout to 5m.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.5.4
          title: "'Simplify reboot'"
          date: 2022-06-17T19:55:24.238Z
  version: 2.99.15
  title: "'Update tests/leviathan digest to 9e0ab34'"
  date: 2022-06-21T19:54:36.661Z
- commits:
    - subject: "tests: os: chrony: simplify error handling"
      hash: b72b370d456ef99b910b9c860bb686cbbe3312d8
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: os: chrony: use waitForServiceState"
      hash: 596fed9a703f6f8c938f6d4dc23236c5ecb2fbfc
      body: |
        Use waitForServiceState() to ensure chronyd is active
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: os: chrony: block NTP by disabling DNS resolution"
      hash: 78b393841a787f4ead18e9850488a23a4779cfd7
      body: |
        Certain chrony tests require the ability to block NTP requests. Switch
        from blocking these requests using iptables rules to simply stopping the
        local DNS server, which is faster and simpler, and doesn't conflict with
        the supervisor firewall.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.99.14
  title: "'Cleanup chrony tests'"
  date: 2022-06-21T06:07:38.125Z
- commits:
    - subject: Update balena-io/balena-supervisor to v14
      hash: 5d78b0536398fa27c60353d0c0d894dfdbfff3b6
      body: Update balena-io/balena-supervisor
      footer:
        Change-type: patch
        change-type: patch
      author: renovate[bot]
      nested: []
  version: 2.99.13
  title: "'Update balena-io/balena-supervisor to v14'"
  date: 2022-06-21T01:20:23.966Z
- commits:
    - subject: "renovate: Add regex manager for balena-supervisor"
      hash: 9820c61551a099b273f014f87cd4bf4a1b00d952
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.99.12
  title: "'renovate: Add regex manager for balena-supervisor'"
  date: 2022-06-20T17:07:21.269Z
- commits:
    - subject: "tests: cloud: check preloaded app starts w/o api"
      hash: 64b52e08dd761a7d796df204561dfb3329b16311
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.99.11
  title: "'tests: cloud: check preloaded app starts w/o api'"
  date: 2022-06-20T15:04:24.223Z
- commits:
    - subject: Update backport for current being 2.88.x
      hash: 80b729bbf2a2f161d2812645ac82fa9cbdcc349f
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.99.10
  title: "'Update backport for current being 2.88.x'"
  date: 2022-06-18T19:57:24.112Z
- commits:
    - subject: "hostapp-update-hooks: Rework bootfiles blacklist"
      hash: 7b523caa0099530c45b4d9981d31ca6c72a76262
      body: |
        We may have cases when for some boards we do not want
        to have all these files blacklisted. See for example
        https://github.com/balena-os/balena-rockpi/commit/b5eadcfb3a296eea2554dc0cbdd16002d51c5169

        In conclusion, we rework how the blacklist is constructed
        so that users of meta-balena can alter this list as they see fit.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.99.9
  title: "'hostapp-update-hooks: Rework bootfiles blacklist'"
  date: 2022-06-17T20:21:57.823Z
- commits:
    - subject: "base-files: Fix syntax in mdns.allow addition"
      hash: 144bfbf7c0426440351802d52183c3eeefcd060f
      body: |
        The mdns.allow overwrite was not being properly applied on newer Yocto
        versions.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "efitools: Fix append syntax"
      hash: 30053e1c43d8adba236e52a33416e601cdcfd9f8
      body: |
        The efitools package was already correctly build for x86_64, so this
        flag is most likely a noop.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.99.8
  title: "'Fix append syntax'"
  date: 2022-06-17T13:09:54.918Z
- commits:
    - subject: "resindataexpander: Move get_part_table_type to os-helpers-fs"
      hash: 7fc9af86c8b994ac61fe376ec8e63d6095dda3de
      body: >
        This is useful outside of the expander script, specifically in the
        init-board

        script in device repos.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.99.7
  title: "'resindataexpander: Move get_part_table_type to os-helpers-fs'"
  date: 2022-06-17T10:47:48.847Z
- commits:
    - subject: "balena-efi.service: Mount if /mnt/boot/EFI is a symlink"
      hash: 9a873418d094b8b951535c52154be71f8b295c31
      body: >
        This changes the condition in the unit file from checking whether

        /dev/disk/by-state/balena-efi exists to checking whether /mnt/boot/EFI

        is a symlink. The original approach has a race condition populating

        the by-state symlink - it is depending on udev and if the link is

        not present when the service is started (after the boot partition is
        mounted),

        the service fails and the EFI partition is never mounted.


        The new approach does the trick pretty well - /mnt/boot/EFI is a symlink

        if the EFI partition is split and a regular directory in case there is a
        single

        boot partition. That said the service is only started when necessary

        and the waiting for udev is implemented as a part of the mount script.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.99.6
  title: "'balena-efi.service: Mount if /mnt/boot/EFI is a symlink'"
  date: 2022-06-17T08:41:59.334Z
- commits:
    - subject: "grub-efi: disable shim_lock when in secure boot mode"
      hash: dd0c128664a4b5cb004cd154f4dabc627d1f6e77
      body: >
        Recent versions of GRUB default to use shim_lock when in secure boot
        mode.

        We do not use shim and do not build the shim_lock module into GRUB EFI
        binary

        therefore this needs to be disabled.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.99.5
  title: "'grub-efi: disable shim_lock when in secure boot mode'"
  date: 2022-06-17T04:45:40.248Z
- commits:
    - subject: Update tests/leviathan digest to 6934150
      hash: 050487f01e96c92e0fed301bb363ff09641f0d04
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: "patch: Fix failFast options"
              hash: 878d4351068945398c1c46e52966283563f06450
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.5.3
          title: "'Fix failFast debug option'"
          date: 2022-06-16T11:19:39.675Z
        - commits:
            - subject: "core: worker: handle all local connections the same"
              hash: 7b6eee28e6d0db63ca3ec7f6046aad46a12b7eaa
              body: >
                Create a directConnect variable that indicates whether we're
                connecting

                to a local instance of the worker server, including if the
                connection is

                over a unix domain socket. This allows the suite to skip steps
                that

                don't pertain to local runs.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.5.2
          title: "'core: worker: handle all local connections the same'"
          date: 2022-06-15T19:50:29.158Z
        - commits:
            - subject: "core: catch ssh errors correctly"
              hash: b6d651f78d84bfc9c4e89de01717c2f87e5af2ef
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.5.1
          title: "'core: catch ssh errors correctly'"
          date: 2022-06-14T15:10:14.924Z
        - commits:
            - subject: "make: Disable buildkit and add --pull to worker flags"
              hash: 7ec5f156df5629f65655e019274b94a947056af9
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "patch: Replace worker Dockerfile with bh.cr reference"
              hash: 57ca536e66406a96992b1e3e4d041e554ebc28e6
              body: ""
              footer:
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "patch: Remove testbot worker compose file"
              hash: eb32e4b95adcd248c9404234bbdbd78dc12c3e87
              body: ""
              footer:
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "patch: Remove balena-ci workflow for deploying to rigs"
              hash: 5aef72775a771319b4ac6fb212b032aa4e40ea10
              body: ""
              footer:
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: Remove worker references from package.json
              hash: 31d8ffded5e18201dd02293b7db6eab75d1bb144
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: Remove worker source files
              hash: 78f3d3a5dd80bebfb1b79783e3386c7c122a5132
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.5.0
          title: "'Remove worker source files'"
          date: 2022-06-13T17:19:02.178Z
  version: 2.99.4
  title: "'Update tests/leviathan digest to 6934150'"
  date: 2022-06-16T22:34:26.687Z
- commits:
    - subject: "tests: os: Run os suite before hup and cloud"
      hash: 279dea44014c2e649c2c8de8571276b29f532a31
      body: |
        Unmanaged os suites are the most critical and usually
        the fastest to complete, so run them first.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests: os: Refactor config-json tests to wait for passing results"
      hash: 3ee1951ecfff92d3176f64a484f307b976784d96
      body: |
        To avoid race conditions with services restarting automatically
        this commit wraps the individual test results with waitUntil and
        moves the common jq logic to a shared function.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests: os: chrony: Avoid conflicts with supervisor firewall"
      hash: ec7dcabd2e47ae9f7641388296c5c3c6e668c8bf
      body: |
        Flushing the iptables can leave the engine and supervisor
        in a bad state. Instead just add and delete the NTP rules.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.99.3
  title: "'Fix race conditions in os-config and chrony tests'"
  date: 2022-06-16T21:10:23.417Z
- commits:
    - subject: "tests: os: chrony: reduce retry interval"
      hash: 99ef89af348902008fd3370c968013afc0990f15
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.99.2
  title: "'tests: os: chrony: reduce retry interval'"
  date: 2022-06-13T22:56:55.782Z
- commits:
    - subject: "tests: hup: gzip hostapp before transfer to DUT"
      hash: cac92a4d5e884110ae5caaf807c2c5685a88237e
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.99.1
  title: "'tests: hup: gzip hostapp before transfer to DUT'"
  date: 2022-06-11T12:01:27.278Z
- commits:
    - subject: "chronyd: Add time synchronization healthcheck"
      hash: e2a0fb8ebd45400789ab466dbbe0e70da7fa6165
      body: |
        Add a healthcheck that will check that the NTP sources are reachable
        and the system time does not skew.

        The healthcheck will command a burst sync if there is no selected
        reachable source, and will restart chronyd if the system clock skews.

        Fixes #2314
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.99.0
  title: "'chronyd: Add time synchronization healthcheck'"
  date: 2022-06-10T08:04:29.339Z
- commits:
    - subject: "tests: os: chrony: fix formatting of this.worker"
      hash: c79e4b2b470f726e8099702cfeaea6da18e7e286
      body: |
        Test context is now accessible from self, remove verbose
        this.context.get() syntax when calling worker.executeCommandInHostOS.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: os: chrony: reduce delays and retries"
      hash: 1064fd20a474af3aac8253f34cf543fb78725f9f
      body: |
        When calling waitUntil(), reduce calling intervals and the total number
        of retries. This effectively halves the runtime for these tests, as the
        latency for detecting success is much lower.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.98.45
  title: "'Reduce chrony timeouts'"
  date: 2022-06-09T23:03:44.828Z
- commits:
    - subject: Update tests/leviathan digest to ea72650
      hash: 264147110d2517cb7929cdf709de1cd228f20dae
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: catch error in executeCommandInhostOs
              hash: db1677995f1cf2f93284dcd35bb173d1cb3e08ca
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.4.1
          title: "'catch error in executeCommandInhostOs'"
          date: 2022-06-09T13:28:01.544Z
        - commits:
            - subject: get ssh to work with ed25519 algorithm
              hash: 6bdaedab27c0a919eddd74cb784bddfd8281d90b
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: leviathan-2.4.0
          title: "'get ssh to work with ed25519 algorithm'"
          date: 2022-06-07T11:26:55.354Z
  version: 2.98.44
  title: "'Update tests/leviathan digest to ea72650'"
  date: 2022-06-09T21:46:58.389Z
- commits:
    - subject: "tests: cloud: update container names"
      hash: 8b85216ea886c77788ceaf377ee775e9c48913df
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.98.43
  title: "'tests: cloud: update container names'"
  date: 2022-06-09T11:03:45.627Z
- commits:
    - subject: "tests:cloud: Register teardown only when DUT is reachable"
      hash: fd822dabb42b2a45b1e77f262159bee192022d80
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.98.42
  title: "'tests:cloud: Register teardown only when DUT is reachable'"
  date: 2022-06-05T21:57:22.077Z
- commits:
    - subject: Update tests/leviathan digest to 4fbc1b8
      hash: 47aef0c5ec7b76cc50a00e1cca6c7d1397ba3a36
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: "worker: Expose additional QEMU runtime args via docker-compose"
              hash: ee574bb798cafa3e4a0504d2dde72079f8db8eeb
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.3.10
          title: "'worker: Expose additional QEMU runtime args via docker-compose'"
          date: 2022-06-05T16:58:48.060Z
  version: 2.98.41
  title: "'Update tests/leviathan digest to 4fbc1b8'"
  date: 2022-06-05T18:58:18.622Z
- commits:
    - subject: "tests: hup: reduce delay between retries"
      hash: cb48541fa98093f6ce97419b8304469a4b3bb7ab
      body: |
        Reduce delay between retries when using waitUntil, reducing latency and
        test runtime.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.98.40
  title: "'tests: hup: reduce delay between retries'"
  date: 2022-06-04T16:25:23.750Z
- commits:
    - subject: "tests: cloud: reduce waitUntil interval"
      hash: 34f77b125c97d82e182bca1cee94fddc49ad5b07
      body: |
        When the promise called in waitUntil fails, the function defaults to a
        30s interval before trying again. Reduce this to a 5s interval w/
        maximum 5m retry window in the cloud suite.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.98.39
  title: "'tests: cloud: reduce waitUntil interval'"
  date: 2022-06-04T12:43:32.134Z
- commits:
    - subject: Added all device support options
      hash: 5d29b6d1e0808d87103897f8210a75342f7f898f
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Hampton (@rhampt) rhampt@balena.io
        signed-off-by: Ryan Hampton (@rhampt) rhampt@balena.io
      author: Ryan H
      nested: []
  version: 2.98.38
  title: "'Added all device support options'"
  date: 2022-06-03T22:19:04.182Z
- commits:
    - subject: Update tests/leviathan digest to 8976bdb
      hash: de94a30c1fb3b82ab45da049870c21abd48067c0
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: "core: bump node 12 -> 14"
              hash: e40a9484c760fb0292da80c6fe6da46eb4373eec
              body: |
                Bump Node 12.19.1 to 14.19.3 in core
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.3.9
          title: "'core: bump node 12 -> 14'"
          date: 2022-06-02T19:29:24.315Z
        - commits:
            - subject: "core: suiteSubprocess: replace this.state.log w/ console.log"
              hash: c5fd5673c41b9ad48c818a4895712d8ee6c22729
              body: |
                This fixes the error:
                  TypeError: Cannot read property 'state' of undefined
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.3.8
          title: "'core: suiteSubprocess: replace this.state.log w/ console.log'"
          date: 2022-06-02T16:35:18.359Z
  version: 2.98.37
  title: "'Update tests/leviathan digest to 8976bdb'"
  date: 2022-06-03T18:25:50.520Z
- commits:
    - subject: "os: waitForServiceState: fix missing rejectionFail"
      hash: 6bd43901e2d460c4e3df2a83734213ab62523689
      body: |
        utils.waitUntil expects rejectionFail before _times and _delay, include
        this argument to ensure the later arguments have the intended effect
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.98.36
  title: "'os: waitForServiceState: fix missing rejectionFail'"
  date: 2022-06-03T13:24:28.082Z
- commits:
    - subject: "tests: os: udev: improve formatting"
      hash: bab6ca92bdbd7c7b30bbb96ea1ed4319e489e832
      body: |
        Improve formatting of long command
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: os: udev: use systemd.waitForServiceState"
      hash: 82bfff92ab1dc431032f95cd3c3409210089d167
      body: |
        Use systemd.waitForServiceState instead of waitUntil. This improves
        readability, and reduces the time taken in the case that the test fails
        and the default interval of waitUntil causes an excessive wait.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.98.35
  title: "'Cleanup udev tests'"
  date: 2022-06-02T18:04:49.177Z
- commits:
    - subject: Update tests/leviathan digest to b3b1b48
      hash: e5281f46702ec32213e8242de5d9ece58146246d
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: "worker: qemu: remove debug print statements"
              hash: c4f0b0c37fc7a7102f292db61a5271d7c3e23855
              body: >
                Log statements for powerOn/powerOff were added for debugging
                when

                refactoring the QEMU worker to operate w/out libvirt. Remove
                these.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.3.7
          title: "'worker: qemu: remove debug print statements'"
          date: 2022-05-31T23:32:38.579Z
        - commits:
            - subject: "core: worker: shorten getDutIp interval"
              hash: 37b7347bf63a1acb1b4efd7965e5b764a8f6ce84
              body: >
                Waiting ten seconds between retries is onerous, shorten to one
                second

                interval with more retries.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "worker: helpers: memoize resolveLocalTarget"
              hash: eff95325a566502e522f7106053fab6d860c93e7
              body: >
                Device addresses likely won't change during a single test run,
                and mDNS

                queries can be time consuming. Memoize the result of the query
                to save

                some time.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "worker: helpers: resolveLocalTarget: increase timeout"
              hash: 56cf5bb6b8a95b61c9143d6ddaa4edcd6bca852a
              body: >
                mDNS resolution can take some time, increase the timeout from 4s
                -> 15s
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.3.6
          title: "'Optimize mdns resolver'"
          date: 2022-05-26T23:44:13.510Z
  version: 2.98.34
  title: "'Update tests/leviathan digest to b3b1b48'"
  date: 2022-06-01T00:23:18.092Z
- commits:
    - subject: Update tests/leviathan digest to 95649fb
      hash: 4216f127f4935cb6e0adeccaf7c20daec55fcff7
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: "workers: qemu: fix vars path for x86_64"
              hash: b34b92dde6b9b55e9e8393f61787de6895a6e339
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: leviathan-2.3.5
          title: "'workers: qemu: fix vars path for x86_64'"
          date: 2022-05-25T21:12:24.421Z
  version: 2.98.33
  title: "'Update tests/leviathan digest to 95649fb'"
  date: 2022-05-27T20:39:54.151Z
- commits:
    - subject: "supervisor: Update balena-supervisor to v13.1.11"
      hash: 1f1266bd0893b963528e88dfd7fd08f232088cb9
      body: ""
      footer:
        Relates-to: https://github.com/balena-os/balena-supervisor/pull/1944
        relates-to: https://github.com/balena-os/balena-supervisor/pull/1944
        Change-type: patch
        change-type: patch
        Signed-off-by: Felipe Lalanne <felipe@balena.io>
        signed-off-by: Felipe Lalanne <felipe@balena.io>
      author: Felipe Lalanne
      nested: []
  version: 2.98.32
  title: "'supervisor: Update balena-supervisor to v13.1.11'"
  date: 2022-05-27T15:22:00.185Z
- commits:
    - subject: "tests: os: config-json: fix race by waiting for InvocationID change"
      hash: a8303039013b6252680eb48a139e46a358506949
      body: |
        When tests execute quicker, a race condition can occur where config.json
        is edited to remove the dnsServers property, but /run/dnsmasq.servers is
        not changed yet. This causes the test to fail, as the file is not empty.

            not ok 1 - We should have an empty /run/dnsmasq.servers file.
              ---
              found: |-
        	server=1.1.1.1
        	server=1.1.1.1
              pattern: !re /^\s?$/
              diff: |
        	--- expected
        	+++ actual
        	-/^\s?$/
        	+"server=1.1.1.1\nserver=1.1.1.1"

        Fix this by waiting until the InvocationID of dnsmasq.service changes.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: os: reformat config-json tests"
      hash: 440b799974eaf237664db1813d1ebc0bff3a46b9
      body: |
        Reformat config-json tests w/ await where variables aren't passed to
        chained promises.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.98.31
  title: "'Fix config json race'"
  date: 2022-05-26T17:59:23.238Z
- commits:
    - subject: Remove localMode setting from standalone image configuration
      hash: 26aa3caf4e4d649d323e57c21f818ca83a9b9b13
      body: |
        The `localMode` variable in `config.json` is not longer used and it can
        be removed

        Fixes #2041
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Remove localMode setting from standalone image configuration
        changelog-entry: Remove localMode setting from standalone image configuration
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.98.30
  title: "'image-balena: Remove localMode from standalone image configuration'"
  date: 2022-05-24T10:09:17.695Z
- commits:
    - subject: Update balena-engine to v20.10.17
      hash: 8a7b24d38f67749b5d979ce12a0fafe5626190bb
      body: |
        Update balena-engine from 20.10.16 to 20.10.17
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Changelog-entry: Update balena-engine to v20.10.17
        changelog-entry: Update balena-engine to v20.10.17
      author: Leandro Motta Barros
      nested:
        - commits:
            - subject: Fix "slice bounds out of range" while applying deltas
              hash: 6f12d0abb3e438f26a18eee9bbaeca9c4702f7e7
              body: >
                The root cause of this issue was an integer overflow in 32-bit
                platforms

                -- specifically, when explicitly converting `io.Reader` offsets

                (`int64`) to slice indices (`int`, which is only 32-bit long on
                32-bit

                platforms).


                We already had in place the checks supposed to ensure slice
                bounds where

                always within the expected bounds. So, in a way, this commit
                just

                re-organizes the code so that we perform safely this required
                `int64` to

                `int` type conversion.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: balena-engine-20.10.17
          title: "'Lmb/fix oob slice'"
          date: 2022-05-17T20:01:47.266Z
  version: 2.98.29
  title: "'balena-engine: Update to 20.10.17'"
  date: 2022-05-23T17:18:04.355Z
- commits:
    - subject: Update tests/leviathan digest to 727ba9f
      hash: b9b9847a3c0bc6082eec319bcac1439ca0752aac
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: "worker: qemu: add new qemu firmware paths"
              hash: b19831d5209962eb729ffa55851b593e632a70d8
              body: |
                Search for firmware shipped as part of QEMU package to enable
                cross-platform emulation with UEFI.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "worker: install edk2 firmware for aarch64"
              hash: 514069e45c814e7f6051ea41ba9da0852f765976
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: "worker: Change default qemu memory from 2G to 512M"
              hash: 0820094150876d67ce9203d641fe5c41d1afcef4
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "make: Do not assume qemu DUT arch will match the host"
              hash: 4aac404ff5e221eecef289d07339532335532543
              body: |
                When KVM is not used we can easily emulate generic-aarch64
                on x86_64 hosts so avoid tying the host and target architectures
                together in the Makefile.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: "make: Allow passed env vars to replace any .env values"
              hash: 4b71f90615c68c90fa8b0bf4c2068f089784ea00
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.3.4
          title: "'Do not assume qemu DUT arch will match the host'"
          date: 2022-05-20T14:09:51.819Z
  version: 2.98.28
  title: "'Update tests/leviathan digest to 727ba9f'"
  date: 2022-05-20T15:17:40.870Z
- commits:
    - subject: "patch: Fix heading anchor links in CDS doc index"
      hash: 0886fe3323fa2431a780fc701d45ac601b5b0980
      body: ""
      footer: {}
      author: Vipul Gupta
      nested: []
  version: 2.98.27
  title: "'patch: Fix heading anchor links in CDS doc index'"
  date: 2022-05-18T12:53:30.139Z
- commits:
    - subject: "balena-supervisor: Randomize the updater timer period"
      hash: 5c402bc9a449c4f6d6cefe9aa44b7cdacb8ae4c8
      body: |
        To avoid fleets updating the supervisor at the same time,
        distribute the timer adding a random time between 0 and 1 hour.

        Fixes #2631
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.98.26
  title: "'balena-supervisor: Randomize the updater timer period'"
  date: 2022-05-17T16:20:39.324Z
- commits:
    - subject: "patch: Get CDS doc ready for docs sync"
      hash: f15dc2055e78af9966ac5166061e49bc401c6647
      body: ""
      footer: {}
      author: Vipul Gupta
      nested: []
    - subject: "test: os-config: Use common code to wait for service state"
      hash: 1ccf232c9f2676b0631d71870b2556cddfb69dd6
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.98.25
  title: "'patch: Get CDS doc ready for docs sync'"
  date: 2022-05-16T20:59:22.889Z
- commits:
    - subject: "os-config: Randomize the timer period"
      hash: 6a9a456869ac37367058ea56bbf24d33a2cf42f2
      body: |
        To avoid all devices fetching configuration settings at the same time,
        distribute the timer adding a random time between 0 and 6 hours.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.98.24
  title: "'Randomize os-config timer service'"
  date: 2022-05-15T17:05:46.782Z
- commits:
    - subject: "linux-firmware: Fix quz-a0-hr-b0 and quz-a0-jf-b0 packaging for
        compression"
      hash: 9e9d8986d31d449a9c317d44f9a2b6c0cddf2123
      body: >
        Add a missing asterisk to FILES for iwlwifi-quz-a0-hr-b0

        and iwlwifi-quz-a0-jf-b0 to include compressed firmware files. Without
        it

        the packages end up empty as we have compression enabled.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.98.23
  title: "'linux-firmware: Fix quz-a0-hr-b0 and quz-a0-jf-b0 packaging for
    compression'"
  date: 2022-05-11T11:10:57.896Z
- commits:
    - subject: Update tests/leviathan digest to 01719b5
      hash: de0657c7635b175b7c94b85c06875f4da2d66520
      body: Update tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
      author: Renovate Bot
      nested:
        - commits:
            - subject: Fixes spelling and grammar in e2e
              hash: dc2ad10263c5b04c58964fe2f37e06a1589092c0
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Bucknall <alex.bucknall@gmail.com>
                signed-off-by: Alex Bucknall <alex.bucknall@gmail.com>
              author: Alex
              nested: []
          version: leviathan-2.3.3
          title: "'Fixes spelling and grammar in e2e'"
          date: 2022-05-09T08:48:11.177Z
        - commits:
            - subject: Record environment variables to file for client env
              hash: 86edddf6879686028733cb87dc14110d1cca0ee1
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: leviathan-2.3.2
          title: "'Record environment variables to file for client env'"
          date: 2022-05-02T16:35:04.137Z
        - commits:
            - subject: "patch: Remove development shortcuts"
              hash: f9d593a1a92568e8341666be4a6f6c00ecb24552
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.3.1
          title: "'patch: Remove development shortcuts'"
          date: 2022-05-02T13:39:59.588Z
        - commits:
            - subject: "minor: Add support for debug object"
              hash: 0b58fa94f68868c5f296adcb5eda5ca69efedd2e
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.3.0
          title: "'Add Debug object for debugging'"
          date: 2022-04-29T23:54:29.594Z
        - commits:
            - subject: "patch: Remove Express server port config"
              hash: 117d32df99b6704e71e3da39d9456aeb752e1bb1
              body: ""
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: leviathan-2.2.14
          title: "'patch: Remove Express server port config'"
          date: 2022-04-29T21:42:58.975Z
  version: 2.98.22
  title: "'Update tests/leviathan digest to 01719b5'"
  date: 2022-05-11T05:34:46.375Z
- commits:
    - subject: "contributing-device-support.md: Enhance device contribution guide"
      hash: e5d87b1ffa4cd86d4b133ba241f52fb820833cfb
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.98.21
  title: "'contributing-device-support.md: Enhance device contribution guide'"
  date: 2022-05-11T04:48:12.298Z
- commits:
    - subject: "renovate: Override commit body for meta-balena to Change-type"
      hash: 27be3bc8d27915a6fd9b2f6e13b754b4976a14d8
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "renovate: Remove extra leviathan package rules"
      hash: 50c0ede0a045bf3073d14b6ade3aeb810a36a251
      body: |
        The upstream balena-os/renovate-config package rules were
        matched before the leviathan exception could be matched so
        these rules were not effective.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.98.20
  title: "'renovate: Override commit body for meta-balena to Change-type'"
  date: 2022-05-10T22:05:08.508Z
- commits:
    - subject: "tests/connectivity: Force proxy tests to use IPv4"
      hash: df6db848d3729b2200200ce3fcb493b3381deca0
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests/connectivity: Fix compose warnings for expected string"
      hash: d6882eeb070686642b0fd685257fce109f50297c
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.98.19
  title: "'tests/connectivity: Force proxy tests to use IPv4'"
  date: 2022-05-10T19:34:34.822Z
- commits:
    - subject: "supervisor: Update balena-supervisor to v13.1.6"
      hash: 541eeeb25dcb928f23a920df27d30fa213c5df14
      body: |
        Update balena-supervisor from 13.1.4 to 13.1.6
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: Avoid splash image failures if image is corrupt
              hash: a5ede01b18abd5e079361d24f2f8f5368d23da6d
              body: >
                Splash image backend would throw if the image is not a valid png
                during

                the write step. This could prevent the device from provisioning
                if some

                corruption happens at some point.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-13.1.6
          title: "'Avoid splash image failures if image is corrupt'"
          date: 2022-05-06T18:46:18.641Z
        - commits:
            - subject: Use write + sync when writing configs to /mnt/boot
              hash: c04955354a76ab32ab5dc52062fdf72d668f7c3b
              body: >
                This commit updates all backends that write to /mnt/boot to do
                it

                through a new `lib/host-utils` module. Writes are now done using
                write +

                sync as rename is not an atomic operation in vfat.


                The change also applies for writes through the `/v1/host-config`

                endpoint.


                Finally this change includes some improvements on tests.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-13.1.5
          title: "'Use write+sync when writing to '"
          date: 2022-05-03T15:28:52.610Z
  version: 2.98.18
  title: "'supervisor: Update balena-supervisor to v13.1.6'"
  date: 2022-05-10T12:02:12.200Z
- commits:
    - subject: "renovate: Override default package rules to enable leviathan"
      hash: a711a1f59bd241fc25fe04b086d1bf22b05441ee
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.98.17
  title: "'renovate: Override default package rules to enable leviathan'"
  date: 2022-05-06T13:07:35.911Z
- commits:
    - subject: "renovate: Replace tests with tests/suites in default ignorePaths"
      hash: c354fded7c56960b69ae9c0ede362e90e0d71a46
      body: |
        This way renovate can operate on tests/leviathan
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.98.16
  title: "'renovate: Replace tests with tests/suites in default ignorePaths'"
  date: 2022-05-05T16:33:33.391Z
- commits:
    - subject: Rename renovate config
      hash: 11070330e7ef2a22e38fe341c4098df478300127
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.98.15
  title: "'Rename renovate config to json'"
  date: 2022-05-04T17:13:58.711Z
- commits:
    - subject: "supervisor: Update balena-supervisor to v13.1.4"
      hash: f4a10db5608fa3d4822e8a5fde166078bbc44c7b
      body: |
        Update balena-supervisor from 12.11.38 to 13.1.4
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested:
        - commits:
            - subject: Use delay instead of interval to recursively report state
              hash: 2e81a7328e6ff01c397bb1bced73010470520657
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
                signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
              author: 20k-ultra
              nested: []
          version: balena-supervisor-13.1.4
          title: "'Use delay instead of interval to recursively report state'"
          date: 2022-04-28T03:19:33.567Z
        - commits:
            - subject: Remove in memory storage of started/stopped containers
              hash: 5437aea786e6be4a908e2cb0c24faeca3282c37e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
                signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
              author: 20k-ultra
              nested: []
            - subject: Only start a container once in its lifetime This will ensure the
                restart policy specified is not violated
              hash: ca9945bdfb716e1b14b24d3f3069f48cc7aff493
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#1668"
                closes: "#1668"
                Signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
                signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
              author: 20k-ultra
              nested: []
          version: balena-supervisor-13.1.3
          title: "'Prevent restart policy violation'"
          date: 2022-04-20T03:29:57.844Z
        - commits:
            - subject: Explain /v2/state/status's status field in its response
              hash: 27249c278555c46154d1e917e769dd3fb9d2dcfc
              body: >
                The status field does not indicate the current state of the
                Engine on the device.

                Rather, it only indicates whether the HTTP response returned
                successfully or not.


                To get the current state of the device, i.e. whether it has
                applied target state or not,

                use the `appState` field in the response.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Wang <christina@balena.io>
                signed-off-by: Christina Wang <christina@balena.io>
              author: Christina Wang
              nested: []
          version: balena-supervisor-13.1.2
          title: "'Explain /v2/state/status's status field in its response'"
          date: 2022-04-18T20:20:06.946Z
        - commits:
            - subject: Do not fail lockfile cleanup if files do not exist
              hash: 8681d6b5808142613931b4e9fe63fa94f04c65bc
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-13.1.1
          title: "'Do not fail lockfile cleanup if files do not exist'"
          date: 2022-04-13T17:08:20.101Z
        - commits:
            - subject: Add lockfile binary and internal lib for interfacing with it
              hash: 51e63ea22b876580de276808eca891ff6ab2a6c5
              body: >
                The linked issue describes the Supervisor not cleaning up locks
                it creates due

                to crashing at just the wrong time. After internal discussion we
                decided to

                differentiate Supervisor-created lockfiles from user-created
                lockfiles by using

                the `nobody` UID (65534) for Supervisor-created lockfiles.


                As the existing NPM lockfile lib does not allow creating
                lockfiles atomically

                with different UIDs, we move to using the lockfile binary, which
                is part of the

                procmail package. To allow nonroot users to write to lock
                directories, permissions

                are changed to allow write access by nonroot users.
              footer:
                See: https://www.flowdock.com/app/rulemotion/r-resinos/threads/gWMgK5hmR26TzWGHux62NpgJtVl
                see: https://www.flowdock.com/app/rulemotion/r-resinos/threads/gWMgK5hmR26TzWGHux62NpgJtVl
                Change-type: minor
                change-type: minor
                Closes: "#1758"
                closes: "#1758"
                Signed-off-by: Christina Wang <christina@balena.io>
                signed-off-by: Christina Wang <christina@balena.io>
              author: Christina Wang
              nested: []
          version: balena-supervisor-13.1.0
          title: "'Differentiate Supervisor-created lockfiles from userapp-created
            lockfiles'"
          date: 2022-04-12T19:07:17.817Z
        - commits:
            - subject: Add system id/model support for Compulab IOT-gate
              hash: e6fa22306b9e2b55480772560e62bb8e8988b529
              body: >
                dmidecode for alpine 3.11 doesn't work in this device type. This
                change

                moves to using `/proc/device-tree/product-sn` and

                `/proc/device-tree/product-name` for these devices.
              footer:
                Resolves: "#1916"
                resolves: "#1916"
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-13.0.3
          title: "'Add system id/model support for Compulab IOT-gate'"
          date: 2022-04-08T16:06:29.933Z
        - commits:
            - subject: Correctly evaluate downloadProgress when computing current state
              hash: c1b5e58ebd7a1c01c985f75c9a84ac22f7f090f0
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#1918"
                closes: "#1918"
                Signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
                signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
              author: 20k-ultra
              nested: []
          version: balena-supervisor-13.0.2
          title: "'Correctly evaluate downloadProgress when computing current state'"
          date: 2022-04-08T01:24:44.461Z
        - commits:
            - subject: Fix database migration for legacyApps
              hash: eee24604459440569dee455db918d6901ea86645
              body: >
                Migration `M00008` had a bug with the check for legacy apps,
                which

                resulted in devices that had at some point been updated from a
                single

                container supervisor to get the error


                ```

                Undefined binding(s) detected when compiling UPDATE. Undefined
                column(s): [appUuid] query

                ```


                This adds a new migration with the fix to ensure broken fix the

                inconsistent database state.
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#1913"
                closes: "#1913"
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-13.0.1
          title: "'Fix database migration for legacyApps'"
          date: 2022-04-01T21:09:42.303Z
        - commits:
            - subject: Add support for GET v3 target state
              hash: 7425d1110b719dffd132c681c6e0c28fcc218dea
              body: >
                This change updates types and database format in order to allow

                receiving the new format of the target state from the cloud and
                allow

                applications to keep working.


                This change also updates metadata in the containers, meaning
                services

                will need to be restarted on supervisor update
              footer:
                Change-type: major
                change-type: major
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-13.0.0
          title: "'Update supervisor to use new v3 target state format'"
          date: 2022-03-23T18:15:27.194Z
        - commits:
            - subject: Always add status to image download report
              hash: 21c1c006f7b8dfcf566f3e4a8e853e5e9978edf4
              body: >
                It seems that in some cases the supervisor can report

                an image without a `status` field leading to a cloud side 401
                response.

                See #1905 for more details.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.11.43
          title: "'Always add status to image download report'"
          date: 2022-03-21T17:55:39.079Z
        - commits:
            - subject: Moved test setup into file included for all tests
              hash: b068c209b0cd8cff4c2fb5218bd1d4c2116451e6
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
                signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
              author: 20k-ultra
              nested: []
          version: balena-supervisor-12.11.42
          title: "'Moved test setup into file included for all tests'"
          date: 2022-03-18T22:22:27.948Z
        - commits:
            - subject: Added PR template doc
              hash: edcbb622d84bc1290cc5ce0ef7929a9ef9195df4
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
                signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
              author: 20k-ultra
              nested: []
          version: balena-supervisor-12.11.41
          title: "'Added PR template doc'"
          date: 2022-03-16T20:56:50.062Z
        - commits:
            - subject: Only count report connectivity errors for healthcheck
              hash: e217ff9027dad3e2ab092d16290b2eca0ecf6c25
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: update packages for vulnerabilities
              hash: b5a2b8b7510860ba926f2e015e9294c824c700e1
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
                signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
              author: 20k-ultra
              nested: []
          version: balena-supervisor-12.11.40
          title: "'Only count report connectivity errors for healthcheck'"
          date: 2022-03-16T19:01:20.454Z
        - commits:
            - subject: Move report throttle out of reporting logic
              hash: 2fdb83839c2262b398deb77eb0fa4ae2c16c374a
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
                signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
              author: 20k-ultra
              nested: []
            - subject: Update npm dep sinon to v11.1.2
              hash: 5e5f1fb305d06399af37f1ce490a27f6e0289140
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
                signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
              author: 20k-ultra
              nested: []
          version: balena-supervisor-12.11.39
          title: "'Move report throttle out of reporting logic'"
          date: 2022-03-16T02:57:26.149Z
  version: 2.98.14
  title: "'supervisor: Update balena-supervisor to v13.1.4'"
  date: 2022-05-04T13:42:13.540Z
- commits:
    - subject: "os: tests: optimize connectivity tests"
      hash: fdfa61579dff1a1aaf3aea1318d16cb9f4fc3f50
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.98.13
  title: "'os: tests: optimize connectivity tests'"
  date: 2022-05-03T15:52:26.943Z
- commits:
    - subject: "tests/hup: Test hostapp-update from current release"
      hash: 2f5b7fd58b11a69f10aea7b4391dba264e454f9b
      body: |
        After HUP from previous release to current under-test release
        we should HUP again to ensure hostapp-update is sane in the
        new release.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.98.12
  title: "'Add \"HUP from this release\" test to ensure hostapp-update is functional'"
  date: 2022-05-02T13:38:42.232Z
- commits:
    - subject: "tests: os: create swap test"
      hash: cb19043d77a68e24e48a96acb2391938acd7cd71
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.98.11
  title: "'tests: os: create swap test'"
  date: 2022-04-29T19:55:50.927Z
- commits:
    - subject: "tests: bump leviathan to 2.13"
      hash: 5dcf43cfcae4a8628c9aca0834205fbe4476edf1
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.98.10
  title: "'tests: bump leviathan to 2.13'"
  date: 2022-04-28T16:57:41.215Z
- commits:
    - subject: "tests: bump leviathan to 2.2.11"
      hash: 617ab26578364b95525c225b3f2066e792b3cf2f
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.98.9
  title: "'tests: bump leviathan to 2.2.11'"
  date: 2022-04-28T10:27:03.026Z
- commits:
    - subject: "tests/cloud: fix ssh test for testbot workers"
      hash: 4d44bb297e015bfaef140d8c92d14de0e412be47
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.98.8
  title: "'tests/cloud: fix ssh test for testbot workers'"
  date: 2022-04-28T09:09:48.983Z
- commits:
    - subject: "linux-firmware: package QuZ-a0-jf-b0 separately"
      hash: 20695e32e0e8b3d60267090530b3cd41a3450d56
      body: |
        This is used by Intel Wireless-AC 9462
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.98.7
  title: "'linux-firmware: package QuZ-a0-jf-b0 separately'"
  date: 2022-04-27T09:22:39.188Z
- commits:
    - subject: "timeinit/timesync-https: Update rtc after setting system time"
      hash: f16451b49b77bd7d3f5f82d20e0605a9797832eb
      body: |
        This solves a problem seen on a device on which, although
        timeinit-rtc finishes running before timesync-https, chronyd
        sets the system time to the incorrect rtc time
        as soon as timesync-https finished running and setting the correct date
        from the servers.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.98.6
  title: "'timeinit/timesync-https: Update rtc after setting system time'"
  date: 2022-04-26T19:32:46.066Z
- commits:
    - subject: "networkmanager: Use default DHCP timeout"
      hash: 6175420731baa349c8d197151189462a23b2f460
      body: >
        This reverts 5047757 where we set the global DHCP timeout for ipv4 to

        infinity to mitigate problems with routers that do not respond to DHCP

        requests in time.


        This however causes issues on some routers, which after power cycle fail
        to

        renew leases after they are expired.


        The same ipv4.dhcp-timeout can be specified on per connection basis.
        Since

        the case with lease renewal due to router power cycle is a more common
        case,

        it is better to keep the global dhcp-timeout default unmodified. If the

        setting needs adjustment then it can be overwritten in the particular

        connection profile.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.98.5
  title: "'networkmanager: Use default DHCP timeout'"
  date: 2022-04-26T11:36:14.839Z
- commits:
    - subject: Disable Engine startup timeouts
      hash: c4ce541526455c8cb891e7c76889e0d4cb2735b1
      body: |
        There are known situations in which balenaEngine times out during
        initialization (for example, during aufs to overlayfs migrations, or
        when restarting a device that was running a large number of containers).
        When these time outs occur, Systemd kills the Engine, causing further
        problems.

        To avoid these cases, this commit disables timeouts during the Engine
        initialization.

        This is also aligned with the default Systemd settings distributed with
        the Moby project.
      footer:
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Change-type: patch
        change-type: patch
      author: Leandro Motta Barros
      nested: []
  version: 2.98.4
  title: "'Disable Engine startup timeouts'"
  date: 2022-04-25T22:36:18.725Z
- commits:
    - subject: Add renovate configuration
      hash: 2537c8eed6f50399ce60b9f2ccc22336fb7cb86a
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.98.3
  title: "'Add renovate configuration'"
  date: 2022-04-25T18:07:21.534Z
- commits:
    - subject: "balena-config-vars: unit-conf: Correct description"
      hash: b1ff3f620ea823239442cfeccd52feef6928f405
      body: |
        The os-networkmanager entry had an incorrect description.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "tests: os: Remove sshKeys test"
      hash: 579aef0199ed91f31bca301f7dc8ebd517594583
      body: |
        This is replaced by an SSH authentication test in the cloud suite, which
        is more comprenhensive.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "tests: cloud: Add SSH authentication tests"
      hash: e9f125a67aa61136fe36a5844ca751984ab679aa
      body: |
        This new test validates SSH authentication both in production and
        development mode.

        A managed device is always accessible via the configured custom keys.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-sshkeys: When ssh keys change, regenerate development configuration"
      hash: 0856b6e7acbe41a1bc60afb26906ee5bf9b253a9
      body: |
        The behaviour of the SSH connection depends on whether custom keys are
        present or not. This commit calls out to generate the development mode
        configuration file on ssh key change.

        Fixes #2530
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "development-features: use os-helpers-devmode include file"
      hash: afb63f9bfb794fa7af14c6e03bf29e85705dbf7f
      body: |
        The development mode configuration file is now generated on a helper
        script.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-helpers: Add os-helpers-devmode"
      hash: dfaef0b9c7d07b31f254c2f9592772a58562f9e9
      body: |
        This extracts the generation of the development mode configuration file
        so it can be shared.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.98.2
  title: "'Apply sshKeys change on development Mode'"
  date: 2022-04-25T08:16:24.320Z
- commits:
    - subject: "tests/leviathan: Update leviathan to v2.2.4"
      hash: 162c36be826eb3028a11fca2266407e8d2570d88
      body: |
        Update leviathan from 2.0.4 to 2.2.4
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.98.1
  title: "'tests/leviathan: Update leviathan to v2.2.4'"
  date: 2022-04-23T18:56:56.077Z
- commits:
    - subject: Refresh PKI assets from config endpoint
      hash: 081fca887b36108bc192ee98da6ba088f9e909b9
      body: >
        * Fixes #2569

        * ensure OpenVPN client always starts with the latest CA certificate
          from API config endpoint as this certificate may have changed and
          we don't want VPN to be down for ~24 hours until os-config is triggered
          by systemd timer
      footer:
        Change-type: minor
        change-type: minor
      author: ab77
      nested: []
  version: 2.98.0
  title: "'Refresh PKI assets from config endpoint'"
  date: 2022-04-23T10:43:47.657Z
- commits:
    - subject: Update balena-engine to v20.10.16
      hash: 7affe9d563250d79906ffc26401d8d7beea74114
      body: |
        Update balena-engine from 20.10.12 to 20.10.16
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Changelog-entry: Update balena-engine to v20.10.16
        changelog-entry: Update balena-engine to v20.10.16
      author: Leandro Motta Barros
      nested:
        - commits:
            - subject: "contrib/init/systemd: update balena-engine.service"
              hash: 4d3b831bfbe197a68792a3baf33cbea639811763
              body: |
                Currently this file is used by Buildroot.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: TIAN Yuanhao <tianyuanhao3@163.com>
                signed-off-by: TIAN Yuanhao <tianyuanhao3@163.com>
              author: TIAN Yuanhao
              nested: []
          version: balena-engine-20.10.16
          title: "'update balena-engine.service'"
          date: 2022-04-07T05:22:26.128Z
        - commits:
            - subject: Log more info upon when raising errRootFSMismatch
              hash: ab3db5c03663e0b2ee35213ceebf9038e4af6b62
              body: >
                We currently do not log any information to help us understanding
                the

                underlying issue -- not even to identify what is the exact point
                in

                which the error is raised. This commit improves on this
                situation.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: balena-engine-20.10.15
          title: "'Configure Renovate'"
          date: 2022-04-05T07:56:50.137Z
        - commits:
            - subject: Add more integration tests for deltas
              hash: 59f6cd6dc32ee178532dbf7595933ef606cebf39
              body: >
                This adds two new integration tests:


                * TestDeltaSize: this is meant to catch regressions on delta
                sizes. It
                  generates deltas and compare their sizes with the delta sizes we get
                  as of now. If the size increases, the test fails.
                * TestDeltaCorrectness: checks if applying a delta indeed
                results in the
                  same image as we had originally.

                A number of different test cases (different images with distinct

                features) are tested for each of these integration tests.
              footer:
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
                Change-type: patch
                change-type: patch
              author: Leandro Motta Barros
              nested: []
          version: balena-engine-20.10.14
          title: "'Add more integration tests for deltas'"
          date: 2022-04-01T13:30:28.649Z
        - commits:
            - subject: Add link to post to test landr
              hash: 4688b2395c49dcd350a6107824da61a13a1c4765
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: andrew
              nested: []
          version: balena-engine-20.10.13
          title: "'Add link to post to test landr'"
          date: 2022-03-09T23:12:06.832Z
  version: 2.97.0
  title: "'balena-engine: Update to 20.10.16'"
  date: 2022-04-23T01:23:49.298Z
- commits:
    - subject: "kernel-balena: Mention https protocol for github repository"
      hash: e3ee5b0b70827fa5ae1f70b0721d9125885affe5
      body: |
        Github now requires for the https protocol to be used
        when cloning repositories.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.96.1
  title: "'kernel-balena: Mention https protocol for github repository'"
  date: 2022-04-22T17:25:18.183Z
- commits:
    - subject: "mobynit: Update to v0.2.0"
      hash: 1a6dbc795aa2546f38bbd4cef30d77f167e60182
      body: |
        Fixes #2589
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.96.0
  title: "'mobynit: Update to v0.2.0'"
  date: 2022-04-22T12:42:16.844Z
- commits:
    - subject: "resin-device-register: avoid blocking the flasher when not connected"
      hash: b5c521404c14df8a5d14e2789c97eebe79eb7d96
      body: >
        Starting with v2.91.6 device provisioning will not start if the device

        was unable to register in the cloud due to lack of internet
        connectivity.

        To avoid this, we switch to retrying 3 times with the usual 2 second
        delay

        between attempts, after which the flashing process will start.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.95.17
  title: "'resin-device-register: improve provisioning'"
  date: 2022-04-22T08:33:14.274Z
- commits:
    - subject: Package iwlwifi-QuZ-a0-hr-b0 firmware separately
      hash: 261534942e5fe5b60680f51b129f33f00363a88e
      body: |
        We add this fw on its own package so that boards can add it to
        rootfs (for Intel NUC 11th generation more specifically)
      footer:
        Changelog-entry: Package iwlwifi-QuZ-a0-hr-b0 firmware separately
        changelog-entry: Package iwlwifi-QuZ-a0-hr-b0 firmware separately
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.95.16
  title: "'linux-firmware: Package iwlwifi-QuZ-a0-hr-b0 firmware'"
  date: 2022-04-19T13:00:33.214Z
- commits:
    - subject: "kernel-headers-test: clean tools like fixdep"
      hash: bdc217b2da79349989f32b65454a4e5e2509fa1a
      body: |
        Let's ensure tools like fixdep are built in container
        and not reused from the yocto build, otherwise they
        may not run if they were linked against a different
        version of libc that may not be available in the kernel
        modules build container.

        This fixes the following error encountered when doing
        a Poky Honister build for the balena-intel repository:

          scripts/basic/fixdep: /lib64/libc.so.6: version `GLIBC_2.34'
          not found (required by scripts/basic/fixdep)
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.95.15
  title: "'kernel-headers-test: clean tools like fixdep'"
  date: 2022-04-06T12:39:17.305Z
- commits:
    - subject: Updates SIM info for soracom and provides docs.
      hash: 4706cc1f52e345e3409cd9580cdc9a1372545164
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Bucknall <alex.bucknall@gmail.com>
        signed-off-by: Alex Bucknall <alex.bucknall@gmail.com>
      author: Alex
      nested: []
  version: 2.95.14
  title: "'Updates SIM info for soracom and provides docs.'"
  date: 2022-04-06T08:53:44.650Z
- commits:
    - subject: "test/hup: fix unmounting error"
      hash: 3a318468d90632360109aeea994a51819347742a
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.95.13
  title: "'test/hup: fix unmounting error'"
  date: 2022-04-06T07:56:32.752Z
- commits:
    - subject: "grub-efi: Remove patch passing secure boot status to the kernel"
      hash: fb171dc507348e11ab2c6ed894289f51689fc874
      body: >
        This was originally introduced in combination with a kernel patch
        backported

        from Red Hat kernel that would enable kernel lockdown when secure boot

        is enabled. We have since changed the approach, dropped the kernel patch

        and when in secure boot mode use a different GRUB config file that
        enables

        lockdown on kernel command line unconditionally.


        That said, while the patch works fine, we do not really need it and it
        adds

        extra overhead porting it to newer yocto versions so there is no point
        keeping

        it at this moment. If in the future there is need for the kernel to know

        whether it is in secure boot mode or not, we can roll this back and
        rebase.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.95.12
  title: "'grub-efi: Remove patch passing secure boot status to the kernel'"
  date: 2022-03-31T14:45:57.845Z
- commits:
    - subject: "hostapp-update: Mount data partition on target balena/tmp"
      hash: 548c6c08f041f69786f0092eb2397f2fbf8e7e86
      body: |
        In most cases there is not enough space on rootfs to extract
        and load a local hostapp image when the balena-host tmpdir
        is on the same partition.

        This uses a data mount to ensure temporary extracted files of the
        compressed image will not fill the target sysroot.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.95.11
  title: "'hostapp-update: Mount data partition on target balena/tmp'"
  date: 2022-03-30T17:20:46.022Z
- commits:
    - subject: "tests/os: check supervisor is pulled  after purge"
      hash: 58a645684921797383602311821522604064fd62
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.95.10
  title: "'tests/os: check supervisor is pulled  after purge'"
  date: 2022-03-30T11:28:54.776Z
- commits:
    - subject: "tests: update leviathan to 2.0.4"
      hash: b90c280d8f08497fcf2ca7b5329bdb7e7dc7c22a
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: update config for new leviathan version"
      hash: 788cacc8daadf487698e28e2ad308cc54f1d96b4
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.95.9
  title: "'tests: update config for new leviathan version'"
  date: 2022-03-28T12:52:25.738Z
- commits:
    - subject: "resindataexpander: Check and fix end GPT if necessary"
      hash: 5d2435e17851f44f17cfba491b01f766d7930317
      body: |
        Under certain circumstances that we haven't reproduced,
        it is reported that the alternate GPT may become corrupt,
        preventing the device from booting.

        Should this happen, we use sgdisk to check and recover the end gpt
        from the main one.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.95.8
  title: "'Add gpt check'"
  date: 2022-03-25T08:08:23.471Z
- commits:
    - subject: "hostapp-update-hooks: Always update legacy development variants to
        development mode"
      hash: 8c7bd8d87d0db97851528f97c4853097c63273e4
      body: >
        A legacy development image will update to development mode enabled

        independently of whether the newOS is configured for development mode or

        not. The only case when a hostapp has developmentMode set is when
        locally

        building with `OS_DEVELOPMENT`.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.95.7
  title: "'Always update legacy development variants to development mode'"
  date: 2022-03-23T12:47:07.162Z
- commits:
    - subject: "balena-supervisor: Use architecture instead of device type to query API"
      hash: 419e1eefe64b6e5ffc9ff370e50cd256a319ef2c
      body: |
        This caters for the use case of custom device types that are not
        registered in balena-cloud but still need to fetch the supervisor from
        balena-cloud's registry by querying the `supervisor_version` endpoint,
        for example when using openBalena.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "update-balena-supervisor: Support passing command line image argument"
      hash: 227fea72a17c00bcd7e8ee069414ccc006703072
      body: |
        For balena-cloud managed devices, the supervisor update data is managed
        by the API.

        Providing the image name in the command line provides an update path
        for unmanaged devices, manual updates on ESR devices (which currently
        do not allow dashboard based updates) and openBalena use cases.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.95.6
  title: "'Supervisor update enhacements'"
  date: 2022-03-22T15:05:51.376Z
- commits:
    - subject: "tests/kernel-overlap: Prevent test run failure on older kernels"
      hash: 3d230a9d003988924b6c16720d554c9f48a05c16
      body: |
        The issue that this test is aimed at has been introduced in
        kernel versions above 4.13. On older kernels like for instance
        4.9, the test will not pass.

        Let's run this test on kernel versions where the issue was present.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.95.5
  title: "'tests/kernel-overlap: Prevent test run failure on older kernels'"
  date: 2022-03-21T15:04:59.766Z
- commits:
    - subject: "tests/os: wait for osconfig service to be inactive"
      hash: da59749c901057a55adaf990643fc235480156aa
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.95.4
  title: "'Fix dns test'"
  date: 2022-03-17T17:38:43.827Z
- commits:
    - subject: "balena-supervisor: Update balena-supervisor to v12.11.38 Ensure
        preloaded applications are ran when no internet is available on first
        run"
      hash: 08058f8671704f7d925ed97c3202b3620570a95b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
        signed-off-by: 20k-ultra <3946250+20k-ultra@users.noreply.github.com>
      author: 20k-ultra
      nested: []
  version: 2.95.3
  title: "'balena-supervisor: Update balena-supervisor to v12.11.38'"
  date: 2022-03-15T23:32:43.991Z
- commits:
    - subject: "kernel-balena: Disable building gcc plugins"
      hash: bd8d2de9983f47e46ffa0e689be88c5b12e46617
      body: |
        Since https://github.com/raspberrypi/linux/commit/1eee36a5520b5a89fb4d0d6af6f9cb0217a3164f
        was merged and included in kernel versions after 5.10.84,
        building the kernel-modules-headers fails due to various missing
        headers from the gmp and mpc packages. This problem is visible
        only after upgrading to a newer kernel, because until now the
        gcc plugins kernel config was not enabled at all, due to the
        failed check in the above mentioned patch.

        Since we are not using the functions provided
        by the gcc plugins anyway, we can disable this
        config.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.95.2
  title: "'kernel-balena: Disable building of gcc plugins'"
  date: 2022-03-11T17:26:05.533Z
- commits:
    - subject: "tests: Add leviathan v2.0.0 as a submodule"
      hash: 49b6fd8e07edc4facdef13795fa4fe079958977c
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests/cloud: Cleanup wait until loops in cloud suite"
      hash: 65775fdf08d260ee7a87dbe262038bc9831780f7
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests/hup: Remove bluebird and this.context.get references"
      hash: be472ff82d27a0ff5a67fd3202ae15e63aafb685
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests/os: Remove bluebird and this.context.get references"
      hash: c3570af3bd58f5fd8a134ffe5d71bce970b3ade8
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests/cloud: Remove bluebird and this.context.get references"
      hash: 8c901905dadfb66a157f05ed9fcea2f6499e15bd
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests: Cleanup suites config to support both testbot and qemu workers"
      hash: e48e71e0bd2533806e7eff31f74b3e3a243e9493
      body: >
        This avoids having to make perl regex changes in yocto-scripts or in
        Jenkins.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests/cloud: Update cloud suite to support core on client"
      hash: 428d9d616edacbaf70df9df0f76bc731af247c98
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests/hup: Update hup suite to support core on client"
      hash: 2f386863408f32b0197090e786c46605e2ab7fcb
      body: |
        This also removes the need for a registry and performs hup from file.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests/os: Update os suite to support core on client"
      hash: fe68f8192c4875b575f86bc41c6e3ff9fb27f587
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.95.1
  title: "'tests: Suite updates for compatiblity with core moved to client'"
  date: 2022-03-08T18:48:12.462Z
- commits:
    - subject: Adds modem test suite
      hash: c3cc64723e8a8d50aa5c6d4ece52d2c5a3b90e8a
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Bucknall <alex.bucknall@gmail.com>
        signed-off-by: Alex Bucknall <alex.bucknall@gmail.com>
      author: Alex
      nested: []
  version: 2.95.0
  title: "'Adds modem test suite'"
  date: 2022-03-04T18:27:18.723Z
- commits:
    - subject: Use by-state symlink for mounting the EFI partition when split
      hash: 42d8ac8daaee2a67d5666c7220e1b9cd0e013e6e
      body: >
        In the current state the by-state symlink for balena-efi partition

        is not generated for two reasons:

        - 60-resin-update-state.rules only react to resin-* partition names

        - the root device is not identified correctly in
        resin_update_state_probe
          for LUKS devices

        This patch fixes both the issues and makes use of the by-state symlink

        instead of by-label.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "os-helpers: add TPM2 helpers"
      hash: 78f7da3a3cdf1942861195238a6cea691899a140
      body: |
        This helps with code duplication in flasher and initrd scripts using
        the TPM to manipulate LUKS passphrase.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: Add PCR protection policy to TPM operation unlocking LUKS passphrase
      hash: aa76a9b45e18192ecaa67f17ef68f9cfc4d66a66
      body: >
        This patch adds the check for PCRs

        - 0 - firmware/UEFI blob

        - 1 - firmware/UEFI config

        - 2 - Expansion card firmware blobs

        - 3 - Expansion card firmware configs


        The full protection is only applied on first boot after provisioning,

        flasher only locks against PCRs 0, 2 and 3.

        This is because when using flasher, the environment is not in the same

        state as the one we want to lock to. In particular the boot order is

        different (flasher is booted from a different drive than the resulting
        OS).

        As for now we were not able to find a better solution than fully locking

        only on first boot. This means the device must be booted in a secure

        environment at least once after provisioning.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.94.5
  title: "'Add PCR protection to LUKS/TPM manipulation'"
  date: 2022-03-04T13:12:52.505Z
- commits:
    - subject: "balena-supervisor: Fix supervisor tagging command"
      hash: d25d6289b14edd9111d6abbc45448693ca872036
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.94.4
  title: "'balena-supervisor: Fix supervisor tagging command'"
  date: 2022-03-04T05:54:28.770Z
- commits:
    - subject: "tests/os: fix bracket in bbb overlay test"
      hash: c11bc9d3e8ad4102f1b0d38a4d2658222687e156
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.94.3
  title: "'tests/os: fix bracket in bbb overlay test'"
  date: 2022-03-02T12:06:17.701Z
- commits:
    - subject: "tests: Enhance BeagleBone Black u-boot overlay test"
      hash: 0051fa51e15b092f16b264cdf4a0147e37e5fd25
      body: |
        Let's make sure that when we finish the test we leave
        uEnv.txt as before we started the test.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.94.2
  title: "'tests: Enhance BeagleBone Black u-boot overlay test'"
  date: 2022-03-02T09:01:45.548Z
- commits:
    - subject: "balena-image: Default image type to balenaos-img"
      hash: a3c276a1058d05e66991871bf167079fc2824843
      body: |
        This avoids device repositories having to specify it, and it can always
        be overwritten in append files.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Remove legacy resinhup images.
      hash: d895c90e6382da56f7327305b3def4ab5b37742c
      body: |
        These image types are no longer generated and are not used for hostOS
        updates any longer.
      footer:
        Changelog-entry: Remove legacy resinhup images.
        changelog-entry: Remove legacy resinhup images.
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.94.1
  title: "'images: Remove generation of legacy resinhup images'"
  date: 2022-03-01T20:45:50.839Z
- commits:
    - subject: Update balena-supervisor to v12.11.36
      hash: 8e9c3d992a5d681701580f52e5f9ba3d696bf1d8
      body: >
        Update balena-supervisor from 12.11.32 to 12.11.36


        Includes a fix for
        https://github.com/balena-os/balena-supervisor/issues/1890
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-supervisor to v12.11.36
        changelog-entry: Update balena-supervisor to v12.11.36
        Signed-off-by: Robert Gnzler robertg@balena.io
        signed-off-by: Robert Gnzler robertg@balena.io
      author: Robert Gnzler
      nested:
        - commits:
            - subject: Ignore selinux security opts when comparing services
              hash: 1b54ce8bfd5dd3d1f14f573a0bfe17ee1dd81630
              body: |
                The moby engine v20.x.y adds some selinux [security configurations](https://docs.docker.com/engine/reference/run/#security-configuration)
                depending on the [container configuration](https://github.com/moby/moby/blob/master/daemon/create.go#L214).
                This would cause the supervisor to enter a service restart loop as the
                current and target service configurations will never match. The
                supervisor now ignores selinux specific security options since those are
                not supported by balenaOS.
              footer:
                Closes: "#1890"
                closes: "#1890"
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.11.36
          title: "'Ignore selinux security opts when comparing services'"
          date: 2022-02-23T21:15:31.484Z
        - commits:
            - subject: Add troubleshooting notice for macOS
              hash: 6ab314f8c0af647cdb0537b6a396ccb3d5ce060f
              body: |
                When developing on macOS (Darwin) DBus may have to be installed.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: fisehara <harald@balena.io>
                signed-off-by: fisehara <harald@balena.io>
              author: fisehara
              nested: []
          version: balena-supervisor-12.11.35
          title: "'Add troubleshooting notice for macOS'"
          date: 2022-02-16T19:41:22.558Z
        - commits:
            - subject: Create `touch` and `getBootTime` utility functions
              hash: a4d91d381a3e2dfda182bb7809a6d78b18aafebf
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
            - subject: Add update lock check to PATCH /v1/device/host-config
              hash: 5f1a77da25b9d0bd07c2fbec85cb5deefae18884
              body: >
                This is necessary with the changes as of balenaOS 2.82.6, which
                watches config.json

                and will restart balena-hostname and some other services
                automatically on file change.
              footer:
                Change-type: patch
                change-type: patch
                Relates-to: "#1876"
                relates-to: "#1876"
                Signed-off-by: Christina Wang <christina@balena.io>
                signed-off-by: Christina Wang <christina@balena.io>
              author: Christina Wang
              nested: []
          version: balena-supervisor-12.11.34
          title: "'Make the supervisor more resistant to restarts during config changes'"
          date: 2022-02-15T15:58:42.783Z
        - commits:
            - subject: Add support for local ipv6 reporting
              hash: 72f6cbe4c7225623ed99083d20c4a2cb2f3b70ac
              body: >
                With more and more devices in ipv6 only networks, this ensures
                the

                local addresses are reported to the cloud as part of the state
                patch.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.11.33
          title: "'Add support for local ipv6 reporting'"
          date: 2022-02-09T17:57:09.778Z
    - subject: "meta-resin-pyro: make sure $GO is set"
      hash: f618d4575068be226b2fd6da5b74d6604236e5d5
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested: []
    - subject: Refactor balena-engine recipe to more closely resemble upstream
      hash: 1280c281d79b413d885e44dbf507a2b59005f25b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Refactor balena-engine recipe to more closely resemble upstream
        changelog-entry: Refactor balena-engine recipe to more closely resemble upstream
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested: []
    - subject: Update Golang recipes to 1.16.2
      hash: 475adc63cf7902fbc91a32e53a02af8d275daf2c
      body: |
        This reverts commit 4303346ccda6d3e3c4f83cc3782c73a6d1adb494.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update Golang recipes to 1.16.2
        changelog-entry: Update Golang recipes to 1.16.2
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested: []
    - subject: Update balena-engine to v20.10.12
      hash: ae632d7fb7cf10e0770c6f511dd9f454ee0d9dac
      body: |
        Update balena-engine from 19.03.30 to 20.10.12
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-engine to v20.10.12
        changelog-entry: Update balena-engine to v20.10.12
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested:
        - commits:
            - subject: "storagemigration: keep going if migration fails"
              hash: 2bde63c800b1df72fba7161d62b5b6da84a8d390
              body: >
                the only hard error is if rollback (failcleanup) fails, in all
                other

                scenarios we want the daemon to continue starting with the new

                graphdriver
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "graphdriver/copy: fix handling of sockets"
              hash: 17a198cb53a53da456c848bf303dc3917ca538c5
              body: >
                previously switch would treat S_IFIFO and S_IFSOCK as the same,
                passing

                both of the to mkfifo, which lead to EINVAL errors when trying
                to create

                the socket, we instead handle socket separately.


                Also adds cases for this to the unit and integration tests of
                the

                migrator.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "pkg/storagemigration: use graphdriver/copy.DirCopy"
              hash: ffbb608492405488bff5e31ea62c0249fb416106
              body: |
                instead of our own implementation
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Prune Jenkinsfile
              hash: ea14e503181bbb248a4bed1b86a227d9c214cbfb
              body: >
                we are not using it for our CI, and it confuses jenkins set up
                on the

                balena-os org
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Backport platform-detection fixes from containerd
              hash: 9f71253561b1cd2f262ec0d6e81c5fbd09a7a0a1
              body: |
                See https://github.com/containerd/containerd/pull/4530
                and `git log ad25c1a9c34361e4071f508b9a91946b05fce165^..2055e12953bb538228d8d9fe627fa545d7cf82be ./platforms/`
                in the containerd repo
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "storagemigration: capture failcleanup logs in logfile"
              hash: 4f7f543eff08766bc584024afdb57760dfb52130
              body: >
                reorder the defer statements in the migrate function to only
                teardown

                the logger after the failcleanup function ran. otherwise errors
                logged

                there won't show up in the logfile
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "storagemigration: move logic to package"
              hash: 001835bf61172fdcfdb0416e000852ff05683c71
              body: >
                This brings all migration logic into a single call into the

                storagemigration package, which should make future maintenance
                easier

                and fixes the cleanup logic bug, where the old aufs root would
                never be

                cleaned up.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: prevent slice oob access in concatReadSeekCloser
              hash: 1e7045ac957db17fe9838602c9339c0b5ae5c282
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Martin Rauscher
              nested: []
            - subject: Make layer download resuming more resilient
              hash: 582487f832c59c2f734a780ab0492833f29002c9
              body: >
                This commit changes the way we retry layer downloads after
                failures with

                the goal of making it more resilient, especially for cases
                involving

                large layers and unreliable network connections.


                These are the changes:


                * Make sure we also retry after failures in
                `v2LayerDescriptor.reset()`.
                  This method creates a new HTTP request to resume a failed download,
                  and therefore depends on a working network to succeed.
                * Wait exponentially longer times between retries (instead of
                retrying
                  immediately as before). This shall increase of success in case of
                  network issues that take longer to get resolved.
                * Increase the number of retries to 10.

                * Reset retry count whenever we successfully download anything
                at all.
                  The idea is that we want to give up downloading only after a long
                  continuous period of failures. Combined with the exponential back-off
                  strategy and increased number of retries described above, a layer pull
                  will fail only after about 17 minutes.
                * Add a bit more logging to help with troubleshooting.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
              author: Leandro Motta Barros
              nested: []
            - subject: Drop CODEOWNERS
              hash: e70e1a9fe622563719993626e834c85efc17905c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "pkg/storagemigration: poperly handle errors during state creation"
              hash: b8170db554ac1d1abb3adcfe1f6265701e9147c5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "pkg/storagemigration: allow writing logs to separate file"
              hash: 77536d3866ac706f049a02d2eed44a7df1cb779c
              body: >
                This can be used to keep a record of failed migrations.

                Only runs if BALENA_MIGRATE_OVERLAY_LOGFILE is set to a path on
                disk.

                The log file will be deleted if there are no errors.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "storagemigration: defer commit to next start"
              hash: bd1628e67136b78ca7e7c83c5569666207d28a84
              body: >
                With this change the aufs data is kept around until the next
                time we

                start. If we find both an aufs AND an overlay2 storage root, we
                cleanup

                the aufs data.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Lock destination layers while delta is being processed
              hash: 0ad4281e11e4d3ef263010787aecd244c0ce333d
              body: >
                During fingerpinting of the source image the destination layers
                are not

                exepmt from being released (e.g. when `balena image rm <iid>`)
                is run

                simultaneously.

                Similarly when processing the destination layers to generate
                deltas we

                only hold one reference at a time, leaving the subsequent layers

                vulnerable to the same issues.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Add aufs to overlay2 migrator
              hash: b3a976b1294469e75222752bdc1fdc06bfcc97b8
              body: >
                The main logic is under pkg/storagemigration. This is able to
                seamlessly

                migrate images and containers from AUFS to overlay2.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Update the README
              hash: 4a95df5bc30a40389191d9b2417b0f9bf35fefdc
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Cleanup repo
              hash: de3a38940ab7410fbb3fd719190db401e419b77d
              body: |
                remove some obsolete files/directories
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Add a SECURITY.md
              hash: 477d70db260a8dda71e2dba12ccd9f169fe9b480
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "top_unix.go: allow busybox ps with no args"
              hash: 6617c4d76d275e05d6055d91aabbd7df25332342
              body: |
                Busybox in balenaOS is compiled with desktop mode disabled,
                so features like `-ef` and providing pids via `-q` are not
                supported. Add a 3rd condition to try ps with no args and allow
                parsePSOutput to filter by pid.

                https://github.com/balena-os/balena-engine/issues/236
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: Bump balena-os/balena-containerd to 1da48a8
              hash: ab1a49816fd8ae2ec73dc83152ad06a05a6b9799
              body: |
                Fixes balena-engine-runc version format.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: balena-os/balena-containerd#6
                connects-to: balena-os/balena-containerd#6
                Signed-off-by: Tian Yuanhao <tianyuanhao@aliyun.com>
                signed-off-by: Tian Yuanhao <tianyuanhao@aliyun.com>
              author: Tian Yuanhao
              nested: []
            - subject: Add changelog template to allow generating nested changelogs
              hash: f272b547ee6c27c41be70da6b913699a2c5ef928
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Update github issue and pr templates
              hash: 123449f806b691e3d193c340a9e72285839f8bb9
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Update codeowners
              hash: 538f01a22413db44ce0304dedb704c285189d3a5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "hack: Fix CLI versioning"
              hash: a9d487d0751f7ad293ab66b3d24734505b41f85b
              body: |
                https://github.com/balena-os/balena-engine-cli/commit/20c19830a95455e8562551aad52c715ad0807cc6
                moves the versioning variables to a separate package. We have to adjust
                the location in hack/make.sh too
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Fixed typos in getting-started.md docs
              hash: f162d15114fdb5d2ea87eee08979f1a5882f52cc
              body: ""
              footer:
                Closes: "#209"
                closes: "#209"
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
            - subject: Add integration tests for hostapp handling
              hash: 0c18f60f1124567e51c752bb76d801c97bef5916
              body: |
                This refactors mobynit to allow for testing parts of it from
                the integration tests.
                Also adds some sanity checks for "bare" containers.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Fix container data deletion
              hash: bbdf9e2137de87696d758847a2eb544eb04d828e
              body: >
                Previous implementation was not comparing graphdriver content to
                layerStore mounts.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Roman Mazur <roman@balena.io>
                signed-off-by: Roman Mazur <roman@balena.io>
              author: Roman Mazur
              nested: []
            - subject: "overlay2: Add List support"
              hash: 90a45216050664742ed8088d5a00304dd097a791
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Roman Mazur <roman@balena.io>
                signed-off-by: Roman Mazur <roman@balena.io>
              author: Roman Mazur
              nested: []
            - subject: "aufs: Add List support"
              hash: c2f02fec80c89a7ad907cb21a4dedee8db854fac
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Roman Mazur <roman@balena.io>
                signed-off-by: Roman Mazur <roman@balena.io>
              author: Roman Mazur
              nested: []
            - subject: "layer: Remove unreferenced driver layers on create"
              hash: 152736dfbb764e6c74f1afc71df853e93488a91f
              body: >
                Earlier engine versions were not properly persisting cacheID

                in layer metadata. As a result, because of abruptly terminated
                transactions,

                a lot of devices have unreferenced graphdriver layers on disk.


                With this change, the engine will be able to clean up such
                unreferenced layers.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Roman Mazur <roman@balena.io>
                signed-off-by: Roman Mazur <roman@balena.io>
              author: Roman Mazur
              nested: []
            - subject: "layer: Prune unused data on layer store creation"
              hash: 01e4688f8c4f42e769d319353accdc0c34ffcc0b
              body: >
                When layer store is created, its tmp directory may contain
                information

                about transactions that were abruptly treminated during the
                previous process run.

                Such data is now identified before any new transactions can be
                created,

                and a background process is started to delete both meta data and
                graph driver layeres.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Roman Mazur <roman@balena.io>
                signed-off-by: Roman Mazur <roman@balena.io>
              author: Roman Mazur
              nested: []
            - subject: "layer: Persist cacheID early on transaction start"
              hash: b1709e0881b3ed61c1608ef5ed19acf8008b2275
              body: >
                If the engine process is terminated during the layer extraction
                transaction,

                before Commit or Cancel is called on the transaction, a new FS
                layer can be created

                by the graph driver without any link to the layers metadata.


                This change ensures we don't perform any actions on the graph
                driver storage until

                the FS layer ID (the cacheID) is  persisted as a part of the
                transaction data.


                We can use this data to clean up the graph driver storage on
                next process start

                deleting all data associated with the transactions terminated
                abruptly.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Roman Mazur <roman@balena.io>
                signed-off-by: Roman Mazur <roman@balena.io>
              author: Roman Mazur
              nested: []
            - subject: "pkg/authorization: Fix test failures on macOS"
              hash: 6e9af0514461f1ce3945ed308ef13e3ddbc7dc4f
              body: |
                On macOS, unit tests where failing with

                root@c4101a75c792:/go/src/github.com/docker/docker/pkg/authorization# go test .
                --- FAIL: TestAuthZRequestPluginError (0.00s)
                    authz_unix_test.go:295: listen unix authz-test-plugin.sock: bind: file name too long
                --- FAIL: TestAuthZRequestPlugin (0.00s)
                    authz_unix_test.go:295: listen unix authz-test-plugin.sock: bind: file name too long
                --- FAIL: TestAuthZResponsePlugin (0.00s)
                    authz_unix_test.go:295: listen unix authz-test-plugin.sock: bind: file name too long
                time="2020-04-07T10:07:04Z" level=warning msg="Request body is larger than: '1048576' skipping body"
                --- FAIL: TestMiddlewareWrapHandler (0.00s)
                    authz_unix_test.go:295: listen unix authz-test-plugin.sock: bind: file name too long
                FAIL
                FAIL	github.com/docker/docker/pkg/authorization	0.120s

                This change moves the socket creation from a working test directory to a tmp directory,
                so the path is shorter.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Roman Mazur <roman@balena.io>
                signed-off-by: Roman Mazur <roman@balena.io>
              author: Roman Mazur
              nested: []
            - subject: Move ci to balenaCI
              hash: 9182c33542feb05ae46a66f2cfdeeefef6fa7333
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: https://github.com/balena-io-modules/detectorist/pull/27
                connects-to: https://github.com/balena-io-modules/detectorist/pull/27
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "contrib: Add balena-engine version of dind container"
              hash: ef813f867206df9ae6f3ddf1cb5d3915f8718cc5
              body: >
                This modifies https://github.com/docker-library/docker for
                balena-engine
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "build.sh: Disable btrfs,zfs,devicemapper graphdrivers"
              hash: 88a5416e94945bc6998ba00723da26b738eb5bcd
              body: >
                We don't support these on balenaOS anyway and we are planning to
                drop

                support for them once we move to the new balenaCI-based
                pipeline.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "Bump CLI dependency to include fix for #178"
              hash: de8d373699d5e45676a769f6ff5927e95df3dade
              body: ""
              footer:
                Connects-to: https://github.com/balena-os/balena-engine/issues/178
                connects-to: https://github.com/balena-os/balena-engine/issues/178
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Bump CLI dependency to include --cidenv flag
              hash: bf7bfef7f8e8dee6dd7c17a81a69bc5ea891bec7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: https://github.com/balena-os/balena-engine-cli/pull/8
                connects-to: https://github.com/balena-os/balena-engine-cli/pull/8
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Allow passing container ID to container via environment variable
              hash: 635b48ca954c92ce7e35b2667c2001a52f43ef6d
              body: >
                This adds a new ContainerIDEnv field to HostConfig that can pass
                an

                environment variable name, which will be set to the container ID
                and

                passed to the container environment.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: https://github.com/balena-os/balena-engine/issues/173
                connects-to: https://github.com/balena-os/balena-engine/issues/173
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "contrib/install.sh: Add details to the success message"
              hash: 876ea49bb8e948c97cd959fcb7413e84e33f7006
              body: >
                First warn the user that balena-engine-daemon needs to be
                started.

                Including instructions on how to make the system ready for that:

                - service files

                - balena-engine group

                - how to allow non-root users to run containers
              footer:
                Connects-to: "#51"
                connects-to: "#51"
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "contrib/install.sh: Rename balena to balenaEngine in ASCII art output"
              hash: 4d922b5df74978275dab83e7564359c0dfe99797
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "contrib/install.sh: Fail on error"
              hash: f93ce1f5226a882b0115cf321fc40e7d55f0e583
              body: >
                The install script should not print the success message if it
                didn't

                actually succeed to install anything
              footer:
                Connects-to: "#54"
                connects-to: "#54"
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Add daemon flags to configure max download/upload attempts during
                pull/push
              hash: feaeb5dd826eeb0a95908dfd91704238a59e8257
              body: >
                The defaults remain the same (dl=5, ul=5), but are moved from
                distribution/xfer to

                daemon/config.
              footer:
                Connects-to: https://github.com/balena-os/balena-engine/issues/160
                connects-to: https://github.com/balena-os/balena-engine/issues/160
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "aufs,overlay2: Add driver opts for disk sync"
              hash: 4fed10dd3a66e37f0f128b2f9fa227a9a6800da2
              body: >
                This patch adds a driver option to enalble/disable the to disk
                syncing introduced in

                684d8ba6109c853b355bf11ca3733c4099f14b92.


                The default is still to sync all currently mounted filesystems
                before

                reporting an ApplyDiff as successful.
              footer:
                Connects-to: https://github.com/balena-os/balena-engine/issues/133
                connects-to: https://github.com/balena-os/balena-engine/issues/133
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Fix double locking in the event handling code of OOM events
              hash: d0bc0e5326438656f7d41a1f25ae621693777c2f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "integration-tests: Add test for containers with memory,cpu
                constraints"
              hash: ff2ac4d6823dfc30c115499a5d6f908752ea9223
              body: >
                The only test from integration/ that covers any resource
                constrained

                container scenarios is the OomKilled check in
                integration/container/kill_test.go


                This adds two addional checks that try to create, startk, stop
                and

                inspect a busybox container with:

                a) a memory constraint like: balena-engine run -m 32m ..

                b) a memory constraint like: balena-engine run -cpus ".5" ..
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Update Dockerfiles used for build to Go 1.10.8
              hash: fa51b5b458889c413f2ab82171e0f5fe3b3def5e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "travis: Use the minimal machine"
              hash: 1f6ab50f0cc20d21a5719e4a00f5407f231ed6f2
              body: >
                Since we build in docker anyway we can save the time it usually
                takes to

                set up the Go environment.

                See
                https://docs.travis-ci.com/user/languages/minimal-and-generic/
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Add cli for tagging delta images
              hash: 547a76a4924cf02e104fb31301f548a11c7bc4bb
              body: >
                Update vendor.conf and vendor/ to include
                https://github.com/balena-os/balena-engine-cli/pull/7
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: Allow tagging of image deltas on creation
              hash: 7f569a1e2407800e1c5f5d94f715c4313c5c4300
              body: >
                Similar to how the build command allows tagging of images this
                allows

                specifying a repo:tag indentifier to tag the delta with
              footer:
                Requires: https://github.com/balena-os/balena-engine-cli/pull/7
                requires: https://github.com/balena-os/balena-engine-cli/pull/7
                Change-type: minor
                change-type: minor
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "docs: Fix Docker capitalisation in balenaEngine docs"
              hash: 06a6c66a5c69eed887d75030db211314449bb3d4
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Paulo Castro <paulo@balena.io>
                signed-off-by: Paulo Castro <paulo@balena.io>
              author: Paulo Castro
              nested: []
            - subject: Update balenaEngine logo in README.md
              hash: fccd0f311c732a74bdc02b2d14254f1ff13ac4a0
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Paulo Castro <paulo@balena.io>
                signed-off-by: Paulo Castro <paulo@balena.io>
              author: Paulo Castro
              nested: []
            - subject: Disable incompatible integration tests
              hash: 55bd77642535e56fa47d54d7cd1e86b318e17644
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Paulo Castro <paulo@resin.io>
                signed-off-by: Paulo Castro <paulo@resin.io>
              author: Paulo Castro
              nested: []
          version: balena-engine-20.10.12
          title: "'Update to moby v20.10.11'"
          date: 2022-02-18T11:34:33.484Z
        - commits:
            - subject: Merge upstream v20.10.11
              hash: 8bd50366a9390750523562b3be8087c87e977fda
              body: "For full changelog see:
                https://github.com/balena-os/balena-engine/blob/20.10-balena/CH\
                ANGELOG.md#2021-12-09-upstream-release"
              footers:
                change-type: major
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: balena-engine-20.10.11
          date: 2021-12-09T12:00:00.000Z
  version: 2.94.0
  title: "'balena-engine: Update to 20.10.12'"
  date: 2022-03-01T18:22:50.587Z
- commits:
    - subject: "prepare-openvpn: Make configurable"
      hash: a475af4c69a7fafca28009286ddba7e4f3015ae4
      body: |
        The prepare-openvpn service needs to be restarted to regenerate the
        VPN keys when provisioning is finished and the `apiKey` is removed.

        Note that flasher images make changes to `/mnt/boottmp/config.json` so
        we still need to manually kick `prepare-openvpn` in
        `resin-device-register`, which is preferable to modifying services to
        watch multiple paths.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.93.2
  title: "'Make  restart on  change'"
  date: 2022-03-01T16:49:06.172Z
- commits:
    - subject: "tests/cloud: Use deviceID returned from pre-registration"
      hash: 7fdddb9a886bef14442a89f4440528a513239645
      body: |
        Avoid additional wait and API call when we already have the device ID.

        This might also resolve a race condition that has been difficult to
        track down.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.93.1
  title: "'tests/cloud: Use deviceID returned from pre-registration'"
  date: 2022-02-28T19:09:38.684Z
- commits:
    - subject: "resin-device-register: Use supervisor version label instead of tag"
      hash: 8219b38be32cfa5b3674d7d96cf6b81b31e95328
      body: >
        This is just a name change that reflects the wider change that the

        supervisor is no longer fetched from dockerhub but from Balena's
        registry.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-supervisor: Rename repository/tag to fleet/version"
      hash: 2d284b2015e3d7f6c6a37a63ce49f6f89da7696d
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "docker-disk: entry.sh: Rename repository/tag to fleet/version"
      hash: c308fbc1f040a708d44fda20dc2e81d75b07b6d3
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.93.0
  title: "'Rename repository/tag to fleet/version'"
  date: 2022-02-26T15:34:40.619Z
- commits:
    - subject: Update ModemManager to v1.18.4
      hash: ac680ef2005ae9c0f263e6fab7755bf29dc37977
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update ModemManager to v1.18.4
        changelog-entry: Update ModemManager to v1.18.4
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.92.0
  title: "'modemmanager: Update to v1.18.4'"
  date: 2022-02-25T18:11:37.797Z
- commits:
    - subject: "resin-device-register: Regenerate VPN credentials on registration"
      hash: e6ccbc74b35c900f99998599e61bf36795dd4419
      body: |
        Before registration the VPN credentials use the `apiKey`, once the
        device is registered we need to regenerate the credentials to use the
        `deviceApiKey` instead.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: Wait for resin-device-register to start"
      hash: 314047e72cb133dcd531df2e7b8c632024f78694
      body: |
        Unless the device has been registered, provisioning reports are not
        sent to the fleet.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.91.6
  title: "'Improve provisioning'"
  date: 2022-02-25T09:14:39.101Z
- commits:
    - subject: "suites/os: Add testcase for RPi device-tree"
      hash: 682d64ff8cd0290cd4788c332fbe021045299639
      body: |
        Upstream kernel added a new fkms overlay for
        the Pi4 and CM4 and switched to using it
        from overlay-map, however, we were not aware
        of this.

        Let's add a vcdbg testcase to warn in case the RPi
        firmware fails to load any overlay or dtb, and set
        gpu_mem to 64 so that vcdbg can run.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.91.5
  title: "'suites/os: Add testcase for RPi device-tree'"
  date: 2022-02-24T22:45:17.483Z
- commits:
    - subject: "openvpn: Remove dependency on timesync-http target"
      hash: 13cf7c9fef0a6e0df6b042ba34ceaa7a0d005254
      body: >
        We want the VPN to start unconditionally even if the connectivity URL

        is not reachable.


        The rationale for adding the dependency in the first place was that

        without an initial timesync certificate checks may fail. This can still

        happen, but the VPN will retry continuously and eventually succeed once

        the time is synched.


        What happens now is that the VPN is delayed until the http sync, so if

        the connectivity URL is blocked or unreachable, but the internet is

        accessible, VPN will not even launch and no remote debugging is
        possible.


        Fixes #2508
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.91.4
  title: "'openvpn: Remove dependency on timesync-http target'"
  date: 2022-02-24T20:29:51.915Z
- commits:
    - subject: "tests/os: Wait for os-config-json service to be inactive"
      hash: 1a7eead77e63c72cc1418a0f87d6b540e7deaa80
      body: |
        Wait for os-config-json service to be inactive between tests
        so the next changes to config.json are not missed by systemd.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.91.3
  title: "'tests/os: Wait for os-config-json service to be inactive'"
  date: 2022-02-24T17:56:40.238Z
- commits:
    - subject: "contributing-device-support.md: Updates to board support instructions"
      hash: 47230867149db0a526a0dfdfa847e0eec9a3020b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.91.2
  title: "'contributing-device-support.md: Updates to board support instructions'"
  date: 2022-02-23T14:52:43.399Z
- commits:
    - subject: "tests/cloud: wait for update lock message in logs"
      hash: c50dd793f7409cb4b899e859478730ebe3c576e0
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests/cloud: register teardown before  online"
      hash: 2b6f8cc7b91472ebb612c60d56044cbc03af3ca8
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.91.1
  title: "'fix journal log retrieval in cloud suite, and try to make override lock
    test consistant'"
  date: 2022-02-21T10:48:39.255Z
- commits:
    - subject: "openssh: Add a dependency on os-sshkeys"
      hash: 0abc9213ba004325b77d96541e856aaf93cfdde2
      body: |
        This is required so that changes in the public keys are picked up
        by the SSH server.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-supervisor: Add dependency on root CA"
      hash: 64cb45211a909b25170227079a400c2dfc9afae9
      body: |
        This is required so that the supervisor picks up a change in the root CA
        certificate.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena: Add dependency on balena-hostname"
      hash: b4d9569261de3a6640394ff416264f9e64c5367b
      body: |
        This is needed so that the hostname change is picked up by the container
        applications.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Make services configurable
      hash: eb2028e5ed477ac4626bc55180cd872cd93f67b7
      body: |
        Changes to the system configuration will now restart several services.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: Add balena-configurable"
      hash: 5b26f9200e8051859906016e84c03ab3d72a11d1
      body: |
        This class adds support to apply configuration changes to a systemd
        unit.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-config-vars: Split config.json configuration on write"
      hash: cd7dcc30dc58255d5c84c6e64142f4073797d557
      body: >
        When config.json is written, use the config.json unit configuration to
        create

        per-unit configuration files extracts.


        These will then be monitored by the respective service units to trigger

        restarts, so that service units will only be restarted when there are

        configuration changes that apply to them.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Remove config-json.target
      hash: 5e5de909b648d97ca949e7f6fed08ebbd6471893
      body: |
        Unit files that are configured via config.json and want to be restarted
        on config.json changes are part of this target.

        This causes a burst of service restarts each time config.json changes,
        independently of whether the configuration changes applies to the unit
        or not.

        This commit removes all config-json.target instances in preparation for
        the introduction of a better, more fine grained mechanism.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.91.0
  title: "'Per-unit configuration files'"
  date: 2022-02-14T09:30:35.337Z
- commits:
    - subject: "resin-init-flasher: check for UEFI mode and set config variables"
      hash: 102a710fbbcbbd347d801263a9b96e432ec5e7b9
      body: |
        Check to see whether we are running in UEFI mode and set secure
        boot configuration variables as appropriate.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
    - subject: "resin-init-flasher: Fix flashing progress reporting for LUKS"
      hash: 5c44a257073a993c81692e09eabba842f2aaca1a
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "resin-init-flasher: Use flasher kernel to emulate stage2 bootloader
        with LUKS"
      hash: ebd9c9b775cb82247c1cd9b5ed4fe44864aa2343
      body: >
        In order to avoid the need to unlock encrypted partitions in GRUB we
        want

        to use a custom stage2 bootloader. Since that is not ready yet, emulate
        that

        by copying flasher kernel to the EFI partition, start it from GRUB, have
        it

        unlock all the partitions, find the real kernel and kexec into it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "resin-init-flasher: Add support for opt-in full disk encryption"
      hash: 857f44dc37ed28d2bfe285e0243a9894d7315ffe
      body: |
        If resin-init-flasher.conf has LUKS=1 flasher will:
        - Add extra 2MB to each partition for the LUKS header
        - Split resin-boot into EFI and linux boot
        - LUKS-format the partitions, copy image contents after unlocking
        - Propagate signatures for secure boot

        The default behavior (LUKS undefined) is unchanged
      footer:
        Change-Type: minor
        change-type: minor
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.90.0
  title: "'Update flasher for LUKS encryption'"
  date: 2022-02-13T18:21:21.805Z
- commits:
    - subject: "README: Update versioning information"
      hash: 3ac5a5aaac1be6364a5ec8519b313b1da979b6a3
      body: |
        The `balena-<board>` repositories now use the same versioning scheme as
        application containers. This commit reflects this change in the
        documentation.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.89.19
  title: "'README: Update versioning information'"
  date: 2022-02-13T12:49:17.731Z
- commits:
    - subject: fix cloud suite teardown
      hash: 6fd7cb7ac9b7612db859afe931c0c34f693d3521
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.89.18
  title: "'fix cloud suite teardown'"
  date: 2022-02-11T20:46:38.043Z
- commits:
    - subject: "suites/hup: Add under-voltage test before and after HUP"
      hash: e12de74e6cdcec2af488a8e5f8e0e14613ac1658
      body: |
        We add this this check since we discovered
        that with newer boot firmware the Pi4 will
        not reboot when under-voltage is reported.

        We don't mark the test as failed in
        this case, since there may be devices that
        continue to work even if under-powered and we
        don't want to block or delay development if the
        DUT is remote and cannot be checked or replaced
        easily.

        This check provides an indication for further
        debugging of failed test cases.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.89.17
  title: "'[tests]: Add under-voltage check for OS and HUP suites'"
  date: 2022-02-09T16:48:41.543Z
- commits:
    - subject: "balena-supervisor: Update balena-supervisor to v12.11.32"
      hash: d222a1f6c84ff98f7698efd671063a0eeebb3ae3
      body: >
        Includes improvements when writing to `config.json` to reduce the
        chances of corruption.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Felipe Lalanne <felipe@balena.io>
        signed-off-by: Felipe Lalanne <felipe@balena.io>
      author: Felipe Lalanne
      nested: []
  version: 2.89.16
  title: "'balena-supervisor: Update balena-supervisor to v12.11.32'"
  date: 2022-02-07T15:27:34.945Z
- commits:
    - subject: "resindataexpander: do not return after resizing the partition only"
      hash: dfb9a2e0b30ac5bbfef24332487ef537b6a830b1
      body: |
        After moving the partition resizing code to execute on each boot,
        we made it unreachable on first boot. We must not exit the script
        after resizing the partition only because that way the resizing
        is only finished on 2nd boot.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.89.15
  title: "'resindataexpander: do not return after resizing the partition only'"
  date: 2022-02-07T10:54:58.341Z
- commits:
    - subject: "resin-u-boot.bbclass: Do not error if no config_defaults.h"
      hash: 74b297cd03bd6f6f8af9d4a9e60514770420a218
      body: |
        The header has been removed in upstream commit
        5c6a4d5a2779d7c2611319076d9aa4a23981855f
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.89.14
  title: "'resin-u-boot.bbclass: Do not error if no config_defaults.h'"
  date: 2022-02-03T17:15:47.568Z
- commits:
    - subject: "docker-disk: Tag the supervisor digest with the repo name"
      hash: 52c2b0843bc19865fbe2298e508a9196c7143a2f
      body: |
        This will allow us to refer to the supervisor image by the repo name
        in docker commands, like docker inspect, and prevent re-downloading the
        image even though it already exists as an untagged digest.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.89.13
  title: "docker-disk: Tag the supervisor digest with the repo name"
  date: 2022-02-01T21:39:09.997Z
- commits:
    - subject: "resindataexpander: expand fs independent of partition"
      hash: 2889cb431e02f1f3e030f6c05a42be7374457eeb
      body: |
        When resizing the filesystem fails, such as when resize2fs won't touch
        it because it's dirty, the partition gets resized, but not the
        filesystem. The script will not attempt to resize the filesystem again,
        as it detects the partition has already been resized.

        Split these actions apart, so that the filesystem resize is always
        attempted. If resize2fs detects that the filesystem is already filling
        available space, it will exit with no action taken.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.89.12
  title: "resindataexpander: expand fs independent of partition"
  date: 2022-01-31T10:24:09.275Z
- commits:
    - subject: "image_types_balena: Augment dependency on u-boot do_deploy task"
      hash: e1782d968caa20e407386ba58bff3b1842006e9a
      body: |
        Some BSPs might only make use of UBOOT_MACHINE so let's consider
        this case in addition to UBOOT_CONFIG when setting dependency for
        u-boot's do_deploy task.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.89.11
  title: "image_types_balena: Augment dependency on u-boot do_deploy task"
  date: 2022-01-29T08:06:09.408Z
- commits:
    - subject: "tests: relax boot splash screen check"
      hash: 114b0f752f3b6c25e959ea193a501b5cd669fa7c
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.89.10
  title: Ryan/boot splash improvement
  date: 2022-01-28T10:11:36.644Z
- commits:
    - subject: archive logs using local ssh
      hash: 763fd146f042f60b4df5498d41e4dfe06dc931fe
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: put archiver in the right place
      hash: 69234e0dff6dc1bd08bf70bd07d06d4c2b7d4edb
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: Enable UART serial console for supported devices
      hash: 57733d47160d019452d8f9316a7728ac65bb9581
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: archive image on teardown
      hash: 68cf636207c04a0a8f81e727edafda3bb53bfa31
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: put device in dev mode
      hash: f1cd979692cd16dd93d8354230f5317bb78e76f8
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: "tests: add extra logging to cloud suite"
      hash: 0f39876b55475b654cfed4b20dfda6243d21908f
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.89.9
  title: "tests: add extra logging to cloud suite"
  date: 2022-01-27T14:55:54.155Z
- commits:
    - subject: "u-boot: Move config fragments merging code out of common layer"
      hash: 0396efaf0964dc46e0a72792c7dfc0ce17955231
      body: |
        Let's only apply this code to pre-warrior as intended. Starting
        with warrior this code is in poky so we can rely on it from
        there instead of keeping a duplicate in meta-balena-common.
        This helps with BSPs that may define their own tasks (configure,
        compile and so on) for u-boot (keeping this fragments merging
        code in meta-balena-common would have the effect of overwriting
        these tasks from here and thus breaking the build).
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.89.8
  title: ""
  date: 2022-01-27T09:45:12.608Z
- commits:
    - subject: explain balenaRootCA better
      hash: 3c5dccfbb0ad9f40f893274dc25748f0d35905c8
      body: ""
      footer:
        Change-type: patch
        change-type: patch
      author: Martin Rauscher
      nested: []
  version: 2.89.7
  date: 2022-01-26T14:54:38.251Z
- commits:
    - subject: "classes/kernel-balena: Update aufs patches for kernel 5.10.82"
      hash: 83a1ae95bef32ccfb54a742649165f0311c7ae7e
      body: |
        The aufs patches are used by the devices
        that transition from aufs to overlay2.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.89.6
  date: 2022-01-26T10:10:09.799Z
- commits:
    - subject: "os: tests: optimize fingerprint tests"
      hash: 64afc5f3ca862cd23c639f702b00a55a4527f296
      body: |
        Run fingerprint tests in parallel with Promise.any(). This significantly
        reduces the amount of time taken in these tests.

        - ok 1 - OS corruption tests # time=92739.718ms
        + ok 1 - OS corruption tests # time=2062.513ms
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.89.5
  date: 2022-01-24T15:41:27.529Z
- commits:
    - subject: "tests: add cloud test suite"
      hash: 4955539b5cd0b9ab5c56ce76f92847fa637ce90b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.89.4
  date: 2022-01-21T15:30:16.116Z
- commits:
    - subject: "initramfs-framework: Make cleaning udev database the last step"
      hash: 333162a83daf742612a2e97353c9d3766eaad058
      body: |
        To avoid issues, move the udev database cleanup just before switching
        roots.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.89.3
  date: 2022-01-20T17:24:54.139Z
- commits:
    - subject: "recipes-core/jq: Use 64bit time symbols"
      hash: 010b8f2f655aecb39ef62f9cfac288f5042ebb80
      body: |
        jq is used in the bootfiles hostapp-update
        hook for accessing config.json, which may have
        one of the modification dates invalid,
        as we've seen during testing. We thus need to
        avoid performing a touch on config.json
        to avoid reloading of containers.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.89.2
  date: 2022-01-20T15:16:05.188Z
- commits:
    - subject: "tests: Enable UART serial console where supported"
      hash: c2847e272e271cbc06dead5c798ee47e8ec8ba8c
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.89.1
  date: 2022-01-19T14:28:24.489Z
- commits:
    - subject: "docker-disk: Pull images from Balena's registry"
      hash: 324a091d14e64928feb1635957930eda4e809f8d
      body: |
        Stop using dockerhub to pull container images from.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-supervisor: Use image location path instead of repository:tag"
      hash: 10cf86186bef846123d5431f810fedc219f7e2ee
      body: |
        Balena's registry does not use repository:tag to identify images but
        the image location path.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "distro: balena-os: Add default cloud environment distro setting"
      hash: 6175fd72188766fc0fa05989f55d79f36434face
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.89.0
  date: 2022-01-19T09:42:10.888Z
- commits:
    - subject: "intel-quark: Fix to honister syntax"
      hash: c32e3f0c5421e46fbac991c5e5cb6240994422b2
      body: |
        The converter script did not consider the intel-quark an override, so
        fix manually.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "recipes-core/bash: Use 64bit time symbols"
      hash: d26b1a09a6ac8a0def6ab2ec4d0249884aacb738
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
    - subject: "recipes-core/busybox: Use 64bit time symbols"
      hash: 989c0a3584b99bf637f2a727f8a6bda11fb05441
      body: |
        So that commands like find can work with
        files that have incorrect timestamps on 32bit systems.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.88.22
  date: 2022-01-18T17:55:03.016Z
- commits:
    - subject: "tests: os: config-json: cleanup persistentLogging test"
      hash: 1625e14c13da802e0bbd39467b106155861441be
      body: |
        Minor cleanup of persistentLogging configuration test. Additionally,
        reduce the reboot count to one to save time.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: os: config-json: return promise from sshKeys test"
      hash: caf3dfe4b43643ac5cfa219cb892f431992e0aaa
      body: |
        Return the promise from the sshKeys test instead of awaiting inside the
        async function, a minor style improvement.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: os: config-json: cleanup dnsServers config test"
      hash: 7a4872aa41435a3e386ad9051dc9dbfc64957762
      body: |
        Simplify dnsServers config test, including using
        worker.waitForServiceState().
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: os: config-json: cleanup ntpServer config test"
      hash: 85372adacd450186ba40e7d1e2bd9751e470a7d6
      body: |
        Simplify ntpServer config test, including using
        worker.waitForServiceState().
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: os: config-json: cleanup hostname config test"
      hash: 28983f940d9fe6dd342df9a367e2768501d1d408
      body: |
        Simplify hostname configuration test, including using
        worker.waitForServiceState().
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: os: create waitForServiceState helper"
      hash: 080ead9e17a20d47843ccec0bc2355ee0b9200f3
      body: |
        Create helper to wait for a service to be active or inactive.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: os: config-json: remove reboot from randomMacAddressScan test"
      hash: b832ef095532e54a8508c41441575ef9f5661557
      body: |
        Restructure randomMacAddressScan test to remove unnecessary reboot
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: os: config-json: remove reboot from connectivity test"
      hash: c3988214cfb0fea2f92b3a8ad096cafd2d271417
      body: |
        Restructure connectivity test to remove unnecessary reboot
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: os: config-json: remove reboot from udevRules test"
      hash: 6f7ebbc7a0f201248b731acc188033a3ddc9a12f
      body: |
        Restructure udevRules test to remove unnecessary reboot
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.88.21
  date: 2022-01-17T18:42:06.387Z
- commits:
    - subject: "chrony: fix mount service dependency for driftfile"
      hash: 4823b0299002192820d36c90e5d2dfd9ff122ff5
      body: |
        The chrony driftfile is not being updated at shutdown due to an
        incorrect mount service dependency in the systemd chronyd.service
        file. The current dependency on 'var-volatile-lib' does not cover the
        subsequent bind mounting of the '/var/lib/chrony' sub-directory, so
        the chrony directory gets unmounted at shutdown before the drift file
        has been updated.

        This issue is solved by changing the mount service dependency from
        'var-volatile-lib' to 'bind-var-lib-chrony' (which is similar to the
        way bind mount dependencies are already handled for the NetworkManager
        and bluetooth services).
      footer:
        Change-type: patch
        change-type: patch
        Connects-to: "#1995"
        connects-to: "#1995"
        Changelog-entry: "chrony: fix mount service dependency for driftfile"
        changelog-entry: "chrony: fix mount service dependency for driftfile"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.88.20
  date: 2022-01-17T10:54:19.982Z
- commits:
    - subject: "os: tests: optimize fsck tests"
      hash: 15100419eb9e1fb8c0e99d0a9e07a09b8c8d415f
      body: |
        Chain operations using Promise.then(), and run commands in parallel
        using Promise.map(). This reduces the time taken for fsck tests to about
        half.

        - ok 1 - fsck.ext4 tests # time=152304.735ms
        + ok 1 - fsck.ext4 tests # time=75104.016ms
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.88.19
  date: 2022-01-12T19:19:10.768Z
- commits:
    - subject: "conf/distro: Prefer rust v1.36 for releases older than Honister"
      hash: f4025980e13f291b9e9778a4e545cfea490f9fe5
      body: |
        Poky releases older than Honister should stick to rust v1.36
        which has been used in balenaOS builds so far.

        Newer ones should prefer v1.54, which is the latest rust
        version to use the Honister syntax.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.88.18
  date: 2022-01-11T14:59:20.607Z
- commits:
    - subject: "recipes-core/coreutils: Use 64bit time symbols"
      hash: 1c86b30cbad9eecb74185610d146a71f81f70857
      body: |
        We do this to avoid initial HUP failure that may
        occur when updating a freshly provisioned device,
        which has unitialized timestamps for files in the boot partition,
        to a newer release based on Honister with glibc-2.34.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
    - subject: "classes/image_types_balena: Preserve file modification times with mcopy"
      hash: 7b5e1475838b2ba72ca31b82cfa41b32d47cfd02
      body: |
        We should preserve the file modification times when
        copying them to the boot filesystem, otherwise these
        timestamps will be incorrect, as they will be set to
        random values, like for instance:

          Access: 1961-11-25 17:31:44.000000000 +0000
          Modify: 1961-11-25 17:31:44.000000000 +0000
          Change: 1961-11-25 17:31:44.000000000 +0000
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.88.17
  date: 2022-01-10T10:46:43.314Z
- commits:
    - subject: "balena-os.inc: Switch balena backend storage to overlay2"
      hash: 90b2630937ecc3171fd925a9c679ab1b20c20a4c
      body: |
        Now that we have the aufs to overlay2 migrator in place, let's switch
        all our boards to overlay2.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.88.16
  date: 2022-01-05T09:44:10.265Z
- commits:
    - subject: "initrdscripts: fsuuidinit: Generate resin-rootA last"
      hash: 00d6ca48d32b2b1a111d400457b73be5cc36d6bf
      body: >
        As resin-rootA is used to decide whether to re-run the generation, leave
        it

        last. As it stands, if resin-rootA is regenerated by any other fail, the

        UUID generation is not retried.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "lvm2: Add rule to persist dm devices in udev database"
      hash: de2ff622473f2f0bc03c05dbd15f1df8c88f734e
      body: |
        On transitioning from the initramfs to the rootfs, the udev database is
        cleanedup as the rules between initramfs and rootfs might defer.

        However, dm devices are flagged not to be re-processed, so we need to
        set a sticky bit on them so they persist the cleanup.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscript: Cleanup udev database before transitioning to rootfs"
      hash: a72061cfe9ba48809ba87b0bc03e01a6bc53cff4
      body: |
        This is needed because the rules in the final rootfs might be
        different than the one in the initramfs.

        Devices that need to persist, like dm devices, need to be flagged with
        the `db_persist` option.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: Use /run as bootparam_root storage"
      hash: 449dee77f54d4185f98854bca9148a6f42620bc8
      body: >
        From v2.49, the hostapp-update utility creates the /run directory in the

        root filesystem, however when huping from previous versions /run is not

        there.


        Commit bab3cd7f50022127bfef50fde9cd445b6b55a7b2 switches to use /tmp

        to store the new UUID for the root partition on first boot after

        generating new UUIDs as this is backwards compatible.


        However, this means that the udev database in the initramfs is recreated

        on the final system instead of reused. This becomes a problems for DM

        devices (used in luks based disk encryption), as they are not
        re-processed

        by udevd.


        This change will use /run if available, so new releases that may
        implement

        disk encryption work, or /tmp if not so it still remains backwards

        compatible for HUP from older releases.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "lvm: Add lvm rules when secure boot is configured"
      hash: d41eacad52fde90340c5f7eb4f9fb862aba364ef
      body: |
        This add udev rules to detect mapper devices.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-keys: Fetch DER keys and decode from base64"
      hash: 2538a1c621979f83385729be57b53faa640326d1
      body: >
        Some BIOS configuration, like TianoCore used in QEMU, needs DER keys for

        secure boot setup. Also, der, auth and esl keys are served base64
        encoded

        and need to be decoded before they can be used.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.88.15
  date: 2022-01-04T14:24:39.301Z
- commits:
    - subject: Sync cached writes to disk when updating supervisor.conf
      hash: cf51428b9daaf8325cafc850fb47e27a6a6bcb5d
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Miguel Casqueira <miguel@balena.io>
        signed-off-by: Miguel Casqueira <miguel@balena.io>
      author: Miguel Casqueira
      nested: []
  version: 2.88.14
  date: 2022-01-04T11:19:00.838Z
- commits:
    - subject: "hostapp-update-hooks: Handle developmentMode updates"
      hash: adc76c0588a67705ae20a8c61517f549f2e8549e
      body: >
        When updating from a legacy development image which has no
        developmentMode

        set in config.json to an image configured with development mode, the
        hooks

        need to set developmentMode accordingly in config.json.


        Updating to a development mode image from a production image will not

        set developmentMode.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.88.13
  date: 2022-01-04T09:48:57.491Z
- commits:
    - subject: "systemd/timeinit: handle missing date field in HTTPS header"
      hash: e11a421c24a9c4003e0d606ef681447e48b2823b
      body: |
        Update the timesync-https.sh script to handle the case where the date
        field is missing from the returned HTTPS header.

        When the date field is not present the script will now exit with a
        warning rather than blocking indefinitely.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "systemd/timeinit: handle missing date field in HTTPS header"
        changelog-entry: "systemd/timeinit: handle missing date field in HTTPS header"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.88.12
  date: 2022-01-03T14:25:50.684Z
- commits:
    - subject: "balena-supervisor: Update balena-supervisor to v12.11.16 Update
        balena-supervisor from 12.11.0 to 12.11.16"
      hash: 00397eb39bde3aa313373ffa884ca24098781917
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Miguel Casqueira <miguel@balena.io>
        signed-off-by: Miguel Casqueira <miguel@balena.io>
      author: Miguel Casqueira
      nested: []
  version: 2.88.11
  date: 2021-12-22T04:08:44.540Z
- commits:
    - subject: Update NetworkManager to 1.32.12
      hash: a6313f12e2efe0a6aae8741e7e95ad437a247b3c
      body: |
        Closes #2437
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update NetworkManager to 1.32.12
        changelog-entry: Update NetworkManager to 1.32.12
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.88.10
  date: 2021-12-16T10:45:16.375Z
- commits:
    - subject: "u-boot: Move u-boot configs inclusion into resin-u-boot.bbclass"
      hash: 27e67bb1021f1f2c4c1cdcbb657f09c19908eed4
      body: |
        Some BSPs name the u-boot such as u-boot-imx_2020 for example.
        Because of that, our existing bbappend called u-boot_%.bbappend
        will not match it and will fail to be applied.
        This PR is a first pass at solving this by moving at least the
        SRC_URI appending part from this bbappend and into the
        resin-u-boot.bbclass instead. Further investigation is needed
        to see if we can remove this bbappend altogether since we may
        have all boards using Poky Warrior or newer, making this
        u-boot bbappend obsolete.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.88.9
  date: 2021-12-15T14:45:29.240Z
- commits:
    - subject: "patch: Add archiveLogs Teardown for HUP suite"
      hash: 27abdfaab8ab0790020ebfce0fc64710c8efd609
      body: ""
      footer: {}
      author: Vipul Gupta
      nested: []
  version: 2.88.8
  date: 2021-12-09T19:58:29.923Z
- commits:
    - subject: "tests: Ensure BDADDR is initialized"
      hash: 7824025cb4722483a15cd95f7ee93207af2d8f8c
      body: |
        The CM4 IO-Board was the first device
        which exhibited an issue in which
        the MAC address was set to an
        unprogrammed value AA:AA:AA...:AA.

        We've addressed this in the device repo,
        meanwhile it has been fixed in upstream
        too, so let's check and catch this should
        it happen again.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.88.7
  date: 2021-12-06T15:07:42.139Z
- commits:
    - subject: "docs: Fix links in Rollback documentation"
      hash: 14399cfd115198b0913fb379760b9710c0710258
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.88.6
  date: 2021-12-04T17:29:48.922Z
- commits:
    - subject: "tests: os: fix unhandled exception when unwrapping non-flasher image"
      hash: ce2d33ad875e83b1ed01a16225a9ca19563836dc
      body: |
        Handle ENOENT ErrnoException when attempting to unwrap non-flasher image
        in os/suite.js.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.88.5
  date: 2021-12-04T12:25:35.702Z
- commits:
    - subject: "tests: Add basic checks for data loss during HUP"
      hash: 160fba09251de9fc05b3b3ab7a45e6e4e6ca5586
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "hostapp-update-hooks: Ensure data breadcrumb is present before HUP"
      hash: 62b25ec26111003ef12bc16fe4890b5c327e6aba
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.88.4
  date: 2021-12-03T18:33:53.449Z
- commits:
    - subject: "grub-conf: Delay grub boot in os development mode"
      hash: 08b54c04b109341542ff1f2b82d00699369a8280
      body: |
        When using the compile time OS_DEVELOPMENT switch, delay the boot so
        the grub menu is displayed and it can be interacted with.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "grub-efi: Allow input/output in OS development mode"
      hash: 7d450dddf397dc045779fa815b5003bd1b1ca7fa
      body: |
        When building with the compile-time OS_DEVELOPMENT switch allow
        grub shell to work.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.88.3
  date: 2021-12-02T17:44:27.982Z
- commits:
    - subject: "sign-efi.bbclass: Do not deploy the unused .signed symlink"
      hash: 33c3e61eac60dff18a1bfe8e7a69cc31a8b16070
      body: |
        do_deploy:append replaces the original file with its signed counterpart,
        the signature just gets ignored for non secure boot setups. The .signed
        symlink was in place for backwards compatibility but nothing is using it
        anymore therefore we can safely remove it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "sign-gpg.bbclass: Only deploy the detached signature"
      hash: 40ead6aefea6d4ab56c76ec0a968da9b23acc887
      body: |
        The original file should already be deployed, we only need to add
        the signature in do_deploy:append. Re-deploying actually causes
        harm when chaining signatures, replacing a signed file with its
        unsigned counterpart.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "kernel-image-initramfs.bb: Ship kernel and matching signature"
      hash: 73c254a9396dcf40ba421d70119400af7d4ef21f
      body: >
        This patch replaces the kernel being shipped with the one that we
        eventually

        sign for EFI - without signing the original file used would be identical

        but after applying signature, the signed version is the one we want to
        ship.


        It also fixes the file name for the detached signature, which must match

        the name of the associated file.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: Make kexec work under kernel lockdown
      hash: 3f7ab2a82b29cdb5ddbf2be6ae8b384a76be999e
      body: |
        - EFI sign bzImage first
        - GPG sign the result
        - Enable kexec signature check in the kernel
        - Load EFI keys to the kernel keyring
        - Use -s with kexec load command
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.88.2
  date: 2021-12-02T12:47:16.559Z
- commits:
    - subject: "bluez5: Update to bluez 5.61 from poky honister"
      hash: 1ce83ba3726b77d679818cc8f10e7092cd094328
      body: |
        This commit brings the bluez5 recipe from poky honnister.

        The code originated from poky's honnister branch
        @ 5f87fbf13bd35169a488ca564875974681aafd4f
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.88.1
  date: 2021-12-02T10:41:20.034Z
- commits:
    - subject: "systemd/timeinit: add HTTPS time synchronisation service"
      hash: 2bb18707557979ed6466f45602de4ecf5b386c57
      body: |
        Add a new timesync-https systemd service to synchronise the system
        time at boot using an HTTPS header. The service uses curl to request
        an HTTPS header from either $API_ENDPOINT/connectivity-check (default)
        or the URL defined by the os.network.connectivity.uri field in
        config.json. The URL used *must* return HTTP code 204 (No Content)
        in response to a request so that we can determine that we have full
        network connectivity and are not operating behind a captive portal.

        The date field returned by a valid header is used to set the current
        system time. The date/time derived from the header is assumed to be a
        reasonable source of 'truth' such that it can be used to adjust the
        system time both backwards and forwards. This will compensate for any
        erroneous timestamps saved via fake-hwclock or any invalid data
        read from an RTC.

        The service will exit when a valid response has been received. Poll
        attempts will be made at an increasing interval starting at 2s and
        doubling up to a maximum of 64s. Polling will continue at the maximum
        interval until a valid response has been received.

        This service will provide initial time synchronisation for devices
        where NTP ports have been blocked. For devices where NTP access is
        available it should ensure that any system 'time jump' is only a few
        seconds when NTP synchronisation is eventually achieved. It also
        allows other services to start with a reasonably accurate time
        without having to wait for the NTP synchronisation process to
        complete.

        Services that are ordered after the new time-sync-https-wait target
        can be sure that full network connectivity has been achieved and that
        time has been synchronised with an accuracy of a few seconds.
      footer:
        Change-type: minor
        change-type: minor
        Connects-to: "#1337 #1776 #2044 #2139"
        connects-to: "#1337 #1776 #2044 #2139"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.88.0
  date: 2021-12-01T15:06:07.577Z
- commits:
    - subject: "tests: Add BeagleBone Black u-boot overlay test"
      hash: d52a1754ba1620773e1f7f124fe382aa73e869eb
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.87.32
  date: 2021-12-01T08:51:25.213Z
- commits:
    - subject: "resin-update-state.rules: do not run for unnamed partitions"
      hash: bc45916b90e60aa849a2b99903825bce98e36752
      body: >
        When udev runs resin_update_state_probe for a non-balena partition

        and ENV{ID_PART_ENTRY_NAME} is undefined it still gets expanded to
        random

        garbage accidentally lying at the eventual memory address. This can
        create

        a mess in /dev/disk/by-state e.g. when external devices are connected.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "resin_update_state_probe: do not skip device mapper devices"
      hash: 4a8da59e5cbe2243518ed0591dc376e935a3175d
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.87.31
  date: 2021-11-30T17:23:29.588Z
- commits:
    - subject: "tests: Add device specific RevPi Core 3 DIO module test"
      hash: ffd31de2edf0358ede441aa001f5d32069ec8999
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.87.30
  date: 2021-11-30T15:30:47.078Z
- commits:
    - subject: "common: image-balena: enable developmentMode when OS_DEVELOPMENT=1"
      hash: 14b96077eb1899ebedce64610344989eaf4471cd
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.87.29
  date: 2021-11-29T14:22:50.702Z
- commits:
    - subject: Add secure boot keys to the flasher boot partition
      hash: e5e1c4446f26d028d1e5b6fbdaeb974d84d0a03f
      body: |
        Having the keys available in the flasher image allows to use the
        flasher image as source to program the keys in the EFI.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add secure boot keys to the flasher boot partition
        changelog-entry: Add secure boot keys to the flasher boot partition
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.87.28
  date: 2021-11-26T18:00:13.452Z
- commits:
    - subject: "balena-os: make sure PAM support is not configured"
      hash: abb515f6a0bf5d274af873852ddd4e60cf4ee89e
      body: >
        BalenaOS does not use PAM but some vendor BSPs enable it and
        misconfigure

        the hostOS authentication.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.87.27
  date: 2021-11-25T14:36:15.066Z
- commits:
    - subject: "tests: add test for filesystem checks"
      hash: a58b4a8d89830d739b8a676b1f8669ead6c03e0e
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "common: initrdscript: fsck resin-data on boot"
      hash: a035f37b4ae3003b41cd450ab24fffbe178ecdb2
      body: |
        Check resin-data on boot to automatically repair any errors
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.87.26
  date: 2021-11-25T07:36:45.881Z
- commits:
    - subject: "connectivity: reduce ping interval to minimum"
      hash: b513920cd7d683f6511aee2d190d2e9df924fe87
      body: |
        The interface test uses a simple ping to ensure a specific interface
        works. It sends ten packets, and expects ten packets back. However, the
        default interval is one second, which increases the time taken for the
        test while not adding anything of value.

        Reduce the timeout to the minimum non-privileged interval of 2ms.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.87.25
  date: 2021-11-25T02:05:13.102Z
- commits:
    - subject: "tests: Fix dnsmasq tests in cases where 8.8.8.8 is assigned via DHCP"
      hash: 970704092a2f73e120029464edca5b152296f486
      body: >
        One of the test was making sure we were NOT using the default 8.8.8.8

        server even though that may be a valid upstream server provided by
        DHCP/PPP.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.87.24
  date: 2021-11-24T21:35:13.779Z
- commits:
    - subject: "0-signed-update HUP hook: mount efivarfs if necessary"
      hash: 1a6c772c9266d5fc219939e9304813356f85d34c
      body: >
        The hook tries to read EFI variables from efivarfs but this is not
        always

        mounted within the container. We have already validated that we are
        running

        in EFI mode therefore we can just check whether it is already mounted

        and eventually mount with no further checks.


        This also adds graceful handling of nonexistent variables since not all

        UEFI implementations come with secure boot support.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.87.23
  date: 2021-11-24T19:42:32.718Z
- commits:
    - subject: "grub-efi: Accept no input and output nothing when in secure boot mode"
      hash: ffe2f48ed1e770068eb98affc5b29ae39c244869
      body: >
        At this moment GRUB drops to rescue shell if config is invalid

        or if signatures are missing/wrong. This lets the user disable the
        signature

        checks altogether.


        With this patch GRUB outputs nothing and accepts no user input if
        signing

        is configured.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.87.22
  date: 2021-11-24T16:39:29.277Z
- commits:
    - subject: "linux-firmware: Include MT7601U firmware"
      hash: 33980c8b9ba464c91f016f9cade4140c278e7037
      body: >
        The MT7601U WiFi driver fails to find its firmware, so it is included
        now.
      footer:
        Change-type: patch
        change-type: patch
        Backport-to: next
        backport-to: next
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.87.21
  date: 2021-11-24T12:49:04.437Z
- commits:
    - subject: "balena-image: Add balena keys to boot partition if required"
      hash: 14624e33c3a48baf71ac7314fc116e7cb21016c9
      body: |
        When using secure boot, add the balena keys to the boot partition.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "grub-conf: Enforce module signing and integrity lockdown on luks config"
      hash: 1ba23869473faace427782d2aea07a0b46bfbc0c
      body: >
        When booting in secure mode, enforce signed modules loading and
        integrity

        lockdown.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "distro: balena-os: Add empty SIGN_API"
      hash: b1cce6ee3d921dd8def909d959a48bd0d6805c30
      body: |
        By default do not produce signed images.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: image-balena: Copy signed files if present"
      hash: cad39d9f0bf1630da4084cd9b6650cd612943f7d
      body: |
        Grub requires that the signed files carry the .sig suffix, so copy then
        if present.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes/sign-gpg: Rename class to sign_gpg"
      hash: b1e37430c2f83c045156057198140ba951ea5c5d
      body: |
        Use a less generic name.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: Rename sign to sign-gpg"
      hash: 07012bebb4e0c309a5f148f1ab70cf6bf4f15053
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "classes: sign: Drop suffix from deployed files"
      hash: d3f05f3f36c1b9d2576e497ca5573dbd2b050efd
      body: |
        This way device repositories do not need to be customized.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-init-flasher: Set fde grub.cfg if secure boot is enabled"
      hash: 5d25ccbec30eacc449783b0b6f9c342befa10924
      body: |
        When secure boot is enabled a special grub.cfg is required.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-image-initramfs: Add secure boot dependencies"
      hash: 68d68cfb4523e4e012f174e91495949461782b9d
      body: |
        When buildinf an initramfs for secure boot add the needed dependencies.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "kernel-image-initramfs: Install signed kernel images if available"
      hash: 0af48f7555726e969b19bfe29321babb93f265b5
      body: |
        Signed images are needed for secure boot.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "kernel-balena: Configure for secure boot"
      hash: 52259791b2cc2bfd121255e009808bc5677fde0d
      body: |
        On secure boot builds, configure the kernel accordingly.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.87.20
  date: 2021-11-23T16:12:35.703Z
- commits:
    - subject: "common: enable multi-label mDNS resolution and IPv6"
      hash: 7d50c2b78a2c97172c9bdc558e835c8caf7a80ab
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.87.19
  date: 2021-11-22T22:45:22.434Z
- commits:
    - subject: unwrap flasher images in os suite if needed
      hash: e377cdf05d8d3baf456391889978a7a7bd49e9f0
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: bluetooth and hup test with qemu
      hash: 2bf53fbce9bd2173b60253347a2e0c33d4c06e46
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.87.18
  date: 2021-11-22T17:26:50.431Z
- commits:
    - subject: "efitools: Add recipe"
      hash: 64daca47ee173b94ffc40ed042a19c114a4e371d
      body: |
        From

        https://github.com/jiazhang0/meta-secure-core at:
        3fa3fc6dcb41fb6392de84154445502d0668153c
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "sbsigntool: Add recipe"
      hash: 32a22fa740bd06cbb399998f7d8fd12c2088de7c
      body: |
        Required by efitools.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.87.17
  date: 2021-11-21T17:23:50.379Z
- commits:
    - subject: "peak: Modify kernel driver to use signing class"
      hash: 12cbccc2a880bf3f9782b61c4afe4bd393a9414b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.87.16
  date: 2021-11-21T10:54:01.163Z
- commits:
    - subject: "kernel-balena.class: Add support for FDE and sign for secure boot"
      hash: fa67eb58b88155bf4808181ff6429fd94704cad3
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.87.15
  date: 2021-11-21T08:53:19.604Z
- commits:
    - subject: "sign-efi.bbclass: do not mix old and new bitbake syntax"
      hash: fb8d7ed997f3cdc08d3a7d3b65e1ebd4aba6d90e
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: 'Revert "sign-efi.class, sign-kmod.class: Replace original files with
        signed ones"'
      hash: fe553becac56b973e0adc9adeb71655fa7d9883d
      body: >
        This reverts commit 853656e6bcfed0b0206d031c32cd1cde811b8146.


        The change overwrites build files, though that is what we need, it is a
        hacky

        approach and we will look for a clean solution.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.87.14
  date: 2021-11-21T07:00:01.356Z
- commits:
    - subject: "meta-resin-sumo/pyro: Fix initramfs-framework kexec dependencies"
      hash: 9d2d1df166a80f693cfee8a34ffd6e1f5b7ff581
      body: |
        On recent Yocto versions the findmnt package is split into its own
        package, but sumo needs to include the whole util-linux package.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: Use a 2nd stage bootloader to unlock LUKS partitions"
      hash: acbc384d527436e5d7382504dcf62f799b9490d5
      body: >
        GRUB can not use the TPM easily to unlock the volumes and find the
        kernel

        on an encrypted partition. Instead, we choose to store a linux kernel

        and use it as 2nd stage bootloader to unlock the partition, load the
        actual

        kernel and kexec into it. This should eventually be replaced by a proper

        2nd stage bootloader that is being worked on.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "grub-efi: add support for signature verification in secure boot mode"
      hash: ac22f29ffa370f48704fcfb6c7cdb8eec200ba18
      body: |
        This incorporates multiple changes:
        - Patch grub to propagate secure boot mode to the kernel
        - Enable GPG signature verification in GRUB
        - Sign GRUB config files
        - Sign the grub EFI binary for secure boot
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.87.13
  date: 2021-11-20T22:06:37.895Z
- commits:
    - subject: "initramfs-module-cryptsetup: add TPM dependencies"
      hash: dfff22ad0315c9893d9def6829708b50153d691d
      body: |
        The TPM2 utilities were always pulled into the image during development
        but for the final version they are not and this should pull them
        as dependencies.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.87.12
  date: 2021-11-20T15:38:45.684Z
- commits:
    - subject: "balena-keys: Add recipe"
      hash: 1436ac7e3cac2bd244fd387c80a8e52de7f68b5a
      body: |
        Add a recipe to deploy the signing keys to the deploy directory.
        Device types that use them should copy them into the boot partition.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.87.11
  date: 2021-11-20T12:30:28.072Z
- commits:
    - subject: "sign-efi.class, sign-kmod.class: Replace original files with signed
        ones"
      hash: 853656e6bcfed0b0206d031c32cd1cde811b8146
      body: >
        Currently the two classes would keep the original files untouched and
        store

        the signed versions as .signed. This patch reverses the logic - the
        signed

        files replace the original ones and the unsigned version is stored as
        .unsigned.

        This is because there is no real use-case for the unsigned files, we
        always

        want to ship the signed version, even if the particular DT does not
        require it,

        this causes no harm.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: Add signing classes
      hash: 5c128e6b234d75ba684212a322ababa7b5bd13d2
      body: >
        Add classes for GPG, KMOD and EFI artifact signing. Inheriting these
        classes

        won't run the signing tasks, they have to be manually added to recipes.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.87.10
  date: 2021-11-20T07:33:31.830Z
- commits:
    - subject: "hostapp-update-hooks: Add a hook that aborts HUP to unsigned OS under
        secure boot"
      hash: 9db5d09428bdba067974ff5c5c62a8d35eab7a67
      body: >
        When a device is running in secure boot mode, it must not be possible to
        HUP

        to an unsigned version of the OS because UEFI would refuse to boot it
        before

        any of our self-recovering rollback mechanisms can be triggered. This
        would

        effectively brick the device, needing physical access to recover.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.87.9
  date: 2021-11-17T03:10:29.925Z
- commits:
    - subject: "resin-mounts: mount EFI partition if it is split from boot"
      hash: 1cf47718063093369e26ac8831dc83db904de214
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.87.8
  date: 2021-11-17T03:04:09.427Z
- commits:
    - subject: "initrdscripts: add a script for unlocking LUKS volumes"
      hash: 7b095c49d49a2ed08c827a872813db270830a503
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.87.7
  date: 2021-11-16T12:31:32.268Z
- commits:
    - subject: "connectivity: proxy: move nadoo/glider to container"
      hash: 07dbe414a1dfa556427d4fc94ce7fdec688cf0e2
      body: |
        Previously, the core service exposed a /proxy endpoint that would start
        up a proxy remotely, which would be used by a test in the connectivity
        module. However, the endpoint returned the address for the testbot to be
        used as the proxy in the response, and this required manual
        configuration of the interface. Additionally, it requires the worker
        service to install and provide glider for forward proxying.

        Move the proxy (glider) to a container on the device being tested,
        which simplifies configuration, and reduces the complexity and size of
        the interface of Leviathan.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.87.6
  date: 2021-11-15T13:04:05.810Z
- commits:
    - subject: "tests: os: Add exposed engine socket test"
      hash: 612b7853a23441d0192de5580d37d0f89f7f3103
      body: |
        This tests the engine socket being exposed in development mode but not
        in production mode.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.87.5
  date: 2021-11-11T17:56:18.921Z
- commits:
    - subject: "resindataexpander: also resize LUKS volume if necessary"
      hash: aff55ab61db7842202d7aec2e16b3bab505daf60
      body: |
        The behaviour for non-LUKS system should be the same as before,
        an extra step is performed when LUKS resize is necessary.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.87.4
  date: 2021-11-11T14:56:27.092Z
- commits:
    - subject: Add out-of-tree peak CAN driver
      hash: 983c233bbc243f83c53706639867485655cafbfb
      body: |
        Only add the recipe, let DTs pull it as necessary
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.87.3
  date: 2021-11-11T12:59:58.982Z
- commits:
    - subject: Add recipes for TPM2 tools
      hash: baddbd39fd17d364ebfd69bf139980ca82abc8ba
      body: |
        Taken from http://git.yoctoproject.org/cgit/cgit.cgi/meta-security/tree/meta-tpm/recipes-tpm2
        Only add the recipes, let DTs pull it as necessary.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.87.2
  date: 2021-11-11T08:07:31.669Z
- commits:
    - subject: "recipes-devtools/dosfstools: Fix build with Poky Honister"
      hash: 4c47a01aab59afefbb9ad055fbb975c45f5dd262
      body: |
        Poky Honister comes with dosfstools v4.2
        so we cannot use the v4.1 append in the
        meta-balena-common layer.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.87.1
  date: 2021-11-10T17:07:04.950Z
- commits:
    - subject: "meta-balena-common/conf: Switch layer to Honister compatibility"
      hash: 8cc0c59efc9946b74fea6fb3a7d6b0d51bad015b
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.87.0
  date: 2021-11-09T09:42:26.620Z
- commits:
    - subject: "patch: Fix URL to yocto project dependencies"
      hash: 916b1d256a0ab3f23818e7307ce219cdaed2002f
      body: ""
      footer:
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.86.3
  date: 2021-11-09T00:07:14.996Z
- commits:
    - subject: "dosfstools: selectively apply upstreamed patch"
      hash: 8f04f1142bcb3074d86e2827dfda6c7d8c87fefd
      body: |
        This patch was submitted and accepted upstream, and is present since
        v4.2.

        https://github.com/dosfstools/dosfstools/commit/87a8f29785bb605350821f1638a42e6cf3e49ce3

        This fixes a build error applying a patch that's already been applied
        when building newer versions of dosfstools.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "tests: wait for the chronyd service become active"
      hash: c49648a0f27f1a57376803ba9c85ec9ba729ebe9
      body: |
        Add a test to wait for the chronyd service to become active before
        starting the time sync tests.

        The current chronyd tests assume that the chronyd service is
        instantly available at boot time. With the addition of the new
        HTTPS time synchronisation service the starting of chronyd can be
        delayed by a few seconds so we need to ensure that the service
        is actually running before proceeding.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "tests: wait for the chronyd service become active"
        changelog-entry: "tests: wait for the chronyd service become active"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.86.2
  date: 2021-11-08T15:41:30.313Z
- commits:
    - subject: "tests/issue: Add test to check issues files"
      hash: 472bf8a99a111e061e416557e9ab0f538041ae01
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "base files: Use HOSTOS_VERSION in issue and issue.net"
      hash: fb9fd5c0a848c93b020a81521fa6e0cc0f3dd0bb
      body: |
        This allows to display ESR releases on the welcome login.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.86.1
  date: 2021-11-02T12:36:12.690Z
- commits:
    - subject: Create new data partition reset service
      hash: 60f7dd78b93c3a079aac346d5f587198e541a1a8
      body: |
        Similar to state-reset, the data partition will be mostly
        purged if the remove_me_to_reset file is removed.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.86.0
  date: 2021-10-29T12:26:28.613Z
- commits:
    - subject: restrict dtoverlay test to rpi devices
      hash: 98d8f80b6e2c49fabecad70f539a3e247ac20895
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.85.17
  date: 2021-10-28T13:26:21.042Z
- commits:
    - subject: Update balena-engine to v19.03.30
      hash: abf610e022eeac709c054e4fb672b850ef08a940
      body: |
        Fixes EINVAL errors caused by sockets during storage migration,
        https://github.com/balena-os/balena-engine/commit/17a198cb53a53da456c848bf303dc3917ca538c5

        Update balena-engine from 19.03.29 to 19.03.30
      footer:
        Changelog-entry: Update balena-engine to v19.03.30
        changelog-entry: Update balena-engine to v19.03.30
        Change-type: patch
        change-type: patch
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested:
        - commits:
            - subject: "storagemigration: keep going if migration fails"
              hash: 2bde63c800b1df72fba7161d62b5b6da84a8d390
              body: >
                the only hard error is if rollback (failcleanup) fails, in all
                other

                scenarios we want the daemon to continue starting with the new

                graphdriver
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "graphdriver/copy: fix handling of sockets"
              hash: 17a198cb53a53da456c848bf303dc3917ca538c5
              body: >
                previously switch would treat S_IFIFO and S_IFSOCK as the same,
                passing

                both of the to mkfifo, which lead to EINVAL errors when trying
                to create

                the socket, we instead handle socket separately.


                Also adds cases for this to the unit and integration tests of
                the

                migrator.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: balena-engine-19.03.30
          date: 2021-10-26T13:43:43.638Z
  version: 2.85.16
  date: 2021-10-27T10:26:55.185Z
- commits:
    - subject: "linux-firmware: Include RTL8723BU firmware files"
      hash: 2490287e51d96f3ceabd7e3d7a9cd93f49442ba7
      body: |
        The driver for RTL8723BU wireless chipset is present, but its firmware
        files are not loaded. This patch includes them.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.85.15
  date: 2021-10-26T15:34:07.511Z
- commits:
    - subject: "balena-supervisor: Update balena-supervisor to v12.11.0"
      hash: 983eba7a9e61ba9fdd494807d516f1006a7a3504
      body: |
        Update supervisor to latest version to add API backoff behavior.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Felipe Lalanne <felipe@balena.io>
        signed-off-by: Felipe Lalanne <felipe@balena.io>
      author: Felipe Lalanne
      nested: []
  version: 2.85.14
  date: 2021-10-25T15:51:29.429Z
- commits:
    - subject: "balena-engine: Remove deprecated development drop-in service file"
      hash: 8db04c4e70fc4f30ae6b9e5009d04d8c247d7364
      body: |
        This file is no longer used since the merge of dev and prod images.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.85.13
  date: 2021-10-21T13:51:52.714Z
- commits:
    - subject: make led test work with beaglebone
      hash: e615c008f916fb4542731c3b0c860be0d79a71b2
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.85.12
  date: 2021-10-21T10:59:58.802Z
- commits:
    - subject: "patch: Add dtoverlay practical test"
      hash: 76664fceb33d01cf504df464879569f8c147f2fd
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.85.11
  date: 2021-10-06T07:35:19.121Z
- commits:
    - subject: "image-balena: Decouple boot directory generation from rootfs task"
      hash: 0a2a6bc11a0868c6cd858f28783eccfee5199ca9
      body: >
        The boot partition needs to be generated before creating the
        balenaos-img

        but is not part of the root filesystem generation.


        The decoupling allows to build just the docker rootfs image without

        having to build the balenaos-img target.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.85.10
  date: 2021-10-04T11:39:33.460Z
- commits:
    - subject: "classes/resin-u-boot: Increase OS_BOOTCOUNT_LIMIT to 3"
      hash: 2756f4e2621f6f24ed8e0add675049bf3515383f
      body: |
        Let's increase the current value for the rollback-altboot
        bootcount to 3, to account for accidental poweroffs triggered
        by users or by power supplys when booting into the new OS,
        during HUP.

        When the limit is reached, u-boot will proceed to try
        to boot into the old OS.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.85.9
  date: 2021-10-01T13:01:16.476Z
- commits:
    - subject: "hostapp-update-hooks: Blacklist Rock Pi configuration file"
      hash: 5379c4131b23e912dda9eddc0c309301d007414b
      body: |
        The Rock Pi 4B uses a file named hw_intf.conf for
        enabling/disabling interfaces and for loading overlays.
        Just noting that the syntax is also slightly different
        from the config.txt file on RaspberryPi.

        Let's blacklist this file to avoid overriding
        it during an OS update.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.85.8
  date: 2021-09-29T13:49:00.466Z
- commits:
    - subject: "balena-healthcheck: Remove redundant steps and rely on hello-world"
      hash: 33925aa5132f23e92d3754b4422c22f40d854d42
      body: |
        In situations with limited resources the info and ps commands can take
        an unecessarily long time when we really only need to know that a
        container can be started.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.85.7
  date: 2021-09-28T14:01:40.209Z
- commits:
    - subject: "kernel-balena: Fix kernel config warning for UPROBE_EVENTS"
      hash: 877a846369f8863145546afe4899de8f14148d94
      body: |
        Some BSP kernel configurations do not define FTRACE, so add it as a
        dependency.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "kernel-balena: Configure DEBUG_FS"
      hash: 15694f9e9510cd0e2c5cd3514d611761724ef003
      body: |
        The debugging filesystem is usually mounted on user images and it is
        enabled by default on most Linux distributions.

        Fixes balena-os/balena-allwinner#128
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.85.6
  date: 2021-09-27T10:20:36.218Z
- commits:
    - subject: Run iwlwifi firmware cleanup in fakeroot
      hash: 24b6b9cdc0228c85671a0ba492cfd148a6c547ae
      body: |
        This prevents downstream linux-firmware fakeroot tasks, such as
        firmware compression, from encountering Pseudo Abort due to files
        changing outside the fakeroot context.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.85.5
  date: 2021-09-23T16:39:34.551Z
- commits:
    - subject: "common: conf: create disable-user-ns distro feature"
      hash: 7dde2133a5b1df710255b8b0471385cca1449c1d
      body: |
        When user namespacing was enabled in the kernel by default, a separate
        commit [0] was introduced to disable the feature at runtime, to allow
        users/administrators to explicitly choose to enable it, avoiding
        potential security implications.

        However, some applications such as Chromium's sandbox, require either
        SUID or user namespacing to work. Disabling this feature on boards
        that previously enabled it necessitates container modifications and
        potentially breaks previously working applications.

        Create a distro feature to disable user namespacing by default in
        meta-balena, while allowing device types to keep it enabled to maintain
        compatibility with their original behavior.

        https://github.com/balena-os/meta-balena/commit/31c3ae8ad5c7ad45e450349b6972524da120e96c
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.85.4
  date: 2021-09-21T19:37:48.181Z
- commits:
    - subject: "balena-os-sysctl: Reduce the console default loglevel"
      hash: 626b0e25cbd13ca65a74bbfe09ff9e0828b380bb
      body: |
        This avoids the kernel printing debug messages on the consoles. It is
        also the default in other upstream distros like Ubuntu.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-config-vars: Re-run os-sshkeys if config.json is modified"
      hash: 67b7aa5b58a26178411b598415e296fea5628a00
      body: |
        This change allows to pick-up changes to "os.sshKeys" in config.json
        without having to reboot.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "systemd: Use drop-in to modify unit files instead of sed"
      hash: b07a78453243d12db59524836c3cc62d355a6f2d
      body: |
        Performing unit modifications in drop-in files is better practise.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.85.3
  date: 2021-09-21T11:28:51.115Z
- commits:
    - subject: Update balena-engine to v19.03.29
      hash: a2ed32e139489afd89e59e0e63a7c676969de3d8
      body: |
        Update balena-engine from 19.03.26 to 19.03.29
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-engine to v19.03.29
        changelog-entry: Update balena-engine to v19.03.29
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested:
        - commits:
            - subject: "pkg/storagemigration: use graphdriver/copy.DirCopy"
              hash: ffbb608492405488bff5e31ea62c0249fb416106
              body: |
                instead of our own implementation
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: balena-engine-19.03.29
          date: 2021-09-14T15:38:47.823Z
        - commits:
            - subject: Prune Jenkinsfile
              hash: ea14e503181bbb248a4bed1b86a227d9c214cbfb
              body: >
                we are not using it for our CI, and it confuses jenkins set up
                on the

                balena-os org
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: balena-engine-19.03.28
          date: 2021-09-14T14:54:48.288Z
        - commits:
            - subject: Backport platform-detection fixes from containerd
              hash: 9f71253561b1cd2f262ec0d6e81c5fbd09a7a0a1
              body: |
                See https://github.com/containerd/containerd/pull/4530
                and `git log ad25c1a9c34361e4071f508b9a91946b05fce165^..2055e12953bb538228d8d9fe627fa545d7cf82be ./platforms/`
                in the containerd repo
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: balena-engine-19.03.27
          date: 2021-09-01T18:43:57.993Z
  version: 2.85.2
  date: 2021-09-17T20:43:01.200Z
- commits:
    - subject: Fix typo in OS_DEVELOPMENT distro feature
      hash: 7992a7900506eaf0279f93c747dea1520875c817
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests: Remove OS variants"
      hash: 5545c4e15831e16497a737307da69d38f947aa51
      body: |
        The OS is now a single image that can switch between development and
        production modes at runtime.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.85.1
  date: 2021-09-17T14:02:11.331Z
- commits:
    - subject: Replace image variants with development mode
      hash: 0c7c629dcde13de9188f05f6f551f34837ad84ff
      body: |
        The dual image variants are replaced with a runtime configuration switch
        for development mode.

        Fixes #2226
        Fixes #1058
        Relates to: balena-io/balena-io#2247
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Replace image variants with development mode
        changelog-entry: Replace image variants with development mode
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-supervisor: Update balena-supervisor to v12.10.10"
      hash: 1aa662a4ab11f32c71d13352eea7e86c0784df33
      body: |
        Update balena-supervisor from 12.10.3 to 12.10.10
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "api-keys: Remove os variant parameter for authentication check"
              hash: 9e0cbe04c6d1c533c3e66183eca1d3abfb8c381d
              body: >
                The current code authenticates unmanaged production devices
                which makes

                no sense. Unmanaged devices do not need to authenticate with the
                API.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "os-release: Use developmentMode to ascertain OS variant in new
                releases"
              hash: 1abd10a12947f05ae328496e98fcbcdc6a834ce1
              body: >
                Newer BalenaOS releases have replaced OS variants for a
                developmentMode

                configuration setting. This commit uses this variable to set the
                OS

                variant in the absence of `VARIANT_ID` from the os-release file.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: "config: Add developmentMode to schema"
              hash: 4ad7a3ae917c888f267463fd3d5b839439cf40e6
              body: >
                Add a `developmentMode` configuration variable to the schema. Do
                not expose

                this on the device target state until local key-based
                authentication is

                sorted.
              footer:
                Relates-to: https://jel.ly.fish/e9525e9e-aa74-478c-b931-52951c679f78
                relates-to: https://jel.ly.fish/e9525e9e-aa74-478c-b931-52951c679f78
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: balena-supervisor-12.10.10
          date: 2021-09-07T13:47:51.206Z
        - commits:
            - subject: Update URL to balena-proxy-config source code
              hash: 2bcc3aeb56cce11b21d411ee55492109ebaf259f
              body: |
                Use a GitHub permalink that includes the commit in
                case the file changes and the reference becomes out-of-date.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-supervisor-12.10.9
          date: 2021-09-02T12:25:21.696Z
        - commits:
            - subject: Bump path-parse from 1.0.6 to 1.0.7
              hash: 2e38356bf4f5157483017ea2e6670514cbca49c1
              body: |
                Bumps [path-parse](https://github.com/jbgutierrez/path-parse) from 1.0.6 to 1.0.7.
                - [Release notes](https://github.com/jbgutierrez/path-parse/releases)
                - [Commits](https://github.com/jbgutierrez/path-parse/commits/v1.0.7)

                ---
                updated-dependencies:
                - dependency-name: path-parse
                  dependency-type: indirect
                ...
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: dependabot[bot] <support@github.com>
                signed-off-by: dependabot[bot] <support@github.com>
              author: dependabot[bot]
              nested: []
          version: balena-supervisor-12.10.8
          date: 2021-09-01T20:50:51.601Z
        - commits:
            - subject: Bump tar from 4.4.13 to 4.4.19
              hash: b7cb494602fbd050bb9e31b5e8293a080349562c
              body: |
                Bumps [tar](https://github.com/npm/node-tar) from 4.4.13 to 4.4.19.
                - [Release notes](https://github.com/npm/node-tar/releases)
                - [Changelog](https://github.com/npm/node-tar/blob/main/CHANGELOG.md)
                - [Commits](https://github.com/npm/node-tar/compare/v4.4.13...v4.4.19)

                ---
                updated-dependencies:
                - dependency-name: tar
                  dependency-type: indirect
                ...
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: dependabot[bot] <support@github.com>
                signed-off-by: dependabot[bot] <support@github.com>
              author: dependabot[bot]
              nested: []
          version: balena-supervisor-12.10.7
          date: 2021-09-01T20:40:01.473Z
        - commits:
            - subject: Remove "variable list" heading in configuration doc
              hash: 5205e8ce07375a7bf9ca18f0a28bd73c275acd96
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-12.10.6
          date: 2021-09-01T18:06:51.646Z
        - commits:
            - subject: Clean up configurations.md
              hash: af51ef8eb54af96cf00657576908f020ac401488
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-12.10.5
          date: 2021-08-31T22:51:45.166Z
        - commits:
            - subject: Include issues with downgrading versions in README
              hash: 1280ac365618eb4106e9c20dd4e738a22958d0b7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-12.10.4
          date: 2021-08-31T18:51:02.478Z
    - subject: "u-boot: Introduce a compile time osdev-image feature"
      hash: b839f2d91ca1844d96f4d3165ae5e2923489d11d
      body: |
        At runtime we can now enable development features that were previously
        configured using the development-image feature. That feature also
        configured U-Boot for OS development.

        Now we have two distinct functionalities:

        * A runtime development configuration variable that configures the
        device to facilitate application development
        * A build time osdev-image feature that configures the OS for BSP and OS
        development

        This allows us to merge the current production/development images into
        a single image.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "os-release: Remove image variants information"
      hash: 4c4dac7e0cc078a9d10c0bb77e4bf702af5f0e55
      body: |
        There are no more image variants.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Replace DEVELOPMENT_IMAGE and image variants with OS_DEVELOPMENT
      hash: fc369799cdab0012cc9c75aaa4a2e54bb6b2656a
      body: >
        The images now can be configured for application development mode at
        runtime.

        This commit introduces a built time option to configure them for BSP or

        other OS development like board bringup.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "images: Remove debug-tweaks settings."
      hash: cb1618b6d17a6c1118ea65d7485bb1bea907e18e
      body: |
        The ssh development configurations are now applied at runtime. The only
        feature that has been left out is the postinst logging. Customers that
        need to develop the OS can configure this themselves.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "openssh: Enable runtime development configuration"
      hash: 8bac93b3ed8c54452ea858ffc33a2e46a2e3358d
      body: |
        When a device is configured in development mode, allow password
        authentication and empty passwords, as well as root logins.

        In production mode, disable password authentication to allow only
        SSH access.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-info: Rename from resin-info"
      hash: 7f2abbf9a26c376125d18bd625f639f26d578d12
      body: |
        Replace references to resin for balena.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena: Expose engine socket on development mode"
      hash: 858f3b983e7842a155f0a34d60b6a8f488bacb2e
      body: |
        When configured in development mode expose the engine socket. This is
        currently used for local mode development.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "image-balena: Allow passwordless root logins"
      hash: 71aeea3652bf095544b1083023aa5d4e97448597
      body: >
        Even without debug-tweaks, allow passwordless root logins. For
        production

        builds there is no console available so this setting does not change
        current

        functionality.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: 'image_balena: Remove "balena" hostname from development images'
      hash: 7b57e9caf4fa82bd05091becfe1b750bca033342
      body: |
        There is no reason not to have development images use the uuid as
        hostname in the same way production images do.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "systemd: Runtime enablement of serial console"
      hash: d80092c6ecf67720175b72ccbcbf7da6c907d48f
      body: |
        Adapt the systemd getty services to enable for images configured for
        development.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "development-features: Add service for development features runtime
        management"
      hash: 5227ba18d0fe81fabae2b33b3f0cd9f690f85973
      body: >
        This service will adjust the filesystem with development features based
        on

        the `developmentMode` setting on `config.json`.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.85.0
  date: 2021-09-15T09:05:37.493Z
- commits:
    - subject: "hostapp-update-hooks: Fix blacklisted extlinux.conf file path"
      hash: 096024808224aea2100e2a2a1f95ef75e23493ef
      body: |
        The extlinux.conf file path in meta-balena is currently
        incorrect, let's update it's boot partition path so that
        BalenaHUP won't need to transfer the isolcpus setting to
        the new OS anymore. This is necessary only when updating from older
        OS versions in which the supervisor adds the isolcpus
        setting to the boot partition extlinux.conf file.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.84.7
  date: 2021-09-13T12:01:41.123Z
- commits:
    - subject: "balena-persistent-logs: add comment and update logging"
      hash: c05ff73df2341ceb182f7bc1acf00d4719a13afd
      body: |
        Add a comment and update the logging.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "balena-persistent-logs: add comment and update logging"
        changelog-entry: "balena-persistent-logs: add comment and update logging"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
    - subject: "meta-balena: rename resin-persistent-logs"
      hash: 2fa5bead70a700eff06ea8d140974ea3925a0c7d
      body: |
        Rename 'resin-persistent-logs' to 'balena-persistent-logs' and
        update all references.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "meta-balena: rename resin-persistent-logs"
        changelog-entry: "meta-balena: rename resin-persistent-logs"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.84.6
  date: 2021-09-11T12:14:21.164Z
- commits:
    - subject: "tests: led: require led property from device type"
      hash: 0439de2a706cabf2b6b82736fa2959313c653c56
      body: |
        Only run LED test when device type contract specifies support for it
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.84.5
  date: 2021-09-10T13:29:21.135Z
- commits:
    - subject: "tests: Remove reboots from redsocks test cases"
      hash: 53f58ca927075730d9bb9ebe0a98e525f3d8d793
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.84.4
  date: 2021-09-09T20:26:17.261Z
- commits:
    - subject: "tests: Prevent failure when journalctl has no logs for some boots"
      hash: cab2b5aa7b97afad9006ed3c3701e49a9d76d366
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.84.3
  date: 2021-09-09T11:41:46.786Z
- commits:
    - subject: "contributing-device-support.md: Updates to board support instructions"
      hash: 56d47e97ab2becea9d7ecd96de397d937f539954
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.84.2
  date: 2021-09-08T13:26:00.933Z
- commits:
    - subject: "tests: s/BALENA_MACHINE_NAME/BALENA_ARCH"
      hash: 16015b5ba1570777478a585aaea37ed354dacc82
      body: |
        Replace Dockerfile image %%BALENA_MACHINE_NAME%% var with
        %%BALENA_ARCH%% for better compatibility

        Device types lacking matching tags in the balenalib Docker Hub account
        will fail tests when a matching image is not found. Switch to
        BALENA_ARCH instead, to maintain compatibility.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.84.1
  date: 2021-09-05T16:47:16.988Z
- commits:
    - subject: "balena-engine: Enable storage migration"
      hash: 7d69faa7889e6725a4397511a6178ed2c745acbd
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested: []
    - subject: Update balena-engine to v19.03.26
      hash: a7538159d2015a61dc3effc5e3fe390056d0265b
      body: |
        Update balena-engine from 19.03.24 to 19.03.26
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-engine to v19.03.26
        changelog-entry: Update balena-engine to v19.03.26
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested:
        - commits:
            - subject: "storagemigration: capture failcleanup logs in logfile"
              hash: 4f7f543eff08766bc584024afdb57760dfb52130
              body: >
                reorder the defer statements in the migrate function to only
                teardown

                the logger after the failcleanup function ran. otherwise errors
                logged

                there won't show up in the logfile
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: balena-engine-19.03.26
          date: 2021-08-31T11:26:15.276Z
        - commits:
            - subject: "storagemigration: move logic to package"
              hash: 001835bf61172fdcfdb0416e000852ff05683c71
              body: >
                This brings all migration logic into a single call into the

                storagemigration package, which should make future maintenance
                easier

                and fixes the cleanup logic bug, where the old aufs root would
                never be

                cleaned up.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: balena-engine-19.03.25
          date: 2021-08-20T15:55:35.623Z
  version: 2.84.0
  date: 2021-09-03T11:43:21.582Z
- commits:
    - subject: "tests: remove healthcheck test race condition"
      hash: 4f728271e767e8998f73870c2de23c03a5d12823
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.83.22
  date: 2021-09-02T15:34:27.322Z
- commits:
    - subject: "tests: Register teardown only when DUT is reachable"
      hash: 2f01b040236f6565195550cdfde91464687f5cf2
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.83.21
  date: 2021-09-01T22:56:06.844Z
- commits:
    - subject: "tests: Use new Archiver implementation & helpers"
      hash: 883ec60492a16b443cb6ce04c12cda8bbf4d028d
      body: |
        The changes are as follows:
        1. Delete custom logic in tests for archiving logs
        2. Make use of the new archiveLogs helper
        3. Make use of the new implementation of the Archiver module
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.83.20
  date: 2021-09-01T19:37:21.036Z
- commits:
    - subject: "tests: List boots when collecting journal logs in hup suite"
      hash: 8e7b6a157b033db57ff2df75a63b5e054957803f
      body: |
        Some OS versions before HUP do not support the '-b all' flag
        to journalctl. This commit reverts to the original behaviour
        that lists the boots and requests the logs for each boot.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.83.19
  date: 2021-09-01T13:25:10.726Z
- commits:
    - subject: "balena-supervisor: Update balena-supervisor to v12.10.3"
      hash: 782c9e24b91b5beb1c30c7643015c6fe7f53d2d2
      body: |
        Update balena-supervisor from 12.9.3 to 12.10.3
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested:
        - commits:
            - subject: Skip restarting services if they are part of conf targets
              hash: 669866b4c296529bd5392a0c48cd389a6d1f5770
              body: |
                Some recent changes to the OS allowed some services to restart
                automatically when the associated config files are changed.

                In these cases we want to avoid restarting the same services
                manually from the supervisor.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-supervisor-12.10.3
          date: 2021-08-24T18:07:03.099Z
        - commits:
            - subject: Removed fire emoji prefix for firewall logs.
              hash: 30c728fae23ee66f3c1612736bb0c300f0b0762d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: peakyDicers
              nested: []
          version: balena-supervisor-12.10.2
          date: 2021-08-02T21:27:42.412Z
        - commits:
            - subject: Fix regression with local mode push
              hash: 6f5f3bc2f3aea1bf5e5772533be80c3bfbb4e3a9
              body: |
                PR #1749 introduced a bug when pushing local target state. An update to
                the [image name normalization](https://github.com/balena-os/balena-supervisor/blob/f1bd4b8d9bcef29e326cbf97eaddd837c2704d19/src/lib/docker-utils.ts#L81)
                failed to consider the local image name format. This results in mangling
                of image names in the database, i.e. the image `ubuntu:latest` is stored
                as `/ubuntu:latest`. This causes an exception to be returned by the
                dockerode `getImage('/ubuntu:latest').inspect()` call.

                This sends the supervisor into a crash loop and is shown on the supervisor
                journal logs as

                ```
                getaddrinfo ENOTFOUND images
                    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:64:26)
                ```

                Unfortunately if this happens on a user device, since the mangled image
                name is already on the database, the easiest way to fix is to remove the
                supervisor database and let the supervisor recreate it. Deleting the
                database should be side effect free.
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.10.1
          date: 2021-08-02T15:55:28.001Z
        - commits:
            - subject: Remove comparison based on image, release, and service ids
              hash: b67f94802dd8c2e890121f6ca82eda8dff2c051c
              body: >
                Preparing for the new v3 target state, where the supervisor will
                make environment

                dependent ids optional and rely on using general UUIDs and user
                known identifiers

                for comparison. This PR moves forward in that direction by
                removing some of those

                comparisons for v2 target state.


                - imageId to be replaced with imageName

                - serviceId to be replace by serviceName

                - releaseId to be replaced by commit (future release_uuid)


                This is a backwards compatible change, meaning it doesn't
                completely get rid of

                these identifiers (which are still being used by supervisor API
                and for state

                patch), but will not depend on those identifiers for calculating
                steps to target state.
              footer:
                Change-type: minor
                change-type: minor
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.10.0
          date: 2021-07-28T14:00:22.581Z
        - commits:
            - subject: Use tags to track supervised images in docker
              hash: f1bd4b8d9bcef29e326cbf97eaddd837c2704d19
              body: >
                The image manager module now uses tags instead of docker IDs as
                the main

                way to identify docker images on the engine. That is, if the
                target

                state image has a name `imageName:tag@digest`, the supervisor
                will always use

                the given `imageName` and `tag` (which may be empty) to tag the
                image on

                the engine after fetching. This PR also adds checkups to ensure

                consistency is maintained between the database and the engine.


                Using tags allows to simplify query and removal operations,
                since now

                removing the image now means removing tags matching the image
                name.


                Before this change the supervisor relied only on information in
                the

                supervisor database, and used that to remove images by docker
                ID. However, the docker

                id is not a reliable identifier, since images retain the same id
                between

                releases or between services in the same release.


                List of squashed commits

                - Remove custom type NormalizedImageInfo

                - Remove dependency on docker-toolbelt

                - Use tags to traack supervised images in docker

                - Ensure tag removal occurs in sequence

                - Only save database image after download confirmed
              footer:
                Relates-to: "#1616 #1579"
                relates-to: "#1616 #1579"
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.9.6
          date: 2021-07-26T13:58:29.275Z
        - commits:
            - subject: Log the delta URL that will be downloaded on update
              hash: c05c5803f08ddd31eeddb2000cc5f162fb916003
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#1755"
                closes: "#1755"
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.9.5
          date: 2021-07-22T15:08:58.505Z
        - commits:
            - subject: Fix db-helper module for tests
              hash: 357d1baf6188d89b8552fd9068dbea9ac50aa008
              body: >
                The previous module was using `rewire` to get the knex instance
                from the

                db module but that was leading to issues when running tests
                using `test:fast`.

                This provides a fix for the test module that just removes the
                destroy

                call entirely (it turns out it is not necessary).
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.9.4
          date: 2021-07-08T18:48:09.003Z
  version: 2.83.18
  date: 2021-08-31T20:45:45.918Z
- commits:
    - subject: Assign a fixed name to the balena-healthcheck container
      hash: c80932d323ae99a3b3a3a9120a29b5c67196fc44
      body: |
        This avoids confusion when new containers with random names
        appear in the runtime history of the engine.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.83.17
  date: 2021-08-31T16:04:47.503Z
- commits:
    - subject: "kernel-modules-headers: Copy module.lds"
      hash: 9fca34e0f4faffc0fa049e9341e7392f365bea31
      body: |
        Since kernel v5.10 this file is generated when using modules_prepare. As
        the kernel-modules-headers contains pre-built target binaries, we also
        need to include this file in the package.

        This is not a problem when using kernel-source as a modules_prepare is
        always required.
      footer:
        Fixes: "#2289"
        fixes: "#2289"
        Relates-to: "#1822"
        relates-to: "#1822"
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.83.16
  date: 2021-08-31T11:22:51.142Z
- commits:
    - subject: "kernel-balena: remove global blacklist of btrfs"
      hash: b9d6df84a1acd45df80da8a90ea4ca4dc2940bcf
      body: |
        The kernel-balena class contains a global blacklist of btrfs that
        disables this filesystem for all device types, regardless of them
        explicitly enabling it.

        Remove this config to allow devices to enable this filesystem.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.83.15
  date: 2021-08-30T15:47:20.658Z
- commits:
    - subject: "tests: remove reboot requirement from NTP server test"
      hash: 47deb00854eefc2c8ca4103d934713d26077a7c8
      body: |
        We no longer require a reboot when changing the NTP server
        configuration in config.json. Changes to 'config-json' will
        automatically trigger the 'balena-ntp-config' service which will
        update the NTP sources.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "tests: remove reboot requirement from NTP server test"
        changelog-entry: "tests: remove reboot requirement from NTP server test"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
    - subject: "recipes-connectivity: fix auto-update when config.json changes"
      hash: 85df30628278eeb0d55e731319391d3cf98df9a8
      body: |
        Since adding the 'config-json' systemd target the 'balena-ntp-config'
        and 'prepare-openvpn' services have stopped running automatically
        when config.json is updated. This is fixed by adding
        'RemainAfterExit=yes' to both service files.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "recipes-connectivity: fix auto-update when config.json changes"
        changelog-entry: "recipes-connectivity: fix auto-update when config.json changes"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.83.14
  date: 2021-08-26T17:54:07.640Z
- commits:
    - subject: "networkmanager: fix hostname race condition"
      hash: 3f2486bc91994d360086694df9f01bb4b6777284
      body: |
        Fix a race condition that can occur when setting the hostname at
        boot by disabling NetworkManager's ability to modify the hostname.
        The static and transient system hostnames are now managed exclusively
        by the 'balena-hostname' service.
      footer:
        Change-type: patch
        change-type: patch
        Connects-to: "#2244"
        connects-to: "#2244"
        Changelog-entry: "networkmanager: fix hostname race condition"
        changelog-entry: "networkmanager: fix hostname race condition"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.83.13
  date: 2021-08-26T12:17:00.556Z
- commits:
    - subject: "tests: remove reboot requirement from hostname test"
      hash: 34687ca76515d57a77ba12c0fd44632518181392
      body: |
        We no longer require reboots when changing hostname in config.json.
        The contents of '/etc/hostname' and the avahi mDNS broadcast hostname
        are updated automatically without requiring a reboot.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "tests: remove reboot requirement from hostname test"
        changelog-entry: "tests: remove reboot requirement from hostname test"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
    - subject: "hostname: update system hostname when config.json changes"
      hash: f7b3d37502f03ca65d3352a8a8cc3b8a5d612ff4
      body: |
        Automatically update the system hostname when config.json changes.

        Changes to 'config.json' will trigger the 'balena-hostname' service
        to update the static and transient hostnames and the 'avahi'
        service to ensure that any hostname changes are broadcast via mDNS.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "hostname: update system hostname when config.json changes"
        changelog-entry: "hostname: update system hostname when config.json changes"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.83.12
  date: 2021-08-25T23:51:01.153Z
- commits:
    - subject: "linux-firmware: Use wildcards when selecting files to package"
      hash: 16598bcffda7206d9a2ab9d96860cecf7de62756
      body: |
        Firmware files can be compressed with an xz extension or not, so use
        wildcards to cover both cases.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "linux-firmware: Add firmware compression support"
      hash: 2ee6d2e652772d28c25df94aa400e7ccd9f207de
      body: |
        This commit adds a FIRMWARE_COMPRESSION distro configuration that
        performs the compression of linux-firmware files. Only kernel versions
        above 5.3 support loading compressed firmware.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "kernel-balena: Support firmware compression from kernel version 5.3"
      hash: c8faa130b88f11af86619d69a115be96dfbc894a
      body: |
        Kernel version 5.3 supports loading compressed firmware files saving
        storage space.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.83.11
  date: 2021-08-24T14:52:41.041Z
- commits:
    - subject: "kernel-balena: Add function to conditionally configure based on version"
      hash: 9787d2879d2f372c19f336c7e08bd0e6fee16ae7
      body: |
        Some kernel configuration are only applicable from specific kernel
        versions. This commit adds a function that allows to add a specific
        configuration set only from a given kernel version.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "kernel-balena: Split function to get kernel version from source"
      hash: c349f647db328558f026f1b914bc0246dc33bda5
      body: |
        This allows to re-use this functionality. Note that the `KERNEL_VERSION`
        variable is only available after the kernel has been built as it relies
        on get_kernelversion_headers() poky function and utsrelease.h being
        generated. This function parses the Makefile so only needs the source.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "kernel-resin: Add as symlink to kernel-balena"
      hash: 129128574dbf38c46c0cc7121cdf6fd0f38ef64b
      body: |
        This avoids introducing a breaking change.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "kernel-balena: Replace and deprecate kernel-resin"
      hash: 8c0d2ce52d42e72a939d248784d67dc2413c0443
      body: |
        New device types should use kernel-balena instead of kernel-resin.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.83.10
  date: 2021-08-18T19:03:21.519Z
- commits:
    - subject: "recipes-connectivity: improve NTP dispatcher script"
      hash: d060bfa3581f6920fa2e353abaf82d2913d60e67
      body: |
        Change the NetworkManager NTP dispatcher script to update the
        on/offline status of the NTP sources on 'connectivity-change' events
        instead of 'up/down' events.

        Currently 'chronyc onoffline' is run for 'up/down' events on any
        network interface. It makes more sense to run it for
        'connectivity-change' events as we are really interested in whether
        the internet is there or not rather than whether an interface is
        up or down.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "recipes-connectivity: improve NTP dispatcher script"
        changelog-entry: "recipes-connectivity: improve NTP dispatcher script"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.83.9
  date: 2021-08-17T10:37:50.423Z
- commits:
    - subject: Update balena-engine to v19.03.24
      hash: 1d3d0d0c8ef60710eaa67d68b5f606eb22e6fd28
      body: |
        Update balena-engine from 19.03.23 to 19.03.24
      footer:
        Changelog-entry: Update balena-engine to v19.03.24
        changelog-entry: Update balena-engine to v19.03.24
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: prevent slice oob access in concatReadSeekCloser
              hash: 1e7045ac957db17fe9838602c9339c0b5ae5c282
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Martin Rauscher
              nested: []
          version: balena-engine-19.03.24
          date: 2021-08-12T08:30:08.031Z
  version: 2.83.8
  date: 2021-08-17T07:29:06.381Z
- commits:
    - subject: "grub: don't package or install bindir utils"
      hash: f1835282ecd3b0f9dfc52410d8f1628653e2c1b2
      body: |
        Remove ${bindir} from FILES_grub-common, ensuring grub utilities aren't
        installed to /usr/bin, in addition to a previous similar commit that
        removed sbin utils. This frees approximately 5.5M.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.83.7
  date: 2021-08-14T14:48:17.382Z
- commits:
    - subject: "balena-os-sysctl: disable user namespacing by default"
      hash: 31c3ae8ad5c7ad45e450349b6972524da120e96c
      body: |
        Most major distributions now ship kernels with user namespacing enabled
        in the kernel config. Some distributions, such as Arch and Ubuntu,
        default to the upstream behavior of allowing unprivileged user
        namespacing, regardless of potential attack surfaces exposed in the
        kernel.

        Other distributions, such as Debian, are slightly more conservative,
        disabling the feature at runtime behind a sysctl tunable. Debian
        maintains its own patch to add the kernel.unprivileged_userns_clone
        tunable.

        The Debian patch was rejected by upstream over fears of application
        developers not using this feature due to it being generally unavailable
        in systems, as well as fears of bugs going undiscovered.

        RHEL uses a newer tunable introduced upstream to set the max number of
        user namespaces to zero, which accomplishes the same thing, but without
        an out of tree patch.

        Disable user namespacing at runtime using the same method as RHEL, in
        the same manner as the hardened kernels and distributions have chosen.

        https://lwn.net/Articles/673597/
        https://lists.debian.org/debian-kernel/2020/03/msg00237.html
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "common: kernel-resin: enable user namespacing"
      hash: 04d9561760b449024a5b411bd366ded2351cd5cd
      body: |
        Enable CONFIG_USER_NS, a kernel feature used for user namespacing, and
        required for docker-in-docker.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.83.6
  date: 2021-08-13T16:30:49.145Z
- commits:
    - subject: "resin-u-boot.bbclass: Make console silencing change more resilient"
      hash: 6f173d763828d63f70582219aa19333b1e599a57
      body: |
        There is at least a case in a board where the puts function in u-boot's
        common/console.c is #ifdef'ed and defined twice. Let's accomodate for
        such cases by correctly looping through more than one function
        definition if present.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.83.5
  date: 2021-08-13T08:16:50.739Z
- commits:
    - subject: "balena-os: pin linux-firmware to 20210511 from hardknott"
      hash: e7a72c3e82587ffd2388656de71340afdddc9156
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "linux-firmware: upgrade 20190815 -> 20210511"
      hash: 497fa316fec3ef99a14872208abb85f7e932922d
      body: |
        Add recipe from poky hardknott, revision 74dbb08
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.83.4
  date: 2021-08-11T16:09:10.911Z
- commits:
    - subject: "supervisor: Consolidate supervisor container removal"
      hash: f533be0ee1d6f42801f29426929e5f8b18035b9b
      body: |
        Avoid removing supervisor containers in 3 different places
        and consolidate the steps into start-balena-supervisor.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.83.3
  date: 2021-08-05T18:58:49.620Z
- commits:
    - subject: "tests: Fix insecure registry error"
      hash: 647d683dbfd0461706e75291c5396752fdc1b2ce
      body: >
        introduced when images including
        8227a61f6bef6d93cc6a5acd0ef93a2012079964

        made it to production.

        We can now use a runtime drop-in unit placed under /run/systemd/ to

        configure the balena-host service, which doesn't require us to remount

        the rootfs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested: []
  version: 2.83.2
  date: 2021-08-05T13:55:32.372Z
- commits:
    - subject: "linux-firmware: package i915 generations separately"
      hash: e741dcf6f520765c3345c1e64cfc3f31f5b6a604
      body: |
        Package Intel graphics firmware generations separately, allowing GPU
        firmware to be installed for specific SoCs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.83.1
  date: 2021-07-31T15:24:38.031Z
- commits:
    - subject: Add support for rootfs on MD RAID1
      hash: bc1cb47f177b0d04a17c26b00b4ca99cf4638c33
      body: |
        This commit does two things:
        - Build in necessary kernel modules
        - Add the mdadm userspace utility to rootfs and initrd
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.83.0
  date: 2021-07-29T14:10:41.247Z
- commits:
    - subject: "tests: Symlink /dev/null instead of copying bash to break services"
      hash: eea7514c705b43482dd3656d0c34bb2414c267ee
      body: |
        Triggered by a failue in the VPN test - the bash binary is bigger than
        the openvpn binary and on devices with limitted rootfs space the copying
        is not possible. Symlinking /dev/null will break the services as well.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.82.13
  date: 2021-07-29T07:32:26.577Z
- commits:
    - subject: "common: grub: don't install sbin utils"
      hash: e3bf23c7977c6c0dce9eb0a49172526a7e447522
      body: |
        These utilities aren't used on device. Don't install them to save space.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.82.12
  date: 2021-07-24T01:06:12.763Z
- commits:
    - subject: "tests: Remove journalctl line limit from hup suite"
      hash: 5ce248f0d1b37c6500cdd93c639a89027f1fc7f4
      body: |
        Having the lines limited to 500 meant we were missing
        a lot of logs.

        We also don't need to list boots and can use the 'all'
        arguement to see all logs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests: Enable rollback tests in hup suite"
      hash: 9d1e892324718f2533cae1cf5e09018526d13b20
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests: Update smoke test conditions"
      hash: 64df0c010841b0f00d8025b79ae0f23a6fccdf29
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "tests: Add rollback tests to HUP suite"
      hash: 87e89fcf7b07180f3221602afc7a5b4dd8cd9e48
      body: |
        Adding rollback-health check & rollback-altboot check to the HUP suite
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "rollback-altboot: Fix minor typo in log message"
      hash: 1b3405ebf116420de032ccbdac39638a420c4a88
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.82.11
  date: 2021-07-21T20:25:31.196Z
- commits:
    - subject: "tests: Remove reboot requirement from dnsmasq tests"
      hash: 1ea1985f7ebc56908d018c98211fd52f6fd6701c
      body: |
        We no longer require reboots when changing dnsServers in config.json
        and the service should restart on it's own.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.82.10
  date: 2021-07-20T20:09:41.348Z
- commits:
    - subject: "patch: Make OS test suite compatible with current helpers"
      hash: 5a7dd196686836bd35a95f3f2c5dadf138b2590f
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.82.9
  date: 2021-07-16T22:29:01.729Z
- commits:
    - subject: "kernel-devsrc: Add upstream recipe from hardknott-3.3.1 for dunfell"
      hash: f1d45613abfb3f0178868a2d09c22368e2f705fb
      body: |
        In recent kernels (i.e. 5.10.31 for Raspberry Pi) the
        arch/arm/kernel/module.lds file got moved. See
        https://github.com/torvalds/linux/commit/
        596b0474d3d9b1242eab713f84d8873f9887d980 for details.

        Hence we use in meta-balena-dunfell the upstream kernel-devsrc from the
        hardknott-3.3.1 Poky release which handles this module.lds move.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.82.8
  date: 2021-07-16T13:13:11.566Z
- commits:
    - subject: Update balena-engine to v19.03.23
      hash: 5d882694102ce32706de08df3ab435bb0cec176c
      body: |
        Update balena-engine from 19.03.18 to 19.03.23

        Which brings more resilient layer download (allows proper resuming after
        network failures).
      footer:
        Signed-off-by: Leandro Motta Barros <leandro@balena.io>
        signed-off-by: Leandro Motta Barros <leandro@balena.io>
        Changelog-entry: Update balena-engine to v19.03.23
        changelog-entry: Update balena-engine to v19.03.23
        Change-type: patch
        change-type: patch
      author: Leandro Motta Barros
      nested:
        - commits:
            - subject: Make layer download resuming more resilient
              hash: 582487f832c59c2f734a780ab0492833f29002c9
              body: >
                This commit changes the way we retry layer downloads after
                failures with

                the goal of making it more resilient, especially for cases
                involving

                large layers and unreliable network connections.


                These are the changes:


                * Make sure we also retry after failures in
                `v2LayerDescriptor.reset()`.
                  This method creates a new HTTP request to resume a failed download,
                  and therefore depends on a working network to succeed.
                * Wait exponentially longer times between retries (instead of
                retrying
                  immediately as before). This shall increase of success in case of
                  network issues that take longer to get resolved.
                * Increase the number of retries to 10.

                * Reset retry count whenever we successfully download anything
                at all.
                  The idea is that we want to give up downloading only after a long
                  continuous period of failures. Combined with the exponential back-off
                  strategy and increased number of retries described above, a layer pull
                  will fail only after about 17 minutes.
                * Add a bit more logging to help with troubleshooting.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Leandro Motta Barros <leandro@balena.io>
                signed-off-by: Leandro Motta Barros <leandro@balena.io>
              author: Leandro Motta Barros
              nested: []
          version: balena-engine-19.03.23
          date: 2021-07-12T13:21:18.693Z
        - commits:
            - subject: Drop CODEOWNERS
              hash: e70e1a9fe622563719993626e834c85efc17905c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: balena-engine-19.03.22
          date: 2021-06-30T16:13:18.248Z
        - commits:
            - subject: Lock destination layers while delta is being processed
              hash: 0ad4281e11e4d3ef263010787aecd244c0ce333d
              body: >
                During fingerpinting of the source image the destination layers
                are not

                exepmt from being released (e.g. when `balena image rm <iid>`)
                is run

                simultaneously.

                Similarly when processing the destination layers to generate
                deltas we

                only hold one reference at a time, leaving the subsequent layers

                vulnerable to the same issues.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: balena-engine-19.03.21
          date: 2021-06-25T12:17:21.340Z
        - commits:
            - subject: "pkg/storagemigration: poperly handle errors during state creation"
              hash: b8170db554ac1d1abb3adcfe1f6265701e9147c5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: balena-engine-19.03.20
          date: 2021-06-17T12:37:04.408Z
        - commits:
            - subject: "pkg/storagemigration: allow writing logs to separate file"
              hash: 77536d3866ac706f049a02d2eed44a7df1cb779c
              body: >
                This can be used to keep a record of failed migrations.

                Only runs if BALENA_MIGRATE_OVERLAY_LOGFILE is set to a path on
                disk.

                The log file will be deleted if there are no errors.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
            - subject: "storagemigration: defer commit to next start"
              hash: bd1628e67136b78ca7e7c83c5569666207d28a84
              body: >
                With this change the aufs data is kept around until the next
                time we

                start. If we find both an aufs AND an overlay2 storage root, we
                cleanup

                the aufs data.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
              nested: []
          version: balena-engine-19.03.19
          date: 2021-06-10T15:42:25.482Z
  version: 2.82.7
  date: 2021-07-15T19:58:41.996Z
- commits:
    - subject: "dnsmasq: Restart when config.json changes"
      hash: 76964657321934e2953c02ee8fdba4d22a9fbcdc
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "balena-config-vars: Restart target when config.json changes"
      hash: 51005c7a3178bdc73dcff5f790a693aa70936d06
      body: |
        The config.json watcher service will restart the config.json target
        when the file changes. Any services that are PartOf config.json
        target will be restarted as well.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "balena-config-vars: Add config-json.target service"
      hash: cacb87d1b088ab1ab42b24b698e4c03d3803855e
      body: |
        This target service can be used to restart other services
        that have explicitly set themselves as PartOf this target.

        So a service that should be restarted when config.json changes
        can use PartOf=config-json.target to be triggered automatically.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "balena-config-vars: Restore null as valid for dnsServers"
      hash: 22602e4c2fafc0f309add8313c14464ba8cd8d4b
      body: |
        "null" is a valid setting in config.json that should write
        an empty string for dns servers rather than the default 8.8.8.8

        If "servers=null" is written to /run/dnsmasq.servers by
        balena-net-config then dnsmasq will report the following error:

        dnsmasq[4483]: bad address at line 2 of /run/dnsmasq.servers
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.82.6
  date: 2021-07-15T11:17:28.470Z
- commits:
    - subject: "kernel-headers-test: Update base image to buster"
      hash: 57f6aee369e8ec4ab8b20ae82a03f8b8fd7aebe4
      body: |
        Since we don't have devices using older 3.x kernels we update to a newer
        base image so that we don't have problems compiling this test kernel
        module on newer kernels.
        This avoids a compile error on kernel 5.10.31 on arm64
        raspberrypicm4-ioboard for example where it would complain _mcount is
        undefined because the older gcc in the intel-nuc-debian:stretch-20190717
        base image would not create the _mcount symbol when compiling against
        the newer 5.10.31 kernel.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.82.5
  date: 2021-07-15T05:18:57.029Z
- commits:
    - subject: "tests: Add hup test suite"
      hash: 7223cf082fb40e9c707730c19f640d64187516a7
      body: |
        Add smoke test

        Resolve `latest` to dev variant

        If we want the serial logs of the DUT the image that is flashed needs to
        be the development variant. The `latest` shortcut however always
        resolves to the production image. We manually resolve the version to fix
        this.

        Change image name for consistent docker image pulls
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Robert Gnzler
      nested: []
  version: 2.82.4
  date: 2021-07-14T15:51:22.288Z
- commits:
    - subject: Check that the hostapp image fits the inactive partion on HUP
      hash: a0803fcfff0e908f4ed358d0568c4872bbcecade
      body: >
        Currently it is possible to build a docker image that will then fail to

        hup due to a lack of space on the inactive partition.


        Add a task to check the docker image space against the available space
        on

        the root filesystem partition and fail the build if it's too big.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Check that the hostapp image fits the inactive partion on HUP
        changelog-entry: Check that the hostapp image fits the inactive partion on HUP
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "image-balena: Add check for docker image size"
      hash: 9a75a872dfcf0c3d71d4d5584241b65d07bd7103
      body: >
        Currently it is possible to build a docker image that will then fail to

        hup due to a lack of space on the inactive partition.


        Add a task to check the docker image space against the available space
        on

        the root filesystem partition and fail the build if it's too big.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-image: Break down the rootfs image size calculation"
      hash: 8a2b704bd5103ba6419328d0f9cc3d6b667ab5f5
      body: |
        Replace the IMAGE_ROOTFS_SIZE magic number with a calculation based on
        the partition sizes on the balena image classes.

        The rootfs size is calculated with the assumption of a total BalenaOS
        size of 700M. This includes boot, state, rootA and rootB partitions. The
        data partition will then grow to occupy the rest of the storage media.

        Device integration layers can override this value if needed.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "image_types_balena: Add rootfs size calculation function"
      hash: a4ede069d1ab7cbd2b6830574eb891f8c76a92a9
      body: >
        Instead of hardcoding the requested root filesystem value, let's explain

        how the calculation is made with a python function that will adjust
        based

        on the sizes of other partitions.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.82.3
  date: 2021-07-13T11:18:32.393Z
- commits:
    - subject: Update balena-supervisor from v12.8.8 to v12.9.3
      hash: 7903a929e48af889b8df14754d84a8e6b0655752
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-supervisor from v12.8.8 to v12.9.3
        changelog-entry: Update balena-supervisor from v12.8.8 to v12.9.3
        Signed-off-by: Miguel Casqueira <miguel@balena.io>
        signed-off-by: Miguel Casqueira <miguel@balena.io>
      author: Miguel Casqueira
      nested: []
  version: 2.82.2
  date: 2021-07-13T01:37:11.482Z
- commits:
    - subject: "balena-hostname: add comments and improve logging"
      hash: a7a2bb057e22e2ac4fc4cafaf6ba3b533ca5f464
      body: |
        Add some comments and improve the logging.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "balena-hostname: add comments and improve logging"
        changelog-entry: "balena-hostname: add comments and improve logging"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
    - subject: "meta-balena: rename resin-hostname to balena-hostname"
      hash: 55baa1687ca3c576077b26a31591304911be2581
      body: |
        Rename 'resin-hostname' to 'balena-hostname' and update all
        references.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "meta-balena: rename resin-hostname to balena-hostname"
        changelog-entry: "meta-balena: rename resin-hostname to balena-hostname"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.82.1
  date: 2021-07-12T13:01:41.540Z
- commits:
    - subject: "networkmanager: Rename references to resin"
      hash: c857ecc07325e643c39d30f68621c2807664e36e
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "resin-proxy-config: Rename to balena-proxy-config"
      hash: 9e40219affeae1e5f7d888439654f9e40cef5fc0
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "resin-ntp-config: Rename to balena-ntp-config"
      hash: e534f24dbce8d883c867d52538ab721c423566a2
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "resin-net-config: Rename to balena-net-config"
      hash: a3726f421840e0facc21dde81b00a5e0d70e49ba
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.82.0
  date: 2021-07-10T11:13:11.567Z
- commits:
    - subject: "balena-engine: Restore previous systemd service settings"
      hash: 0b7dac9461193e6c1afbc046337aeb74ca20e84c
      body: |
        - remove exec-root path from balena engine
        - restore unique fixed-cidr for balena-host engine
        - remove duplicate fixed-cidr flags from both
        - remove experimental from balena-host
        - fix healthdog command substitution

        These were changed by mistake in the previous refactor.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.81.1
  date: 2021-07-09T23:25:52.084Z
- commits:
    - subject: "recipes-core: add a 'network connectivity wait' service"
      hash: a6781d54c6edced457ad916cac3fec9c70d25a0a
      body: |
        Add a new systemd service to check for full network connectivity.
        This service is required because the default NetworkManager (NM)
        connectivity checker doesn't differentiate between the
        CONNECTED_LOCAL, CONNECTED_SITE and CONNECTED_GLOBAL states. This
        service checks for the CONNECTED_GLOBAL state only and can be used
        to delay the start of other services which require full network
        access to be available. This can help to avoid startup problems on
        networks with slow DNS access or that utilise a captive portal.

        The script does an initial oneshot check of the NM state to make sure
        that we don't wait for an event that doesn't come. This check is
        redundant at boot time due to the fact that the service is started
        before NM to ensure that no NM DBus events are missed. The initial
        check is useful in circumstances where you want to run the script
        standalone or post-boot.

        Other services that wish to make use of this service and wait for
        full network connectivity should add the following entries to their
        systemd unit definition:

        Requires=balena-net-connectivity-wait.target
        After=balena-net-connectivity-wait.target
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: "recipes-core: add a 'network connectivity wait' service"
        changelog-entry: "recipes-core: add a 'network connectivity wait' service"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.81.0
  date: 2021-07-06T09:28:12.840Z
- commits:
    - subject: Remove CODEOWNERS
      hash: da8bfafc94a3815ad62658846d46ec0b4a3edb9b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.80.12
  date: 2021-07-05T12:26:53.005Z
- commits:
    - subject: get journal logs at the end of the suite
      hash: 5d6089c3c8210db34ed0e23864b0ec25579d43e4
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.80.11
  date: 2021-07-01T11:51:12.849Z
- commits:
    - subject: "hostapp-update-hooks: Migrate supervisor database"
      hash: cad3e4cc49c4fbc275a5448c38e2da550e596573
      body: |
        forward_supervisor-db will ensure the supervisor database
        is copied to the new location

        fwd_commit_supervisor-db will remove the old supervisor
        database after confirming the new database has been used
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "hostapp-update-hooks: Revert sv database path used by previous hooks"
      hash: ef8aa041e4957ef138608959ae87ca9eea7b0774
      body: |
        This probably should not have been changed during the
        supervisor rename as it applies to a specific OS issue #2070
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.80.10
  date: 2021-06-24T19:51:43.564Z
- commits:
    - subject: "balena-engine: refactor systemd service"
      hash: 8227a61f6bef6d93cc6a5acd0ef93a2012079964
      body: |
        This makes it easier to overwrite the arguments passed in the engine
        unit from drop-in overwrites. See the development image drop-in unit for
        reference.

        Using `systemctl edit --runtime balena.service`, which puts those
        overwrites into `/run/systemd/system/balena.service.d/`, it would be
        possible to modify the runtime behavior of the engine without remounting
        the rootfs to be writeable.

        See https://www.freedesktop.org/software/systemd/man/systemd.unit.html#System%20Unit%20Search%20Path
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested: []
  version: 2.80.9
  date: 2021-06-21T14:04:07.493Z
- commits:
    - subject: Update balena-supervisor from v12.8.7 to v12.8.8
      hash: 713342af1f30442613a3f8cdf38552d10294a1d5
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-supervisor from v12.8.7 to v12.8.8
        changelog-entry: Update balena-supervisor from v12.8.7 to v12.8.8
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.80.8
  date: 2021-06-21T08:24:21.670Z
- commits:
    - subject: prevent failed teardown from making test hang
      hash: 47b439dfd12a66171ced7b710502dc143fedb686
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.80.7
  date: 2021-06-18T10:03:31.173Z
- commits:
    - subject: catch error if image path is corrupted
      hash: 883fb0e8ac2570763d5857e1a3f2e3cc8b6fc8b2
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.80.6
  date: 2021-06-17T14:47:58.695Z
- commits:
    - subject: "update-balena-supervisor: Improve obtaining the supervisor directory
        name"
      hash: 4ed241617668a0d3cc2d505a052bb9cba3178cea
      body: |
        There are better ways of getting the supervisor
        configuration directory name, let's switch to
        them to improve robustness.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
    - subject: Update balena-supervisor from v12.7.0 to v12.8.7
      hash: b935b594c12a2cdd54871bfb064d5cc843442e53
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-supervisor from v12.7.0 to v12.8.7
        changelog-entry: Update balena-supervisor from v12.7.0 to v12.8.7
        Signed-off-by: Miguel Casqueira <miguel@balena.io>
        signed-off-by: Miguel Casqueira <miguel@balena.io>
      author: Miguel Casqueira
      nested: []
  version: 2.80.5
  date: 2021-06-17T14:36:11.613Z
- commits:
    - subject: "kernel-headers-test: simplify example module Makefile"
      hash: 88df9d672d45b7d0bf59d4656654091c3bbfd56b
      body: |
        The example kernel module has some unnecessary variables and targets.
        Simplify this makefile by passing the kernel source directory to make,
        and using the M variable to build the module.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "kernel-headers-test: simplify example module Makefile"
        changelog-entry: "kernel-headers-test: simplify example module Makefile"
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.80.4
  date: 2021-06-14T21:02:06.713Z
- commits:
    - subject: Add oneshot service to migrate supervisor state config
      hash: d965d23fe60db6254eaabd81a0d48b5718e01a3a
      body: |
        The hostapp-update hooks would run before the supervisor update step
        when using balenahup via the dashboard. This resulted in the balena
        supervisor state conf file being out-of-date.

        This commit removes the hostapp-update hook and instead uses a
        oneshot service to ensure the conf is migrated if it does not exist
        in the new path before starting the supervisor.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.80.3
  date: 2021-06-10T13:47:28.925Z
- commits:
    - subject: "update-balena-supervisor: Refactor script to ensure target version is
        ran"
      hash: 0433c666bf4756df30312f0d59ad8a8b94b062ab
      body: |
        This is a rebase of PR 2180 by Miguel,
        which improves stability for the
        supervisor update.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.80.2
  date: 2021-06-09T09:54:10.830Z
- commits:
    - subject: "bluez5: Disable PnP Device Information service"
      hash: afb3dc0441e9ed0f2f9a08de5dd2a9cc75f09ac3
      body: >
        This reverts to the behavior before v5.56 as it interferes with user
        defined

        Device Information profiles.


        For more information: https://github.com/bluez/bluez/issues/101
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.80.1
  date: 2021-06-07T12:35:18.823Z
- commits:
    - subject: Revert Go 1.16 recipes
      hash: 4303346ccda6d3e3c4f83cc3782c73a6d1adb494
      body: |
        balena-engine requires fixes backported from upstream to support a newer
        version of Go, and retaining the new recipes while switching back to the
        supported version of Go using the GOVERSION variable is still a work in
        process. Revert these changes for now. We can merge the new recipes
        back in once the build issues are resolved.

        This reverts commit f36dbd96684f9adfc5ce6faa57aa26fc4ba8e34e, reversing
        changes made to b228aea720fd1536ac6904b1886b2d445a582fc9.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Revert Go 1.16 recipes
        changelog-entry: Revert Go 1.16 recipes
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.80.0
  date: 2021-06-07T08:31:41.036Z
- commits:
    - subject: "supervisor: Remove symlink to legacy resin sysconfig"
      hash: 2b04b5a776c9e996ded53dd7c405755c6543d7e5
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "hostapp-update-hooks: Migrate resin-supervisor to balena-supervisor"
      hash: 19a9bfc2f172368c8652a448e77a77563a5c32a4
      body: |
        After a hostapp-update we need to migrate the supervisor.conf currently
        mounted from /etc/resin-supervisor in the state cache partition.

        Avoid deleting the old supervisor state cache in case of rollback.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "supervisor: Remove legacy resin supervisor container"
      hash: d8dd730edd9e4f4c87fcc0f4774097add68f3422
      body: |
        Clean up the legacy resin supervisor container if it exists
        after a hostapp update.

        Also check that supervisor.conf exists before attempting
        to start the service.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.79.10
  date: 2021-06-03T16:04:52.063Z
- commits:
    - subject: "hostapp-update-hooks: Sync to disk when hook is done"
      hash: 9688de53a3d6ae143b74bb1a7ea446b073755b27
      body: |
        This makes sure the hook changes are committed if the power is lost.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "extract-balena-ca: Sync changes to disk in case of power loss"
      hash: 62302a2149b886b5e44cd2cc93bdc70e55227bb0
      body: |
        Sync changes to disk once the certificates have been updated. This
        minimizes the risk of the custom CA to be committed without having the
        certificates updated.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-net-config: Make sure to sync changes to disk in case of power
        loss"
      hash: e5733363c4ba2a3e31c4613b34e66e072517d1c8
      body: |
        Commit disk modifications to minimize data loss in event of power loss.

        Fixes #2141
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.79.9
  date: 2021-06-03T13:15:41.101Z
- commits:
    - subject: "bluez: Set policy configuration to AutoEnable"
      hash: 614eaf745b29f6e5f373f9c712a7c533373a6187
      body: |
        Since bluez 5.35, the bluetooth daemon has the ability to power on
        controllers instead of using the unreliable `hciconfig hci0 up`.

        http://www.bluez.org/release-of-bluez-5-35/

        This commit makes this the default for BalenaOS.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "bluez5: Replace executable path directory in unit file"
      hash: 809da983829e97e5cddc424c4ff95054e2404ef0
      body: |
        The unit file is left with a placeholder to perform the substitution.
        Previously this was replaced by autoconf.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.79.8
  date: 2021-06-02T12:32:03.789Z
- commits:
    - subject: "meta-balena: rename connectivity packagegroup"
      hash: 8f54c4137f8bb8a83a05d9963cdb1565778c737b
      body: |
        Rename the resin-connectivity packagegroup.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "meta-balena: rename connectivity packagegroup"
        changelog-entry: "meta-balena: rename connectivity packagegroup"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.79.7
  date: 2021-05-26T15:03:08.108Z
- commits:
    - subject: "bluez5: Use bluez5 recipe from poky master"
      hash: fe3c870eef75927eac740bbc1e8e15b8ed9c7341
      body: |
        This commit brings the bluez5 recipe from poky master as we need
        to control which bluez5 version is used in meta-balena.

        The code originates from poky's master branch -
        c887238347295c87dacf8a08e6d703603436d0bc.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.79.6
  date: 2021-05-26T08:26:16.310Z
- commits:
    - subject: "README: Update supported Yocto versions"
      hash: cdbf76ccbaaf6e265f8432eca10d42e55b6969e8
      body: |
        Add the warrior and dunfell versions to the list of tested releases.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.79.5
  date: 2021-05-21T20:01:11.657Z
- commits:
    - subject: Skip some services when running under docker
      hash: 8ef8078de0f1e65adab784c6456d66cf82ee4774
      body: |
        * skip setting up zram swap
        * dont' attempt to mount inactive partition
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested: []
  version: 2.79.4
  date: 2021-05-21T10:15:56.497Z
- commits:
    - subject: "kernel-resin: disable panic on hung task"
      hash: ac0ba89f14c0b04b7353192f15a0634be44d910c
      body: >
        Some BSPs have enabled CONFIG_BOOTPARAM_HUNG_TASK_PANIC which

        can trigger panics upon high iowait, such as balena-engine

        downloading/writing a large image to disk.


        Kconfig says the following:

            Say Y here to enable the kernel to panic on "hung tasks",
            which are bugs that cause the kernel to leave a task stuck
            in uninterruptible "D" state.

            The panic can be used in combination with panic_timeout,
            to cause the system to reboot automatically after a
            hung task has been detected. This feature is useful for
            high-availability systems that have uptime guarantees and
            where a hung tasks must be resolved ASAP.

            Say N if unsure.

        Hung tasks are not normally terminal, nor do they affect system

        stability, but panicking during an image write forces a device into a

        bootloop that requires manual intervention to remedy.


        See the below stacktrace:


        [  243.565482] INFO: task balenad:4049 blocked for more than 120
        seconds.

        [  243.565737]       Not tainted 4.9.140-l4t-r32.4 #1

        [  243.565853] "echo 0 > /proc/sys/kernel/hung_task_timeout_secs"
        disables this message.

        [  243.566032] balenad         D    0  4049      1 0x00000008

        [  243.566236] Call trace:

        [  243.566354] [<ffffff80080863a4>] __switch_to+0x9c/0xc0

        [  243.566479] [<ffffff8008f0d09c>] __schedule+0x22c/0x570

        [  243.566590] [<ffffff8008f0d420>] schedule+0x40/0xa8

        [  243.566744] [<ffffff8008f1057c>] rwsem_down_read_failed+0xd4/0x128

        [  243.566872] [<ffffff8008f0f8a8>] down_read+0x58/0x60

        [  243.566999] [<ffffff8008263568>] iterate_supers+0x78/0x138

        [  243.567131] [<ffffff800829bac0>] sys_sync+0x50/0xc0

        [  243.567237] [<ffffff8008083900>] el0_svc_naked+0x34/0x38

        [  243.567394] Kernel panic - not syncing: hung_task: blocked tasks

        [  243.567533] CPU: 3 PID: 47 Comm: khungtaskd Not tainted
        4.9.140-l4t-r32.4 #1

        [  243.567819] Hardware name: NVIDIA Jetson Xavier NX Developer Kit (DT)

        [  243.568318] Call trace:

        [  243.568508] [<ffffff800808c678>] dump_backtrace+0x0/0x1a8

        [  243.571026] [<ffffff800808c844>] show_stack+0x24/0x30

        [  243.576195] [<ffffff800841f4e8>] dump_stack+0x94/0xbc

        [  243.581446] [<ffffff80081c3db0>] panic+0x128/0x28c

        [  243.586599] [<ffffff8008178190>] watchdog+0x2f8/0x398

        [  243.591760] [<ffffff80080dcd60>] kthread+0x100/0x108

        [  243.596477] [<ffffff80080838a0>] ret_from_fork+0x10/0x30

        [  243.602257] SMP: stopping secondary CPUs

        [  243.605897] Kernel Offset: disabled

        [  243.609511] Memory Limit: none

        [  243.612484] trusty-log panic notifier - trusty version Built:
        12:18:19 Oct 16 2020 [  243.636124] Rebooting in 1 seconds..


        Disable this config for all platforms.
      footer:
        Changelog-entry: "kernel-resin: disable panic on hung task"
        changelog-entry: "kernel-resin: disable panic on hung task"
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.79.3
  date: 2021-05-20T08:04:17.185Z
- commits:
    - subject: Add boot-splash test to unmanaged suite
      hash: a6865f22ba5d5bd60f659daac113cac6ae1aa8f3
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.79.2
  date: 2021-05-19T09:25:55.145Z
- commits:
    - subject: "balena-os: Add preferred provider for Go native"
      hash: 20dd5fb4384e78f24d3e3304be38666fdcb859a8
      body: |
        With Go 1.16 a precompiled go-binary-native that provides go-native was
        introduced to bootstrap the Go compilation.
        Specify to use the go-native recipe and not go-binary-native when
        requiring go-native.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.79.1
  date: 2021-05-18T08:37:41.159Z
- commits:
    - subject: "balena-engine: build in GOPATH mode"
      hash: 342a9621b5416d2a1f6aec3948dfdcfe15395d13
      body: |
        balena-engine hasn't transitioned to building with modules yet, and Go
        1.16 enabled them by default. Revert to the old behavior for now to fix
          the build.

        This option will be removed in Go 1.17, so we'll have to update our
        build before upgrading further.

        https://blog.golang.org/go116-module-changes
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "recipes-devtools: go: backport get_linuxloader"
      hash: 283e7d279ed26c2855b4916c24bb502e2d87a189
      body: |
        Hardknott introduces get_linuxloader() to linuxloader.bbclass that
        allows for dynamically choosing between different c libraries, which go
        recipes depend on.

        Add an include that backports this for older Yocto releases.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "meta-resin-pyro: go-native: include fix-goarch.inc"
      hash: 252521185190ac2730fa8a92a5565a6069104e25
      body: |
        This fixes the error:

        	Invalid GOMIPS value. Must be hardfloat or softfloat.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
        signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
      author: Joseph Kogut
      nested: []
    - subject: "meta-balena-common: upgrade from go 1.12.17 to 1.16.2"
      hash: a395e1bdaaba8050042d011e6e5fe40311216d58
      body: |
        Copy the unmodified golang recipes from poky commit 464472d to
        meta-balena-common/recipes-devtools.

        This shaves off approximately:
        balena-engine 41M -> 34M (17%)
        init (mobynit) 9.5M -> 7.9M (16.8%)
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
        signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
      author: Joseph Kogut
      nested: []
  version: 2.79.0
  date: 2021-05-13T18:25:01.396Z
- commits:
    - subject: "balena-config-vars: improve handling of NM config parameters"
      hash: 61280e84e045a4b235a21eec194fc8cf894c310d
      body: |
        Improve the handling of the os.network.* parameters defined in
        config.json.

        The balena-config-vars script has been updated to process the
        os.network.* parameters from config.json. This allows scripts
        to access these parameters by just including balena-config-vars
        rather than having to parse them directly. Some of the default
        settings have now been included as part of the jq parsing string.
        The jq command has also been assigned to an interim variable rather
        than being evaluated directly. This allows other scripts which
        include balena-config-vars to handle parsing errors correctly when
        they are running with 'set -e'.

        The os-networkmanager script has been updated to make use of the
        balena-config-vars script and no longer parses config.json itself.
        The logging has been standardised and the simplification of the
        variable processing has reduced the size of the script from 146
        to 101 lines.

        The build time tests have been removed as the os-networkmanager script
        is unable to access /usr/sbin/balena-config-vars at buildtime.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "balena-config-vars: improve handling of NM config parameters"
        changelog-entry: "balena-config-vars: improve handling of NM config parameters"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.78.2
  date: 2021-05-13T15:17:52.402Z
- commits:
    - subject: Add Device Tree tests
      hash: f59b7e0d54098e000d7fb3ce2b4811fa91351769
      body: |
        1. Add DToverlay & DTparam tests
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.78.1
  date: 2021-05-12T21:38:32.558Z
- commits:
    - subject: Add symlinks and aliases for legacy resin namespaces
      hash: 16f5437233e88af276d9cce7bc99dd1230f6f10d
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: Rename resin-supervisor to balena-supervisor
      hash: 8c0b17bc3dbcf0674c7083d5a8dacff64cca48c1
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.78.0
  date: 2021-05-10T21:41:51.607Z
- commits:
    - subject: Update balena-supservisor from v12.5.10 to v12.7.0
      hash: d2e3f092a213b8810e4bb922ad3f2a08135129c5
      body: |
        Update balena-supervisor from 12.5.10 to 12.7.0
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-supservisor from v12.5.10 to v12.7.0
        changelog-entry: Update balena-supservisor from v12.5.10 to v12.7.0
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested:
        - commits:
            - subject: Backwards compatility changes for old resin namespaces
              hash: 301aa52f032fecd29495894e828f21a93df60caa
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: Change container name to balena_supervisor
              hash: 09615c9d8254d3f62ef1088d0da35485b0c18734
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: Rename resin-supervisor to balena-supervisor
              hash: 5faf9d7686d7f03b5bb73ef9a234038e7e61037c
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: balena-supervisor-12.7.0
          date: 2021-05-07T12:05:43.135Z
        - commits:
            - subject: Show warning instead of exception for invalid network config
              hash: 5197a1330d69cbff97f3c53a77f640638e074b8a
              body: >
                A previous PR (#1656) fixed validation for network ipam config,

                checking that both network and subnet are defined for each ipam
                config entry

                (as described in the docker documentation).


                After that PR, the validations throws an exception if the
                network target state is incorrect,

                but this turns out to be the wrong approach, because that
                exception is also triggered

                when querying target state.


                This isn't a problem in normal operation, but it is in local
                mode, because local

                mode queries the old target state before sending a new one.
                Since the query fails,

                the CLI can never push the new target state.


                This PR replaces the exception with a warning on the logs, since
                a

                misconfigured network won't cause any engine failures, it will
                just

                prevent containers to communicate through the provided network.


                A future improvement should move this validation to an earlier
                point in the process,

                so the target state can get rejected before it even gets to a
                point it

                can be used.
              footer:
                Relates-to: "#1693"
                relates-to: "#1693"
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.6.8
          date: 2021-05-06T20:30:52.075Z
        - commits:
            - subject: Patch awaiting response when checking if supervisor0 network exists
              hash: 8b0c2347d8d04d3c7101016f6c885f31d9b3dc6a
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-12.6.7
          date: 2021-05-06T15:58:02.661Z
        - commits:
            - subject: Fix parsing driver_opts from compose to docker network creation
              hash: 1408fd7bcb5f25b75679b7ce0e509adc7f8f6004
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: quentinGllmt <quentin@quentingllmt.fr>
                signed-off-by: quentinGllmt <quentin@quentingllmt.fr>
              author: quentinGllmt
              nested: []
          version: balena-supervisor-12.6.6
          date: 2021-05-06T14:52:59.431Z
        - commits:
            - subject: Update balena-register-device and send extra info at provision time
              hash: 9e52bb33ac931a035b4cd0fd80173bf10db771c0
              body: >
                This extra info will mean the API is able to immediately set
                default

                config vars based on the os/supervisor version so that they are

                available on the first target state fetch rather than having a
                delay

                whilst waiting for the supervisor to report them as part of a
                state

                patch


                Update balena-register-device from 6.1.6 to 7.2.0
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested:
                - commits:
                    - subject: Support `supervisorVersion`/`osVersion`/`osVariant`/`macAddress` fields
                      hash: 6f10fe77ba11ec57bb012777975423dda498a8bd
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                  version: balena-register-device-7.2.0
                  date: 2021-04-29T12:35:30.543Z
                - commits:
                    - subject: Update dependencies
                      hash: 8d78459d6cf6e0dcaa4721c38898eeb2d25c5674
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-register-device-7.1.1
                  date: 2021-04-29T12:23:50.655Z
                - commits:
                    - subject: Switch from randomstring to uuid for generating device uuids
                      hash: 596a76abcf0a76aef93d191e4c59b939701c80b8
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                  version: balena-register-device-7.1.0
                  date: 2020-07-13T14:38:52.915Z
                - commits:
                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                      hash: 7444f4ba2538180a5c75fa5f62de6f395ae28ba7
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: balena-register-device-7.0.1
                  date: 2020-07-13T13:03:45.818Z
                - commits:
                    - author: Pagan Gazzard
                      body: ""
                      hash: 8cfa23ebbe2915b2f37730972cf104cb47f68c65
                      subject: Convert to type checked javascript
                    - author: Pagan Gazzard
                      body: ""
                      footers:
                        change-type: major
                      hash: 0f3e9d26f375554f793dd632b94f33e3ee88933b
                      subject: Drop callback interface in favor of promise interface
                    - author: Pagan Gazzard
                      body: ""
                      footers:
                        change-type: major
                      hash: 67d46678e910c2c8b11f417fa40d00781a1a3905
                      subject: Switch to a named export
                    - author: Pagan Gazzard
                      body: ""
                      footers:
                        change-type: major
                      hash: faa9edc73cf243acd2abe1532e64aab8303031b5
                      subject: Convert to typescript
                    - author: Pagan Gazzard
                      body: ""
                      footers:
                        change-type: major
                      hash: 9e5bdbeaee325c8a523c8498ef023baeb49ef7c1
                      subject: Update to typed-error 3.x
                    - author: Pagan Gazzard
                      body: ""
                      footers:
                        change-type: major
                      hash: 27e78f2ea3f1a059a9fb2ba43dff55f32b0b2b4a
                      subject: Switch to returning native promises
                    - author: Pagan Gazzard
                      body: ""
                      footers:
                        change-type: major
                      hash: dc21eb20dba1a977e74ffadbece66720ced4c529
                      subject: Update to balena-request 11.x
                    - author: Pagan Gazzard
                      body: ""
                      hash: f4008dad3de415cc25987268b387848fc3ed1200
                      subject: Use typescript import helpers
                  date: 2020-07-06T18:11:23Z
                  version: balena-register-device-7.0.0
          version: balena-supervisor-12.6.5
          date: 2021-05-06T10:19:39.399Z
        - commits:
            - subject: Log error responses from API when reporting state
              hash: 2203f78d517a9edf75a261dd3c77cdf5b609548c
              body: >
                This adds the error message from the API to journal logs to
                better

                identify those cases where patching to the API fails.
              footer:
                Change-type: patch
                change-type: patch
                Relates-to: "#1680"
                relates-to: "#1680"
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.6.4
          date: 2021-05-05T19:06:49.805Z
        - commits:
            - subject: Added configurations.md to document all configurable vars
              hash: 07a0344dc6ac15a67513080c63dffe0d6b811ebf
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#1646"
                closes: "#1646"
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-12.6.3
          date: 2021-05-04T02:10:52.553Z
        - commits:
            - subject: Remove version tag from livepush generated image
              hash: 9c1d10dc318bb7c207608ed197c5713960642af3
              body: >
                The `start-resin-supervisor` script in newer OS version no
                longer uses the

                SUPERVISOR_TAG environment variable setup on supervisor.conf and

                update-supervisor.conf.


                This change removes the need for that variable with livepush
                supervisor

                to make it compatible with older and newer OS versions
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.6.2
          date: 2021-04-30T19:54:33.136Z
        - commits:
            - subject: Remove mz, mkdirp, body-parser dependencies
              hash: 4a2ac557ef11d334154bafa0cab4e7272cbed749
              body: |
                'mz' can be safely replaced with fs.promises
                and util.promisify for faster native methods.
                'mkdirp' after Node v8 uses native fs.mkdir, thus
                is redundant. 'body-parser' is deprecated and
                contained within express v4.x.
              footer:
                Closes: "#1567"
                closes: "#1567"
                Change-type: patch
                change-type: patch
                Signed-off-by: Christina Wang <christina@balena.io>
                signed-off-by: Christina Wang <christina@balena.io>
              author: Christina Wang
              nested: []
          version: balena-supervisor-12.6.1
          date: 2021-04-27T22:23:07.811Z
        - commits:
            - subject: Bump dockerode types to 2.5.34
              hash: 95fb568aaeb0d5a0fa8b4b88f650b51d3b96786d
              body: >
                This commit updates dockerode types to the latest 2.x version,
                removing the need

                for custom composer types for network.


                This commit also modifies network tests to use the new types
              footer:
                Change-type: minor
                change-type: minor
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.6.0
          date: 2021-04-27T17:10:23.382Z
        - commits:
            - subject: Enable docker layer caching on CircleCI
              hash: dd2df215f0c62459f3e26c56efdfce26edbcc229
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-12.5.16
          date: 2021-04-27T16:42:23.485Z
        - commits:
            - subject: Added clean step to remove previous builds before running tests
              hash: 6f4030634ad05f29f72cea11456a252570c470d7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-12.5.15
          date: 2021-04-26T19:55:49.189Z
        - commits:
            - subject: "balena-supervisor: replace references to resin-vars"
              hash: 6ca9507beb616c4b344e4927cb5db01534c8ae4b
              body: |
                Replace all references to the 'resin-vars' script with
                'balena-config-vars' as it has been renamed. Add a conditional
                test for compatibility with legacy systems.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: "balena-supervisor: replace references to resin-vars"
                changelog-entry: "balena-supervisor: replace references to resin-vars"
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: balena-supervisor-12.5.14
          date: 2021-04-26T18:12:32.752Z
        - commits:
            - subject: Update supervisor to typescript 4
              hash: fd06c06092b61d349e8b40f66f847065368810e3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.5.13
          date: 2021-04-25T23:09:44.241Z
        - commits:
            - subject: Bump ssri from 6.0.1 to 6.0.2
              hash: ae8dc8ff227237444ae532cf7e817bfc463fbac5
              body: |
                Bumps [ssri](https://github.com/npm/ssri) from 6.0.1 to 6.0.2.
                - [Release notes](https://github.com/npm/ssri/releases)
                - [Changelog](https://github.com/npm/ssri/blob/v6.0.2/CHANGELOG.md)
                - [Commits](https://github.com/npm/ssri/compare/v6.0.1...v6.0.2)
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: dependabot[bot] <support@github.com>
                signed-off-by: dependabot[bot] <support@github.com>
              author: dependabot[bot]
              nested: []
          version: balena-supervisor-12.5.12
          date: 2021-04-20T22:52:22.531Z
        - commits:
            - subject: Refactor extra_uEnv to not match with intel nuc
              hash: e6eda0fca7b280aa5453972a26c36ab6895c227a
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-12.5.11
          date: 2021-04-14T05:27:23.056Z
  version: 2.77.2
  date: 2021-05-10T17:33:42.866Z
- commits:
    - subject: Update os-config from v1.2.0 to v1.2.1
      hash: 028486aa61680bdc09068fdb07f3a61edfb96a5d
      body: |
        Includes rename of resin-supervisor to balena-supervisor.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.77.1
  date: 2021-05-10T13:48:11.472Z
- commits:
    - subject: "grub update hook: move variables from grub.cfg to grubenv"
      hash: 76c82dd987215982dbfcbdf950588dafdc4c129e
      body: |
        In order to verify GPG signature of grub.cfg it must be immutable.
        All the variables should be stored in grubenv file. This means
        bootcount, resin_root_part and upgrade_available variables need
        to be moved to grubenv.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.77.0
  date: 2021-05-05T15:18:01.595Z
- commits:
    - subject: "kernel: Always include overlayfs support"
      hash: ddb5dff6b146dfc252aeecede59ad3acc79683f7
      body: >
        This is needed in preparation for storage migration from aufs to
        overlayfs.

        When running hostapp-update, we need to create the target hostapp on

        overlayfs, which implies the OS we update from can support both drivers
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested: []
  version: 2.76.0
  date: 2021-04-30T16:01:42.415Z
- commits:
    - subject: "grub: grub-efi: buildin gzio for gz compressed kernels"
      hash: 6e0dd4407077d66fa9a0ac16b38a83f6cd46e9b2
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
        signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
      author: Joseph Kogut
      nested: []
  version: 2.75.1
  date: 2021-04-29T19:31:21.361Z
- commits:
    - subject: Update mobynit to the new multi-container hostOS specification
      hash: 93335381320815dbe7b2d21233106910a200e2f5
      body: |
        Update mobynit to use the new multi-container hostOS specification
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update mobynit to the new multi-container hostOS specification
        changelog-entry: Update mobynit to the new multi-container hostOS specification
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.75.0
  date: 2021-04-22T12:36:31.239Z
- commits:
    - subject: "balena-engine: Update to 19.03.18"
      hash: 32705abbf93971bdddb980fe0c7a01b40d229560
      body: |
        This brings in the aufs-to-overlay migrator. Which won't run until we
        configure the engine service to include an `BALENA_MIGRATE_OVERLAY=1`
        env var.

        The other notable change is the fix for
        https://github.com/balena-os/balena-engine/issues/236 which allows
        `balena top` to work as expected on balenaOS
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested: []
  version: 2.74.0
  date: 2021-04-20T20:48:58.556Z
- commits:
    - subject: "modemmanager:u-blox-switch: Rework the u-blox modem switch to ECM mode"
      hash: 9de54188ea47e121a7f408ae1c65f70f53d3a634
      body: |
        We need to make sure the modem is completely initialized before sending
        the AT commands that do the switch to ECM mode. To achieve this we
        change the systemd service dependency to depend on ModemManager.service
        and then we determine the modem state by using mmcli and querying the
        modem power-state property.

        This procedure will only be done once. After the modem is placed in ECM
        mode, it will stay in this mode for future reboots so there will be no
        other delays in bringing up the modem connection.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.73.15
  date: 2021-04-20T09:21:07.975Z
- commits:
    - subject: "device-progress: do not force an exit code"
      hash: f080936299781d121866de112e6930fa2f261fac
      body: >
        this script is only used during provisioning and HUP. in provisioning we
        `|| true` anyway, and

        in HUP we would like to use the exit code for retrying
      footer:
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
        Change-type: patch
        change-type: patch
      author: Matthew McGinn
      nested: []
  version: 2.73.14
  date: 2021-04-19T14:59:22.521Z
- commits:
    - subject: add retries to status check
      hash: 73e7cae10974974eeb180fd18551f6da67432101
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.73.13
  date: 2021-04-19T10:30:12.192Z
- commits:
    - subject: "meta-balena: rename resin-vars to balena-config-vars"
      hash: 7d019abde039a469212c59bcf6e1b7a94ed365d6
      body: |
        Rename the 'resin-vars' script to 'balena-config-vars' and update all
        references.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "meta-balena: rename resin-vars to balena-config-vars"
        changelog-entry: "meta-balena: rename resin-vars to balena-config-vars"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.73.12
  date: 2021-04-16T12:31:11.982Z
- commits:
    - subject: "patch: Add strict bootcount count condition"
      hash: a340d4ddd09515eedb125cbc57d39531ade2566a
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
    - subject: "patch: Reactivate Persistent Logging test"
      hash: 572e287bb93deae01786b025ad116d4d78a6b918
      body: ""
      footer:
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.73.11
  date: 2021-04-16T07:39:41.833Z
- commits:
    - subject: "repo.yml: Move balena-supervisor reference to balena-os"
      hash: 7d9433e3c41c37ba3d9cea51d894b520be81d899
      body: |
        The balena-supervisor repository has been moved to balena-os so the
        repo.yml file needs to be corrected for nested changelogs to work again.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.73.10
  date: 2021-04-14T14:10:09.817Z
- commits:
    - subject: Update balena-supervisor from v12.5.6 to v12.5.10
      hash: 36a1b1e9808db5d2c70f06209f868b24bd8643b1
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-supervisor from v12.5.6 to v12.5.10
        changelog-entry: Update balena-supervisor from v12.5.6 to v12.5.10
        Signed-off-by: Christina Wang <christina@balena.io>
        signed-off-by: Christina Wang <christina@balena.io>
      author: Christina Wang
      nested: []
  version: 2.73.9
  date: 2021-04-14T11:26:13.292Z
- commits:
    - subject: "resin-mounts/etc-fake-hwclock: add dependency on resin-state services"
      hash: 2b07011844a2738aec033d88af29e3f6e0dd28a2
      body: |
        Added a dependency on resin-state.service and resin-state-reset.service
        to etc-fake-hwclock.mount.

        On initial boot after flashing a device the resin-state-reset.service
        was running after etc-fake-hwclock.mount causing the bind mount point
        /mnt/state/root-overlay/etc/fake-hwclock to be deleted after it had
        been mounted. This resulted in a failure to save the date/time at
        shutdown which caused problems with persistent logging at next boot.
        Subsequent boots are unaffected as resin-state-reset does not run.
        Adding a dependency on the resin-state services ensures that the
        bind mount point is created after the state reset has been performed.

        This issue was noticed when running the testbot unmanaged OS image
        persistent logging test. When running a managed OS image the device
        normally reboots fairly immediately after connecting to the
        balena-cloud host and receiving parameter updates, so this issue is
        not usually noticeable.
      footer:
        Change-type: patch
        change-type: patch
        Connects-to: "#2146 #2143"
        connects-to: "#2146 #2143"
        Changelog-entry: "resin-mounts/etc-fake-hwclock: add dependency on resin-state services"
        changelog-entry: "resin-mounts/etc-fake-hwclock: add dependency on resin-state services"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.73.8
  date: 2021-04-13T14:21:01.455Z
- commits:
    - subject: fix udev test indentation
      hash: dedfa47ca1fbae4cd8b96eb05cf093ae3f9432d9
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: Added comments for easier debugging
      hash: c3085492fe85b314e1644870e614531fa6bde6a8
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
    - subject: Fix old tests + add new tests based on testlodge
      hash: 2c8ab0f0962cca1b6fecb25b9a2dbe62acf4cf6a
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Ryan Cooke <ryan@balena.io>
        signed-off-by: Ryan Cooke <ryan@balena.io>
      author: rcooke-warwick
      nested: []
  version: 2.73.7
  date: 2021-04-13T10:43:37.477Z
- commits:
    - subject: Add automated test checking for udev/resin_update_state_probe warnings
      hash: e6bcff01fcf520756b140ad3b4352583f4bc825e
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "udev: Silence warnings from resin_update_state_probe"
      hash: 5a0bed933fd9730e507305c6098698c4a1970c6e
      body: |
        At this moment resin_update_state_probe is scanning pretty much every
        block device for rootfs. This include ramdisks, zram and loop devices
        which, when scanned, even spam warnings in logs. This patch updates
        the udev rule to skip such devices and only trigger on add or change
        events.
      footer:
        Relates-to: "#1989"
        relates-to: "#1989"
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.73.6
  date: 2021-04-12T12:17:29.995Z
- commits:
    - subject: Update balena-supervisor from v12.4.6 to v12.5.6
      hash: 6852b3704575ce5535082e2c02a7f2c6f57e1df4
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-supervisor from v12.4.6 to v12.5.6
        changelog-entry: Update balena-supervisor from v12.4.6 to v12.5.6
        Signed-off-by: Christina Wang <christina@balena.io>
        signed-off-by: Christina Wang <christina@balena.io>
      author: Christina Wang
      nested: []
  version: 2.73.5
  date: 2021-04-06T02:41:31.071Z
- commits:
    - subject: Add to persistent logging defn
      hash: a763533ee5d589394584e5990bd89ca6d18365c5
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrew Nhem <andrew@balena.io>
        signed-off-by: Andrew Nhem <andrew@balena.io>
      author: Andrew Nhem
      nested: []
  version: 2.73.4
  date: 2021-03-20T00:50:55.294Z
- commits:
    - subject: "wifi: remove listed example as it's discontinued"
      hash: c539b4c6c671fca2cd0fabc7416e2bbd0b20ee44
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Toms Migone <tomas@balena.io>
        signed-off-by: Toms Migone <tomas@balena.io>
      author: Toms Migone
      nested: []
  version: 2.73.3
  date: 2021-03-19T19:05:13.959Z
- commits:
    - subject: "hostapp-update: convert absolute symlinks to relative"
      hash: fa8b5a4d2836510c5257d75c65542d374f628407
      body: |
        Symlinks to /boot and /sbin/init are absolute, which breaks them when
        the sysroot is mounted under another system.

        Convert them to relative links, so they work in all cases.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.73.2
  date: 2021-03-17T18:30:51.715Z
- commits:
    - subject: Update balena-supervisor from v12.3.5 to v12.4.6
      hash: 8399bdf47ded925e74e48b128b4f7b2452008dd5
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-supervisor from v12.3.5 to v12.4.6
        changelog-entry: Update balena-supervisor from v12.3.5 to v12.4.6
        Signed-off-by: Felipe Lalanne <felipe@balena.io>
        signed-off-by: Felipe Lalanne <felipe@balena.io>
      author: Felipe Lalanne
      nested: []
  version: 2.73.1
  date: 2021-03-16T13:08:50.984Z
- commits:
    - subject: "image_types_balena: make rootfs labeling generic"
      hash: 924bb046c94ea9a6db516733f727c18bc47fc0e7
      body: ""
      footer:
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
        Change-type: patch
        change-type: patch
      author: Joseph Kogut
      nested: []
    - subject: "image_types_balena: make agnostic to root fstype"
      hash: 71553d47174d8dc28777b0d0a6723418192ad8e4
      body: >
        Build BALENA_HOSTAPP_IMG path using BALENA_ROOT_FSTYPE instead of
        assuming

        the root is ext4.
      footer:
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
        Change-type: patch
        change-type: patch
      author: Joseph Kogut
      nested: []
    - subject: "mkfs-hostapp-native: make agnostic to fstype"
      hash: 295976261f44650bd108eafcb53b3d24f6a28671
      body: |
        Remove assumptions about root fstype. Rename create to create.ext4,
        mkfs.hostapp-ext4 to mkfs.hostapp, and add an argument to mkfs.hostapp
        for fstype. Remove CMD from Dockerfile in favor of passing it as an
        argument to docker run.
      footer:
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
        Change-type: minor
        change-type: minor
      author: Joseph Kogut
      nested: []
  version: 2.73.0
  date: 2021-03-15T20:56:51.275Z
- commits:
    - subject: "balena: dissolve healthcheck-image-load into healthcheck script"
      hash: 7983e9bfd716aaedad1ef5f1468b2771e1f5a71c
      body: |
        Previously we were loading the healthcheck image from it's own service
        that was previously made `PartOf=` the balena.service.
        This was done in an attempt to help get the system unstuck when the
        image is removed (like through manual pruning), which would cause the
        healthcheck to trigger the engine to reboot until the load service was
        restarted by hand.

        Further investigation found a race between the first execution of the
        engine healthcheck script (which needs the image to be loaded) and the
        loader service itself, which would lead to a similar state, requireing
        manual intervention.

        This change moves the loading into the healthcheck script itself,
        allowing us to remove the loader script and service entirely, skipping
        the whole service ordering issue.
      footer:
        Backport-to: next
        backport-to: next
        Connects-to: "#2122"
        connects-to: "#2122"
        Change-type: patch
        change-type: patch
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested: []
  version: 2.72.2
  date: 2021-03-15T13:36:10.137Z
- commits:
    - subject: Fix disablement of userspace firmware loading requests
      hash: 98fad0bbfd179f16c5985a3281af25b4801af6e9
      body: |
        This option depends on FW_LOADER_USER_HELPER which will be enabled if
        _FALLBACK is set to 'y', which is the default in the arm64 defconfig
        since Linux 5.4+.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix disablement of userspace firmware loading requests
        changelog-entry: Fix disablement of userspace firmware loading requests
        Signed-off-by: Pelle van Gils <pelle@vangils.xyz>
        signed-off-by: Pelle van Gils <pelle@vangils.xyz>
      author: Pelle van Gils
      nested: []
  version: 2.72.1
  date: 2021-03-11T09:52:01.508Z
- commits:
    - subject: "os-config: Update os-config from v1.1.4 to v1.2.0"
      hash: 76bae0c1e32d82b0371d99094965538a05fa3387
      body: |
        Update os-config from 1.1.4 to 1.2.0
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested:
        - commits:
            - subject: "os-config: rename flasher flag path"
              hash: 3622cc8cdf38f42c1f38fb6d5c67dde16631d6f0
              body: |
                As part of a full rename away from legacy resin namespaces the
                following os-config compatibility changes are required to align
                with meta-balena changes.

                - rename resin-image-flasher to balena-image-flasher
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: https://github.com/balena-os/meta-balena/pull/2118
                connects-to: https://github.com/balena-os/meta-balena/pull/2118
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
          version: os-config-1.2.0
          date: 2021-02-23T20:19:36.114Z
    - subject: Rename resin image types to balena
      hash: 057621ad646f1958328c688994ef7f6fb48b9012
      body: |
        As part of a full rename away from legacy resin namespaces the
        following components have been renamed:

        - resinos-img -> balenaos-img
        - image_types_resin -> image_types_balena
        - image-resin -> image-balena
        - resin-image -> balena-image
        - resin-image-flasher -> balena-image-flasher
        - resin-image-initramfs -> balena-image-initramfs
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Rename resin image types to balena
        changelog-entry: Rename resin image types to balena
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.72.0
  date: 2021-03-10T20:00:01.558Z
- commits:
    - subject: Apply aufs patches if aufs is present in kernel config
      hash: 8094dc7a3a36cfc4f1c0da5be66dc666e29b7dbe
      body: |
        Allow installing and patching aufs even if BALENA_STORAGE is overlay2
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Apply aufs patches if aufs is present in kernel config
        changelog-entry: Apply aufs patches if aufs is present in kernel config
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.71.7
  date: 2021-03-08T13:49:52.854Z
- commits:
    - subject: "grub-efi: build required modules into grub image"
      hash: 5e1004d6753025166c40b11af117e008feb875f1
      body: |
        grub-efi requires modules to be installed in the boot partition, and
        resin-image installs them from ${DEPLOYDIR}.

        A normal grub installation installs those modules to ${PREFIX}/${libdir}
        to allow grub tooling to install them at runtime, but we're building the
        image with GRUB baked in, so we don't need those in the sysroot.

        The first iteration of this bbappend attempted to solve these
        constraints by copying the modules from ${D}/${libdir}/grub/ to
        ${DEPLOYDIR} in do_deploy(), then removing ${D}${prefix}. This had the
        unfortunate side effect of breaking the build in certain cases, such as
        clean builds or reexecuting do_deploy() without the other steps of the
        build.

        Instead, remove the unwanted files in do_install(), and append the
        required modules to GRUB_BUILDIN to create a standalone grub image
        without any external modules at all.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.71.6
  date: 2021-03-05T22:03:28.222Z
- commits:
    - subject: "initrdscripts: always use by-uuid symlink looking for flasher rootfs"
      hash: d16ad58f6efe76c9313226735de88648e54d2420
      body: >
        If the device with flasher rootfs is slow to bring up and rootfs is
        defined

        as UUID=xxx the waiting loop in rootfs initrd script would assume UUIDs
        have

        just been regenerated and wait for a by-state symlink instead. This only
        works

        for the OS - flasher does not use the dynamically generated UUIDs

        therefore we always want to use the by-uuid link for it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.71.5
  date: 2021-03-03T19:17:32.016Z
- commits:
    - subject: Update OS test suite
      hash: 6c82ffb23c05e334ae2157c8e6c0f3e197467d2f
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.71.4
  date: 2021-03-01T11:03:02.277Z
- commits:
    - subject: "balena: Make the healthcheck loading service part of balena.service"
      hash: c26f2d203a87d1578d9d52d5bbd8b0b18869916e
      body: |
        This prevents issues with the health check when the image is manually
        removed.
      footer:
        Change-type: patch
        change-type: patch
        Connects-to: https://github.com/balena-os/meta-balena/issues/2010
        connects-to: https://github.com/balena-os/meta-balena/issues/2010
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested: []
  version: 2.71.3
  date: 2021-02-26T12:34:11.073Z
- commits:
    - subject: "dnsmasq: enable dbus support"
      hash: 372980ca6aa6bd2793ac856c303c3b3ac4eeffdb
      body: |
        This config option is disabled by default in the upstream package
        so I'm including the change here as a separate commit.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "dnsmasq: update to 2.84 with dnspooq fix"
      hash: 3afbe8dfbbaf9f73a09048e0350622535befa0a8
      body: |
        https://github.com/balena-os/meta-balena/issues/2099

        Copy dnsmasq 2.84 recipe and files from this upstream patch:

        http://cgit.openembedded.org/meta-openembedded/commit/meta-networking/recipes-support/dnsmasq?id=3e28a31bb479f292b9a052a3d2eee84c49319ee3
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.71.2
  date: 2021-02-23T19:57:37.313Z
- commits:
    - subject: "recipes-bsp: grub: install only release modules"
      hash: 78a8049218d8ce3a9172b7fca6fe00270544e7f1
      body: |
        GRUB builds modules with both debug and release variants, with *.module
        and *.mod extensions respectively.

        Install only the release modules in do_deploy() to avoid balooning the
        size of the boot partition.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.71.1
  date: 2021-02-23T17:59:51.133Z
- commits:
    - subject: "meta-balena-common: add grub-efi support"
      hash: 3bfbd05d81d59c82fb131117700325416fb152cb
      body: |
        Use upstream grub and grub-efi recipes with a new grub-conf recipe
        employing a config template.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.71.0
  date: 2021-02-15T17:58:51.450Z
- commits:
    - subject: Update PR template to specify test coverage in more detail
      hash: ce0bb95e1d045ef32c377d4fc9de959c6ebbfd88
      body: >
        All PRs should include details about test coverage, including whether
        the

        tests are automated on manually recorded.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Update codeowners
      hash: a00b54679aa6804f6a5c9fa75826764cf21c5c2e
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.70.2
  date: 2021-02-12T09:31:46.288Z
- commits:
    - subject: Add leviathan automated OS test suite
      hash: 3f6d7588874721c506a70f66603d2b153f9a6fcf
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
        signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
      author: Vipul Gupta (@vipulgupta2048)
      nested: []
  version: 2.70.1
  date: 2021-02-11T16:18:58.778Z
- commits:
    - subject: "systemd/timeinit: use systemd mount unit for /etc/fake-hwclock"
      hash: 7d6ec3d411af78b9b1f979b90461e9efb059e4e7
      body: |
        Replace the 'bind-etc-fake-hwclock.service' with a systemd mount
        unit (etc-fake\x2dhwclock.mount).

        Using a systemd service to bind mount the /etc/fake-hwclock directory
        results in systemd generating an internal mount unit for the same
        directory. This causes problems at shutdown when both methods try to
        unmount the directory. This frequently leads to the directory being
        unmounted before the fake-hwclock service has managed to save the
        system time. This results in an inaccurate fake-hwclock time
        at next boot and corruption of the journal log.
      footer:
        Change-type: minor
        change-type: minor
        Connects-to: "#1919 #2107"
        connects-to: "#1919 #2107"
        Changelog-entry: "systemd/timeinit: use systemd mount unit for /etc/fake-hwclock"
        changelog-entry: "systemd/timeinit: use systemd mount unit for /etc/fake-hwclock"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.70.0
  date: 2021-02-11T10:02:08.246Z
- commits:
    - subject: Update balena-supervisor from v12.3.0 to v12.3.5
      hash: 8f8a57760b82a1378adc078c86bb25aeafd7d6e8
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-supervisor from v12.3.0 to v12.3.5
        changelog-entry: Update balena-supervisor from v12.3.0 to v12.3.5
        Signed-off-by: Miguel Casqueira <miguel@balena.io>
        signed-off-by: Miguel Casqueira <miguel@balena.io>
      author: Miguel Casqueira
      nested: []
  version: 2.69.1
  date: 2021-02-03T23:42:05.644Z
- commits:
    - subject: "openvpn: remove resin-ntp-config call from upscript.sh"
      hash: 958cd8f4bfc5d052d29c5d60c43e9ede58e39825
      body: |
        Running resin-ntp-config from openvpn upscript.sh is no longer
        necessary as it is now run automatically when config.json changes.
      footer:
        Change-type: patch
        change-type: patch
        Connects-to: "#2073"
        connects-to: "#2073"
        Changelog-entry: "openvpn: remove resin-ntp-config call from upscript.sh"
        changelog-entry: "openvpn: remove resin-ntp-config call from upscript.sh"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
    - subject: "resin-vars: trigger NTP config script on config.json changes"
      hash: 8dd222087f58c596bf3d30a956c985fcb0214baa
      body: |
        Add resin-ntp-config.service to config-json.service so that the
        resin-ntp-config script is automatically run on changes to
        config.json.
      footer:
        Change-type: minor
        change-type: minor
        Connects-to: "#2073"
        connects-to: "#2073"
        Changelog-entry: "resin-vars: trigger NTP config script on config.json changes"
        changelog-entry: "resin-vars: trigger NTP config script on config.json changes"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
    - subject: "resin-ntp-config: update script and add systemd service"
      hash: 7084f736b988706f71fe1d1ec95db6641be8a85e
      body: |
        Update the resin-ntp-config script to work with dynamic chrony
        source configuration. Any NTP sources configured by config.json
        are added to a chrony sources file. Changes to the sources file
        are picked up by chrony either when it starts up or at runtime
        using the chrony-helper script.

        A systemd service has been added to run the resin-ntp-config script
        once at boot. Previously the script was being run up to 8 times at
        boot via a NetworkManager dispatcher script.
      footer:
        Change-type: minor
        change-type: minor
        Connects-to: "#2073"
        connects-to: "#2073"
        Changelog-entry: "resin-ntp-config: update script and add systemd service"
        changelog-entry: "resin-ntp-config: update script and add systemd service"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
    - subject: "networkmanager: add improved dispatcher scripts for NTP handling"
      hash: 23e52eaca7f0983ac6da27289fc293e43e7dbebd
      body: |
        Update the existing DHCP dispatcher script for adding NTP sources to
        make use of dynamic chrony source configuration. Any DHCP configured
        NTP sources for a particular interface are added to a sources file on
        network 'up' or DHCP lease renewal events. Any DHCP configured NTP
        sources for a particular interface are deleted on network 'down'
        events. Changes to the sources file are picked up by chrony either
        when it starts up or at runtime using the chrony-helper script.

        Add a dispatcher script to trigger the chrony online/offline
        status on network 'up' and 'down' events. This will make chrony
        re-run an iburst for sources when the appropriate network interface
        comes back up.
      footer:
        Change-type: minor
        change-type: minor
        Connects-to: "#2073"
        connects-to: "#2073"
        Changelog-entry: "networkmanager: add improved dispatcher scripts for NTP handling"
        changelog-entry: "networkmanager: add improved dispatcher scripts for NTP handling"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
    - subject: "chrony: add sourcedir support and helper script"
      hash: d6c64b0a08b64593d6684605bd5268f28ff1b1c9
      body: |
        Add the 'sourcedir' parameter to the chrony configuration to support
        dynamic source configuration files. Any NTP source files that are
        created in 'sourcedir' (/run/chrony) can be used to update the chrony
        source configuration at runtime.

        Add a helper script to support the dynamic re-loading of chrony
        sources. This script uses the chrony 'reload sources' feature.
      footer:
        Change-type: minor
        change-type: minor
        Connects-to: "#2073"
        connects-to: "#2073"
        Changelog-entry: "chrony: add sourcedir support and helper script"
        changelog-entry: "chrony: add sourcedir support and helper script"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.69.0
  date: 2021-02-01T09:33:15.826Z
- commits:
    - subject: Fix task ordering for the iwlwifi_firmware_clean task
      hash: 5d039b111a964e21a637a5c7806aea6bb510a43e
      body: |
        We need to make sure the firmware cleanup function runs before
        do_populate_sysroot otherwise do_populate_sysroot will race with it and
        will fail complaining about the missing firmware that
        iwlwifi_firmware_clean had just deleted at the same time.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix task ordering for the iwlwifi_firmware_clean task
        changelog-entry: Fix task ordering for the iwlwifi_firmware_clean task
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.68.1
  date: 2021-01-29T13:02:49.703Z
- commits:
    - subject: Update NetworkManager to 1.28.0
      hash: 20e9c276f8d79b6051066e24b159c8bd9ffe3bc2
      body: >
        Fixes #2075


        Needed were a number of various changes to make the package compile
        properly:


        Removed is 0001-wwan-Set-MTU-based-on-what-ModemManager-exposes.patch
        that is now

        included upstream.


        Our patch for removing HTTPS connectivity checking warning is reworked
        for ease of

        maintainance. It now keeps the log entry, but changes it to debug level.


        Fixed are UPSTREAM_CHECK_* definitions as they referenced a wrong
        version number.


        The following additional configuration options were added/removed:


        *. Introspection is disabled through `--enable-introspection=no`. Other
        services do

        not depend on it, so it is safe to remove it. A related patch is no
        longer needed

        0002-Do-not-create-settings-settings-property-documentati.patch


        *. A new option for using firewalld zone for shared mode is disabled as
        we do not

        use firewalld.


        *. The polkit agent option no longer is available, so
        `--enable-polkit-agent` and

        `--disable-polkit-agent` are no longer defined.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update NetworkManager to 1.28.0
        changelog-entry: Update NetworkManager to 1.28.0
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.68.0
  date: 2021-01-29T09:45:01.458Z
- commits:
    - subject: "docs: mention balenaRootCA as a config.json parameter"
      hash: d0be88530c630d68f8582dce99442c6d94ba5455
      body: ""
      footer:
        Connects-to: https://github.com/balena-os/meta-balena/issues/2011
        connects-to: https://github.com/balena-os/meta-balena/issues/2011
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
      nested: []
  version: 2.67.6
  date: 2021-01-28T17:45:30.693Z
- commits:
    - subject: replace busybox ps with procps [klutchell]
      hash: 00556af37cf241e2b95d9b719f1ab58cc9bbddb6
      body: |
        Replace busybox ps link with ps.procps without installing
        any other procps packages. This will avoid regression and bloat
        from swapping existing busybox links with procps variants.

        By using procps as docker expects we can properly handle ps args
        such as -e and -o to format output. Busybox is only capable of this
        when compiled in "desktop" mode.

        This upstream commit to poky has already split the ps binary into
        a separate procps package:

        - https://git.yoctoproject.org/cgit/cgit.cgi/poky/commit/?id=507a47a4e5077d5f8f76d9629be6b871dfd8eb90

        So for now we can copy this recipe at the commit above into compat branches
        and use that version until we pick up a branch newer than gatesgarth.
      footer:
        Change-type: patch
        change-type: patch
        Connects-to: https://github.com/balena-os/balena-engine/issues/236
        connects-to: https://github.com/balena-os/balena-engine/issues/236
        Changelog-entry: replace busybox ps with procps [klutchell]
        changelog-entry: replace busybox ps with procps [klutchell]
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.67.5
  date: 2021-01-27T18:47:18.617Z
- commits:
    - subject: Update aufs4 and aufs5 kernel patches
      hash: 62231bee3dd12698522130b224371ff82a3de567
      body: |
        We update to the newest patch revisions from upstream
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update aufs4 and aufs5 kernel patches
        changelog-entry: Update aufs4 and aufs5 kernel patches
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.67.4
  date: 2021-01-27T11:08:07.030Z
- commits:
    - subject: "kernel-headers-test: Install python dependency"
      hash: 6b648fa36bb8f7b2f90799a9c331210e34d3c438
      body: |
        Some makefiles for the kernel modules build, like for
        instance the one in the kernel for the lec-px30 machine,
        want python to be available in the environment. Let's add
        it to the build dependencies.
      footer:
        Change-type: Patch
        change-type: Patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.67.3
  date: 2021-01-15T11:10:16.824Z
- commits:
    - subject: Fix pppd timeout when launched by NetworkManager
      hash: e86c83e9be007bbedf5bad8bb961931c4f4f649c
      body: |
        Fixes #1846

        UART modems (RaspberryPi HATs) are not working currently under
        balenaOS as NetworkManager times out while attempting to establish
        ppp connection. This is not a balenaOS specific issue.

        This commits adds a `connect ""` declaration to `/etc/ppp/options`
        to workaround this as the NULL default value causes the timeout.

        The connect option specifies an external script to establish the
        physical link. When using NetworkManager/ModemManager it is
        ModemManager that establishes the physical link before passing it
        to NetworkManager. Thus `connect` should be empty.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix pppd timeout when launched by NetworkManager
        changelog-entry: Fix pppd timeout when launched by NetworkManager
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
      nested: []
  version: 2.67.2
  date: 2021-01-14T12:39:10.901Z
- commits:
    - subject: "resin-device-register: Fix post provisioning state not reported"
      hash: 62016c3931c08cbc4c4bdb1e4069c6f9d9533b04
      body: |
        Starting with dee971c0dbeb6e8363f3e321af582e99627626e9, flasher
        images, which don't contain a supervisor version, try to register
        in the API using the parameter supervisor_version='null'.

        However, the API expects this parameter to be unset completely if
        there's no version to be reported during registration, otherwise
        the call fails and the device doesn't show up in dashboard during
        flashing or report the post-provisioning state.
      footer:
        Change-type: Patch
        change-type: Patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.67.1
  date: 2021-01-13T14:55:01.572Z
- commits:
    - subject: Update balena-supervisor from v12.2.11 to v12.3.0
      hash: fc41d16085b331d032a3666fc25af7c43eee5369
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor from v12.2.11 to v12.3.0
        changelog-entry: Update balena-supervisor from v12.2.11 to v12.3.0
        Change-type: minor
        change-type: minor
        Signed-off-by: Felipe Lalanne <felipe@balena.io>
        signed-off-by: Felipe Lalanne <felipe@balena.io>
      author: Felipe Lalanne
      nested: []
  version: 2.67.0
  date: 2021-01-12T13:41:49.881Z
- commits:
    - subject: Respect custom CA in supervisor
      hash: 4cf82392c78d804a18737de80dcfa6f8f34d0494
      body: >
        This is necessary because node has its own built-in CA bundle and
        ignores

        the system-wide bundle. Bind-mount the system-wide bundle to the
        supervisor

        container as well to keep the previous behavior. Make it read-only
        though,

        any modifications should be performed by the host OS.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Respect custom CA in supervisor
        changelog-entry: Respect custom CA in supervisor
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.66.3
  date: 2021-01-12T09:38:46.408Z
- commits:
    - subject: "README: Rename resin-logo to balena-logo."
      hash: 47a7a0ab9a99ea45b4fcf4e684d973088328eca9
      body: |
        The file rename happened in v2.51 but the README has not been updated
        accordingly.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.66.2
  date: 2021-01-11T17:30:40.806Z
- commits:
    - subject: "kernel-devsrc: use upstream recipe starting with dunfell"
      hash: 1300a223f5b58dd4584b62e87df41ec72f783961
      body: |
        Remove the kernel-devsrc package from meta-balena and
        use the one from the upstream Poky project instead.

        Initially I hoped thud and warrior could also use the respective
        upstreams but I see several differences between the meta-balena
        version and the upstreams so I updated those compat layers
        as well.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "gen_mod_headers: add missing arch headers to tools"
      hash: 5485f1fbc901a04eedbcc3b72cc95fdfb2d03665
      body: |
        Upstream changes to the kernel have switched to a shared x86
        insn decoder required by tools/objtool so we must add those
        include and lib components to our target dir.

        https://lore.kernel.org/lkml/20190830201021.utzjr6cs5hoxygyi@treble/T/
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.66.1
  date: 2021-01-04T13:06:56.017Z
- commits:
    - subject: "chrony: bump to version 4.0"
      hash: 67e8632a8a6c82dcf382b0204af40b79dd1a279a
      body: |
        Update chrony from version 3.4 to version 4.0.

        The new version has enhancements and new features that will
        help to improve time synchronisation, including:

        - the ability to add server pools via scripts using chronyc.
        - support for dynamic NTP source files that can be reloaded
          as necessary (useful for DHCP and config.json sources).
        - source name options for improved handling of pool addresses.
        - repeat 'iburst' when a source is changed from offline to
          online state.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: "chrony: bump to version 4.0"
        changelog-entry: "chrony: bump to version 4.0"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.66.0
  date: 2020-12-18T11:02:16.858Z
- commits:
    - subject: "u-boot: Add required configuration for BalenaOS environment"
      hash: 401345c86a3a017dc548a94c7afa3977d547fc21
      body: >
        The BalenaOS u-boot environment patch requires u-boot to support
        importing

        and exporting of the environment as well as the fsuuid command.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.65.1
  date: 2020-12-17T10:39:35.947Z
- commits:
    - subject: Update balena-supervisor from v12.1.1 to v12.2.11
      hash: 0f301c4bba35737149c6489b4cd6716506496372
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor from v12.1.1 to v12.2.11
        changelog-entry: Update balena-supervisor from v12.1.1 to v12.2.11
        Change-type: minor
        change-type: minor
        Signed-off-by: Miguel Casqueira <miguel@balena.io>
        signed-off-by: Miguel Casqueira <miguel@balena.io>
      author: Miguel Casqueira
      nested: []
  version: 2.65.0
  date: 2020-12-14T22:04:19.165Z
- commits:
    - subject: Add IPV6 multicast routing capability
      hash: 510bb7a7107f538f56c35a87a7426e7c12a3cdb3
      body: |
        Add IPV6 multicast routing capability to the default configuration.

        Fixes #2051
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add IPV6 multicast routing capability
        changelog-entry: Add IPV6 multicast routing capability
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.64.4
  date: 2020-12-14T12:36:30.487Z
- commits:
    - subject: 'Revert "resin-data.mount: Remove default dependencies"'
      hash: 0101e6289b2a05ab688db43f73772ebfeeb97c53
      body: |
        This reverts commit dc6cfa2e90b29b0fdcfc05c1b85e2196de4f950b.

        Once the core problem with the resin-data mount has been fixed this
        commit is no longer needed.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "hostapp-update-hooks: Add supervisor database fix"
      hash: f3e7e164cf095218c1f92f2afecdd186cbbdfadd
      body: |
        When adding hostapp extension support to mobynit, in:
        https://github.com/balena-os/meta-balena/commit/6be3f1153d56c1c0c21e6d84db7be70be96bcd10

        the supervisor database was relocated by mistake. On this version the database
        returns to its original place, and these hooks copy the old database to the
        new location to avoid data loss.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-supervisor: Make sure the database directory exists"
      hash: d070fe38a3b2a91fcc7c07d716fa90fdd3e9d078
      body: |
        If this directory is removed by mistake, the supervisor will not be
        able to start.

        This commit checks the directory existence and creates it if required
        independently of whether the supervisor container is present.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Correct the data partition mountpoint
      hash: 36dca74acc9e7db23b8980fff735360332927125
      body: |
        Correct the mount point for the resin-data directory.

        Fixes https://github.com/balena-os/meta-balena/issues/2070
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Correct the data partition mountpoint
        changelog-entry: Correct the data partition mountpoint
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.64.3
  date: 2020-12-11T07:52:52.415Z
- commits:
    - subject: "meta-balena-common: kernel-resin: enable task-accounting by default"
      hash: d308c67666e612fad7e6bb7ac88d5bec2bfd8f9e
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
    - subject: "meta-balena-common: kernel-resin: create task-accounting config"
      hash: ea3c787c5ad31af758844a0242a9d9baf1a47135
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.64.2
  date: 2020-12-10T10:19:16.893Z
- commits:
    - subject: Update codeowners
      hash: d18fc8cdfab02a4c5016b29eca23b4f1f73c7e9b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.64.1
  date: 2020-12-09T08:47:40.115Z
- commits:
    - subject: "rust: remove merged fix for TUNE_FEATURES parsing"
      hash: 9a4ea159051825461007cff90c7c370ce74d7680
      body: |
        https://github.com/meta-rust/meta-rust/issues/240
        https://github.com/meta-rust/meta-rust/pull/242

        The fix for TUNE_FEATURES parsing has been merged in meta-rust master
        and should be present when they fork for dunfell.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "systemd: update patches to avoid fuzzy matching"
      hash: 03d64e57466c66acd710b089c4ae8d777f963554
      body: >
        The content applied by the patches has not changed, just the context

        in order to properly inject changes without fuzzy matching since the
        source

        files have changed upstream.


        `devtool modify systemd`

        `devtool finish --force-patch-refresh systemd
        ../layers/meta-balena/meta-balena-dunfell/`
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "systemd: add missing udev rules"
      hash: 02b48c9523ff5ed36cc2cfd94225ea4234649371
      body: |
        https://github.com/balena-os/poky/commit/e3cd4e584239c207e3c82bdf5d7216d26fd28fc7

        add missing udev rules since systemd began including rules explicitly
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "systemd: avoid conflicts with timeinit package"
      hash: 97d14daa8f1bc8887883fd56c1512bdd51b2e351
      body: |
        Both systemd and timeinit attempt to install time-set.target so
        we will remove the systemd version during install.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "dropbear: prevent conflicts with openssh"
      hash: 169c1652e46e3a31d4f96bb98cbcf8240f3453ca
      body: |
        [https://github.com/balena-os/poky/commit/d365948ebd76625f82ef04e77d35bcfeced42fec]

        Dropbear is still required to migrate keys. Avoid the upstream conflict with openssh.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "networkmanager: add bash requirement"
      hash: 9d380ec203a80afc15b4c902c36da7c25300515d
      body: |
        99dhcp_ntp in networkmanager requires bash
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "networkmanager: remove deprecated bluetooth inherit"
      hash: 1993db9f3027936119248bd193e350456ba035bc
      body: |
        In poky dunfell and newer the bluetooth class has been deprecated.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "meta-balena-common: replace distro_features_check with features_check"
      hash: c907611d66aa4d2ff27f9940178cbcdbc2273459
      body: |
        Replace distro_features_check that was deprecated upstream in dunfell.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "avahi: remove example services"
      hash: 317c7a6404195e78a21c76e43f8743a47cf542d1
      body: |
        In dunfell the example ssh service files don't exist so avoid failing
        during do_install for services that we don't use anyway.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "u-boot: disable u-boot-initial-env"
      hash: 9346f58cdd73924aec4279861ff43611c125ab5d
      body: |
        https://github.com/balena-os/poky/commit/d7b8ae3faa9344f2ada22e0402066c2fff5958c6

        We have no use for u-boot-initial-env and enabling it would require
        additional changes in do_compile to match the commit linked above.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "dnsmasq: fix build after y2038 changes in glib"
      hash: fca86497476cf3d275ae3d4f8274d51b6b96a9b8
      body: |
        SIOCGSTAMP is defined in linux/sockios.h, not asm/sockios.h
        http://thekelleys.org.uk/gitweb/?p=dnsmasq.git;a=commit;h=3052ce208acf602f0163166dcefb7330d537cedb
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "bluez5: replace experimental flag patch with service conf"
      hash: 8d5a67522eda56acb583c5ab26f6144fef7038a1
      body: |
        In dunfell, rather than patching the bluetooth.service.in file,
        we will just override the ExecStart value via bluetooth.conf.systemd
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "mtools: remove initialize-direntry patch"
      hash: c35b98165cc698188b978c34c7fb20f58a4c83e1
      body: |
        Remove initialize-direntry.patch that has been fixed in mtools 4.0.23
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
    - subject: "meta-balena-dunfell: dunfell compatibility layer support"
      hash: e8c34101f13d0327ac278207c8d7d500214f5f6f
      body: |
        Create meta-balena-dunfell layer base by copying meta-balena-warrior
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: "meta-balena-dunfell: dunfell compatibility layer support"
        changelog-entry: "meta-balena-dunfell: dunfell compatibility layer support"
        Signed-off-by: Kyle Harding <kyle@balena.io>
        signed-off-by: Kyle Harding <kyle@balena.io>
      author: Kyle Harding
      nested: []
  version: 2.64.0
  date: 2020-12-07T16:42:10.390Z
- commits:
    - subject: "start-resin-supervisor: fix directory creation for 'balena start'"
      hash: ce9e4f211a2356a866edee5ca3dbada3faa27689
      body: |
        Ensure that the /var/log/supervisor-log directory exists prior to
        running 'balena start --attach resin_supervisor' as well as
        'runSupervisor'.

        Updates to the 'start-resin-supervisor' script in v2.62.1 removed
        the check for updates to the REGISTRY_ENDPOINT variable. Previously
        this had been detected as changing every time the script was run
        due to a comparison between 'null' and ''. This resulted in the
        'start-resin-supervisor' script always running through the
        'runSupervisor' path. With this variable check removed, and no config
        updates being detected, the script was trying to run
        'balena start --attach resin_supervisor' and failing due to the
        absence of the /var/log/supervisor-log directory. To fix this problem we
        unconditionally test for and create this directory (if necessary) so
        that it is available regardless of the path taken through the script.
      footer:
        Change-type: patch
        change-type: patch
        Connects-to: "#2064"
        connects-to: "#2064"
        Changelog-entry: "start-resin-supervisor: fix directory creation for 'balena start'"
        changelog-entry: "start-resin-supervisor: fix directory creation for 'balena start'"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.63.1
  date: 2020-12-04T17:24:10.321Z
- commits:
    - subject: "zram-swap-init: adjust default to lesser of 50%/4GB"
      hash: 155af3386029a0e76b74ee60d58c32ba72073a82
      body: |
        Copied from Fedora zram defaults [0]. This may be adjusted later after
        doing our own profiling.

        [0] https://fedoraproject.org/wiki/Changes/SwapOnZRAM#Default_zram_device_configuration:
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Joseph Kogut <joseph@balena.io>
        signed-off-by: Joseph Kogut <joseph@balena.io>
      author: Joseph Kogut
      nested: []
  version: 2.63.0
  date: 2020-11-30T21:37:10.077Z
- commits:
    - subject: "chrony: use a non-privileged UDP source port"
      hash: 447449808ef08577712db43b1042599ad4d7d23c
      body: |
        Change the chrony UDP source port from 123 (privileged) to
        1234 (non-privileged).

        Previous issues with Phicomm routers had required the use of a fixed
        UDP source port, so port 123 was chosen as this is used by both ntpd
        and ntpdate. However recent testing has shown that using a privileged
        port such as 123 can cause issues on other networks. By changing the
        port to be non-privileged (i.e. 1234) we can satisfy both network
        requirements.
      footer:
        Change-type: patch
        change-type: patch
        Connects-to: "#2000"
        connects-to: "#2000"
        Changelog-entry: "chrony: use a non-privileged UDP source port"
        changelog-entry: "chrony: use a non-privileged UDP source port"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.62.2
  date: 2020-11-25T13:53:40.649Z
- commits:
    - subject: "supervisor: remove old/unnecessary balenaRootCA references"
      hash: 65c7c232082185ddecbedca579327f6c80686bc5
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
      nested: []
  version: 2.62.1
  date: 2020-11-19T20:26:12.667Z
- commits:
    - subject: "systemd/timeinit: improve RTC handling at boot"
      hash: 1c1374f3c8b5914b7e645f8068ebafc8b4cbbe3a
      body: |
        The handling of the RTC at boot time has been improved as follows:

        1) A 'timeinit-rtc.sh' script has been added to improve logging of
           system time updates from the RTC and to prevent system time
           being set when RTC time is behind system time. If RTC time is
           found to be behind system time a warning is issued regarding
           potential RTC battery failure.

        2) The 'timeinit-rtc.service' has been added to the new systemd
           'time-set.target'. This allows for better control and
           co-ordination between the various time source services.

        3) Systemd dependencies have been updated to ensure that the
           RTC is the final time service before the 'time-set.target'
           is reached.

        The 'timeinit-buildtime.sh' script has been updated to use the
        new support functions provided by the 'os-helpers-time' script.
      footer:
        Change-type: minor
        change-type: minor
        Connects-to: "#2048"
        connects-to: "#2048"
        Changelog-entry: "systemd/timeinit: improve RTC handling at boot"
        changelog-entry: "systemd/timeinit: improve RTC handling at boot"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
    - subject: "os-helpers: add support functions for system date/time"
      hash: 66d4d61b4e00f9da99de041d262a1f7b4bf70d37
      body: |
        Add helper functions for manipulating system date/time.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.62.0
  date: 2020-11-13T10:26:52.111Z
- commits:
    - subject: "modemmanager: add u-blox-modeswitch scripts"
      hash: a30ab44f40f1c059e64075c567fc388800d960a4
      body: |
        Add the u-blox-modeswitch scripts to modemmanager. The scripts are
        generic and therefore it makes sense to provide them as part of
        meta-balena instead of balena-raspberrypi.
      footer:
        Change-type: patch
        change-type: patch
        Connects-to: "#510 (in balena-raspberrypi)"
        connects-to: "#510 (in balena-raspberrypi)"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.61.3
  date: 2020-11-05T17:05:16.519Z
- commits:
    - subject: Check the API for configuration changes once a day
      hash: 19f6942a9864c6393a36af36aea21d685ddb9819
      body: ""
      footer:
        Connects-to: "#2018"
        connects-to: "#2018"
        Changelog-entry: Check the API for configuration changes once a day
        changelog-entry: Check the API for configuration changes once a day
        Change-type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.61.2
  date: 2020-11-05T14:41:20.617Z
- commits:
    - subject: Enable kernel user space probes support
      hash: 8af9bc8fbc58096d986d8db7df81a0c9505dc420
      body: |
        This is needed to make use of eBPF and all the debugging and extra
        features it brings.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Enable kernel user space probes support
        changelog-entry: Enable kernel user space probes support
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.61.1
  date: 2020-11-04T21:12:06.448Z
- commits:
    - subject: Update balena-supervisor from v11.14.0 to v12.1.1
      hash: fd41103bc0538f53ac37bfb2ce6203f712090bc7
      body: |
        Update balena-supervisor from v11.14.0 to v12.1.1
      footer:
        Changelog-entry: Update balena-supervisor from v11.14.0 to v12.1.1
        changelog-entry: Update balena-supervisor from v11.14.0 to v12.1.1
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Use root mount point to find device-type.json
              hash: 9d19a457017b1f696579f57569ec4cfadab3b385
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-12.1.1
          date: 2020-10-28T13:03:20.901Z
        - commits:
            - subject: Change log source from docker to journalctl
              hash: 2c83864f22b01e7196f6ed321c96f6cb9f40593b
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Thomas Manning <thomasm@balena.io>
                signed-off-by: Thomas Manning <thomasm@balena.io>
              author: Thomas Manning
              nested: []
          version: balena-supervisor-12.1.0
          date: 2020-10-28T06:12:20.363Z
        - commits:
            - subject: Change source of deviceType to device-type.json
              hash: f5183df35677f091f1374c3f6e86706b141471f3
              body: |
                The source of truth for the device-type should be
                device-type.json instead of config.json
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
                Connects-to: "#1472"
                connects-to: "#1472"
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.0.9
          date: 2020-10-27T12:43:11.383Z
        - commits:
            - subject: Fixed evaluating if updates are needed to reach target state
              hash: 77333f1e110070f17f4bf95c1554075c94a35d63
              body: ""
              footer:
                Closes: "#1476"
                closes: "#1476"
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-12.0.8
          date: 2020-10-26T18:56:16.649Z
        - commits:
            - subject: Improved log message when networks do not match
              hash: edf23871d9a057b9bae8837f3ee39d7401247514
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-12.0.7
          date: 2020-10-19T16:04:51.506Z
        - commits:
            - subject: Fixes check allowing preloading in local (unmanaged) mode
              hash: 0fd9b6376251c73f2adfd37ec80d2145178683d6
              body: |
                * adds apiEndpoint empty string check
              footer:
                Change-type: patch
                change-type: patch
              author: ab77
              nested: []
            - subject: Handle delete of multiple images with same dockerImageId
              hash: 4795c336d055862706be42ebb544caef93d55e35
              body: >
                A docker-compose.yml with the following structure


                ```

                version: '2.1'

                services:
                  app_1:
                    build: ./noisy-1
                    image: noisy1
                  app_2:
                    build: ./noisy-1
                    image: noisy1
                  app_3:
                    build: ./noisy-1
                    image: noisy1
                ```


                Will lead to the supervisor creating multiple image database
                entries

                with the same dockerId (this is because of how the engine
                handles this

                particular case). This case is not handled by the removal
                process

                leading to image pile up and increased disk usage.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
                Connects-to: "#1434"
                connects-to: "#1434"
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.0.6
          date: 2020-10-16T22:32:07.462Z
        - commits:
            - subject: Improve calculation for used system memory
              hash: dd5f62227a0b0d2024db924e7028c9fec8b2b1d9
              body: >
                The memory information reported by the supervisor currently

                estimates the value of used memory as `MemTotal - MemFree`.

                However, linux systems will try to cache and buffer as much

                memory as possible, which will affect the output of `MemFree`

                (from /proc/meminfo) and in consequence the memory usage seen

                by the user on the dashboard, which will appear much greater
                than

                it is.


                The correct calculation should be `MemTotal - MemFree - Buffers
                - Cached`,

                which the calculation performed by `htop` and the `free`
                commands.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
                Connects-to: "#1471"
                connects-to: "#1471"
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-12.0.5
          date: 2020-10-14T16:19:41.551Z
        - commits:
            - subject: Don't require an existing supervisor container to sync
              hash: 629b410e10fb6590806d546ff94101951ec6c9a2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-12.0.4
          date: 2020-10-13T09:49:51.370Z
        - commits:
            - subject: Refactor system information filtering
              hash: a2ceb5c93189704beaf8b4f5c8b71c46d8e2a966
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
            - subject: "tests: Clean up and consistify naming scheme"
              hash: 9e0c99e797fa379c66b7312b40a17d9d31f5ce79
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-12.0.3
          date: 2020-10-12T14:46:39.730Z
        - commits:
            - subject: Attempt a state report once every maxReportFrequency
              hash: 0e3c0263922043b9d53a7eb3545622106f10100c
              body: >
                With the addition of the system information feature (CPU temp)
                etc if

                there wasn't any changes in the docker or config state of the
                device,

                updates in system information would not be sent to the API. Now
                we

                attempt to send data once every maxReportFrequency (although
                this does

                not mean that we will be sending data that often, we still only
                send the

                delta, if one exists)
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#1481"
                closes: "#1481"
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
            - subject: Remove superfluous current state reporting code from api-binder
              hash: 975129188a9fcb11a081f7ba75a1b8b973499a21
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-12.0.2
          date: 2020-10-12T10:55:40.890Z
        - commits:
            - subject: Add features label `io.balena.features.journal-logs`
              hash: 1eeff698aca56558fa09832b9bcb02c99e275dbe
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Thomas Manning <thomasm@balena.io>
                signed-off-by: Thomas Manning <thomasm@balena.io>
              author: Thomas Manning
              nested: []
          version: balena-supervisor-12.0.1
          date: 2020-10-12T05:41:14.895Z
        - commits:
            - subject: "version: drop SUPERVISOR_VERSION env var"
              hash: 8e65466f2d8540918b1fa8d8af88d0c21fcbf7f8
              body: >
                In order to make supervisor upgrades more transparent, lets move
                away

                from this env var since it requires a container restart any time
                the supervisor

                is upgraded. We should ultimately move towards providing the
                supervisors

                set of capabilities, but that can come later
              footer:
                Connects-to: "#1447"
                connects-to: "#1447"
                Change-type: major
                change-type: major
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: balena-supervisor-12.0.0
          date: 2020-09-29T15:25:15.693Z
        - commits:
            - subject: Fix supervisor deadlock during migration
              hash: adffde932ec28b114a5821b9ae332a42bb330be2
              body: >
                Due to the singleton work, when performing migration M00005 and
                there

                are apps with services created in the database, a deadlock
                occurs

                during database initialization due to a circular

                dependency for generating scoped keys.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
                Connects-to: "#1468"
                connects-to: "#1468"
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-11.14.8
          date: 2020-09-29T03:00:51.902Z
        - commits:
            - subject: Correctly evaluate if scheduledApply.delay is not set
              hash: 90981a00bed100e1496dc71bf0631bc0ab04ffa7
              body: ""
              footer:
                Closes: "#1428"
                closes: "#1428"
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.14.7
          date: 2020-09-25T17:16:42.247Z
        - commits:
            - subject: Fix config checks for ConfigFS backend
              hash: a5f3002e708c949b6de3c8ba495b2a89c13214fc
              body: >
                When trying to apply SSDT overlays in Up Board, the supervisor
                currently

                gets stuck in a loop trying to apply target state. See #1465


                This was due to a bug in parsing the configuration, which lead
                to

                the method bootConfigChangeRequired returning true when no
                change was

                needed.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
                Connects-to: "#1465"
                connects-to: "#1465"
              author: Felipe Lalanne
              nested: []
          version: balena-supervisor-11.14.6
          date: 2020-09-24T19:51:09.936Z
        - commits:
            - subject: "mixpanel: superisor_version -> supervisor_version"
              hash: eebadebb53af68d9b63c948e59c1c78fb38302aa
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: balena-supervisor-11.14.5
          date: 2020-09-24T14:47:47.663Z
        - commits:
            - subject: "api: Implement scoped Supervisor API keys"
              hash: c08de8701e49f417d2fc5849d237b9ed69b438e2
              body: >
                Each service, when requesting access to the Supervisor API, will

                now get an individual key which can be scoped to specific
                resources.

                In this iteration the default scope will be to the application
                that

                the service belongs to.


                We also have a `global` scope which is used by the cloud API
                when in

                managed mode.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.14.4
          date: 2020-09-18T13:02:39.469Z
        - commits:
            - subject: Clarify docs for toggling update lock override from dashboard
              hash: 1b51db06c118ab4c60296f394e854436584c6437
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: M. Casqueira
              nested: []
          version: balena-supervisor-11.14.3
          date: 2020-09-17T22:25:21.020Z
        - commits:
            - subject: Refactor extra_uEnv backend to match with more devices
              hash: 07e644d0b69f412fb14aeaba17914b9eacd6477f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.14.2
          date: 2020-09-15T18:25:31.240Z
        - commits:
            - subject: "application-manager: Convert to a singleton"
              hash: 96c68166a1e1d9b400fca84d33910d526009ecfd
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Rich Bayliss
              nested: []
            - subject: "device-state: Convert to a singleton"
              hash: e3864915bcf3b8c2865f3c14d2ad85023218db3c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Rich Bayliss
              nested: []
            - subject: "api-binder: Convert to a singleton"
              hash: d50f7791e1f89750a35791c1ea3bd4a7472da9a1
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.14.1
          date: 2020-09-14T10:26:09.557Z
  version: 2.61.0
  date: 2020-11-04T13:01:10.938Z
- commits:
    - subject: "chrony: set the source UDP port for NTP requests to 123"
      hash: 6b95bd55f12054d996a412e7a6bc202e518b4e29
      body: |
        By default chrony uses a random UDP source port for each NTP request.
        This can cause problems with particular routers/firewalls (issues have
        been reported for the Phicomm KE 2P).

        The chrony `acquisitionport` configuration setting has been added
        to the chrony.conf file to change the UDP source port for NTP requests
        to 123 (this is the same as the default source port used by both
        ntpdate and ntpd).
      footer:
        Change-type: patch
        change-type: patch
        Connects-to: "#2000"
        connects-to: "#2000"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.60.1
  date: 2020-10-30T11:34:35.642Z
- commits:
    - subject: "chrony: don't restore time from drift file or RTC"
      hash: 5a4842786f365c9d167f29fd310427b4f0bb61b6
      body: |
        Drop the '-s' command line parameter from chronyd as:
        a) restoring time from the drift file is no longer necessary due to
        the fake-hwclock service, and
        b) restoring time from the RTC is already covered by the timeinit-rtc
        service.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
    - subject: "systemd/timeinit: add fake.hwclock to maintain system time over reboots"
      hash: 96c2c495819ba6175261a5179e1cdb4673552e6c
      body: |
        In order to produce sensible timestamps for journald log messages:
        a) the system time needs to be maintained correctly over a reboot, and
        b) the system time needs to be set before journald is started.

        Currently the system time is maintained over reboots on systems
        without an RTC using the last modified time of the chrony drift file.
        However there are a couple of issues with this approach:

        a) /var/lib/chrony/ is not mounted early enough in the boot process
        to be available for setting the time before journald is started.
        b) there is an issue with the current systemd dependencies that result
        in the last modified time of the drift file not being updated when the
        system is shutdown or rebooted (see #1995).

        The Debian fake-hwclock service (as used by Raspberry Pi OS) has been
        added to overcome these issues.

        The fake-hwclock service will save and restore the system time from
        the fake-hwclock.data file (in /etc/fake-hwclock/). The system time
        is loaded from this file at boot and saved to it on shutdown. An
        additional timer service has been added to update the file on an
        hourly basis to cater for unexpected shutdown scenarios, e.g. power
        failure.

        The timeinit-timestamp service has improved logging and has been
        renamed to timeinit-buildtime for clarity.

        A new time-set.target has been added as per upstream systemd and
        the fake-hwclock and timeinit-buildtime services have been added
        to it.
      footer:
        Change-type: minor
        change-type: minor
        Connects-to: "#1367 #1919"
        connects-to: "#1367 #1919"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
    - subject: "resin-mounts: add bind mount service for /etc/fake-hwclock"
      hash: 394aa52f77ec222e6fda856a92cd499bd464fa07
      body: |
        Add a persistent r/w location (root-overlay/etc/fake-hwclock/) to
        the resin-state partition for storage of the fake-hwclock.data file.
        This file is used by the fake-hwclock service to load the system
        time at boot and save the system time on shutdown.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.60.0
  date: 2020-10-29T14:25:50.275Z
- commits:
    - subject: Add host extensions support
      hash: 1d33429f0bc925bc97b4b7820aeb812eac9098d2
      body: |
        Add a new section that described the host extensions functionality.

        Fixes #1984
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add host extensions support
        changelog-entry: Add host extensions support
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "packagegroup-resin: Add hostapp extensions update script"
      hash: a03e5c9eed5105c5af85c79df29546ec641d873c
      body: |
        This commit adds the update-hostapp-extensions utility. It can be run
        with:

         systemd-run update-hostapp-extensions -r
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "hostapp-extensions-update: Add host extensions update script"
      hash: 0fe293eb118913e667b52b2f6df032227719efc8
      body: >
        This script triggers an installation or update of the hostapp extensions

        in the system.


        The list of hostapp extensions to install can either be passed to the

        script or it will use the ones set in config.json or
        hostapp-extensions.conf

        in that order.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-vars: Parse the HOSTEXT_IMAGES variable from config.json"
      hash: 761f517f955f829e12b2c7f0a0f88830ded39e13
      body: |
        This variable allows the hostapp extensions updater script to update the
        hostapp extensions in the system.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "docker-disk: Add the host extension images to the data partition"
      hash: cd44a94cf1646828832070417a2deb9236b0f5ee
      body: |
        Host extension images contain extra content that is overlayed over the
        root filesystem at boot.

        This commits adds the default host extensions to the data partition
        image, stores their repository tags in the /etc directory, and creates
        the containers so that mobynit can mount the container filesystems on
        boot.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "docker-disk: Generalize hostapp platform variable"
      hash: 416544bd9c7b7e9080857dc0258668f388a55aa7
      body: |
        Rename HELLO_PLATFORM to HOSTAPP_PLATFORM so it can be used with any
        app type.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: Busybox switch_root does not support -c argument"
      hash: a62a8189825de9dbcf52dbb3116d213fc7ceb84f
      body: |
        Calling busybox switch_root in this way has always been complaining but
        the error log did not get to the console.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-filesystem-expand: Omit fs check and resize if partition is
        mounted"
      hash: d70fbd050e5a1f7c695782b99187d583103111e0
      body: |
        Now that the data partition will be mounted from the initramfs for host
        extensions support, this script will only run if something went wrong.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: Expand the resin-data filesystem"
      hash: 00cad826c157ac2d5c13137fb1023f1eb7570c58
      body: |
        As the resin-data partition will be mounted in the initramfs, its
        filesystem needs to be expanded before that.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "initrdscripts: Add resin-data to fs UUID generation"
      hash: d2794dd2d559ca0c55a4cbab9ae5ef3c01ebdcf3
      body: |
        The resin-data partition will be mounted in the initramfs for the host
        extension support so the UUID generation needs to happen before that.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "resin-data.mount: Remove default dependencies"
      hash: dc6cfa2e90b29b0fdcfc05c1b85e2196de4f950b
      body: >
        With the data partition being mounted in the initramfs to support host

        extensions, the runtime systemd-udev no longer sees the resin-data mount

        event and this mount is blocked.


        This is resolved by not adding the default dependency on the block
        device.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "packagegroup-resin: Add independent mobynit package to image"
      hash: 08e15adb2f21c330b9c92cef527e23770a6fe521
      body: |
        The mobynit tool also needs to be in resin-image.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "balena-engine: Do not build mobynit"
      hash: 29844ed3bd936c581e20b72df133a2b6ed498512
      body: |
        The mobynit package has now been moved to an independent recipe.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "mobynit: Fix source directory"
      hash: e6dc1b20c45ffdbcc33f82b2ef78f46715317b06
      body: |
        The Go class in mobynit predates Go modules support.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "mobynit: Separate recipe from balena-engine"
      hash: 6be3f1153d56c1c0c21e6d84db7be70be96bcd10
      body: >
        This commit adds a new recipe to build mobynit independently from
        balena-engine.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.59.0
  date: 2020-10-27T12:04:22.881Z
- commits:
    - subject: "readme: DCHP -> DHCP"
      hash: 9694909d8eb0dea7f775eeb5a92546f00b381909
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
      nested: []
  version: 2.58.6
  date: 2020-10-15T13:43:08.320Z
- commits:
    - subject: "bootfiles: blacklist proper grub configuration backend"
      hash: 1362d9916b0b7b414b9d920296021379e34f00be
      body: ""
      footer:
        Connects-to: "#2022"
        connects-to: "#2022"
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
      nested: []
  version: 2.58.5
  date: 2020-10-13T14:20:39.972Z
- commits:
    - subject: "docker-disk: Allow expanding data filesystem on 2TB disks"
      hash: 62b3763b44dcd9397f964d0812b7292885b04f66
      body: |
        Switch to 4k block size for the resin-data filesystem
        so it can be expanded to sizes greater than 1023GiB.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.58.4
  date: 2020-10-05T12:38:50.221Z
- commits:
    - subject: Blacklist supervisor configuration backend files during HUP
      hash: 43a14fef9875f0d0afc23a833cc8e9dc4ae80536
      body: >
        The hostapp update process should not overwrite the supervisor
        configuration

        backend files to avoid the supervisor being forced to set the target
        state

        after HUP and reboot the device during the rollback period.


        This only applies to the host configuration files which are the only
        ones

        that force a reboot.
      footer:
        Connects-to: https://github.com/balena-io/balena-supervisor/issues/1464
        connects-to: https://github.com/balena-io/balena-supervisor/issues/1464
        Change-type: patch
        change-type: patch
        Changelog-entry: Blacklist supervisor configuration backend files during HUP
        changelog-entry: Blacklist supervisor configuration backend files during HUP
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.58.3
  date: 2020-09-18T10:34:55.646Z
- commits:
    - subject: "hooks: fix up improperly named variable"
      hash: 2b42bc65dfc32817015d532c0a05d28670956bb7
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
      nested: []
  version: 2.58.2
  date: 2020-09-17T22:33:04.792Z
- commits:
    - subject: Wait for the root device to come up when necessary
      hash: 494eeb4a699b4dd5e48547d6e5e45cffb7bf0720
      body: |
        If the rootfs is on a slow-to-bring-up device (e.g. RPi4 + USB)
        the fsuuidsinit_enabled() function may return before the balena symlinks
        are created. This gets wrongly interpreted as missing UUIDs leading to
        a chain of failures in the subsequent scripts.
        This patch moves the symlink waiting loop from fsuuidsinit_run()
        to fsuuids_enabled() before the first usage of the symlink.
      footer:
        Changelog-Entry: Wait for the root device to come up when necessary
        changelog-entry: Wait for the root device to come up when necessary
        Change-Type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.58.1
  date: 2020-09-15T18:24:58.280Z
- commits:
    - subject: Respect balenaRootCA system-wide
      hash: 2218cb21d1fc813ac59c08b77046c5d014ad9a42
      body: |
        We allow the user to specify a custom CA in the .balenaRootCA key
        of config.json but at this moment each tool has to implement support
        if it wants to use it. This commit adds it to the system-wide CA bundle
        so that the CA is respected everywhere.

        Fixes #1398
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.58.0
  date: 2020-09-05T06:47:40.132Z
- commits:
    - subject: "os-helpers-logging: Log to stderr rather than stdout"
      hash: 94c60a30c6147838f4a91449f3960025625ce709
      body: |
        This is where the logs and error messages should go by default
        as they are not part of the tool's output.
      footer:
        Change-Type: patch
        change-type: patch
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
  version: 2.57.1
  date: 2020-09-04T17:13:50.058Z
- commits:
    - subject: Update libmbim to 1.24.2, libqmi to 1.26.0, modemmanager to 1.14.2
      hash: 1c80d6cc69d687fab6f2385efca5d6564c28370d
      body: |
        Update libmbim from 1.22.0 to 1.24.2
        Update libqmi from 1.24.10 to 1.26.0
        Update modemmanager from 1.12.8 to 1.14.2
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libmbim to 1.24.2, libqmi to 1.26.0, modemmanager to 1.14.2
        changelog-entry: Update libmbim to 1.24.2, libqmi to 1.26.0, modemmanager to 1.14.2
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
      nested: []
  version: 2.57.0
  date: 2020-09-04T13:54:00.370Z
- commits:
    - subject: Update balena-supervisor from v11.13.0 to v11.14.0
      hash: afdfc4ec7d46f74bc2b104a6d899a6587b3596cc
      body: |
        Update balena-supervisor from v11.13.0 to v11.14.0
      footer:
        Changelog-entry: Update balena-supervisor from v11.13.0 to v11.14.0
        changelog-entry: Update balena-supervisor from v11.13.0 to v11.14.0
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Add device system information to state endpoint patch
              hash: f305a333ba70e90d098decdf81c220bfcbeec899
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-11.14.0
          date: 2020-09-03T13:43:00.299Z
  version: 2.56.0
  date: 2020-09-03T14:43:29.913Z
- commits:
    - subject: Update balena-supervisor from v11.12.4 to v11.13.0
      hash: e8fb036f3ce51f29dbda1d969bb41e505a22f389
      body: |
        Update balena-supervisor from v11.12.4 to v11.13.0
      footer:
        Changelog-entry: Update balena-supervisor from v11.12.4 to v11.13.0
        changelog-entry: Update balena-supervisor from v11.12.4 to v11.13.0
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: added support for configuring ODMDATA
              hash: 662826d3495f551a5451395d0eb6660bfb65b599
              body: ""
              footer:
                Closes: "1206"
                closes: "1206"
                Change-type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.13.0
          date: 2020-08-29T13:07:31.541Z
        - commits:
            - subject: "bug: Resolve mDNS API URLs"
              hash: f0c2a3cba7a6879a506d9151c7c0d9ea89544dae
              body: |
                Due to switching to Alpine the ability to resolve mDNS
                hostnames was lost. This patch overrides the lookup and
                manually resolves the names.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.12.11
          date: 2020-08-27T10:36:31.040Z
        - commits:
            - subject: Preventing removing all configurations if device has no backends
              hash: 7ea49bf4fb317346badf141e6eea8910e599c837
              body: ""
              footer:
                Closes: "#1437"
                closes: "#1437"
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.12.10
          date: 2020-08-24T17:43:41.125Z
        - commits:
            - subject: Don't enforce the vc4-fkms-v3d dtoverlay on rpi4
              hash: de4c1b25385630b6f9fadb7a362d5556c2cc5008
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#1404"
                closes: "#1404"
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-11.12.9
          date: 2020-08-20T09:24:11.110Z
        - commits:
            - subject: Update dependencies
              hash: ea34a2d10a3acd19cfefe4c847eb96579315429a
              body: |
                Update docker-delta from 2.2.9 to 2.2.11
                Update docker-progress from 3.0.5 to 4.0.3
                Update docker-toolbelt from 3.3.8 to 3.3.10
                Update livepush from 3.3.0 to 3.5.1
                Update resin-docker-build from 1.1.4 to 1.1.6
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested:
                - commits:
                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                      hash: b0f552f9a21d350cb9fdca77d4f7c309f88bf68b
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: node-docker-delta-2.2.11
                  date: 2020-08-19T11:52:46.348Z
                - commits:
                    - author: Pagan Gazzard
                      body: ""
                      footers:
                        change-type: patch
                      hash: 70b5359fedc100907c0086f7d25b7ad19cc210ad
                      subject: Removed unused dependencies
                    - author: Pagan Gazzard
                      body: ""
                      hash: 8670e850ba5d97fbaecc938fc2060ea3b4f157ed
                      subject: "circleci: update docker"
                  date: 2020-08-05T15:20:21Z
                  version: node-docker-delta-2.2.10
                - commits:
                    - subject: Update to balena-lint 5.x
                      hash: 9563bf5150c39c6d6f298a9ed24f7969650273f7
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: docker-progress-4.0.3
                  date: 2020-08-17T12:03:45.249Z
                - commits:
                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                      hash: 2cec0f2ef1eb24797b650024873c91c942e74017
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: docker-progress-4.0.2
                  date: 2020-08-17T11:47:14.543Z
                - commits:
                    - author: Pagan Gazzard
                      body: ""
                      footers:
                        change-type: patch
                      hash: 9bb049ea3be13fb1362e39b057f78b19d8e3153d
                      subject: Update dependencies
                  date: 2020-03-04T14:17:04Z
                  version: docker-progress-4.0.1
                - commits:
                    - author: Paulo Castro
                      body: >-
                        The change type is considered 'major' because, by
                        default, errors are

                        now thrown for relatively common occurrences such as
                        authentication

                        failures when pulling from private registries, and
                        library users may

                        have to adapt.
                      footers:
                        change-type: major
                        signed-off-by: Paulo Castro <paulo@balena.io>
                      hash: 3eef3685262e6bae8de064b9c50129e5597f4318
                      subject: Detect error events in push/pull progress streams
                  date: 2019-03-26T16:03:31Z
                  version: docker-progress-4.0.0
                - commits:
                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                      hash: ccd1e99c5501257f1304f4cb68dd02383411e0b8
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: docker-toolbelt-3.3.10
                  date: 2020-08-19T12:10:49.102Z
                - commits:
                    - author: Pagan Gazzard
                      body: ""
                      footers:
                        change-type: patch
                      hash: e89aedf563c4158894265c885cb86a834b5c9c7f
                      subject: Update to balena-lint 5.x
                  date: 2020-08-17T12:49:42Z
                  version: docker-toolbelt-3.3.9
                - commits:
                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                      hash: 580a4229374fc96fc3f7aeb80e6b5a09aa958d7f
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: livepush-3.5.1
                  date: 2020-08-19T12:27:19.448Z
                - commits:
                    - author: Roman Mazur
                      body: ""
                      footers:
                        change-type: minor
                        signed-off-by: Roman Mazur <roman@balena.io>
                      hash: c180b489f3a537468f3347398824ca285354caaa
                      subject: Allow setting ENV variables in the live image
                    - author: Roman Mazur
                      body: ""
                      footers:
                        change-type: patch
                        signed-off-by: Roman Mazur <roman@balena.io>
                      hash: 7a053dd801ee5bdc8e5b0792044be611d8981a58
                      subject: Bump dockerode types dependency
                  date: 2020-07-13T11:46:04Z
                  version: livepush-3.5.0
                - commits:
                    - author: Cameron Diver
                      body: ""
                      footers:
                        change-type: patch
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      hash: 68ebf4a50acb2b451770f79a44e256dc14adbde0
                      subject: Update README with information about live directives
                  date: 2020-05-05T10:39:11Z
                  version: livepush-3.4.1
                - commits:
                    - author: Cameron Diver
                      body: ""
                      footers:
                        change-type: minor
                        closes: "#76"
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      hash: f4caa2052af2a820f8bf86d202b21b2fe6680af9
                      subject:  Add a file watcher which can be used by library users
                  date: 2020-04-15T10:50:17Z
                  version: livepush-3.4.0
                - commits:
                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                      hash: 139561ad61ca4f0e2a6203fe3c5f3345ba32cf83
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: resin-docker-build-1.1.6
                  date: 2020-08-19T12:14:05.986Z
                - commits:
                    - author: CameronDiver
                      body: ""
                      footers:
                        change-type: patch
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      hash: 0e84ec3d48268c0ae1a2390a2dad2cf8ec9e0eec
                      subject: Update README with correct instantiation method
                  date: 2020-04-02T16:54:05Z
                  version: resin-docker-build-1.1.5
          version: balena-supervisor-11.12.8
          date: 2020-08-19T12:38:52.114Z
        - commits:
            - subject: Update typed-error to 3.x
              hash: 379730a9e1d6530ea8bc13715a46fe895b0d4ec8
              body: |
                Update typed-error from 2.0.0 to 3.2.1
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested:
                - commits:
                    - subject: Update dependencies
                      hash: dc41949015399154efb4529183daa0dfc9269b52
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: typed-error-3.2.1
                  date: 2020-08-05T12:34:06.377Z
                - commits:
                    - subject: update deps and specify minimum engine requirements
                      hash: 22f293afc187e67b88dab280951eb6e2bb504b24
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Will Boyce <will@balena.io>
                        signed-off-by: Will Boyce <will@balena.io>
                      author: Will Boyce
                  version: typed-error-3.2.0
                  date: 2019-11-20T09:52:39.017Z
                - commits:
                    - subject: "dev: Enforce prettier coding standards"
                      hash: 47c07a641fa39ddb833b41aff7a918accad08289
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Will Boyce <will@balena.io>
                        signed-off-by: Will Boyce <will@balena.io>
                      author: Will Boyce
                    - subject: "npm: Update dependencies and remove `package-lock.json`"
                      hash: 067bceb5c8dfd46f7e4ff0f58dead46fd9626167
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Will Boyce <will@balena.io>
                        signed-off-by: Will Boyce <will@balena.io>
                      author: Will Boyce
                    - subject: "codeowners: Add top contributors @wrboyce, @Page-, and @dfunckt"
                      hash: 6acc8757a594f74f264c8d68ea4501c61bda9951
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Will Boyce <will@balena.io>
                        signed-off-by: Will Boyce <will@balena.io>
                      author: Will Boyce
                    - subject: "versionbot: Add CHANGELOG.yml (for nested changelogs)"
                      hash: 2b684a0bb0c95a5dbd3b130ba0f184d3464d298f
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Will Boyce <will@balena.io>
                        signed-off-by: Will Boyce <will@balena.io>
                      author: Will Boyce
                  version: typed-error-3.1.0
                  date: 2019-04-01T10:20:01.427Z
                - commits:
                    - author: CameronDiver
                      body: ""
                      footers:
                        change-type: patch
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      hash: aaa9391dc463c1037f85e845d30f6f9434bb4dc1
                      subject: Update README with new import style
                  date: 2018-11-01T12:08:25Z
                  version: typed-error-3.0.2
                - commits:
                    - author: Pagan Gazzard
                      body: ""
                      footers:
                        change-type: patch
                      hash: 627cdd281d7b086df8fe5ed1ccb0e0e0df3df062
                      subject: Update to typescript 3
                    - author: Pagan Gazzard
                      body: ""
                      footers:
                        change-type: patch
                      hash: 00d182bb2bc29bd82adb4e8ea4527f6bda6c5278
                      subject: Update dev dependencies
                    - author: Pagan Gazzard
                      body: ""
                      hash: 94adac5d747f16b9228b39e56007ee0126c6f99c
                      subject: Add node-10 to the circle test suite
                  date: 2018-10-29T14:05:23Z
                  version: typed-error-3.0.1
                - commits:
                    - author: Will Boyce
                      body: >-
                        * Switch to `export ...` syntax (from `export = ...`)

                        * Fix invalid export of class inheriting non-exported
                        class
                      footers:
                        change-type: major
                      hash: a6307b8c04d3456ad7d8a6ac19035b5e718c4311
                      subject: Distribute generated typescript declaration
                    - author: Will Boyce
                      body: ""
                      footers:
                        change-type: patch
                      hash: 37c4b700baadba8cdd6bc0c40df74b30b1a6301c
                      subject: use circle for build/publish and add package-lock
                    - author: Will Boyce
                      body: ""
                      footers:
                        change-type: patch
                      hash: 83e809281f5172ca1ff71bdf0ee663cd504f1428
                      subject: add lint scripts/requirements
                    - author: Will Boyce
                      body: ""
                      footers:
                        change-type: minor
                      hash: da9431d08e501a0d4d0db3a7fb2c0bd06d76d064
                      subject: Remove `BaseError` class and  directly subclass `Error`
                    - author: Will Boyce
                      body: ""
                      footers:
                        change-type: patch
                      hash: e46a36b54498b68f513c6cb947e217c11525e160
                      subject: Update dependencies, clean up package/tsconfig
                  date: 2018-04-17T08:19:27Z
                  version: typed-error-3.0.0
                - commits:
                    - author: Akis Kesoglou
                      body: ""
                      footers:
                        change-type: patch
                      hash: d35c44f1e57f6386c6f769f8cafc28e0886719cc
                      subject: Add LICENSE
                  date: 2017-12-15T17:19:00Z
                  version: typed-error-2.0.1
          version: balena-supervisor-11.12.7
          date: 2020-08-19T09:09:56.021Z
        - commits:
            - subject: Update pinejs-client-request to 7.2.1
              hash: 90fab43022c91bce7cea5ce6cd3b4440a6f707a0
              body: |
                Update pinejs-client-request from 7.1.0 to 7.2.1
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested:
                - commits:
                    - subject: Update dependencies
                      hash: f4502c9364bb5dd3ac4cb7242b8d08dca047b8ee
                      body: |
                        Update pinejs-client-core from 6.6.1 to 6.7.1
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Fix prepare $count typings
                              hash: fe63b2ba648b0ef545afe9fd18d433faca4af6a2
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.7.1
                          date: 2020-08-12T14:30:20.061Z
                        - commits:
                            - subject: Improve typings for request/post/put/patch/delete
                              hash: 32c0d5b40c14e44155391099a9051255c38b1c05
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.7.0
                          date: 2020-08-12T13:42:49.438Z
                  version: pinejs-client-request-7.2.1
                  date: 2020-08-18T17:01:01.637Z
                - commits:
                    - subject: Update pinejs-client-core to 6.6.1
                      hash: 8b45f326d07939279b5c4271c74579cdf5da3bb3
                      body: |
                        Update pinejs-client-core from 6.1.0 to 6.6.1
                        Update typed-error from 3.2.0 to 3.2.1
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Update dependencies
                              hash: dc41949015399154efb4529183daa0dfc9269b52
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: typed-error-3.2.1
                          date: 2020-08-05T12:34:06.377Z
                        - commits:
                            - subject: Fix typing when id is specified to be `AnyObject | undefined`
                              hash: c4802cb748b1552345f036120c3aa6254e6cc946
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.6.1
                          date: 2020-08-11T17:10:09.498Z
                        - commits:
                            - subject: "Deprecate `$expand: { 'a/$count': {...} }`"
                              hash: 8be33ad064905476e3f21978b7e1d760f5e27f4e
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                            - subject: "Deprecate `resource: 'a/$count'` and update typings to reflect it"
                              hash: 779cc424cb6d2562aa9a98a3ff083b68308d9797
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.6.0
                          date: 2020-08-11T16:18:59.088Z
                        - commits:
                            - subject: "Add `options: { $count: { ... } }` sugar for top level $count"
                              hash: 13072f715da6c0ca3eab08584eaa48f39ea985b2
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                            - subject: "Add `$expand: { a: { $count: { ... } } }` sugar for $count in expands"
                              hash: b2afb397c09a31c9ab3c1c370846c1b8762db32d
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.5.0
                          date: 2020-08-11T10:25:19.860Z
                        - commits:
                            - subject: Improve return typing of `subscribe` method
                              hash: 2311fe03b04f4e6149693a9e5c392f9f0bb2a549
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.4.0
                          date: 2020-08-11T10:16:40.301Z
                        - commits:
                            - subject: Fix Poll.on typings
                              hash: 315697d9c2c0e59652bcceddb7f36cb498269f64
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Improve return typing when id is passed to GET methods
                              hash: 2d174f758314a20c01a171ac5826b71e4f623dcc
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                            - subject: Remove `PromiseResult` type, use `Promise<PromiseResultTypes>` instead
                              hash: 905f275731af6ce2560c37f41343052f05365cd1
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                            - subject: Remove `PromiseObj` type, use `Promise<{}>` instead
                              hash: 78aa2410aa86bf73cc4831f2149fc85e28a6ea23
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.3.0
                          date: 2020-08-11T08:57:09.655Z
                        - commits:
                            - subject: "Add `$filter: { a: { $count: 1 } }` sugar for $count in filters"
                              hash: f2fef3833f321bf81543c62a9a3db09d7fbc0a4a
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.2.0
                          date: 2020-08-10T16:44:49.238Z
                        - commits:
                            - subject: Remove redundant ParamsObj/SubscribeParamsObj types
                              hash: f5fc6762aa8f1918424fb5e1c1a05435f07af285
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.1.2
                          date: 2020-08-10T16:32:09.666Z
                        - commits:
                            - subject: Make use of `mapObj` helper in more places
                              hash: 2189f9918cb515071d2f6ecb941b0d838ee6c5ea
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Use `Object.keys` in preference to `hasOwnProperty` where applicable
                              hash: 2ea0e9549974150ef9e7f82206f25000407e37ba
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.1.1
                          date: 2020-08-10T15:42:09.364Z
                  version: pinejs-client-request-7.2.0
                  date: 2020-08-12T07:00:59.754Z
          version: balena-supervisor-11.12.6
          date: 2020-08-18T17:30:40.807Z
        - commits:
            - subject: Refactor configurable backend class names
              hash: ff404456b3c3edaf33fe2199387db47d9be03503
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.12.5
          date: 2020-08-12T19:06:59.672Z
  version: 2.55.0
  date: 2020-09-03T09:07:51.151Z
- commits:
    - subject: Pack /lib/vdso/Makefile in kernel-modules-headers
      hash: 37ce34cbb4d1ddb8af5a0eafb40fc16436b6e2b8
      body: >
        For the updated 5.4 kernel on RPI4, kernel-headers-test fails with

        arch/arm64/kernel/vdso/Makefile lib/vdso/Makefile No such file or
        directory

        make[1] *** No rule to make target 'lib/vdso/Makefile'.  Stop.

        make *** [vdso_prepare] Error 2


        when doing modules_pepare in the docker build


        This patch adds /lib/vdso/Makefile to kernel-modules-headers

        compressed archive
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Pack /lib/vdso/Makefile in kernel-modules-headers
        changelog-entry: Pack /lib/vdso/Makefile in kernel-modules-headers
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
      nested: []
  version: 2.54.3
  date: 2020-08-25T11:58:10.547Z
- commits:
    - subject: "balena-supervisor: Update to v11.12.4"
      hash: 99d9a4df967535d77f3918d696845ade57aa198e
      body: |
        Update balena-supervisor from v11.12.2 to v11.12.4
      footer:
        Change-type: patch
        change-type: patch
        Backport-to: next
        backport-to: next
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "bug: Firewall not blocking supervisor access from outside the device"
              hash: 5aecd94e243ee55cffbb9aa47e7adfc437401de3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.12.4
          date: 2020-08-12T12:45:26.689Z
        - commits:
            - subject: "bug: Allow DNS through firewall for local containers"
              hash: e9b536a889542588e2f79247ed7937c709fdf3d2
              body: |
                We provide a local DNS server for containers to use and this
                was not allowed through the firewall when enabled.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.12.3
          date: 2020-08-11T14:19:40.945Z
  version: 2.54.2
  date: 2020-08-12T17:01:50.068Z
- commits:
    - subject: Package iwlwifi-cc-a0-48 firmware separately
      hash: 6d92504349952a0bafc13afc1631c09dadf4d257
      body: |
        We add this fw on its own package so that boards can add it to
        rootfs (for Microsoft Surface Go 2 more specifically)
      footer:
        Changelog-entry: Package iwlwifi-cc-a0-48 firmware separately
        changelog-entry: Package iwlwifi-cc-a0-48 firmware separately
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
  version: 2.54.1
  date: 2020-08-07T07:33:15.659Z
- commits:
    - subject: Update balena-supervisor from v11.9.9 to v11.12.2
      hash: 9772bf13f7f1a07946138eb713d23b245ffb6dd0
      body: |
        Update balena-supervisor from v11.9.9 to v11.12.2
      footer:
        Changelog-entry: Update balena-supervisor from v11.9.9 to v11.12.2
        changelog-entry: Update balena-supervisor from v11.9.9 to v11.12.2
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Fix device-tag fetching function
              hash: aa823c1cfca7a026b1c4cf3580e690625fee0d58
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-11.12.2
          date: 2020-08-05T12:33:50.608Z
        - commits:
            - subject: Update resumable-request
              hash: abf5cac4a3d784a6ad1f545f14b15b5149f13afa
              body: |
                Update resumable-request from 2.0.0 to 2.0.1
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested:
                - commits:
                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                      hash: e11bf1fd3f505a83eb1c0bd872d3a90ee1ba4137
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Optimize lodash dependency
                      hash: 40146b216300b0b16f7004e8266d16696928ea14
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: resumable-request-2.0.1
                  date: 2020-08-05T09:48:49.433Z
          version: balena-supervisor-11.12.1
          date: 2020-08-05T11:28:50.822Z
        - commits:
            - subject: Update contrato to 0.5
              hash: 17c370863cca6bf5ddfaceffdbae96b92db24bbc
              body: |
                Update contrato from 0.2.1 to 0.5.0
              footer:
                Change-type: minor
                change-type: minor
              author: Pagan Gazzard
              nested:
                - commits:
                    - subject: Remove handlebars-helpers to shrink bundle size
                      hash: 1305553f48747e0e450c89254790e67674c252b7
                      body: >
                        We can re-add specific helpers as necessary without
                        needing to bloat

                        with the entirety of the helpers package
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested: []
                  version: contrato-0.5.0
                  date: 2020-08-05T08:38:30.030Z
                - commits:
                    - subject: Update skhema to 5.x
                      hash: 1eb7058e8e34d708c03c5270e849aff4576773e7
                      body: |
                        Update skhema from 2.3.0 to 5.3.2
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Switch to typed-error
                              hash: 234c6da3d4b2ca6784d7714a7b7d46813b43310a
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: skhema-5.3.2
                          date: 2020-08-04T21:33:19.366Z
                        - commits:
                            - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                              hash: 7c61cf2f1e120944c3aef29dfe208f2e37139a6a
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: skhema-5.3.1
                          date: 2020-08-04T21:07:49.365Z
                        - commits:
                            - author: Juan Cruz Viotti
                              body: ""
                              footers:
                                change-type: minor
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 7e3fd20fb84d71c67e2f11206c4cf60b4b2866c1
                              subject: "filter: Throw a custom error if the schema is invalid"
                          date: 2020-05-05T15:22:49Z
                          version: skhema-5.3.0
                        - commits:
                            - author: StefKors
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Stef Kors <stef@balena.io>
                              hash: e90802b28b908dfcd4c54e432e72cd36ba390b09
                              subject: Add test to show .filter() not working correctly
                            - author: StefKors
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Stef Kors <stef@balena.io>
                              hash: 4ff1988ca8c78192ad0f92afb7f2bb3d2679fdd2
                              subject: When combining with baseSchema merge enum with AND operator
                          date: 2019-12-12T11:38:32Z
                          version: skhema-5.2.9
                        - commits:
                            - author: Juan Cruz Viotti
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 2f8725cde8fc23de39346860a4fc283ada408eab
                              subject: Ensure values in "enum" are unique
                          date: 2019-11-27T20:30:03Z
                          version: skhema-5.2.8
                        - commits:
                            - author: Juan Cruz Viotti
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 5afd0f25d791fe1f0d85957369a46292212de79e
                              subject: 'filter: Correctly handle "enum" inside "anyOf"'
                          date: 2019-11-27T19:34:08Z
                          version: skhema-5.2.7
                        - commits:
                            - author: Juan Cruz Viotti
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 0bb8c525b58dc358b80ddd7a2ed53dc95fe662ae
                              subject: "merge: Be explicit about additionalProperties"
                          date: 2019-11-19T09:19:11Z
                          version: skhema-5.2.6
                        - commits:
                            - author: Lucian
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 864db6644a2cddfada888c3cb979498b2107eabe
                              subject: Add a resolver for the const keyword
                          date: 2019-05-09T15:49:10Z
                          version: skhema-5.2.5
                        - commits:
                            - author: Juan Cruz Viotti
                              body: >-
                                This is very similar to the cache class they use
                                by default, with the

                                difference that it has a limit and won't grow
                                indefinitely, causing

                                memory leaks on long running applications like
                                Jellyfish.
                              footers:
                                change-type: patch
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 8dcdde578bdae9dad5786270b451bd45a7204115
                              subject: Configure AJV instances with an LRU cache
                          date: 2019-04-15T15:32:41Z
                          version: skhema-5.2.4
                        - commits:
                            - author: Juan Cruz Viotti
                              body: So we don't leak `SchemaObject` in the AJV `_refs` object.
                              footers:
                                change-type: patch
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: f55993458fe587fa2884f116506bd27cb2aa3e87
                              subject: Set addUsedSchema to false in all AJV instances
                          date: 2019-04-15T15:15:23Z
                          version: skhema-5.2.3
                        - commits:
                            - author: Lucian
                              body: "Fixes #43"
                              footers:
                                change-type: patch
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 90dd1490303d06c0e44be715464ddc4f598f4adb
                              subject: Fix bug in scoreMatch when handling arrays
                          date: 2019-03-20T10:24:26Z
                          version: skhema-5.2.2
                        - commits:
                            - author: Lucian
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 846dc2265f73018870d88c704630578e6715afa8
                              subject: Fix bad require name and .only in tests
                          date: 2019-03-19T15:47:17Z
                          version: skhema-5.2.1
                        - commits:
                            - author: Lucian Buzzo
                              body: >-
                                Only match elements with .filter() if the base
                                schema (the schema with no

                                anyOf branches) matches the element.
                              footers:
                                change-type: patch
                                signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                              hash: 9652d825d07fd8de0b51a5ae2645f3f6f79ee860
                              subject: ".filter(): Only match if the base schema matches"
                          date: 2020-04-30T16:22:18Z
                          version: skhema-5.2.10
                        - commits:
                            - author: Lucian
                              body: ""
                              footers:
                                change-type: minor
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 647943a9d7fad1338ad800509a85636b150d576e
                              subject: Add ability to provide custom resolvers to merge()
                          date: 2019-03-19T12:14:12Z
                          version: skhema-5.2.0
                        - commits:
                            - author: Lucian
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: c00be29c12b14858982cd2997088d065ff173870
                              subject: Split up and optimize lodash dependencies
                          date: 2019-02-08T11:58:56Z
                          version: skhema-5.1.1
                        - commits:
                            - author: Lucian Buzzo
                              body: ""
                              footers:
                                change-type: minor
                                signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                              hash: 5c48f980bfad6eb0a15d6c18d0898fbe226ddddd
                              subject: "feature: Implement method for restricting a schema by another schema"
                          date: 2019-01-08T11:00:52Z
                          version: skhema-5.1.0
                        - commits:
                            - author: Lucian
                              body: Using a strictly defined API allows us to improve performance
                              footers:
                                change-type: major
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 04f497a509e4129977e696a6637fe2724a7fb7e0
                              subject: Remove ability to add custom keywords or formats
                          date: 2018-12-31T07:38:57Z
                          version: skhema-5.0.0
                        - commits:
                            - author: Lucian
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 219f90ed5751e2211d9acb0bbd3311c39e12a180
                              subject: Improve performance of clone operations
                          date: 2018-12-31T07:20:46Z
                          version: skhema-4.0.4
                        - commits:
                            - author: Lucian
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 61318967874690eb3b85a9921fe27d3ce5c2494d
                              subject: Don't bust AJV cache
                          date: 2018-12-10T12:09:43Z
                          version: skhema-4.0.3
                        - commits:
                            - author: Giovanni Garufi
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Giovanni Garufi <giovanni@balena.io>
                              hash: 1f6c87de94ef905ea39972630364c74beb55057a
                              subject: Add benchmark tests
                          date: 2018-12-10T11:47:01Z
                          version: skhema-4.0.2
                        - commits:
                            - author: Lucian
                              body: "Fixes #30"
                              footers:
                                change-type: patch
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: d59a81567bf84a90182687a5385538ff7a599ce0
                              subject: Recurse through nested `anyOf` statements when filtering
                          date: 2018-12-04T13:29:31Z
                          version: skhema-4.0.1
                        - commits:
                            - author: Lucian
                              body: This better follows the way that JSON schema works
                              footers:
                                change-type: major
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 7c479564ca6c611c1576c32b63ac9dba06c8b2c7
                              subject: Treat undefined additionalProperties as true instead of false
                          date: 2018-12-03T13:40:59Z
                          version: skhema-4.0.0
                        - commits:
                            - author: Juan Cruz Viotti
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 842aaf252085b9a80a1cd84776b0c871c8c949aa
                              subject: "stryker: Increase test timeout"
                            - author: Juan Cruz Viotti
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 781b74d9ca847acfbfa3883fda66f4828824e3bc
                              subject: "test: Configure Stryker for mutative testing"
                          date: 2018-11-30T16:58:05Z
                          version: skhema-3.0.1
                        - commits:
                            - author: Giovanni Garufi
                              body: >-
                                Merge multiple anyOf subschemas that match into
                                a single one.

                                Add axioms in test
                              footers:
                                change-type: minor
                                signed-off-by: Giovanni Garufi <giovanni@balena.io>
                              hash: 23cec34382d98b6c10a1d5483113a1155ba6565a
                              subject: Define additionalProperty inheritance in anyOf
                            - author: Lucian
                              body: ""
                              footers:
                                change-type: major
                                signed-off-by: Lucian <lucian.buzzo@gmail.com>
                              hash: 93a65b6edb10397b3417a3719d4471cd0eeb4f68
                              subject: Formalising filtering logic
                            - author: Lucian
                              body: ""
                              hash: d55a7cac6bd9ce238918eea99ed64894e5e7d066
                              subject: Added failing test case with mutation
                          date: 2018-11-29T17:53:28Z
                          version: skhema-3.0.0
                        - commits:
                            - author: Juan Cruz Viotti
                              body: >-
                                This is a hack, and should be reverted once we
                                get to the bottom of it.

                                It will impact performance, but right now there
                                are things that should

                                be filtered and are not, so lets get this merged
                                for security purposes.

                                Hopefully this library will be re-written soon.
                              footers:
                                change-type: patch
                                see: https://github.com/balena-io/jellyfish/pull/878
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: fd9841b296007e1ddc04d092c3b28c61a438be6c
                              subject: "hotfix: Make sure things that should be filtered are filtered"
                          date: 2018-11-07T13:42:47Z
                          version: skhema-2.5.2
                        - commits:
                            - author: Juan Cruz Viotti
                              body: ""
                              footers:
                                change-type: patch
                                see: https://github.com/balena-io/jellyfish/issues/845
                                signed-off-by: Juan Cruz Viotti <juan@balena.io>
                              hash: 3ef59f5e552a11dffa72c6ff758210aebfe35bcb
                              subject: "filter: Force additionalProperties: true on match schemas"
                          date: 2018-11-06T17:26:53Z
                          version: skhema-2.5.1
                        - commits:
                            - author: Lucian Buzzo
                              body: ""
                              footers:
                                change-type: minor
                                signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                              hash: 3536e75a128f7b79d13727d3a5562df48e6f9d00
                              subject: Validate against just the schema if `options.schemaOnly` is true
                          date: 2018-10-16T11:59:41Z
                          version: skhema-2.5.0
                        - commits:
                            - author: Lucian Buzzo
                              body: ""
                              footers:
                                change-type: patch
                                signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                              hash: 513eeb6d006270ac25a2fb9a802df9c398658548
                              subject: "merge: When merging an empty array, return a wildcard schema"
                          date: 2018-10-09T20:19:28Z
                          version: skhema-2.4.1
                        - commits:
                            - author: Lucian Buzzo
                              body: ""
                              footers:
                                change-type: minor
                                signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                              hash: 5a3844a72a7bb0bad355d6a991a9a2f005c3a3b9
                              subject: "validate: Make object optional"
                          date: 2018-10-09T16:52:53Z
                          version: skhema-2.4.0
                  version: contrato-0.4.0
                  date: 2020-08-04T21:58:55.782Z
                - commits:
                    - subject: Add .versionbot/CHANGELOG.yml for nested changelogs
                      hash: 783273aac70fd631d5a80e33b55ef468be4c3ec7
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: contrato-0.3.1
                  date: 2020-08-04T21:46:25.163Z
                - commits:
                    - author: Stevche Radevski
                      body: >-
                        Handlebars supports very basic if condition checking,
                        but it only checks for

                        existence of a field. There are times when we want to
                        combine conditions in order

                        to generate something as part of a blueprint, without
                        defining a completely separate

                        blueprint for it (like generating network config schema
                        if a dt has a wifi chip or

                        a usb port to which we can connect a dongle).
                      footers:
                        change-type: minor
                        signed-off-by: Stevche Radevski <stevche@balena.io>
                      hash: 90c3356b356920b8a6dd95a478dd6cb39e6ad148
                      subject: Add logical operator support in templates
                  date: 2020-07-17T12:02:34Z
                  version: contrato-0.3.0
          version: balena-supervisor-11.12.0
          date: 2020-08-05T09:55:18.695Z
        - commits:
            - subject: Bump elliptic from 6.5.2 to 6.5.3
              hash: c11004cd24fe66e6af7f16a79c0cc9e8847eb415
              body: |
                Bumps [elliptic](https://github.com/indutny/elliptic) from 6.5.2 to 6.5.3.
                - [Release notes](https://github.com/indutny/elliptic/releases)
                - [Commits](https://github.com/indutny/elliptic/compare/v6.5.2...v6.5.3)
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: dependabot[bot] <support@github.com>
                signed-off-by: dependabot[bot] <support@github.com>
              author: dependabot[bot]
              nested: []
            - subject: Update pinejs-client-request and make use of a named key
              hash: 511cbbe74e9dce51490234c66035ded873091b4e
              body: |
                Update pinejs-client-request from 7.0.0 to 7.1.0
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested:
                - commits:
                    - subject: Update dependencies
                      hash: c46281f165eb6b05def4bd9eed82df37629c56e7
                      body: |
                        Update pinejs-client-core from 6.0.0 to 6.1.0
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Add support for using named ids
                              hash: f6035bf5240e8aea1b92997d976cebd9a1857a61
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.1.0
                          date: 2020-07-21T10:31:09.457Z
                        - commits:
                            - subject: Drop unnecessary async from request()
                              hash: dfd4c8c39327fe2e1706a8180e3c3f56d4229b77
                              body: >
                                This allows consumers like
                                pinejs-client-supertest

                                to have all the methods returning different
                                Promise

                                types based solely on the implementation of the

                                request() method.
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                              author: Thodoris Greasidis
                          version: pinejs-client-js-6.0.1
                          date: 2020-06-19T16:55:46.305Z
                  version: pinejs-client-request-7.1.0
                  date: 2020-07-28T10:43:21.213Z
                - commits:
                    - subject: Increase default timeout to 59s
                      hash: fc17266fe147bf40086feb81b6c96a344bf74f29
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested: []
                  version: pinejs-client-request-7.0.1
                  date: 2020-07-28T10:29:41.385Z
          version: balena-supervisor-11.11.7
          date: 2020-08-04T09:33:41.743Z
        - commits:
            - subject: Fixes documentation - ping doesn't need apiKey and minor documentation
                formatting changes.
              hash: 82dda7d852773a58ddbdc4a614ef3a3b7ff15462
              body: ""
              footer:
                Change-Type: patch
                change-type: patch
                Signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
                signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
                Co-authored-by: xginn8 <xginn8@users.noreply.github.com>
                co-authored-by: xginn8 <xginn8@users.noreply.github.com>
              author: Nitish Agarwal
              nested: []
          version: balena-supervisor-11.11.6
          date: 2020-07-31T18:10:27.470Z
        - commits:
            - subject: "Fixes #1299 v1 start/stop endpoint issue with service access."
              hash: 11cac2dd696dc267758351be131c3db8eae4470e
              body: ""
              footer:
                Change-Type: patch
                change-type: patch
                Signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
                signed-off-by: Nitish Agarwal <1592163+nitishagar@users.noreply.github.com>
              author: Nitish Agarwal
              nested: []
          version: balena-supervisor-11.11.5
          date: 2020-07-31T17:42:23.827Z
        - commits:
            - subject: "bug: Fix undefined containerId object"
              hash: 59561132cc11074d2acf4ac06b477196b42cf569
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.11.4
          date: 2020-07-31T10:53:18.364Z
        - commits:
            - subject: fix matching extra_uEnv backend with unsupported devices
              hash: 9b37ce96f959ccf27963ebb1c3e9eccd2ed998c7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.11.3
          date: 2020-07-30T18:15:41.698Z
        - commits:
            - subject: Fix an issue with reporting initial config using a stale target state
              hash: ffe3da6261e486b875c5c1792b7bdc8e0a0f996e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-11.11.2
          date: 2020-07-30T09:50:26.292Z
        - commits:
            - subject: fix up "atleast" -> "at least"
              hash: 15c57a86b47c4df3dbf5e20c5dbbbd40a6344812
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: balena-supervisor-11.11.1
          date: 2020-07-29T15:57:59.129Z
        - commits:
            - subject: Support setting device/fleet configuration in extra_uEnv.txt
              hash: cac2e3612c978b5fbcf837d78a4a0bff5ba5166a
              body: ""
              footer:
                Closes: "#1385"
                closes: "#1385"
                Change-Type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.11.0
          date: 2020-07-28T20:38:18.462Z
        - commits:
            - subject: Extract current state reporting to its own module
              hash: eeda7e3ab17dc68d592acc2e4f58f20dad9a677a
              body: ""
              footer:
                Change-type: minor
                change-type: minor
              author: Pagan Gazzard
              nested: []
          version: balena-supervisor-11.10.0
          date: 2020-07-24T16:39:30.078Z
        - commits:
            - subject: log detection of changes to VPN status
              hash: 41987d8e7600550da2d09e050db58c3ad969210e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: dt-rush <nickp@balena.io>
                signed-off-by: dt-rush <nickp@balena.io>
              author: dt-rush
              nested: []
          version: balena-supervisor-11.9.10
          date: 2020-07-23T23:22:47.297Z
  version: 2.54.0
  date: 2020-08-06T23:12:50.461Z
- commits:
    - subject: "balena-unique-key: Ensure config.json is synced after replacing"
      hash: d0e218929b779b1051e14414b3b378b6d5928969
      body: |
        Ensuring changes are flushed to the filesystem at this point
        helps prevent config.json from becoming corrupt if power is cut.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.53.14
  date: 2020-08-06T12:48:20.058Z
- commits:
    - subject: "flasher-register: if no supervisor information found, report null"
      hash: dee971c0dbeb6e8363f3e321af582e99627626e9
      body: |
        In b791055f3f6ffd6cc5796569a7321c5060129eea I attempted to have flasher
        images report their preconfigured supervisor version without a good
        understanding of how flasher images work. As it turns out no supervisor
        information is maintained in the flasher image itself, so until that is
        sorted stop reporting a blank string for the supervisor version.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
      nested: []
  version: 2.53.13
  date: 2020-08-05T20:17:40.378Z
- commits:
    - subject: "systemd: Set net.ipv4.conf.all.rp_filter in balena-os-sysctl"
      hash: a0573b7df13292aff6c7670246ed780342593376
      body: |
        The warrior branch does not backport this configuration
        like the older branches do. Let's move this setting in the
        balena-os-sysctl file to avoid issues where some device integration
        layers set the rp_filter mode to strict and break connectivity.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.53.12
  date: 2020-08-04T14:01:14.955Z
- commits:
    - subject: Use a named key when querying for device by uuid
      hash: e2c6614d28fe498853297891eb0feeb4b1577a7b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
      author: Pagan Gazzard
      nested: []
  version: 2.53.11
  date: 2020-07-30T15:32:30.333Z
- commits:
    - subject: "supervisor: allow supervisor updates without controlling the
        supervisor state"
      hash: 6208f065e59d9c15e10e872bff788c0b80020983
      body: >
        Recently the supervisor added a codepath that assumes no files
        underneath it will change during runtime.

        OS update hooks can trigger a condition whereby the supervisor reboots
        the device during a HUP,

        which in turn bricks the device.


        Additionally, since unknown args cause this update to fail-closed,

        remove that barrier to future-proof more flag expansion.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
      nested: []
  version: 2.53.10
  date: 2020-07-29T12:42:50.816Z
- commits:
    - subject: "balena-supervisor: Update to v11.9.9"
      hash: b991ede01e5140ef04f2e6fe9baa37a8ded95ab5
      body: |
        Update balena-supervisor from 11.9.8 to 11.9.9
      footer:
        Change-type: patch
        change-type: patch
        Backport-to: next
        backport-to: next
        Signed-off-by: Rich Bayliss <rich@balena.io>
        signed-off-by: Rich Bayliss <rich@balena.io>
      author: Rich Bayliss
      nested:
        - commits:
            - subject: "common: Fix bug where aliases might be undefined"
              hash: 60132134deffd770a40d1e6f18fdd87cb2f9f52e
              body: >
                Should handle the scenario where the network aliases are
                undefined.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.9.9
          date: 2020-07-23T15:45:31.161Z
  version: 2.53.9
  date: 2020-07-23T17:44:58.146Z
- commits:
    - subject: "resin-supervisor: Create required directories before launch"
      hash: 7be7738c655e37e48c1a98f9e1e0ff2795d66bf8
      body: |
        On commit a4ce26caadabcb1e87d944d78218cc32c579914e the supervisor moved
        from using --volume to using --mount to avoid the implicit creation of
        directories instead of files.

        However, in the case where the mount referred to a directory, these have
        to exist in the rootfs beforehand as --mount will not create them.

        This commit checks for the existence of the /var/log/supervisor-log
        directory and creates it if required.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.53.8
  date: 2020-07-23T04:33:45.808Z
- commits:
    - subject: "balena-supervisor: Update to v11.9.8"
      hash: f919017e873062d30efa73d93a99ad0272675d24
      body: |
        Update balena-supervisor from 11.9.6 to 11.9.8
      footer:
        Change-type: patch
        change-type: patch
        Backport-to: next
        backport-to: next
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested:
        - commits:
            - subject: Bump lodash from 4.17.15 to 4.17.19
              hash: 01655b595555ae63ea1b70d623451c9ad3ec03dd
              body: |
                Bumps [lodash](https://github.com/lodash/lodash) from 4.17.15 to 4.17.19.
                - [Release notes](https://github.com/lodash/lodash/releases)
                - [Commits](https://github.com/lodash/lodash/compare/4.17.15...4.17.19)
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: dependabot[bot] <support@github.com>
                signed-off-by: dependabot[bot] <support@github.com>
              author: dependabot[bot]
              nested: []
          version: balena-supervisor-11.9.8
          date: 2020-07-22T14:44:00.974Z
        - commits:
            - subject: "docker-utils: Test network gateway determination logic"
              hash: 6ef3bd2362ebd185053a351490f6561ec10b84d8
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
            - subject: Fix docker-util using incorrect reference for function
              hash: 3b3babfd62868e986788d6c2f4fcede915fb4711
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: balena-supervisor-11.9.7
          date: 2020-07-22T12:19:06.693Z
  version: 2.53.7
  date: 2020-07-23T03:02:50.027Z
- commits:
    - subject: "recipes-containers/balena: Use separate service for loading
        healthcheck image"
      hash: 94a21624ccc1871d911b12654967b60a76a7e77a
      body: |
        In rocko, systemd kills any script started in background,
        same thing happening to children that get re-parented.

        One solution to this is to use a separate service file for
        starting the healtcheck image load script, after balena.service
        was started.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.53.6
  date: 2020-07-21T13:44:11.006Z
- commits:
    - subject: "balena-supervisor: Update to v11.9.6"
      hash: 826a68296c1ed3c7ce44753f6b8f85b9f8f87ef3
      body: |
        Update balena-supervisor from 11.9.4 to 11.9.6
      footer:
        Change-type: patch
        change-type: patch
        Backport-to: next
        backport-to: next
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Rich Bayliss
      nested:
        - commits:
            - subject: Fix purge and restart invocations by providing instanced apps
              hash: d14d8f31ccee62fa8cec88209cc3674a1b280e34
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
            - subject: Fix purge invocations of new singletons
              hash: d2a7d3b9653a2afbd8eca009b75871cf54dbf3ac
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-11.9.6
          date: 2020-07-20T17:25:37.311Z
        - commits:
            - subject: Update ESR version information
              hash: c2b534a51b3863bf3c787db00c7299517224464f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested: []
          version: balena-supervisor-11.9.5
          date: 2020-07-14T14:31:17.340Z
  version: 2.53.5
  date: 2020-07-21T11:58:00.018Z
- commits:
    - subject: Add support for aufs5 on kernel 5.x variants
      hash: 6bdf4211aefb1f2c842f0797c50ae537fe2baae5
      body: |
        We add support for aufs on kernels 5.x variants
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add support for aufs5 on kernel 5.x variants
        changelog-entry: Add support for aufs5 on kernel 5.x variants
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
      nested: []
    - subject: Force choosing busybox-hwclock over util-linux-hwclock
      hash: 86dd4c761038ab0214a1fca8dd2839b4dbddfa39
      body: >
        Otherwise, as util-linux has a higher default alternative priority, the

        version in util-linux is chosen. It would seem they are exchangeable,
        but

        the busybox version reportedly works even if the RTC interrupt line is
        not

        connected.


        Fixes #1936
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Force choosing busybox-hwclock over util-linux-hwclock
        changelog-entry: Force choosing busybox-hwclock over util-linux-hwclock
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.53.4
  date: 2020-07-21T08:03:00.660Z
- commits:
    - subject: "provisioning: provide base supervisor_version during provision"
      hash: b791055f3f6ffd6cc5796569a7321c5060129eea
      body: |
        In order to get closer to formally requiring a target supervisor release
        in the model, we should expand our provisioning process to provide the
        initial supervisor_version metadata. This connects back to tri-app.
      footer:
        Depends-on: https://github.com/balena-io/open-balena-api/pull/394
        depends-on: https://github.com/balena-io/open-balena-api/pull/394
        HQ: https://github.com/balena-io/balena-io/pull/2177
        hq: https://github.com/balena-io/balena-io/pull/2177
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
      nested: []
  version: 2.53.3
  date: 2020-07-16T13:48:11.858Z
- commits:
    - subject: Add LZ4 support config for older kernels
      hash: 403fc033b75b2672bf9c8ef9a27879096e7b88b7
      body: |
        Kernel versions between 4.0 and 4.9 use
        CONFIG_ZRAM_LZ4_COMPRESS, whereas newer ones
        use CONFIG_CRYPTO_LZ4.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.53.2
  date: 2020-07-16T08:17:26.378Z
- commits:
    - subject: Remove unnecessary config.json keys
      hash: b3222e619bbeebc0a2bd9e7419a9d8ae12b34dce
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Pagan Gazzard
      nested: []
  version: 2.53.1
  date: 2020-07-14T14:53:06.752Z
- commits:
    - subject: "resin-supervisor: Create required directories before launch"
      hash: a93bd242d37246da83c1fa4368174d89b5c045f4
      body: |
        On commit a4ce26caadabcb1e87d944d78218cc32c579914e the supervisor moved
        from using --volume to using --mount to avoid the implicit creation of
        directories instead of files.

        However, in the case where the mount referred to a directory, these have
        to exist in the rootfs beforehand as --mount will not create them.

        This commit checks for the existence of the /resin-data/resin-supervisor
        directory and creates it if required.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: Rebrand custom resin logos
      hash: dc215462dd5adcb171496be9aef237351d749d71
      body: |
        When performing hostOS updates, the resin-logo.png might have
        been customized by the customer.
        This commits renames it to the newly branded balena-logo.png

        If the resin-logo.png was unmodified, it will forcefully replace to
        balena-logo.png to force rebranding of older resin branded release.

        Fixes #1801
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Rebrand custom resin logos
        changelog-entry: Rebrand custom resin logos
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "plymouth: Remove patch that sets plymouth resin theme"
      hash: 8ccc9fc6862fdcaf9197bd443549411a3965279d
      body: |
        This is now configured as part of the plymouth-theme package.
      footer:
        Changelog-type: patch
        changelog-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
    - subject: "docker-disk: Update dind container to v19.03.10"
      hash: 6b325f57ff50be11e0c5f1f2420b911211f0ef06
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: "docker-disk: Update to still supported dind container"
      hash: e325ab34b9d7f14ad5a0d85b36b02ee1e2b7fdf8
      body: >
        The `docker` Docker Hub repository lists what versions of the image

        are supported and 18.6 is not among them at all. Use the current stable

        line of 18.09 instead, to stay on supported versions. See more info at:

        https://hub.docker.com/_/docker


        For more reproducability, we are also including the patch level version

        of the container, which will give us more responsibility to update more

        frequently, but fewer surprises.


        Also explicitly set `DOCKER_HOST` for the daemon being started,
        otherwise

        the base image's setting might silently take over, and modify this.


        Replace deprecated `-g` (graph driver) with `--data-root` as well.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Gergely Imreh <gergely@balena.io>
        signed-off-by: Gergely Imreh <gergely@balena.io>
      author: Gergely Imreh
      nested: []
    - subject: Use udev for setting up wlan power management
      hash: 7826c8ba9a9b6a97021fbcd352f627518afa8d73
      body: |
        resin-init has a hardcoded command to disable power management
        on wlan0. This commit moves the logic to udev rule as there is
        no guarantee wlan0 is the only or default wlan adapter in the system.

        There seems to be no better way to identify a wlan device in udev
        than KERNEL=="wl*" which should match both net.ifnames=0 (wlanX)
        and net.ifnames=1 (wlpX).

        Fixes #1422
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Use udev for setting up wlan power management
        changelog-entry: Use udev for setting up wlan power management
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
      nested: []
    - subject: Use --mount instead of --volume for bind mounts to the supervisor
        container.
      hash: 0fd442943d6b6c802df2f6e35d334ecde0f748e9
      body: |
        This makes sure the source path refers to an existing file/directory on
        the host.

        https://docs.docker.com/engine/reference/commandline/service_create/#differences-between---mount-and---volume

        This avoids situations where --volume implicitely creates a directory (see #1748)

        Fixes #1754
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Use --mount instead of --volume for bind mounts to the
          supervisor container.
        changelog-entry: Use --mount instead of --volume for bind mounts to the
          supervisor container.
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
      nested: []
  version: 2.53.0
  date: 2020-07-14T09:38:34.861Z
- commits:
    - subject: Update balena-supervisor from v11.9.3 to v11.9.4
      hash: ac5bedaf68a8898d9102c1106d2cf374bbd00628
      body: |
        Update balena-supervisor from v11.9.3 to v11.9.4
      footer:
        Changelog-entry: Update balena-supervisor from v11.9.3 to v11.9.4
        changelog-entry: Update balena-supervisor from v11.9.3 to v11.9.4
        Change-type: patch
        change-type: patch
        Signed-off-by: Rich Bayliss <rich@balena.io>
        signed-off-by: Rich Bayliss <rich@balena.io>
      author: Rich Bayliss
      nested:
        - commits:
            - subject: "bug: Fix unhandled promise rejection"
              hash: 898c7e71dae28aa046bdd3e075ecf0d6aa364142
              body: |
                When invoking iptables-restore it can fail. This wasn't handled
                and this makes sure that it fails gracefully.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested: []
          version: balena-supervisor-11.9.4
          date: 2020-07-13T12:07:37.513Z
  version: 2.52.7
  date: 2020-07-13T16:25:46.435Z
- commits:
    - subject: Update to use api v6 and fix a quoting bug
      hash: 1e5bd5d984945a3e97d6b4bf64c5ae6a0e81b0b3
      body: ""
      footer:
        Change-type: patch
        change-type: patch
      author: Pagan Gazzard
      nested: []
  version: 2.52.6
  date: 2020-07-13T13:35:04.787Z
- commits:
    - subject: Allow comments in iptables ruleset
      hash: a93ac5695c77cb36e6ec3ee1355b7b9da7b81d39
      body: >
        The latest v11.9.3 supervisor includes firewall configuration
        functionality

        that requires this module to be enabled on all platforms.
      footer:
        Connects-to: balena-io/balena-supervisor#1393
        connects-to: balena-io/balena-supervisor#1393
        Change-type: patch
        change-type: patch
        Changelog-entry: Allow comments in iptables ruleset
        changelog-entry: Allow comments in iptables ruleset
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested: []
  version: 2.52.5
  date: 2020-07-10T16:11:02.635Z
- commits:
    - subject: Update balena-supervisor from v11.4.10 to v11.9.3
      hash: 16fc81358477615b26b6ee6917dc2b5a36081a57
      body: |
        Update balena-supervisor from v11.4.10 to v11.9.3
      footer:
        Changelog-entry: Update balena-supervisor from v11.4.10 to v11.9.3
        changelog-entry: Update balena-supervisor from v11.4.10 to v11.9.3
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Fix bug where a promise was not resolved in db-format
              hash: 270f9f854add8db84fadc0a96e127a6035128aef
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Convert deviceConfig module to a singleton
              hash: 5337c0102cd9bdbaaa41812fb1b8c44796ae9898
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.9.3
          date: 2020-07-08T11:07:16.427Z
        - commits:
            - subject: "avahi: Control with HOST_DISCOVERABILITY"
              hash: 03ca0ee9add9872b5577833971b43682ae6cc427
              body: |
                The host config variable HOST_DISCOVERABILITY can be set to
                true or false, controlling the state of the avahi service. This
                determines if the device advertises it's presence over mDNS.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.9.2
          date: 2020-07-06T12:04:46.333Z
        - commits:
            - subject: "firewall: Add Host Firewall functionality"
              hash: 28c5a44e714a3f155fbd528d0ec672dec1d96ef8
              body: |
                Controlled by BALENA_HOST_FIREWALL_MODE, the firewall can
                either be 'on' or 'off'.

                - In the 'off' state, all traffic is allowed.
                - In the 'on' state, only traffic for the core services provided
                  by Balena is allowed.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
          version: balena-supervisor-11.9.1
          date: 2020-07-01T17:45:22.146Z
        - commits:
            - subject: Added support for configuring FDT directive in extlinux.conf
              hash: 59fc589eb23bdf8c79c677734d2792b93380c94c
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.9.0
          date: 2020-06-23T19:58:27.412Z
        - commits:
            - subject: "state: Report device MAC address to the API"
              hash: 1b91ef3405d1d2013cbdd6381ed69256c6432d18
              body: |
                When reporting device information, send the MAC address of any
                interfaces on the system. Also expose in the Supervisor API at
                the route GET /v1/device.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
          version: balena-supervisor-11.8.4
          date: 2020-06-22T09:43:53.370Z
        - commits:
            - subject: Update pinejs-client-request to 7.x
              hash: c15f77434ba3b957dc55f5df207026eb2028bd57
              body: |
                Update pinejs-client-request from 5.2.0 to 7.0.0
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested:
                - commits:
                    - subject: Empty commit to attempt republish
                      hash: 72c0214672a1e552cb8fa63f9a96aa47b5db19b1
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Switch from bluebird-lru-cache to lru-cache for caching
                      hash: e69b9cb202140de25f5b6cc9258cccb71854fd6f
                      body: ""
                      footer:
                        Change-type: major
                        change-type: major
                      author: Pagan Gazzard
                    - subject: Update target to es2018
                      hash: 1c2e8725305219f0c144cca583a1e8225d64c503
                      body: ""
                      footer:
                        Change-type: major
                        change-type: major
                      author: Pagan Gazzard
                    - subject: Remove bluebird dependency
                      hash: b066e578427c179c9cb7fca6dda2e2e17da01a46
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Convert to async/await
                      hash: 3ca7a939c2e25861cf3484b1ef31f7ccbec9369a
                      body: ""
                      footer:
                        Change-type: major
                        change-type: major
                      author: Pagan Gazzard
                    - subject: Update to pinejs-client-core 6.x
                      hash: 33f1f63efbb0a4a1c9fae0f45c4f2e00e59572f2
                      body: |
                        Update pinejs-client-core from 5.8.0 to 6.0.0
                      footer:
                        Change-type: major
                        change-type: major
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Increase minimum es version to es2015
                              hash: 52f3a97dc2b5aba07090a688fcd7afa2d2d789d8
                              body: ""
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Convert to async/await
                              hash: b6c6d1f1dc9e9b05e60964a87e1677b0b4cc74eb
                              body: ""
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Remove now unnecessary PinejsClientCoreFactory
                              hash: 35adea3c7c33a74920652ea547e8d649592e86fc
                              body: ""
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Switch to using native promises
                              hash: d87e4570be580dccb1e511068beaf79878e66d06
                              body: ""
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Drop support for deprecated request overrides
                              hash: 5aa89779bb06b9437382439b324f91d5fa9061b7
                              body: ""
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Drop support for deprecated `query` method
                              hash: 2a0d315b111832c0a15a4cc581cd3f3cb5c32cd7
                              body: ""
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Drop support for deprecated string based requests
                              hash: 493a2bc970923eb8d79e684e10d4ec433803a20c
                              body: ""
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                            - subject: Use `;` for expand options instead of `&`
                              hash: 62f0f4c406ce87b2ba6d4a7f74c88107ac3144cb
                              body: ""
                              footer:
                                Change-type: major
                                change-type: major
                              author: Pagan Gazzard
                          version: pinejs-client-js-6.0.0
                          date: 2020-06-04T12:58:07.304Z
                  version: pinejs-client-request-7.0.0
                  date: 2020-06-16T10:57:45.926Z
                - commits:
                    - subject: Lazy load bluebird-lru-cache and lodash
                      hash: a2b6b74600b9ddecc98cb90a5d2d9ca28495b835
                      body: ""
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                  version: pinejs-client-request-6.2.0
                  date: 2020-06-08T15:32:03.904Z
                - commits:
                    - subject: Convert some lodash usage to native versions
                      hash: 93aaa1f518859bbe08a5746fbb1668c9fd446ae3
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: pinejs-client-request-6.1.4
                  date: 2020-06-08T11:53:33.697Z
                - commits:
                    - subject: Remove unused dependencies
                      hash: 58a13f0fbe9692be029812db19f22aac7bd6f0f9
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: pinejs-client-request-6.1.3
                  date: 2020-06-04T15:00:55.621Z
                - commits:
                    - subject: Update dependencies
                      hash: 0087b900328f1ba02699fc75664b0d23eb433e67
                      body: |
                        Update pinejs-client-core from 5.6.11 to 5.8.0
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Generate optional builds for es2015/es2018 as well as the default es5
                              hash: 510682b0e2a9d2a338aa977bd4782ec60fc5b196
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.8.0
                          date: 2020-05-29T13:12:21.476Z
                        - commits:
                            - subject: Update dependencies
                              hash: 8141a6dfe6edd4c7e432d85c3533e6e02a43e2ff
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.7.1
                          date: 2020-05-25T16:57:46.154Z
                        - commits:
                            - subject: Make transformGetResult a method , to ease overriding the get method
                              hash: f267d4bfc006d1aabfb0ed1f79c9234ecb5c7d5f
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                                See: https://github.com/balena-io/balena-api/pull/2532
                                see: https://github.com/balena-io/balena-api/pull/2532
                              author: Thodoris Greasidis
                          version: pinejs-client-js-5.7.0
                          date: 2020-04-15T13:13:28.186Z
                  version: pinejs-client-request-6.1.2
                  date: 2020-06-02T15:55:01.003Z
                - commits:
                    - subject: Add linting
                      hash: 988d58f708da1bd1a4389a1a2129fa5d30706065
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: pinejs-client-request-6.1.1
                  date: 2020-03-19T21:47:11.959Z
                - commits:
                    - subject: Move require-npm4-to-publish to dev dependencies
                      hash: 084a19f61c408643d9a9448c1d656bed7791fec5
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Update dependencies
                      hash: 1b06cd6c26b60a4d043ad1aaaf6e4ab9b822ace2
                      body: |
                        Update pinejs-client-core from 5.3.6 to 5.6.11
                        Update typed-error from 3.1.0 to 3.2.0
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: update deps and specify minimum engine requirements
                              hash: 22f293afc187e67b88dab280951eb6e2bb504b24
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                          version: typed-error-3.2.0
                          date: 2019-11-20T09:52:39.017Z
                        - commits:
                            - subject: ": Fix missing `deprecated.getStringParams` function"
                              hash: 53edb7e7485acd4310e9b04291894f6ab746285a
                              body: >
                                The function `deprecated.getStringParams` was
                                used, but

                                not defined.
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Andreas Fitzek <andreas@balena.io>
                                signed-off-by: Andreas Fitzek <andreas@balena.io>
                              author: Andreas Fitzek
                          version: pinejs-client-js-5.6.11
                          date: 2020-02-21T13:35:51.993Z
                        - commits:
                            - subject: Update to resin-lint 3.x
                              hash: f1b415154cc21b9880ad8ee1134ea9340220aba2
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.10
                          date: 2020-02-14T15:37:12.741Z
                        - commits:
                            - subject: "CircleCI: Remove deploy job as it's handled by balenaCI"
                              hash: d6c9a485e0da5f6aa600597b6d076a8dce411df7
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.9
                          date: 2020-02-14T15:27:02.200Z
                        - commits:
                            - subject: Add the missing `method` on the post method
                              hash: 2f649c3157a50277f6e168a64abb1593ac9d7a4f
                              body: |
                                Fixes a regression of v5.6.7.
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                              author: Thodoris Greasidis
                          version: pinejs-client-js-5.6.8
                          date: 2020-02-14T14:59:02.633Z
                        - commits:
                            - subject: Deprecate request overrides
                              hash: 84fa00ab60a98bbe56885ee5fabcccfc876a86d6
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Deprecate queries using a string url
                              hash: 8cd9be6b0642ff5b1cba0596f827a74fd76bbff5
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Deprecate `query` in favor of `get`
                              hash: ab77d10cad0a57914018b76c9755deddb3e078ef
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.7
                          date: 2020-02-14T12:52:12.207Z
                        - commits:
                            - subject: Allow resource/$count in $filter
                              hash: 7eac38f1ed6a3bcdf1e6c4be5dde50aca953359e
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.6
                          date: 2020-02-14T12:35:22.507Z
                        - commits:
                            - subject: Remove `defaults` helper in favour of `??`
                              hash: 806852bceb07a858572511609dc88ea0b748038e
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.5
                          date: 2020-01-30T17:09:03.006Z
                        - commits:
                            - subject: Avoid allocations when destroying a poll
                              hash: 8f397a83803ae43d19331f4c32952384ba9e7fe6
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.4
                          date: 2020-01-30T16:25:12.292Z
                        - commits:
                            - subject: Improve `RawFilter` typing
                              hash: 2006d4e7f0fecbb99357b82215da28978194db41
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.3
                          date: 2020-01-30T12:59:22.535Z
                        - commits:
                            - subject: Update dependencies
                              hash: e7314acbdd029ece267a4568bf15cb5dc333eec1
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.2
                          date: 2020-01-29T21:12:32.246Z
                        - commits:
                            - subject: Switch most CODEOWNERS entries to a team
                              hash: 3ef7e0db285ae54f96aee3f52319ac8d8c4d61e8
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.6.1
                          date: 2020-01-22T16:38:22.045Z
                        - commits:
                            - subject: Add 'upsert' method supporting natural keys, requires Pinejs ^10.19.1
                              hash: c8ebfceec3ecc1cc57ee6942db35730c6d993192
                              body: >
                                Detects unique constrain errors by 409
                                statusCodes.

                                Because of this, the upsert() method is only

                                supported when Pinejs ^10.19.0 is used.
                              footer:
                                Resolves: "#77"
                                resolves: "#77"
                                Change-type: minor
                                change-type: minor
                                Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                              author: Thodoris Greasidis
                          version: pinejs-client-js-5.6.0
                          date: 2019-07-12T20:46:17.091Z
                        - commits:
                            - subject: Remove unnecessary `string` type that is handled by the `Params` type
                              hash: 0ab1242860aa8b3ed4162a5ee25081c640297676
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.5.4
                          date: 2019-06-18T14:46:38.983Z
                        - commits:
                            - subject: Use an .npmrc to prevent creating a package-lock on each install
                              hash: 993c4ae09c3ba50e1d48e4156e86a7c890e54749
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                              author: Thodoris Greasidis
                          version: pinejs-client-js-5.5.3
                          date: 2019-06-18T10:24:38.995Z
                        - commits:
                            - subject: Add some type casting so that it compiles on TypeScript 3.5
                              hash: 695c053ceab9b146a8b755f9b041eb03e70b5914
                              body: ""
                              footer:
                                Resolves: "#79"
                                resolves: "#79"
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                              author: Thodoris Greasidis
                          version: pinejs-client-js-5.5.2
                          date: 2019-06-10T10:48:07.772Z
                        - commits:
                            - subject: Fix downstream declaration creation errors due to `Dictionary`
                              hash: a8a39edff8cc7e1d05fb9b67037718970e94296c
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.5.1
                          date: 2019-05-15T13:32:13.920Z
                        - commits:
                            - subject: Add a prepare method that prepares a query into a function
                              hash: eb7eccca7d90c453710575ebdf3adb9ef56835a7
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.5.0
                          date: 2019-05-15T11:51:46.450Z
                        - commits:
                            - subject: Add CODEOWNERS
                              hash: e01174008f812e0c24ec1036aa1f9ff0bc716e85
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Gergely Imreh <gergely@balena.io>
                                signed-off-by: Gergely Imreh <gergely@balena.io>
                              author: Gergely Imreh
                          version: pinejs-client-js-5.4.1
                          date: 2019-05-10T10:14:00.677Z
                        - commits:
                            - subject: Add support for parameter aliases in resource ids
                              hash: a4e6a640a3ced56bcd3ef7bf22770338e089a90d
                              body: ""
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.4.0
                          date: 2019-05-10T09:57:46.863Z
                        - commits:
                            - subject: Deduplicate transformation of GET results
                              hash: dd856e24072f652684adf63af97408ee0ba7389c
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.3.10
                          date: 2019-05-10T09:44:09.422Z
                        - commits:
                            - subject: Simplify how we expose types, which means `subscribe` is now exposed
                              hash: f81e0cc59e75e0f9ffc71d9f122b9cfab9c05165
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.3.9
                          date: 2019-05-10T08:57:16.276Z
                        - commits:
                            - subject: Add automatic formatting via prettier
                              hash: a345d32f295acfa8ed4e5b815c24e1e7fdb335f2
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.3.8
                          date: 2019-05-09T17:38:43.260Z
                        - commits:
                            - subject: Remove node 4 build, add node 12
                              hash: 8d549277d80746feadbdd8a6bba37eb076270440
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Add .versionbot/CHANGELOG.yml for downstream changelogs
                              hash: 067bedf65e86a902b7334ed6e5f117d6ac41afde
                              body: ""
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: pinejs-client-js-5.3.7
                          date: 2019-05-08T15:41:50.201Z
                  version: pinejs-client-request-6.1.0
                  date: 2020-03-19T12:19:09.392Z
                - commits:
                    - subject: Add CODEOWNERS
                      hash: efc40c853d4392b866eb3784839871fad086fccd
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: pinejs-client-request-6.0.3
                  date: 2020-01-22T16:35:52.630Z
                - commits:
                    - subject: Add node 12 tests
                      hash: 624b1efadfbb920d718bd2f54f99e8eef0e5c645
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                    - subject: Add upstream for pinejs-client-core
                      hash: 33dc1299939483534686f52e903bb27f8a08b543
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: pinejs-client-request-6.0.2
                  date: 2019-05-08T15:57:24.879Z
                - commits:
                    - subject: Update target to es2016, part of/fixing the typed-error bump
                      hash: 6025bf882f6f2675b321571f327f59a4908da539
                      body: ""
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                  version: pinejs-client-request-6.0.1
                  date: 2019-04-23T20:43:52.266Z
                - commits:
                    - subject: "typed-error: Update to v3.1.0"
                      hash: 82e50ac9992b3a157360eef5163f43a90fa9feea
                      body: |
                        Update typed error from 2.0.0 to 3.1.0
                      footer:
                        Change-type: major
                        change-type: major
                        Signed-off-by: Will Boyce <will@balena.io>
                        signed-off-by: Will Boyce <will@balena.io>
                      author: Will Boyce
                  version: pinejs-client-request-6.0.0
                  date: 2019-04-17T15:08:00.745Z
          version: balena-supervisor-11.8.3
          date: 2020-06-18T12:26:43.171Z
        - commits:
            - subject: Make service-manager module a singleton
              hash: 0e8d92e08af5f18fce9aa9e3e1e7057c98dee1c3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Make volume-manager module a singleton
              hash: adaad786af161a7a3cdf61f2c63926e702fef790
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Make network-manager module a singleton
              hash: 8fc97b9de89392bb9e6fd562e12d261ced3990cb
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Add supervisor upgrade document
              hash: 989ec83a27621cab6c53dd026c2407dfe1b1b179
              body: ""
              footer:
                Connects-to: https://github.com/balena-io/balena-io/issues/2157
                connects-to: https://github.com/balena-io/balena-io/issues/2157
                Change-type: patch
                change-type: patch
                Signed-off-by: Hugh Brown <hugh@balena.io>
                signed-off-by: Hugh Brown <hugh@balena.io>
              author: Hugh Brown
          version: balena-supervisor-11.8.2
          date: 2020-06-17T14:59:07.731Z
        - commits:
            - subject: Update webpack dependencies
              hash: e1fb8683f4687aa0844bf73780916db34e3ebd3d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.8.1
          date: 2020-06-16T12:08:37.495Z
        - commits:
            - subject: Use API v6
              hash: 1dccbaecd8a6cd8bf551e3b56131066e9de9ed35
              body: ""
              footer:
                See: https://github.com/balena-io/open-balena/issues/80
                see: https://github.com/balena-io/open-balena/issues/80
                Change-type: minor
                change-type: minor
              author: Akis Kesoglou
          version: balena-supervisor-11.8.0
          date: 2020-06-16T09:16:47.483Z
        - commits:
            - subject: Db-format module code fixups
              hash: 695d91d4948aa5b89c602135ccc8fba8321fd8bd
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.7.3
          date: 2020-06-15T09:55:57.277Z
        - commits:
            - subject: Add label to expose gpu to container
              hash: ae646a07ec6a6c96f7cb91f1d37898a94dbab47a
              body: |
                In the absence of an upstream implementation of the DeviceRequest API introduced
                as part of Docker API v1.40 we roll our own using a feature label.

                As per my comment in the code, we fall back to the default behavior of
                docker cli's `--gpu` and request single device with the `gpu` capabilty.
                The only implementation at the moment is the NVIDIA driver; here:
                https://github.com/balena-os/balena-engine/blob/master/daemon/nvidia_linux.go

                Background on the composefile implementation:
                https://github.com/compose-spec/compose-spec/issues/74
                https://github.com/docker/compose/issues/6691
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: https://github.com/balena-os/balena-jetson/pull/75
                connects-to: https://github.com/balena-os/balena-jetson/pull/75
                Signed-off-by: Robert Gnzler <robertg@balena.io>
                signed-off-by: Robert Gnzler <robertg@balena.io>
              author: Robert Gnzler
          version: balena-supervisor-11.7.2
          date: 2020-06-11T12:11:35.793Z
        - commits:
            - subject: Move database app processing out to its own module
              hash: b31d5007fba001fcb71f5103447823f9a27bbfaa
              body: >
                This is part of the work to make the application-manager module
                much

                less monolithic, in preperation for system apps and more
                generally

                multi-app.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Make target-state-cache a singleton
              hash: c0e170c61f05a8fc01dc167276ccb041d6d2d846
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.7.1
          date: 2020-06-11T10:57:36.941Z
        - commits:
            - subject: Respect an initialDeviceName field in the config.json
              hash: b5918f0d84cea641c7ab9aae58aff99454d10253
              body: ""
              footer:
                Closes: "#909"
                closes: "#909"
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.7.0
          date: 2020-06-10T12:30:37.459Z
        - commits:
            - subject: Make images module a singleton
              hash: 2b3dc2fbcef63ae2024fe5fe41f30b0d56357943
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.6.6
          date: 2020-06-10T10:32:38.006Z
        - commits:
            - subject: "fix: API auth missing on state GET/PATCH"
              hash: b89425c6079b74c709ef9872c6fc53726ffda6d3
              body: >
                When performing a state GET/PATCH the authentication header was
                being

                missed off.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss
                signed-off-by: Rich Bayliss
              author: Rich Bayliss
          version: balena-supervisor-11.6.5
          date: 2020-06-09T14:06:37.184Z
        - commits:
            - subject: Refactored @ts-ignore to @ts-expect-error in test file
              hash: ffe814e4479a962979e759dfec8618dbfb53008b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.6.4
          date: 2020-06-08T17:28:46.843Z
        - commits:
            - subject: Make logger module a singleton
              hash: 651e48b1bd8e9a9d356b63f8cb05aaeba622840d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Fix exponential backoff for state polling
              hash: e37b52dd689692eeca818907cf0d7e5876bec0b3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.6.3
          date: 2020-06-08T16:21:57.822Z
        - commits:
            - subject: Make the event-tracker module a singleton
              hash: 389e14ec6b63cf4a997f0d25f8bbe6a6a435dd5c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.6.2
          date: 2020-06-08T09:15:03.107Z
        - commits:
            - subject: Convert all test files to TS and add .spec to all filenames
              hash: 9fc2e86322249cfbc17db446bcd204f617b0a63e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
            - subject: "fix: Pin alpine python version"
              hash: 846545648bdc98392da7972558390f1ea26bfd24
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
          version: balena-supervisor-11.6.1
          date: 2020-06-05T22:42:07.292Z
        - commits:
            - subject: Isolate target state fetching to its own module which emits on update
              hash: 17a5d8dd4918916c954990cfb9666754434ef527
              body: ""
              footer:
                Change-type: minor
                change-type: minor
              author: Pagan Gazzard
          version: balena-supervisor-11.6.0
          date: 2020-06-03T21:39:57.630Z
        - commits:
            - subject: Make docker module a singleton
              hash: aad20e2c2f9bf62dfb2e3092d898b100f911ecc5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.5.3
          date: 2020-06-02T16:59:27.552Z
        - commits:
            - subject: Make the config module a singleton
              hash: ff4a31a0e6269b823a04eeda2f433665617f583c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Co-authored-by: Pagan Gazzard <page@balena.io>
                co-authored-by: Pagan Gazzard <page@balena.io>
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.5.2
          date: 2020-06-02T13:31:37.056Z
        - commits:
            - subject: Remove unused dependencies and dedupe
              hash: 6290993a79aa2231ac19bbe80a72af72cd8ae72e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.5.1
          date: 2020-06-01T08:52:49.304Z
        - commits:
            - subject: Refactor device-state healthchecks to log reason for failure
              hash: 5550a3a330b6a27addd940c185dc7d489cd89464
              body: ""
              footer:
                Closes: "#1292"
                closes: "#1292"
                Change-type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.5.0
          date: 2020-05-29T20:26:07.486Z
        - commits:
            - subject: Update dependencies
              hash: 1decd87c21de6c6b2baf7cb9a93141c8d097b874
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.4.17
          date: 2020-05-29T18:26:52.490Z
        - commits:
            - subject: Make the db module a singleton
              hash: 1d7381327e3114c0d005316846429d26b01a3e4c
              body: >
                We were treating the database class as a singleton, but still
                having to pass

                around the db instance. Now we can simply require the db module
                and have

                access to the database handle.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.16
          date: 2020-05-29T14:03:57.770Z
        - commits:
            - subject: Check for ApiError before using it as such
              hash: 972b896c95daf1305468137aefe1e12ead0d59ee
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.15
          date: 2020-05-26T13:47:47.339Z
        - commits:
            - subject: check for 409 status code, rather than string matching uuid conflicts
              hash: eaaa9c257e750295ab6d464a7e1d2578297df84f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.14
          date: 2020-05-21T19:01:36.060Z
        - commits:
            - subject: Use safeStateClone to avoid call-stack exceeding errors
              hash: 87278c0d8c56a9c05511db83499f7476efca0edd
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.13
          date: 2020-05-21T15:49:55.857Z
        - commits:
            - subject: Improved handling of invalid appId in V2 state endpoint
              hash: db7c27037cb3cc1e5f3ef8fbc676e0ee4a2ac0a1
              body: ""
              footer:
                Closes: "#1294"
                closes: "#1294"
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.4.12
          date: 2020-05-19T14:58:36.939Z
        - commits:
            - subject: Switch to balenaApi for the state patch as patching cannot be cached
              hash: fb90042c3955e9a1a177076a711a12e226e0ab49
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.4.11
          date: 2020-05-18T18:20:33.615Z
  version: 2.52.4
  date: 2020-07-09T16:05:22.280Z
- commits:
    - subject: "systemd: Simplify zram swap unit dependencies to avoid ordering cycle"
      hash: 22a529014b649df8a9b4bf94fa9922d6d692e238
      body: |
        The default dependency:

        Before=swap.target

        Causes randomly appearing ordering cycles that leave the system in not
        functioning states.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
  version: 2.52.3
  date: 2020-07-09T08:03:52.827Z
- commits:
    - subject: "kernel-resin: Make USB_SERIAL and USB_SERIAL_GENERIC built-ins"
      hash: 32c3f173fa4b8dc69f5ce8dc404d36585ab94c5b
      body: |
        These variables are defined as a bool and not tristate so they cannot be
        configured as a module.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: "kernel-resin: Fix configuration warnings from newer kernels"
      hash: 819b7276aaa7ac4b4492fb9800ea074085c1ca82
      body: |
        Also, make the security section not checked by the builder as these
        configurations have disappeared from kernels > v4.8
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: "kernel-resin: Update balena kernel configuration for updated engine"
      hash: f57846a1246e8fff506c95ee22c3347d83a5ec2e
      body: |
        Also, move configuration that will not be present in newer kernels to
        RESIN_CONFIGS_DEP so the kernel check task does not complain when not
        present.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
  version: 2.52.2
  date: 2020-07-06T09:57:46.257Z
- commits:
    - subject: Fix up UUID variable when communicating with API
      hash: 270c13c678d6dd67b5163063c8e8d9148c9a22e0
      body: ""
      footer:
        HQ: https://github.com/balena-io/balena-io/issues/2227
        hq: https://github.com/balena-io/balena-io/issues/2227
        Changelog-entry: Fix up UUID variable when communicating with API
        changelog-entry: Fix up UUID variable when communicating with API
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
  version: 2.52.1
  date: 2020-07-02T14:30:47.139Z
- commits:
    - subject: Add compressed memory swap support
      hash: 157794a7ae5958b27152c642437c5c7fbe838364
      body: |
        Enable compressed swap using zram by default.

        Fixes #1908
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add compressed memory swap support
        changelog-entry: Add compressed memory swap support
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: "systemd-zram-swap: Add compressed memory swap support"
      hash: 4c5156543852a6c2d963bf33f4e4307a7cb303cb
      body: |
        This enables a compressed RAM swap of 25% of total system memory or 1GB,
        whichever smallest.

        Upstream Yocto has a zram implementation that's broken in warrior, and a
        new implementation introduced in Zeus that does not work in BalenaOS as
        we run two udevs, one in the initramfs and one in the main OS. The
        mkswap needs to happen in the initramfs udev otherwise the udev database
        is not updated with the swap device and the zram0 device is not detected
        by systemd.

        This implementation is simpler than the one upstream and common to all
        the supported Yocto versions. It uses a udev rule in the initramfs that
        creates the swap drive, and a swap unit in the main OS that enables it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: "kernel-resin: Built-in zram configuration"
      hash: 2fcf092e08349bc66a2a90172668024e8a589d22
      body: >
        In preparation to using zram swap drives make this configuration
        built-in

        so it is available in the initramfs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
  version: 2.52.0
  date: 2020-06-30T15:06:27.072Z
- commits:
    - subject: "resin-ntp-config: merge 'burst' command with 'add server' line"
      hash: 034ff61a58f30a980514157412c0455b52ddf744
      body: |
        When the user supplies an additional NTP server source which is a
        pool URL the 'burst' command may fail. This occurs when the pool
        URL resolves to a different IP addresses for the 'add server' and
        'burst' commands.

        To avoid this issue we can combine the burst functionality into the
        'add server' command by using the 'iburst' option. Although this
        option is not documented by the chronyc man page it has been present
        since v1.25 released in 2011.

        This fix has been tested via the balenaOS (2.51.1+rev1) command line
        running on a RPi3.
      footer:
        Change-type: patch
        change-type: patch
        Connects-to: "#1903"
        connects-to: "#1903"
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
  version: 2.51.8
  date: 2020-06-30T11:03:07.814Z
- commits:
    - subject: "resin-image: Install extra_uEnv.txt in boot partition"
      hash: e323d312f518d1ad50382a72182cb3bcb2afbd1a
      body: |
        Do so only for devices that use u-boot.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.51.7
  date: 2020-06-25T11:34:26.632Z
- commits:
    - subject: "initrdscripts: rootfs: Fix comparison to account for empty variable"
      hash: 63b3fac98b09f2a98ca44223f98cbc7c419197e3
      body: |
        Enclosing bootparam_root in between quotes makes the comparison work as
        expected with an empty argument.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Use UUID rather than ID when communicating with API
      hash: 9363bf9a0a634a5982b21870de08bc208d6e5f1f
      body: ""
      footer:
        Changelog-entry: Use UUID rather than ID when communicating with API
        changelog-entry: Use UUID rather than ID when communicating with API
        HQ: https://github.com/balena-io/balena-io/issues/2227
        hq: https://github.com/balena-io/balena-io/issues/2227
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
  version: 2.51.6
  date: 2020-06-25T08:11:55.137Z
- commits:
    - subject: Set chrony default servers as pools
      hash: 881e217ac1b1818237afb20312fd593259f44e2a
      body: >
        the `maxsources` directive is simply to maintain the current behavior of

        resolving four servers for synchronization. as noted in chrony's docs:


        > When a pool source is unreachable, marked as a falseticker, or has a
        distance larger than the limit set by the maxdistance directive, chronyd
        will try to replace the source with a newly resolved address from the
        pool.
      footer:
        Connects-to: "#1852"
        connects-to: "#1852"
        Change-type: patch
        change-type: patch
        Changelog-entry: Set chrony default servers as pools
        changelog-entry: Set chrony default servers as pools
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
  version: 2.51.5
  date: 2020-06-18T14:02:47.372Z
- commits:
    - subject: Generate nested changelogs for balena-engine
      hash: 16b4760bfe6958bacf67b00100ac5f8fc37fe6bd
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
  version: 2.51.4
  date: 2020-06-15T15:27:55.173Z
- commits:
    - subject: Revert allowing local resin-supervisor image updates
      hash: 1f689dbd57faf558dedf245462ed7c869a1aeb1a
      body: >
        The change this commit reverts allowed to update with a locally

        available image - but it also has the side effect of restarting the

        supervisor even if no update is required and that has unintentional

        consequences as
        https://github.com/balena-io/balena-supervisor/issues/1358


        This commit reverts 646e4ae809375f4abf35c55cd580e2c62a8812e2
      footer:
        Changelog-entry: Revert allowing local resin-supervisor image updates
        changelog-entry: Revert allowing local resin-supervisor image updates
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
  version: 2.51.3
  date: 2020-06-10T10:22:46.347Z
- commits:
    - subject: Disable u-boot console, silence u-boot in production builds
      hash: 908590c49f7f4f89bfd1c2f8fdcaf8a0f3f3eceb
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Disable u-boot console, silence u-boot in production builds
        changelog-entry: Disable u-boot console, silence u-boot in production builds
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Florin Sarbu
  version: 2.51.2
  date: 2020-06-08T15:34:26.850Z
- commits:
    - subject: "openvpn: Add runtime dependency on bash"
      hash: f84dcfdd4493ee23c84940348dbbffff9ced48a2
      body: >
        The dependency is introduced by the upstream.sh and downstream.sh
        scripts.

        Bash is also a dependency not only for internal packages but for
        external

        scripts too.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Willem Remie
  version: 2.51.1
  date: 2020-06-04T10:21:31.775Z
- commits:
    - subject: "balena-engine: Update to 19.03.13"
      hash: 6c08852dfad1bd4d62b4e86ce90602d0610e75b0
      body: |
        We also strip the binary using go's built-in mechanism instead
        of relying on yocto for it.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
  version: 2.51.0
  date: 2020-06-03T09:11:52.603Z
- commits:
    - subject: Use correct SRC_URI for bindmount
      hash: 38b1761db39bdd566396d0a2bbad1eda9273bf5d
      body: |
        The repo has changed and we need to accomodate for that change.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Use correct SRC_URI for bindmount
        changelog-entry: Use correct SRC_URI for bindmount
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.50.4
  date: 2020-06-02T12:50:09.159Z
- commits:
    - subject: "os-helpers-fs: Fix shellcheck warnings"
      hash: 746cabdd234e9b94aeb6bd71289ac87d996301be
      body: |
        Fix all warnings from the shellcheck linter.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Fallback to label root device matching to support devices with closed
        source bootloaders
      hash: f41735550c6e29ecd520e58f84c2281e4daf6c9f
      body: >
        Devices with closed source bootloaders that cannot be made to pass the
        UUID

        of the booting device (like smartphones, Jetson NX and Xabier), need to

        fallback to passing a label in the kernel command line.


        Fixes #1905
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fallback to label root device matching to support devices with
          closed source bootloaders
        changelog-entry: Fallback to label root device matching to support devices with
          closed source bootloaders
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Fallback to labels and partlabels for devices with custom HUPs
      hash: e267e1dd2fcd4a841b09ba204bee6a58403a316c
      body: >
        Devices with custom HUPs, like Jetson devices that run BSP partition
        update

        scripts, do not have state symlinks when updating from legacy pre state

        symlinks OS versions, so they need to fallback to legacy label/partname

        resolution.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fallback to labels and partlabels for devices with custom HUPs
        changelog-entry: Fallback to labels and partlabels for devices with custom HUPs
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
  version: 2.50.3
  date: 2020-06-01T12:36:08.312Z
- commits:
    - subject: Enable the Analog Devices AD5446 kernel driver
      hash: 0231d9c4b33cd3fed9e4f552e3a9b916184e9b9f
      body: |
        At customer request we enable this driver.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Enable the Analog Devices AD5446 kernel driver
        changelog-entry: Enable the Analog Devices AD5446 kernel driver
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.50.2
  date: 2020-05-27T11:16:26.872Z
- commits:
    - subject: "networkmanager: Remove build warning"
      hash: 5e5aa5c01e3f47a26ae055bb7b4fe44202a9b2f1
      body: >
        Include BPN in the generic bbappends extra path to avoid the

        following warning:

            WARNING: networkmanager_1.16.0.bb: Unable to get checksum for networkmanager SRC_URI entry 0001-wwan-Set-MTU-based-on-what-ModemManager-exposes.patch: file could not be found
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Remove busybox-syslog to use only systemd's journald
      hash: 9a1cedd66bbf298385c0a8460b3f9c3bb2da2f9e
      body: |
        All logging is handled by journald so remove the default dependency on
        busybox-syslog. It is still available to be explicitely included in
        images that might need it like initramfs images.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Remove busybox-syslog to use only systemd's journald
        changelog-entry: Remove busybox-syslog to use only systemd's journald
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Update CODEOWNERS
      hash: 272d16d3d12c4dc8f02a62d3edbe2eee6a1fca75
      body: |
        Update codeowners. @ZubairLK thanks for all the fish.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Backport NM patch for setting modem MTU correctly
      hash: fe7f8a33b1298f971b6dbc636bd06f86157196ce
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Backport NM patch for setting modem MTU correctly
        changelog-entry: Backport NM patch for setting modem MTU correctly
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: "update-resin-supervisor: short circuit if remote image cannot be
        fetched"
      hash: 859d4cba74bbbcdfbdcdc4ab8c7c8e7471d8c676
      body: ""
      footer:
        Changelog-entry: "update-resin-supervisor: short circuit if remote image cannot
          be fetched"
        changelog-entry: "update-resin-supervisor: short circuit if remote image cannot
          be fetched"
        HQ: https://github.com/balena-io/balena/issues/2108
        hq: https://github.com/balena-io/balena/issues/2108
        Connects-to: "#1869"
        connects-to: "#1869"
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
    - subject: Update balena-supervisor from v11.4.1 to v11.4.10
      hash: 98c7f8fae159151bea3c475747b7838d4b4a4174
      body: |
        Update balena-supervisor from v11.4.1 to v11.4.10
      footer:
        Changelog-entry: Update balena-supervisor from v11.4.1 to v11.4.10
        changelog-entry: Update balena-supervisor from v11.4.1 to v11.4.10
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Fix leftover spurious return from typescript conversion
              hash: 6972dcd92d36576517681685a129e89a8a06f722
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.10
          date: 2020-05-18T14:23:19.048Z
        - commits:
            - subject: Catch errors in the target state poll so polling will always continue
              hash: dc187f0036875345ab489d14889c488eead24dc2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.4.9
          date: 2020-05-18T13:17:23.537Z
        - commits:
            - subject: Avoid querying `instantUpdates` on every state poll
              hash: afae5d15d49a75168ebe6d4f8911e96918d0da5e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.4.8
          date: 2020-05-18T12:25:53.833Z
        - commits:
            - subject: Fix default request options
              hash: b05d597ade83fcb1a58021ade0c11f70d232a39f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.4.7
          date: 2020-05-16T13:08:14.505Z
        - commits:
            - subject: Remove CoffeeScript tests and all CoffeeScript tools
              hash: 466c7999dbbe19acf7bfc2dff260778d229b5524
              body: ""
              footer:
                Closes: "#1318"
                closes: "#1318"
                Change-Type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.4.6
          date: 2020-05-15T17:04:23.719Z
        - commits:
            - subject: Update to @balena/lint 5.x
              hash: 758f3caa48a53c00dd3230fe97e2f704968c4eb6
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.4.5
          date: 2020-05-15T11:11:04.464Z
        - commits:
            - subject: Add a random offset to the poll interval with each poll
              hash: 58c6a69e5a6045e898ce5748089f4dcad7d12bc3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#1242"
                closes: "#1242"
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.4
          date: 2020-05-15T09:36:33.693Z
        - commits:
            - subject: Cache service names in local log backend
              hash: 0bceffffb61a5970db0293a8f6d83fe8015163ef
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.3
          date: 2020-05-14T08:43:43.453Z
        - commits:
            - subject: Update engine information in package.json
              hash: bbfd87d3257dec064f62dc05ee7d523593e8f415
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.4.2
          date: 2020-05-13T08:49:32.854Z
  version: 2.50.1
  date: 2020-05-21T13:40:07.611Z
- commits:
    - subject: Use /tmp as bootparam_root storage
      hash: bab3cd7f50022127bfef50fde9cd445b6b55a7b2
      body: >
        From v2.49, the hostapp-update utility creates the /run directory in the

        root filesystem, however when huping from previous versions /run is not
        there.


        This commit switches to use /tmp to store the new UUID for the root
        partition on

        first boot after generating new UUIDs.
      footer:
        Changelog-entry: Use /tmp as bootparam_root storage
        changelog-entry: Use /tmp as bootparam_root storage
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Update to libqmi v1.24.10
      hash: c287550b2b2ca78c515b2d3336c5622af0c28303
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update to libqmi v1.24.10
        changelog-entry: Update to libqmi v1.24.10
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
    - subject: Set rust 1.36 as the preferred rust version from meta-balena-common
      hash: f0217237cd3c56dcada8909af1ba871356aaff8a
      body: |
        rust is used for various utilities in the OS.
        e.g. os-config, healthdog, bindmount, some others maybe

        At the moment, we haven't syncronized on one rust version and device
        integration layers can pick any meta-rust version. Which probably uses
        the latest rust version in the layer.

        Lets sync on 1.36 and move in steps when needed.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Set rust 1.36 as the preferred rust version from meta-balena-common
        changelog-entry: Set rust 1.36 as the preferred rust version from meta-balena-common
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Turn off wlan0 power save
      hash: 6aec8dc1e97d3a7cdbf494909c1696a4ebd1eb04
      body: |
        The power save has been switched from 'off' to 'on' in adf69fb
        with no apparent motivation, we consider it an oversight
        and the desired state is 'off'.

        Fixes #1850
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Turn off wlan0 power save
        changelog-entry: Turn off wlan0 power save
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
    - subject: Update os-config from 1.1.3 to 1.1.4
      hash: d5b311daccb6c4b3152562ab67d6ed3e4df608e1
      body: |
        Fixes versionbot's nested changelogs.

        Update os-config from 1.1.3 to 1.1.4
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update os-config from 1.1.3 to 1.1.4
        changelog-entry: Update os-config from 1.1.3 to 1.1.4
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
      nested:
        - commits:
            - subject: "versionbot: Add changelog yml file"
              hash: 9b35f5e9cb6b27b92f7dc578a92532ade36c7a36
              body: >
                This file allows other components to uniquely parse the
                information that

                is contained in the changelog. It will be automatically managed
                by

                versionist by appending the new commits on top. This is needed
                to

                provide nested-changelogs.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
          version: os-config-1.1.4
          date: 2020-05-13T11:32:03.684Z
    - subject: Update balena-supervisor from v11.3.0 to v11.4.1
      hash: 4aafd0dc1991f34a64a2336876f95c71cf121178
      body: |
        Update balena-supervisor from v11.3.0 to v11.4.1
      footer:
        Changelog-entry: Update balena-supervisor from v11.3.0 to v11.4.1
        changelog-entry: Update balena-supervisor from v11.3.0 to v11.4.1
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Correctly check if value is a valid Integer
              hash: 838c1ebba4c3d4cba31f5ef233f09020fa3d03f7
              body: ""
              footer:
                Closes: "#1180"
                closes: "#1180"
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.4.1
          date: 2020-05-12T16:50:20.376Z
        - commits:
            - subject: Added endpoint to check if VPN is connected
              hash: 8295858b328d885782c6f0cead44248b1f17fd50
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.4.0
          date: 2020-05-12T01:24:43.749Z
        - commits:
            - subject: Fixed stubs for test suite
              hash: f6aa4dd015e8bd07c795f6c1e70adf99a6ffec94
              body: ""
              footer:
                Closes: "#1280"
                closes: "#1280"
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.3.11
          date: 2020-05-11T22:19:04.161Z
        - commits:
            - subject: Added more documentation to help new contributors start developing
              hash: 856e7cba2cc767ded0eeb5186a1cce19ea447735
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.3.10
          date: 2020-05-11T19:32:42.867Z
        - commits:
            - subject: Fix dindctl script and update balenaos-in-container
              hash: c317b02aef0bd2496f39ab245fa7c670e806f2e3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#1306"
                closes: "#1306"
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.3.9
          date: 2020-05-11T13:16:55.781Z
        - commits:
            - subject: Remove unnecessary config.json keys
              hash: 913418bb37aafe1e66dcc9cd6e1f84e89dee4712
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.3.8
          date: 2020-05-08T11:59:18.907Z
        - commits:
            - subject: "CI: Use node 12 for tests to match runtime version"
              hash: 095f67c83011b60a06d75c5f0432937b93049ad5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: "CI: Use docker 18 client to match remote"
              hash: 8c1838fd5ea0d36787857d7040f8359d9618c061
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.3.7
          date: 2020-05-08T11:43:11.578Z
        - commits:
            - subject: Move SupervisorAPI state change logs to appropriate functions
              hash: 60c07fc2fc2c352091995c2e599752fb12c05148
              body: ""
              footer:
                Closes: "#1277"
                closes: "#1277"
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.3.6
          date: 2020-05-07T17:53:21.140Z
        - commits:
            - subject: Add 20k-ultra to codeowners
              hash: 74d012dc7f972ad30896007e78386a9c03224a05
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.3.5
          date: 2020-05-07T16:11:47.494Z
        - commits:
            - subject: Don't use the openvpn alias to check VPN status
              hash: 8f09022d1fd85f63d760017e19150b0f23a2884a
              body: ""
              footer:
                Closes: "#1293"
                closes: "#1293"
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.3.4
          date: 2020-05-06T16:19:09.090Z
        - commits:
            - subject: Use lstat rather than stat to avoid error with symlinks in sync
              hash: a7399fd78b914e6dccacd2935cd98f77176d65d8
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#1301"
                closes: "#1301"
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.3.3
          date: 2020-05-06T12:51:38.623Z
        - commits:
            - subject: Move build files into build-conf and rename to build-utils
              hash: 02d088d351327ee5cab46029efb3ca7dce067fd6
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Fix knex migration require translation
              hash: 585bd803134db999425fae322fd4e7259caaa27a
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#1274"
                closes: "#1274"
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.3.2
          date: 2020-05-05T16:58:04.403Z
        - commits:
            - subject: Remove legacy fallback to DROP rule in iptables
              hash: 31957566e5f5b21910988319472721ce2a931a38
              body: >
                This has not been necessary for a long time, and wwe can now
                remove it.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Add an ESTABLISHED flag to API iptables rules
              hash: 7b1f03ced509cdbdbea950e079ba2fab5c3699bb
              body: >
                This allows a response to an input with dport=`supevisor api
                port` and

                is required when the host OS is doing stateful firewalling.


                This should not affect things when stateful firewalling is not
                in

                effect, as the standard OUTPUT chain policy is ACCEPT, so we're
                just

                being explicit about it.
              footer:
                Change-type: patch
                change-type: patch
                Backport-to: next, current, sunset
                backport-to: next, current, sunset
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Add ESR information to repo.yml
              hash: 7f5395da885146ccf707fa52f0916afa7c832eeb
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.3.1
          date: 2020-05-05T11:18:20.667Z
    - subject: Update balena-supervisor from v10.11.0 to v11.3.0
      hash: 02dfac89f28dbf94f5069a68613147674f6c6c8b
      body: |
        Update balena-supervisor from v10.11.0 to v11.3.0
      footer:
        Changelog-entry: Update balena-supervisor from v10.11.0 to v11.3.0
        changelog-entry: Update balena-supervisor from v10.11.0 to v11.3.0
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Added Bearer Authorization spec
              hash: 2007a98940ea93f8064b045fce52133a4b48bac0
              body: ""
              footer:
                Closes: "#1249"
                closes: "#1249"
                Change-type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.3.0
          date: 2020-05-04T17:26:19.216Z
        - commits:
            - subject: Added explanation README for running specific tests
              hash: a8ac3d0bc9344653d68c43fe3298171b379823d7
              body: ""
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.2.0
          date: 2020-04-30T19:05:08.820Z
        - commits:
            - subject: Remove coverage running and modules
              hash: 6c360c2273ad2ab66ed254a1172f138d4c1430d8
              body: >
                The coverage no longer works with es2020, and nobody really pays
                any

                attention to the coverage as it is.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.11
          date: 2020-04-28T12:56:50.014Z
        - commits:
            - subject: Update balena-register-device to fix provisioning
              hash: 7c27a561a8401054304fb967d5805b446e0cb3a1
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.10
          date: 2020-04-27T17:48:09.624Z
        - commits:
            - subject: Added protocol to semver.org link
              hash: f9d7951cc5c1b20e989d04471a73d491118b3dfe
              body: ""
              footer:
                Closes: "#1256"
                closes: "#1256"
                Change-type: patch
                change-type: patch
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
          version: balena-supervisor-11.1.9
          date: 2020-04-22T21:42:29.017Z
        - commits:
            - subject: Actually remove dbus-native dependency
              hash: 508708aa32a56f23cc3a8df9e8071d340879a936
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.8
          date: 2020-04-21T13:30:10.250Z
        - commits:
            - subject: Fix livepush predicate for POSIX sh in entry.sh
              hash: e2eba6280d19e5d74c9e3bb7bbfeea797378b08d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.7
          date: 2020-04-21T11:59:25.840Z
        - commits:
            - subject: Remove double printing of API status error
              hash: f599799950c9182cf97ef40dd894feb25c833e67
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.6
          date: 2020-04-21T08:57:07.074Z
        - commits:
            - subject:  Upgrade migrations to work with knex
              hash: f79142482921bf925e8bbf879b04ea533b5e01cd
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject:  Upgrade knex to avoid CVE-2019-10757
              hash: a43d71d1ac6d6d09b3fb6375a5ad97690fd979c1
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.5
          date: 2020-04-15T12:40:19.254Z
        - commits:
            - subject:  Also watch js files during livepush
              hash: aa46be93d43540793245c0f6c2e895f32fb44e1e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Clear changed files after successful livepush invocation
              hash: 4f2a534075ae2c6037070ef90f38a3066d08c53e
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Use livepush commands for copying and running dev specific steps
              hash: 67c3055fd4be341248a213828550b2b04ccc2677
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.4
          date: 2020-04-14T09:53:51.068Z
        - commits:
            - subject:  Update supervisor to node12
              hash: 826eec2e4fe29860d23cf6c2276390b5c7f26a09
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.3
          date: 2020-04-13T13:40:05.787Z
        - commits:
            - subject: Move from dbus-native to dbus
              hash: 37feb7e325ccf8639680e9a1f274b5755e5d35a2
              body: ""
              footer:
                Closes: "#1049"
                closes: "#1049"
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.2
          date: 2020-04-13T09:36:34.724Z
        - commits:
            - subject: Update copy-webpack-plugin
              hash: e5f1a6b6ed7473ebfaa9f67ec0d258e9edef38b7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Update ts-loader to 6.x
              hash: 59f300df629422284665b19b5cf9d931bfc30fcf
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Update fork-ts-checker-webpack-plugin to 4.x
              hash: 9ed36ec00651199dc92afee1a41e6ef5bb8534c7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.1.1
          date: 2020-04-10T11:51:52.777Z
        - commits:
            - subject: Support matching on device type within contracts
              hash: c9c0e650cb0f6655ac5a6c545e6b009c6fe6fa1c
              body: ""
              footer:
                Closes: "#1191"
                closes: "#1191"
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.1.0
          date: 2020-04-09T09:47:30.853Z
        - commits:
            - subject: Workaround a circular dependency
              hash: a59af6abe894000cd9cdc43d6963bdfc572e2f2b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.0.9
          date: 2020-04-08T16:43:14.411Z
        - commits:
            - subject: Link sqlite with a system sqlite for quicker builds
              hash: b6dde69c4f8b52fa4928242d5b04d9c203f64c65
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.0.8
          date: 2020-04-08T13:06:43.833Z
        - commits:
            - subject: Convert application-manager.coffee to javascript
              hash: a2ec35456b8bc23641144fb0f7136d1d364f1fce
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.0.7
          date: 2020-04-08T11:18:00.532Z
        - commits:
            - subject: Don't sync test files with livepush
              hash: 6dda0efa1fc54765450aac235393883f293b9bc5
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.0.6
          date: 2020-04-08T07:44:13.444Z
        - commits:
            - subject: Add newTargetState event and use it for backup loading
              hash: 0a429f60a5dc93a428e5e88932e7d2bbcdb81b36
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.0.5
          date: 2020-04-07T13:53:23.726Z
        - commits:
            - subject: Don't wrap UpdatesLockedErrors with a detailed error
              hash: dda627021991f45818ce723e0ee83c085b2c785d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.0.4
          date: 2020-04-07T12:15:24.426Z
        - commits:
            - subject: Allow spaces in volume definitions
              hash: 0950b66c52f2af10fcd44cb60f1b18007dd8aef0
              body: ""
              footer:
                Closes: "#1247"
                closes: "#1247"
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.0.3
          date: 2020-04-07T09:38:43.764Z
        - commits:
            - subject: Update to balena-register-device 6.0.1
              hash: 81927d78612aa5944aab8a1322735e32c311d927
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-11.0.2
          date: 2020-04-06T16:47:10.397Z
        - commits:
            - subject: Don't mangle names when minimising with webpack
              hash: 6fe3bfa4f2668fd364a977ccf4830e91b07fd47a
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.0.1
          date: 2020-04-06T12:39:03.990Z
        - commits:
            - subject:  Update synchronisation scripts for supervisor development
              hash: 8ab63656bd483645fe0238fee2a1824158f3f453
              body: >
                We move the old sync.js script to tools/, and delete the
                now-broken

                sync-debug.js.


                We add a command `npm run sync`, which starts a livepush process

                with the supervisor on a device.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject:  Move to an alpine base image and drop i386-nlp support
              hash: 3690acbd70df726030b648a1c32a9b2b21015232
              body: >
                We also remove the Makefile to go to a simpler build system, as
                long with

                the retry_docker_push.sh file. We remove the rest of the
                automation tools

                as they're no longer used and update the circle.yml file.


                We also remove debug builds, as these aren't needed moving
                forward, and were

                only to enable livepush builds.
              footer:
                Change-type: major
                change-type: major
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-11.0.0
          date: 2020-04-06T12:07:51.757Z
        - commits:
            - subject: Convert test/18-startup.coffee to typescript
              hash: d3221ca235aa0bd22191516f3eeebcabdf32e94b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Convert test/19-compose-utils.coffee to javascript
              hash: 70b07055513f8948bf4c9867718ed4df3df61bc1
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Convert test/18-compose-network.coffee to javascript
              hash: 98e956831a4f8dc9e7e08bc98b21c0f8dd89e263
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Convert test/17-config-utils.spec.coffee to javascript
              hash: d3cf650ac48e94a1f7040b72b497e11945671015
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Convert test/16-ports.spec.coffee to typescript
              hash: dcb01cb8632c6a438e3989e6cbcdf2639d0367ba
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Convert test/15-conversions.spec.coffee to javascript
              hash: 515fb059f409ba33b0537c778e7d8191bf387a48
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Convert test/12-logger.spec.coffee to javascript
              hash: fd4cec31e7473d53ffa6a8650b341e7dec49a2cf
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.11.3
          date: 2020-04-02T13:29:44.498Z
        - commits:
            - subject: Pass in deviceId when fetching device tags
              hash: 3c59944ce126570cc814626f20a9d67d6e67ff4d
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Closes: "#1237"
                closes: "#1237"
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.11.2
          date: 2020-03-31T11:48:13.361Z
        - commits:
            - subject:  Update resin-lint -> balena-lint in lintstaged
              hash: 2433f9a343d26233fff3d5bed14a548feded23ad
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.11.1
          date: 2020-03-30T17:41:43.882Z
    - subject: Update os-config from 1.1.1 to 1.1.3
      hash: 6119e57e24ecf30077da00d47057b688940e43ae
      body: |
        Updates for rust 1.36 and improvements related to getrandom on devices
        with lower entropy.

        Update os-config from 1.1.1 to 1.1.3
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update os-config from 1.1.1 to 1.1.3
        changelog-entry: Update os-config from 1.1.1 to 1.1.3
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
      nested:
        - version: os-config-1.1.3
          date: 2020-03-24T17:32:02.000Z
          commits:
            - hash: ae2daf2a2005c5706ac65e0c6dd67283d35b0f2b
              author: Zahari Petkov
              footers:
                change-type: patch
                signed-off-by: Zahari Petkov <zahari@balena.io>
              subject: Reorder module dependencies
              body: null
            - hash: b5947fea2b08a5daf87695b9347ad104e0e9160c
              author: Zahari Petkov
              footers:
                change-type: patch
                signed-off-by: Zahari Petkov <zahari@balena.io>
              subject: Pin serde version to v1.0.94
              body: |-
                Needed since meta-rust is not configuring the i686-poky-linux
                target correctly for 64-bit atomics support.
        - version: os-config-1.1.2
          date: 2020-02-04T12:37:15.000Z
          commits:
            - hash: 73593533237275c346987d6f70b776445e901829
              author: Zahari Petkov
              footers:
                change-type: patch
                signed-off-by: Zahari Petkov <zahari@balena.io>
              subject: Block on random until success
              body: >-
                On Raspberry Pi Zero W sometimes getrandom is not ready yet at
                the moment of

                os-config launch:

                ```

                could not initialize thread_rng: All entropy sources failed
                (permanently unavailable);

                cause: getrandom not ready (not ready yet);

                cause: Resource temporarily unavailable;

                ```

                This change makes sure we are cycling until a random sequence is
                populated successfully.
            - hash: 14a19bf24e258c01a294bd7adfa808fddee59096
              author: Zubair Lutfullah Kakakhel
              footers:
                signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
              subject: Use parse_filters instead of parse
              body: parse_filters is deprecated
  version: 2.50.0
  date: 2020-05-13T16:49:21.997Z
- commits:
    - subject: "balena-host: Ignore environment file if it does not exist"
      hash: 692a06a70536b9fcda79d5a0b28b23f384b9bb78
      body: >
        Instruct the service to ignore the environment file if it does not
        exist.

        This avoids the service failing if the file does not exist.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Bump balena-engine to 18.09.17
      hash: ab54fcc710e8a7ef1857dae40710f6d2972e2ef7
      body: |
        Fixes the bug in mobynit caused by the recent work on the graphdriver
        system
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
    - subject: "networkmanager: Use absolute path in drop-in"
      hash: 27f6f9467853b8308b5f27121878c61fc0d8dbf4
      body: |
        systemd requires executable paths to be absolute. This causes an error
        in the system journal.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Sven Schwermer <sven.schwermer@disruptive-technologies.com>
        signed-off-by: Sven Schwermer <sven.schwermer@disruptive-technologies.com>
      author: Sven Schwermer
    - subject: Update ModemManager to v1.12.8
      hash: 64685fe79eebc7b59ec4e11b32d9491085928334
      body: |
        Fixes #1859
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update ModemManager to v1.12.8
        changelog-entry: Update ModemManager to v1.12.8
        Signed-off-by: Michal Toman <michalt@balena.io>
        signed-off-by: Michal Toman <michalt@balena.io>
      author: Michal Toman
    - subject: Update balena-engine to 18.09.16
      hash: 2d0d1b7f8f4ef93d0778ed3ab9c3c2d87d978113
      body: |
        which includes Roman's work to fix the layer leaking bugs
        Also switch to 18.09-balena branch to prepare for the release of
        balena-engine 19.03
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-engine to 18.09.16
        changelog-entry: Update balena-engine to 18.09.16
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
    - subject: Add support for using udev by-state links in balenaOS
      hash: d1a351cc574655be3079844263dbeeb62190d028
      body: |
        Fixes #1092
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support for using udev by-state links in balenaOS
        changelog-entry: Add support for using udev by-state links in balenaOS
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Add initramfs module to regenerate default filesystem UUIDs
      hash: b802528c7427f50e96b88665f53071f1408b0baa
      body: |
        This module is launched at early boot and regenerates filesystem UUIDs
        if required.

        This commit is a re-work of previous work by Andrei Gherzan.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add initramfs module to regenerate default filesystem UUIDs
        changelog-entry: Add initramfs module to regenerate default filesystem UUIDs
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Create udev state symlinks for all partitions
      hash: b7f63b18bcebf663d4d4d366dc78abe08c15925d
      body: >
        When a partition filesystem label is detected, udev checks whether the

        device belongs to the same disk as the root partitition passed in the

        kernel command line by the bootloader. Only if it does, it creates a
        by-state

        link to it.


        By using this by-state links we avoid filesystem label clashes as the

        system will always use partitions in the same drive as root (as

        instructed by the bootloader who is the source of truth).
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Create udev state symlinks for all partitions
        changelog-entry: Create udev state symlinks for all partitions
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: "initramfs-framework: Add os-helpers to module prepare"
      hash: 291930ecd3fc7d02ae0b0f6a4012c34f0e697c10
      body: |
        The different initramfs modules make use of os-helpers so let the
        prepare module source them.

        Also, Store initramfs logs to a tmpfs location /run/initramfs

        This commit is a re-work of previous work by Andrei Gherzan.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Fix initramfs fsck warnings for the boot partition
      hash: 67a59e09c3ae628b4a44828b9152050b9374c2c3
      body: |
        When running fsck, the tool will complain when needed gconv modules are
        missing. Include them in the initramfs where we fsck the boot partition.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix initramfs fsck warnings for the boot partition
        changelog-entry: Fix initramfs fsck warnings for the boot partition
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Switch to built-in FAT kernel configs
      hash: d892362e92f8af709aa000dfb328f2931aedfb85
      body: |
        balenaOS uses FAT as a fs type for the boot/first partition. This is
        currently hardcoded so let's have the related kernel configs built in
        the kernel image. In this way we don't have to handle kernel modules in
        the initramfs (when needed).
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Switch to built-in FAT kernel configs
        changelog-entry: Switch to built-in FAT kernel configs
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-supervisor from v10.8.0 to v10.11.0
      hash: 284f5198d7a6a2fba656af35dd7afb8e0091290f
      body: |
        Update balena-supervisor from v10.8.0 to v10.11.0
      footer:
        Changelog-entry: Update balena-supervisor from v10.8.0 to v10.11.0
        changelog-entry: Update balena-supervisor from v10.8.0 to v10.11.0
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
      nested:
        - commits:
            - subject: Add BALENA_DEVICE_ARCH environment variable for containers
              hash: 3af89cd13fce04f43332c1d4502e2edf07a22141
              body: ""
              footer:
                Closes: "#1232"
                closes: "#1232"
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.11.0
          date: 2020-03-30T15:42:53.398Z
        - commits:
            - subject: Don't throw an error when getting an unhealthy state
              hash: 6b827a3f57f242e36e2a008632a28199ba569f63
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.10.15
          date: 2020-03-30T09:10:59.937Z
        - commits:
            - subject: Convert src/device-api/common.coffee to javascript
              hash: 15fca80d2ddb16b368f0d2c34fb56b5b9bb6217f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.14
          date: 2020-03-28T13:43:13.705Z
        - commits:
            - subject: Switch to mz for the proxyvisor
              hash: 6ab69e1a69cf839538812aff3b9dc72c5a7937ef
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Convert proxyvisor to javascript
              hash: c1e5b98ae562851be61f74583743298803bf5195
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.13
          date: 2020-03-27T17:53:13.782Z
        - commits:
            - subject: Remove unnecessary code from application-manager
              hash: 686f72ecf78d3f7a1b93102fd161cca8c562bfb7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Switch to a named export for application-manager
              hash: 968e2ba0fb1dc99b826e8f32a23d10945697f340
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.12
          date: 2020-03-26T23:53:03.757Z
        - commits:
            - subject: Convert device-api/v1 to javascript
              hash: 56c13fb96346e9100a60f1da881f6cf670c2793f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.11
          date: 2020-03-25T12:19:20.194Z
        - commits:
            - subject: Update livepush
              hash: 2ff8fccb5e71a851634f8bd668f63526f48ea4c4
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.10.10
          date: 2020-03-24T18:10:13.063Z
        - commits:
            - subject: Add type checking for javascript files
              hash: 9c3295c91248f125e20ccfb10a064f2a2def0431
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.9
          date: 2020-03-24T16:40:43.161Z
        - commits:
            - subject: Pin resin-cli-visuals to avoid build error of lzma-native
              hash: 35e73941c57ff63164cf0876fbb9509107e5e3f2
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Update dependencies
              hash: f2c606e1f9d37b6fefc345e42659b9ed364cba40
              body: |
                We also pin livepush in place while
                https://github.com/balena-io-modules/livepush/issues/67
                is fixed.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.10.8
          date: 2020-03-24T14:54:44.950Z
        - commits:
            - subject: Avoid any transpilation of node_modules
              hash: 8fccc4a107fa965dfd60a861ba5e831c12632631
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.7
          date: 2020-03-24T12:46:30.864Z
        - commits:
            - subject: Add transpilation for javascript files to ease node 6 compatibility
              hash: 8fc11df95912c6fd15d05c1cdc9fcdba854b2727
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Add a precheck that linting/tests work on node 10
              hash: 7945bb5a77f29775233dea2695e1c20d79545f57
              body: |
                This allows us to avoid re-linting for every arch
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
            - subject: Update to balena-lint and enable javascript linting
              hash: 81966446d97b3989e65be22b7d2dec379d3bcb32
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.6
          date: 2020-03-24T09:31:13.247Z
        - commits:
            - subject: "Tests: Add missing await"
              hash: 7e6d32516de84dbaed222651e48895dc0136b2e7
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.5
          date: 2020-03-23T19:05:23.280Z
        - commits:
            - subject: "docs: Clarify update locks for multicontainer applications"
              hash: a6b0c50d8effc9c63fe92d68cb4efbe397a1e05f
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Gareth Davies <gareth@balena.io>
                signed-off-by: Gareth Davies <gareth@balena.io>
              author: Gareth Davies
          version: balena-supervisor-10.10.4
          date: 2020-03-16T21:12:52.849Z
        - commits:
            - subject: "logging: fix up some typos"
              hash: ab7e8b55140cc3169e9337f8c29a77468b13be7c
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
          version: balena-supervisor-10.10.3
          date: 2020-03-16T19:31:23.505Z
        - commits:
            - subject: Bump acorn from 5.7.3 to 5.7.4
              hash: f8363fc72b21386cc3561be576d8f21ec0463c89
              body: |
                Bumps [acorn](https://github.com/acornjs/acorn) from 5.7.3 to 5.7.4.
                - [Release notes](https://github.com/acornjs/acorn/releases)
                - [Commits](https://github.com/acornjs/acorn/compare/5.7.3...5.7.4)
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: dependabot[bot] <support@github.com>
                signed-off-by: dependabot[bot] <support@github.com>
              author: dependabot[bot]
          version: balena-supervisor-10.10.2
          date: 2020-03-16T15:05:54.513Z
        - commits:
            - subject: Update dependencies
              hash: 6e3db3bd602d30ae3d377a1526c9b904c90a6cf3
              body: ""
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
          version: balena-supervisor-10.10.1
          date: 2020-03-13T17:21:22.854Z
        - commits:
            - subject: Allow semver comparison on l4t versions in contracts
              hash: 5c50f656c33954de6f4c07f8b6c892b4bf9953cf
              body: >
                We add an implicit .0 to the end of l4t versions which do not
                fulfill

                semver, which allows us to always match using comparison
                operators, such

                as < and <=.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Allow l4t versions with three numbers as well as two
              hash: 7d47661928288160c0a636cb630cb0ccc2292d91
              body: ""
              footer:
                Closes: "#1210"
                closes: "#1210"
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.10.0
          date: 2020-03-06T15:56:42.924Z
        - commits:
            - subject: "config: Support loading SSDT via ConfigFS"
              hash: e0d2bdfaa98fe8c8d56fe981e530e6c96aef92a6
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
          version: balena-supervisor-10.9.2
          date: 2020-03-05T13:33:03.818Z
        - commits:
            - subject: Convert device-state module to typescript
              hash: c21da8f3dbafe965ad0fae12b027066208debd12
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Improve application-manager typings
              hash: 23094425555f0d1ef9c04c2bc500c19f62984503
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
            - subject: Improve and extend internal typings
              hash: e161888516e7f234154245cfc8c9f82b6e2b656b
              body: ""
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
          version: balena-supervisor-10.9.1
          date: 2020-02-25T07:53:23.189Z
        - commits:
            - subject: Add a containerId request parameter for journal-logs api endpoint, and
                pass it along to journalctl process options.
              hash: b5772740ae3685fceceeda513fca4ff86a183d14
              body: ""
              footer:
                Change-Type: minor
                change-type: minor
                Signed-off-by: Ivan <ivanign04.alt@gmail.com>
                signed-off-by: Ivan <ivanign04.alt@gmail.com>
              author: Ivan
          version: balena-supervisor-10.9.0
          date: 2020-02-24T00:17:42.799Z
  version: 2.49.0
  date: 2020-05-01T11:04:38.074Z
- commits:
    - subject: Add the linux-firmware recipe from the Poky zeus-22.0.1 release and
        package various iwlwifi firmware separately
      hash: bd9aff4b3bdfdfe9b5c8dd1bbee397154d6144fd
      body: |
        We also package separately the firmware for Intel Wireless-AC 9260
        cards and also package separetely the wifi and bluetooth firmware for
        Intel Wireless-AX MAC which is found in the Intel NUC10I7FNH.
      footer:
        Changelog-entry: Add the linux-firmware recipe from the Poky zeus-22.0.1 release
          and package various iwlwifi firmware separately
        changelog-entry: Add the linux-firmware recipe from the Poky zeus-22.0.1 release
          and package various iwlwifi firmware separately
        Change-type: minor
        change-type: minor
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Add regulatory.db (Wireless Central Regulatory Domain Database) to
        rootfs so kernel versions >= v4.15 can load it (for Poky Thud and
        Warrior based board)
      hash: da7a018e680f24be5dcce92f04eac4804493cad8
      body: |
        This package adds to rootfs the regulatory database into
        /lib/firmware/regulatory.db which can be loaded by kernel versions
        >= v4.15 for Poky Thud and Warrior based boards.
      footer:
        Changelog-entry: Add regulatory.db (Wireless Central Regulatory Domain Database)
          to rootfs so kernel versions >= v4.15 can load it (for Poky Thud and
          Warrior based board)
        changelog-entry: Add regulatory.db (Wireless Central Regulatory Domain Database)
          to rootfs so kernel versions >= v4.15 can load it (for Poky Thud and
          Warrior based board)
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Do not send SIGKILL directly to user containers (set KillMode=process
        in balena.service)
      hash: f4df857f8fb2b811d9e23b0419c99894eaa5bb32
      body: |
        We need to allow user containers to do some clean-up if they wish to on
        reboot / shutdown through systemctl so let's add KillMode set to process
        so that systemd won't directly kill the user containers first.

        For reference see also upstream moby:
        https://github.com/moby/moby/pull/23636/commits/
        db435f526ac5703276ad1add28188c0c8c6e4c2a
      footer:
        Changelog-entry: Do not send SIGKILL directly to user containers (set
          KillMode=process in balena.service)
        changelog-entry: Do not send SIGKILL directly to user containers (set
          KillMode=process in balena.service)
        Change-type: patch
        change-type: patch
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update balena-supervisor from  to v10.8.0
      hash: 9df958be8693140f0358cc1527a2f3058df940f2
      body: |
        Update balena-supervisor from  to v10.8.0
      footer:
        Changelog-entry: Update balena-supervisor from  to v10.8.0
        changelog-entry: Update balena-supervisor from  to v10.8.0
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Update config.json documentation for disabling NM connectivity checks
      hash: 527d322eaaa3e9184d4b57c2aeb76337ec233457
      body: ""
      footer:
        Changelog-entry: Update config.json documentation for disabling NM connectivity checks
        changelog-entry: Update config.json documentation for disabling NM connectivity checks
        Change-type: patch
        change-type: patch
        Signed-off-by: Gareth Davies gareth@balena.io
        signed-off-by: Gareth Davies gareth@balena.io
      author: Gareth Davies
    - subject: Fix a typo in a NetworkManager plugin path
      hash: ebd97f14fbbb71663e24590e9f1a3c1b9d42d8bd
      body: |
        ppp version is 2.4.7. Without defining the right path, the path defaults
        to v2.4.5 in NM configure scripts.

        Lets pass it here to keep it correct.

        Should not have any actual affect. NM plugin was built with reference
        to the 2.4.7 headers. Just the directoy path would say 2.4.5 misleading
        some debug effort
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix a typo in a NetworkManager plugin path
        changelog-entry: Fix a typo in a NetworkManager plugin path
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Remove unnecessary openvpn v2.4.4 recipe in meta-resin-pyro.
      hash: bf3bacb6d44863687365129e1c282d36003ceaa9
      body: |
        This is an old version of openvpn. Devices still on pyro should be using
        the openvpn version from meta-balena-common and not this one. Removing
        this to prevent any accidents even and some cleanup.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Remove unnecessary openvpn v2.4.4 recipe in meta-resin-pyro.
        changelog-entry: Remove unnecessary openvpn v2.4.4 recipe in meta-resin-pyro.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Use a weak default assignment in a recipe for customer trying to
        override a variable in his layer
      hash: 9c9a30845702cbda314a58efa2ff9349199cfcc6
      body: |
        Fixes #1828
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Use a weak default assignment in a recipe for customer trying
          to override a variable in his layer
        changelog-entry: Use a weak default assignment in a recipe for customer trying
          to override a variable in his layer
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.48.0
  date: 2020-03-20T09:20:53.311Z
- commits:
    - subject: Affects 2.45+ on all devices. Fix dangling sshd services on failed
        connections that would grow and cause cpu load to keep rising. See issue
        1837 in meta-balena for more detail.
      hash: 0759f60bda559377bfb10361167222d4e0de6d01
      body: |
        This reverts commit 6d5de094c3f0d9f2f06a1c58abc5eb9dc256cf79.
        Fixes #1837
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Affects 2.45+ on all devices. Fix dangling sshd services on
          failed connections that would grow and cause cpu load to keep rising.
          See issue 1837 in meta-balena for more detail.
        changelog-entry: Affects 2.45+ on all devices. Fix dangling sshd services on
          failed connections that would grow and cause cpu load to keep rising.
          See issue 1837 in meta-balena for more detail.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.47.1
  date: 2020-02-13T11:54:53.438Z
- commits:
    - subject: Update usb-modeswitch-data to version 20191128
      hash: d0c007e5b77cff3e3b78b7a5b91747b1c8662b4d
      body: |
        We also delete the patch that switched the 12d1:1f01 modems to
        NCM mode with that specific MessageContent because that made
        other Huawei modems that used the same vid:pid combination
        unusable in that mode. So now these modems will work in the old
        Hilink mode using cdc_ether instead.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update usb-modeswitch-data to version 20191128
        changelog-entry: Update usb-modeswitch-data to version 20191128
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update usb-modeswitch to version 2.5.2
      hash: f74a51dc5cf969b4aab1ae3eff36e512cf78d1f0
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update usb-modeswitch to version 2.5.2
        changelog-entry: Update usb-modeswitch to version 2.5.2
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update to ModemManager v1.12.4
      hash: fd45ee88dfa87b6e3b39dc8bf16acbb36c64328a
      body: |
        Fixes #1805
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update to ModemManager v1.12.4
        changelog-entry: Update to ModemManager v1.12.4
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update libmbim to version 1.22.0
      hash: f765a2e2c586f29f7c18813947f860e19dc354e9
      body: |
        We also stop applying the clang.patch since we do not
        use clang at the moment but we keep it here for future
        reference in case we ever switch from gcc
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libmbim to version 1.22.0
        changelog-entry: Update libmbim to version 1.22.0
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update libqmi to version 1.24.4
      hash: 755c7cd7d5106e99256adc291a7c95db711b0ae8
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libqmi to version 1.24.4
        changelog-entry: Update libqmi to version 1.24.4
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Add periodic vacuuming of journald log files
      hash: e45761e1e3b57a1f42075924741063ac94fc788c
      body: |
        Daily vacuuming of log files to avoid the partition filling up if
        corrupted files appear.

        Fixes #1792
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add periodic vacuuming of journald log files
        changelog-entry: Add periodic vacuuming of journald log files
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: No user impact. Increase limit for maximum initramfs size from 12MB to
        32MB. This helps reduce unnecessary overrides in integration layers.
      hash: ea2fdb68801d62f8126bb15e8e67d0a14709dd4a
      body: |
        Some devices have special tools in the initramfs that bloat it.
        e.g. Jetson family have tegra-firmware-xusb etc.

        IMAGE_ROOTFS_MAXSIZE triggers an error if the rootfs goes beyond this
        limit. This does not force the rootfs to an empty fixed size.

        We can comfortably increase the max size to 32MB to reduce unnecessary
        patches in the device integration layers.

        We'll still be covered by the full resin-rootA size limit.
        Fixes #1790
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: No user impact. Increase limit for maximum initramfs size from
          12MB to 32MB. This helps reduce unnecessary overrides in integration
          layers.
        changelog-entry: No user impact. Increase limit for maximum initramfs size from
          12MB to 32MB. This helps reduce unnecessary overrides in integration
          layers.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Match licenses with license files.
      hash: d53ba3570daf05c8592220b2949a441f6e06e662
      body: |
        Apache 2.0 and MIT, though similar, are not the same license.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Enable sixaxis support in bluez5
      hash: 74be7b20bf3a9eb71bf5318a96248e087b7ce441
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Enable sixaxis support in bluez5
        changelog-entry: Enable sixaxis support in bluez5
        Signed-off-by: Alexis Svinartchouk <alexis@balena.io>
        signed-off-by: Alexis Svinartchouk <alexis@balena.io>
      author: Alexis Svinartchouk
    - subject: Addressing review comments
      hash: 57047830db238a127c09f283870ecf3d0992578b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Gareth Davies <gareth@balena.io>
        signed-off-by: Gareth Davies <gareth@balena.io>
      author: Gareth Davies
    - subject: Update config.json documentation
      hash: f294336c3c8d9d8c08075a299b6bb377eb95f922
      body: ""
      footer:
        Changelog-entry: Update config.json documentation
        changelog-entry: Update config.json documentation
        Change-type: patch
        change-type: patch
        Signed-off-by: Gareth Davies <gareth@balena.io>
        signed-off-by: Gareth Davies <gareth@balena.io>
      author: Gareth Davies
    - subject: Increase DNS clients timeout to 15 seconds
      hash: b4122eeea971dfc9325885cc7c896c733cf60920
      body: >
        The DNS clients (applications) resolver libraries use the timeout value
        in

        /etc/resolv.conf to set the time between DNS attempts. The default is 5

        secs which for slow networks like cellular mean lots of DNS requests on

        a bandwidth sensitive channel.


        This change modifies the default to 15 secs. This timeout only applies

        when DNS servers are unresponsive so it will not affect the normal

        functionality.


        Fixes #1800
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Increase DNS clients timeout to 15 seconds
        changelog-entry: Increase DNS clients timeout to 15 seconds
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Fix supervisor nested changelogs
      hash: 6bbe46404f36ae9b2719750d9bfc9daf5b12c88c
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix supervisor nested changelogs
        changelog-entry: Fix supervisor nested changelogs
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Enable memory overcommit
      hash: 20d9e3114dc28683ea2c15cecfcae6ff93d22bec
      body: |
        Move the memory overcommit settings from the Raspberry Pi integration
        layer to meta-balena so it applies to all device types.

        Fixes #1791
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Enable memory overcommit
        changelog-entry: Enable memory overcommit
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Add uinput kernel module
      hash: 7ec6b796787fc0afb2234e8ddb654f1b4a761708
      body: |
        Add uinput user level driver support directly from meta-balena
        as this will benefit all our customers.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add uinput kernel module
        changelog-entry: Add uinput kernel module
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Make sure to add in rootfs the wifi firmware for wl18xx
      hash: 37b9f59d4c7521805883ef3bf8e0bbc21d26622e
      body: |
        Since poky thud, the linux-firmware recipe in poky is packaging
        the wl18xx firmware in its own package rather than add it in the
        linux-firmware-wl12xx package.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Make sure to add in rootfs the wifi firmware for wl18xx
        changelog-entry: Make sure to add in rootfs the wifi firmware for wl18xx
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Add supported USB WiFi dongle
      hash: b82982940548da60daa3d7a854316de96ec82e45
      body: |
        The RT5572 chipset based Panda PAU09 N600 was
        added as a supported dongle across all the
        Balena supported devices
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add supported USB WiFi dongle
        changelog-entry: Add supported USB WiFi dongle
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
  version: 2.47.0
  date: 2020-01-29T17:30:33.484Z
- commits:
    - subject: Americanize the README.md
      hash: 13b5397eb127f8626a45041b84be7aed9b149709
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
  version: 2.46.2
  date: 2020-01-17T19:05:59.781Z
- commits:
    - subject: Disable by default the option to stop u-boot autoboot by pressing
        CTRL+C in all OS versions
      hash: 621037371b3c272ecb6bfd50cfbdad4eca0a02ea
      body: |
        We do not want by default that any OS variants allow for stopping the
        autoboot in any way and letting users enter the u-boot shell. This can
        be overwritten by setting OS_DEV_UBOOT_DELAY to 1.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Disable by default the option to stop u-boot autoboot by
          pressing CTRL+C in all OS versions
        changelog-entry: Disable by default the option to stop u-boot autoboot by
          pressing CTRL+C in all OS versions
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Increase NTP polling time to around 4.5 hours.
      hash: 4a47b9297b37277a9aece0ea322e706dbe473f12
      body: |
        This commit increases the default NTP poll rate to around 4.5 hours.

        BalenaOS uses chronyd for time synchronization, and it allows to specify
        a minpoll and maxpoll values per server with a power of two number of
        seconds for the minimum and maximum polling time respectively.

        With those constraints, the change set both limits to 2^14s (4.55h) for
        all servers.

        An architectural decision has been made not to make this configurable.

        Fixes #1780.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Increase NTP polling time to around 4.5 hours.
        changelog-entry: Increase NTP polling time to around 4.5 hours.
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Disable the option to stop u-boot autoboot by pressing CTRL+C in
        production OS version
      hash: 2abb791f0df7c4936f0c6814b27291281dc922e0
      body: |
        We do not want that production OS variants allow for stopping
        the autoboot in any way and letting users enter the u-boot shell.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Disable the option to stop u-boot autoboot by pressing CTRL+C
          in production OS version
        changelog-entry: Disable the option to stop u-boot autoboot by pressing CTRL+C
          in production OS version
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.46.1
  date: 2020-01-01T03:50:49.765Z
- commits:
    - subject: Update to ModemManager v1.12.2
      hash: 2c4d223d90701b7dbe7ed42f2b5bdaab396db4d3
      body: |
        Fixes #1775

        Removed the two patches we included in favor of corresponding
        configure arguments since they had to be updated anyway.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update to ModemManager v1.12.2
        changelog-entry: Update to ModemManager v1.12.2
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update libmbim to version 1.20.2
      hash: 01a15a047156c2491081e31a12c0a2a278a015d8
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libmbim to version 1.20.2
        changelog-entry: Update libmbim to version 1.20.2
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update libqmi to version 1.24.2
      hash: dad937f2a5ec8c894518f683e636c17a23a20869
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libqmi to version 1.24.2
        changelog-entry: Update libqmi to version 1.24.2
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update balena-supervisor to v10.6.27
      hash: 426dd85c0396f713e8f2571334bbd547b5a22642
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor to v10.6.27
        changelog-entry: Update balena-supervisor to v10.6.27
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Tweak how the flasher asserts that internal media is valid for being
        installed balena OS on
      hash: 4b50d967db309366865b791e39f84ab00c0e9330
      body: |
        It is better to use fdisk to check that an internal media
        is a suitable block device rather than using the shell
        internal block testing feature. This is because there is
        at least a case when the kernel lists an ASMT 2115 controller
        as /dev/sda but that is not an actual drive so it cannot be
        written to and the flashing procedure will error out.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Tweak how the flasher asserts that internal media is valid for
          being installed balena OS on
        changelog-entry: Tweak how the flasher asserts that internal media is valid for
          being installed balena OS on
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Remove networkmanager stale temporary files at startup
      hash: 1234b29d7a4b007fd25247d38d9027e4f6e9e709
      body: >
        Reports indicate that NetworkManager can leave stale temporary files on

        the state partition that over time can affect the device's operability.


        This commit removes the timestamps.XXXXXX and seen-bssids.XXXXXX files
        on

        startup to avoid this situation.


        Fixes #1747
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Remove networkmanager stale temporary files at startup
        changelog-entry: Remove networkmanager stale temporary files at startup
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: "networkmanager: Rework patches to remove fuzzing"
      hash: fbe8c83e8234c842d83c344243d2fe782c8ebb0a
      body: |
        This commit removes the build warning when applying patches.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alex Gonzalez <alexg@balena.io>
        signed-off-by: Alex Gonzalez <alexg@balena.io>
      author: Alex Gonzalez
    - subject: Update openvpn to v2.4.7
      hash: 5c7d3ae1296636dae7b0de67a9c0f8c66d996d1c
      body: |
        Fetched from:
        * https://git.openembedded.org/meta-openembedded/commit/meta-networking/recipes-support/openvpn/openvpn_2.4.7.bb?id=c1c8895609ae70a1b735e8625c19046c25184ee4
        * https://git.openembedded.org/meta-openembedded/commit/meta-networking/recipes-support/openvpn/openvpn/openvpn?id=910891d722085c56c474ac72788898b94c5ed193
      footer:
        Connects-to: "#1740"
        connects-to: "#1740"
        Change-type: patch
        change-type: patch
        Changelog-entry: Update openvpn to v2.4.7
        changelog-entry: Update openvpn to v2.4.7
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: Enable kernel configs for USB_SERIAL, USB_SERIAL_PL2303 and HFS for all
        devices
      hash: 03b95db4e073969718f0a60d8b0e80db4ce0680b
      body: |
        Fixes #1770
        Fixes #1761
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Enable kernel configs for USB_SERIAL, USB_SERIAL_PL2303 and HFS
          for all devices
        changelog-entry: Enable kernel configs for USB_SERIAL, USB_SERIAL_PL2303 and HFS
          for all devices
      author: Zubair Lutfullah Kakakhel
    - subject: "image-resin.bbclass: Mark do_populate_lic_deploy with nostamp"
      hash: 3004762e71383e6ed8134de526966c6dd660fca2
      body: |
        We inherit do_populate_lic_deploy from poky. It uses IMAGE_NAME
        which includes DATETIME

        DATETIME changes between runs so we can sometimes get into a state
        where the do_populate_lic_deploy task has its stamp file set.

        But when our subsequent deploy_image_license_manifest task runs, the
        DATETIME is different. Hence we get into a state where we have to
        run cleanall on the resin-image-flasher recipe to clean up directories.

        Lets mark do_populate_lic_deploy with nostamp. This should make it
        run every time we need to run deploy_image_license_manifest with the
        most up to date DATETIME variable to prevent any hiccups
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Namespace the hello-world healthcheck image
      hash: 4ec47419b97cf5ca6fe15436a32348e1dc7b5d9d
      body: |
        Fixes #1630

        Need to make the script go in the background in ExecStartPost=.
        Otherwise, the service status never gets to active/running resulting
        it in remaining stuck in an endless loop.

        If the health-check load fails for whatever reason, the subsequent
        engine healthcheck will fail retriggering the healthcheck load.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Namespace the hello-world healthcheck image
        changelog-entry: Namespace the hello-world healthcheck image
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v10.6.17
      hash: 72100a55f62820b0cb8a48307a70d01633744e70
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor to v10.6.17
        changelog-entry: Update balena-supervisor to v10.6.17
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Update balena-supervisor to v10.6.13
      hash: 7ac91f9557f90417dc152c5621d4cff6d53c17e1
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor to v10.6.13
        changelog-entry: Update balena-supervisor to v10.6.13
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Update CODEOWNERS
      hash: bb8ac081d50893d9d0881b0f08c68cbb626c3590
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.46.0
  date: 2019-12-23T17:06:33.086Z
- commits:
    - subject: Fix for a race condition where occasionally the supervisor might not be
        able to come up during boot. Also can be caused by using
        io.balena.features.balena-socket and app container restart always
        policy. Affects meta-balena 2.44.0 and 2.45.0. To be fixed in 2.44.1 and
        2.46.0
      hash: 7cf43d9f939b1d960cb677c48ca9f91b668d2dc3
      body: |
        Fixes #1748
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix for a race condition where occasionally the supervisor
          might not be able to come up during boot. Also can be caused by using
          io.balena.features.balena-socket and app container restart always
          policy. Affects meta-balena 2.44.0 and 2.45.0. To be fixed in 2.44.1
          and 2.46.0
        changelog-entry: Fix for a race condition where occasionally the supervisor
          might not be able to come up during boot. Also can be caused by using
          io.balena.features.balena-socket and app container restart always
          policy. Affects meta-balena 2.44.0 and 2.45.0. To be fixed in 2.44.1
          and 2.46.0
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Rename resin to balena where possible
      hash: 02a932405705ce28fca6137cfae16fab5bc952fb
      body: ""
      footer:
        Change-type: patch
        change-type: patch
      author: Pagan Gazzard
    - subject: Add leading new line for PACKAGE_INSTALL variable
      hash: e79c470b3eaa8d6e763103fa20858fbed61ff292
      body: |
        Without the leading space, the last package name
        of the PACKAGE_INSTALL variable from other recipes,
        is concatenated with the one added in this recipe resulting
        in the following error
        opkg_prepare_url_for_install
        Couldn't find anything to satisfy
        'kernel-module-sdhci-pciinitramfs-module-console-null-workaround'
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add leading new line for PACKAGE_INSTALL variable
        changelog-entry: Add leading new line for PACKAGE_INSTALL variable
        Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
      author: Vicentiu Galanopulo
    - subject: Set `net.ipv4.ip_local_port_range` to recommended range (49152-65535)
      hash: 8ef6a5b56a2b7ba43081a0f30f99d6f736015533
      body: ""
      footer:
        Connects-to: "#1726"
        connects-to: "#1726"
        Change-type: patch
        change-type: patch
        Changelog-entry: Set `net.ipv4.ip_local_port_range` to recommended range (49152-65535)
        changelog-entry: Set `net.ipv4.ip_local_port_range` to recommended range (49152-65535)
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: No user impact, subtle fix in rollback version checks
      hash: 38717507b93962d199e07d9093382b8db4ec5d81
      body: |
        ESR releases have the VERSION string in /etc/os-release in a date
        format. 2019.10.0 etc.
        We added META_BALENA_VERSION in os-release from v2.38.0 via
        b0e0c77a26f3fad51e2923ab416fdd2af2a5a033

        Lets use META_BALENA_VERSION if available for our os version checks.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: No user impact, subtle fix in rollback version checks
        changelog-entry: No user impact, subtle fix in rollback version checks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.45.1
  date: 2019-11-21T16:48:38.743Z
- commits:
    - subject: Increase persistent journal size to 32M
      hash: ad77ca2402f41fec5b730d556006ef5e86bdacd5
      body: ""
      footer:
        Connects-to: "#1646"
        connects-to: "#1646"
        Change-type: patch
        change-type: patch
        Changelog-entry: Increase persistent journal size to 32M
        changelog-entry: Increase persistent journal size to 32M
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: Move persistent logs from state to data partition
      hash: f69ff379ffac39dffcc126ac374b50533dcdef31
      body: ""
      footer:
        Connects-to: "#1646"
        connects-to: "#1646"
        Change-type: minor
        change-type: minor
        Changelog-entry: Move persistent logs from state to data partition
        changelog-entry: Move persistent logs from state to data partition
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: Add wpa-supplicant recipe and update to v2.9
      hash: 139f76b73918e12aa8082896a7a017d2ad5df739
      body: |
        Fetched from http://cgit.openembedded.org/openembedded-core/commit/meta/recipes-connectivity/wpa-supplicant?id=95507898ad6a7b88c83ef376c1cb8b3b3a685c96
      footer:
        Connects-to: "#1711"
        connects-to: "#1711"
        Change-type: patch
        change-type: patch
        Changelog-entry: Add wpa-supplicant recipe and update to v2.9
        changelog-entry: Add wpa-supplicant recipe and update to v2.9
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: Improve robustness by making variou services restart if they stop for
        some reason
      hash: 074f42aeaf98d2ede68a29d7f7d97cd17dc61f15
      body: |
        The default behaviour is Restart=on-abort inherited from upstream.
        Lets make it Restart=always

        Fixes #1702
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Improve robustness by making variou services restart if they
          stop for some reason
        changelog-entry: Improve robustness by making variou services restart if they
          stop for some reason
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Build net/dummy as module
      hash: ffd5bd2183ca1ea4d3f62bae118b7269b8280002
      body: |
        Add dummy net driver support, which is used to
        check if a container is privileged during
        udev initialization.

        Building it as module ensures that dummy
        devices are not needlessly created during boot.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Build net/dummy as module
        changelog-entry: Build net/dummy as module
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
  version: 2.45.0
  date: 2019-10-30T14:34:36.798Z
- commits:
    - subject: Make uboot dev images autoboot delay build time configurable. Default
        is no delay
      hash: ff9e5c26ce7caa694725d7009943db0713655be6
      body: |
        Customers usually don't need this delay during u-boot. Also in some
        cases, hardware attached on the uart pins might pause uboot preventing
        customers from using dev images easily.

        But we do need this delay during our development work on bsps etc.

        Lets make this autoboot delay build time configurable

        Also make the BOOTDELAY -2 which is better than 0 as that completely
        prevents any char on serial from interrupting boot.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Make uboot dev images autoboot delay build time configurable.
          Default is no delay
        changelog-entry: Make uboot dev images autoboot delay build time configurable.
          Default is no delay
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Reduce systemd logging level from info to notice
      hash: 9e8f949c561b4e904f2e492e0267923b73782c4c
      body: |
        Reduces redundant logs.

        Fixes #1691
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Reduce systemd logging level from info to notice
        changelog-entry: Reduce systemd logging level from info to notice
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "resin-supervisor: Expose container ID via env variable"
      hash: 27d76cd9441ad427342f53b7e5b865129dd05557
      body: >
        The supervisor needs to know its container ID on the context of
        different

        engine objects cleanup tasks, so it can understand what objects are

        related to itself.


        Depends on gh-1679

        See also

        - balena-io/balena-supervisor#1038

        - balena-os/balena-engine#174

        - balena-os/balena-engine-cli#8
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Roman Mazur <roman@balena.io>
        signed-off-by: Roman Mazur <roman@balena.io>
      author: Roman Mazur
    - subject: "kernel-devsrc: Copy vdso.lds.S file in source archive if available"
      hash: 70bb9f53e5a50703050c45411c3a63906c17bf42
      body: |
        Necessary to avoid error:
        "No rule to make target 'arch/arm64/kernel/vdso/vdso.lds', needed
        by 'arch/arm64/kernel/vdso/vdso.so.dbg'"
        when doing "make  modules_prepare"
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "kernel-devsrc: Copy vdso.lds.S file in source archive if available"
        changelog-entry: "kernel-devsrc: Copy vdso.lds.S file in source archive if available"
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
    - subject: Disable PasswordAuthentication in sshd in production images as an extra
        precautionary measure.
      hash: 67bff0700e921a8adbceb4a3b77af2ed39415fa8
      body: |
        PasswordAuthentication defaults to yes. Make it no for production
        images.

        Fixes #1678

        Also some whitespace fixes.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Disable PasswordAuthentication in sshd in production images as
          an extra precautionary measure.
        changelog-entry: Disable PasswordAuthentication in sshd in production images as
          an extra precautionary measure.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-engine to 18.9.10
      hash: 9fa56fef4b2b34671951a09e241bb2623dd6d96c
      body: |
        Includes feature to populate container environment with container id
        variable and bug fix for tagging deltas on the fly.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-engine to 18.9.10
        changelog-entry: Update balena-engine to 18.9.10
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
    - subject: "hostapp-update-hooks: Filter out automount for inactive sysroot"
      hash: 894a3b1e2ae705efe9267bab226886c58ad646a7
      body: |
        'findmnt' returns both systemd-1 and the correct TARGET.
        No failure is currently observed because this two line output
        is filtered trough 'basename'.

        Use ext4 FSTYPE to filter out the automount with SOURCE
        "systemd-1" when determining the new parition label
        in the u-boot update hook, just like we do for grub.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: Add support for hooks 2.0 enabling finer granularity during HostOS
        updates.
      hash: 0d33e5a82cab1fa58729d9a9ce7ea37be05cacc3
      body: |
        Add support for hooks 2.0
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support for hooks 2.0 enabling finer granularity during
          HostOS updates.
        changelog-entry: Add support for hooks 2.0 enabling finer granularity during
          HostOS updates.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v10.3.7
      hash: 4562d35527c1b0087c7e55af30de8ab6eb1aa990
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor to v10.3.7
        changelog-entry: Update balena-supervisor to v10.3.7
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Add support for balena cloud SSH public keys
      hash: 76e774ff132d7cf23a729c3d587c9fd1354a969f
      body: |
        When we have an API endpoint and key, we can query the API to get the
        user public keys and use them to try to authenticate over SSH.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support for balena cloud SSH public keys
        changelog-entry: Add support for balena cloud SSH public keys
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Map any user to root using libnss-ato
      hash: 55ba5767199205ee945a5e69152a28e023e35397
      body: |
        This module was included to be able to map any user to root. This
        is required by the balena-cloud backend.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Map any user to root using libnss-ato
        changelog-entry: Map any user to root using libnss-ato
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Add option to disable kernel headers from being built.
      hash: 1f5940898a654c770858f802ea978ddb986082f4
      body: |
        These can take quite a bit of build time. Add an option to disable
        the recipes from being built.

        Fixes #1659
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add option to disable kernel headers from being built.
        changelog-entry: Add option to disable kernel headers from being built.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.44.0
  date: 2019-10-03T06:28:45.031Z
- commits:
    - subject: Update NetworkManager to 1.20.2
      hash: bcb6d85cc3b75d2f41a64fc9a6e0e15b428040f1
      body: |
        Fixes #1660
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update NetworkManager to 1.20.2
        changelog-entry: Update NetworkManager to 1.20.2
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update ModemManager to 1.10.6
      hash: f6c82203c1a8f0613a900ce9d8ce749087fab99d
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update ModemManager to 1.10.6
        changelog-entry: Update ModemManager to 1.10.6
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.43.0
  date: 2019-09-13T15:33:28.973Z
- commits:
    - subject: A small fix in initramfs when /dev/console is invalid due to whatever
        reason
      hash: b5574aeb86ea6b6763f1c25c4b53a45d3e207eb5
      body: |
        We would just check for the existence of console=null in kernel cmdline

        A better way would be to check the presence of a valid symlink for fd0,
        fd1 and fd2. And assign them to /dev/null if unavailable.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: A small fix in initramfs when /dev/console is invalid due to
          whatever reason
        changelog-entry: A small fix in initramfs when /dev/console is invalid due to
          whatever reason
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add automated testing for external kernel module header tarballs
      hash: aef272d20b471308790bfa63426f73a3ce334884
      body: |
        We'd like to run a simple hello-world external module build test using
        the headers we have generated. This recipe does that in a docker
        container
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add automated testing for external kernel module header tarballs
        changelog-entry: Add automated testing for external kernel module header tarballs
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Make sure correct utsrelease.h is packaged
      hash: 5f9717081524d475009f5bf9277b30bf29c1c371
      body: |
        It was observed that on some machines (Variscite mx8m) the
        utsrelease.h header is regenerated with incomplete content when
        running "make prepare0" (utsrelease.h will not contain the short
        git revision although the kernel's abiversion includes it and
        as such the external modules built using this utsrelease.h header
        will fail to load because of this mismatch).
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Make sure correct utsrelease.h is packaged
        changelog-entry: Make sure correct utsrelease.h is packaged
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix a bug where application containers with new systemd versions were
        failing to start in cases. Switch to systemd cgroup driver in
        balenaEngine
      hash: a79f18a3e094721d1fc134afbae7a4773b697414
      body: |
        The default driver is cgroupfs. We switch to systemd so that there is
        one cgroup manager in our OS.

        Otherwise, systemd will have its own cgroup manager and cgroupfs will
        be another cgroup manager via balenaEngine daemon.

        Fixes #1645 which contains more information
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix a bug where application containers with new systemd
          versions were failing to start in cases. Switch to systemd cgroup
          driver in balenaEngine
        changelog-entry: Fix a bug where application containers with new systemd
          versions were failing to start in cases. Switch to systemd cgroup
          driver in balenaEngine
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.42.0
  date: 2019-09-13T08:06:05.129Z
- commits:
    - subject: Update ModemManager to version 1.10.4
      hash: 6f300a3fc01521ceadd3f8a50c9157d070525dde
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update ModemManager to version 1.10.4
        changelog-entry: Update ModemManager to version 1.10.4
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Fix for some innocous systemd tmpfile warnings /var/run -> /run ones
      hash: 25bb6364dfff2a65d7f53f71a35ef74f24f7d7a9
      body: >
        Otherwise systemd complains:

        localhost systemd-tmpfiles[525]:
        [/etc/tmpfiles.d/balena-tmpfiles.conf:1] Line references path below
        legacy directory /var/run/, updating /var/run/docker.pid 
        /run/docker.pid; please update the tmpfiles.d/ drop-in file accordingly.

        localhost systemd-tmpfiles[525]:
        [/etc/tmpfiles.d/balena-tmpfiles.conf:2] Line references path below
        legacy directory /var/run/, updating /var/run/balena.pid 
        /run/balena.pid; please update the tmpfiles.d/ drop-in file accordingly.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix for some innocous systemd tmpfile warnings /var/run -> /run ones
        changelog-entry: Fix for some innocous systemd tmpfile warnings /var/run -> /run ones
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix for rollbacks where the inactive partition mount was unavailable
        when altboot triggered
      hash: 856a3d1ad8dbf3b7a87689bbedac23c9148b3d79
      body: |
        PR #1441 changed mnt-sysroot-inactive to an automount. But there is no
        way to easily add a udev dependency to the automount. As a result,
        when rollbacks tries to access the inactive partition, it fails.
        Let's add systemd-udev-settle.service to the rollback services.

        This will only delay the first boot after a HUP which is reasonable.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix for rollbacks where the inactive partition mount was
          unavailable when altboot triggered
        changelog-entry: Fix for rollbacks where the inactive partition mount was
          unavailable when altboot triggered
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "kernel-resin: Enable FTDI USB-serial convertors driver"
      hash: 40616a274cd7f055397b5acda0fdd6540e797410
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
  version: 2.41.1
  date: 2019-09-03T13:27:47.892Z
- commits:
    - subject: Fix a hang in initramfs for warrior production images
      hash: 4c44265a7dd13760a89c235068500bf6f315f651
      body: |
        When `console=null` is passed in the kernel cmdline for production
        images, the system doesn't boot. Traced to initramfs not starting any
        process such as udev with the right file descripters for 0,1,2

        Add workaround for that issue. This got exposed with a systemd bump.
        More details here https://github.com/systemd/systemd/issues/13332
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix a hang in initramfs for warrior production images
        changelog-entry: Fix a hang in initramfs for warrior production images
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-engine to 18.09.8
      hash: 9bcd0ffcc7d6efde45f2bc1eaeaafe1092374c40
      body: |
        Includes improvements and fixes to the journald logdriver
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-engine to 18.09.8
        changelog-entry: Update balena-engine to 18.09.8
        Signed-off-by: Robert Gnzler <robertg@balena.io>
        signed-off-by: Robert Gnzler <robertg@balena.io>
      author: Robert Gnzler
    - subject: Avoid overlayfs mounts in poky's volatile-binds
      hash: b7b6163d955a3bf76a1759b60ed82ccc5fcce6d0
      body: |
        Our root filesystem is overlayfs or aufs. When latter, the system
        crashes when reading a lower directory file. We avoid this by always
        falling back to copy and mount (as if overlayfs is not available).

        Fixes #1618
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Avoid overlayfs mounts in poky's volatile-binds
        changelog-entry: Avoid overlayfs mounts in poky's volatile-binds
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.41.0
  date: 2019-08-22T14:25:04.139Z
- commits:
    - subject: Update balena-supervisor to v10.2.2
      hash: 3afbe138f115fa15611cb823caa6664dbb093a8b
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor to v10.2.2
        changelog-entry: Update balena-supervisor to v10.2.2
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Workaround for a cornercase bug in PersistentLogging where journalctl
        filled the state partition. Vacuum the journal on boot.
      hash: 8284da08f245ed6da8308d558bb8dfcc66de9691
      body: |
        We have found a rare corner case bug where the journal bloats beyond
        its limit and fills the state partition. Triggering a vacuum on reboot
        helps a bit in case the device is restarted to recover its function.

        Fixes #1423
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Workaround for a cornercase bug in PersistentLogging where
          journalctl filled the state partition. Vacuum the journal on boot.
        changelog-entry: Workaround for a cornercase bug in PersistentLogging where
          journalctl filled the state partition. Vacuum the journal on boot.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.40.0
  date: 2019-08-14T09:40:49.562Z
- commits:
    - subject: "usb-modeswitch-data: Switch Huawei E3372 12d1:1f01 to mbim mode"
      hash: bb672725f4460402af64ecb7d74d33526f5ed7c1
      body: |
        Customer reported Huawei E3372 not working
        anymore starting with balenaOS v2.32.
        The fix for this appears to be switching the modem with
        vid and pid 12d1:1f01 from the cdc_ether legacy mode to
        the faster mbim mode and setting mtu=1460 in the modem
        connection file.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: Fix rollback altboots to prevent good reboots by supervisor triggering
        rollback.
      hash: 7e5843d6542d13d278d2a42da2f787ada8bfa229
      body: |
        After a HUP, until rollbacks clears its state, the supervisor(or user)
        can trigger good reboots. These reboots might be seen by the bootloader
        as bad reboots.

        To prevent this from happening, add a service that clears the bootcount
        upon good reboots. This only runs if the rollback services have not
        cleared their flag files in the state partition.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix rollback altboots to prevent good reboots by supervisor
          triggering rollback.
        changelog-entry: Fix rollback altboots to prevent good reboots by supervisor
          triggering rollback.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Devices using u-boot. Remove any BOOTDELAY for production images. Add a
        2 seconds delay for development images
      hash: f50952f6e91541f4c07ef14612a71174b9417124
      body: |
        We'd like to split dev and prod uboot config fragments. Dev images can
        have a 2 second u-boot delay to facilitate debugging. While prod images
        shouldn't really pause at this stage of the boot.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Devices using u-boot. Remove any BOOTDELAY for production
          images. Add a 2 seconds delay for development images
        changelog-entry: Devices using u-boot. Remove any BOOTDELAY for production
          images. Add a 2 seconds delay for development images
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Devices using u-boot. Enable CONFIG_CMD_SETEXPR for all devices.
        Required for rollbacks to work
      hash: 7051a1bda83d53e08148eea953ee2653fd915743
      body: |
        We'd like to enable some config options for all devices via meta-balena

        The support is mainline since warrior. Lets copy it in meta-balena
        to get it in the previous layers as well.

        We need CMD_SETEXPR to be enabled for rollbacks to work. So enable it
        via the config fragment
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Devices using u-boot. Enable CONFIG_CMD_SETEXPR for all
          devices. Required for rollbacks to work
        changelog-entry: Devices using u-boot. Enable CONFIG_CMD_SETEXPR for all
          devices. Required for rollbacks to work
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Devices using u-boot. Enable rollback-altboot by handling bootcount via
        meta-balena.
      hash: aa0a389ea92a71123813f291833fea61f4965164
      body: |
        U-boot has its own bootcount framework. However, that will require
        handling in each device type. We will use u-boot shell commands
        env import -t, env export -t, fatload, fatwrite
        to read/write/increment bootcount in env_resin.h.

        This will allow us to scale to lots of devices.

        A flag os_bootcount_skip is left for devices that are unable to support
        fatwrite in u-boot (in some rare cases). This will allow a device to
        not support rollback-altboot and still function.

        This patch requires that CMD_SETEXPR be enabled in u-boot config
        options.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Devices using u-boot. Enable rollback-altboot by handling
          bootcount via meta-balena.
        changelog-entry: Devices using u-boot. Enable rollback-altboot by handling
          bootcount via meta-balena.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Production Devices using u-boot. Enable CONFIG_RESET_TO_RETRY to reset
        a device in case it drops into a u-boot shell
      hash: 1f7ead33c284f4dc8e2a3d78b2a922a9b778e05c
      body: |
        We'd like to enable some options in all boards header files via
        meta-balena. This patch adds a task to include config_resin.h into
        config_default.h (which is included in all board header files).
        We can then add a config option via meta-balena that will be enabled for
        all devices.

        This patch enables CONFIG_RESET_TO_RETRY. If for whatever strange reason
        (accidental fs issue in u-boot etc), this will trigger a u-boot reset
        command the device in 15 seconds.

        Note This requires that the device's u-boot supports the reset command
        which it probably should.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Production Devices using u-boot. Enable CONFIG_RESET_TO_RETRY
          to reset a device in case it drops into a u-boot shell
        changelog-entry: Production Devices using u-boot. Enable CONFIG_RESET_TO_RETRY
          to reset a device in case it drops into a u-boot shell
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Remove confusing networkmanager https connectivity warning
      hash: fbdf643988e4aea76507139b2fc59ef7ad0132af
      body: |
        Fixes #1597

        The warning doesn't apply for our use case and confuses customers
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Remove confusing networkmanager https connectivity warning
        changelog-entry: Remove confusing networkmanager https connectivity warning
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Increase fs.inotify.max_user_instances to 512
      hash: a4f6c8591af9793935a9981a0f0c25fb7b957312
      body: |
        This defaults to 128. BoB hit the limit. Increase to 512
        Fixes #1592
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Increase fs.inotify.max_user_instances to 512
        changelog-entry: Increase fs.inotify.max_user_instances to 512
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v10.0.3
      hash: ad9bdc7236600eb4399761643b772eadd95df662
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor to v10.0.3
        changelog-entry: Update balena-supervisor to v10.0.3
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Fix balena hello-world healthcheck
      hash: e0826741f9a829f2af34afbc9bc1f9920f8ae4e6
      body: |
        We load the hello-world image after starting the balena daemon.
        ExecStartPost should run after the daemon is initialized but chaining a
        15 second sleep for good measure.

        We load the hello-world image here so that devices out in the field and
        on prem devices don't need to pull from dockerhub which would require
        external internet connectivity.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix balena hello-world healthcheck
        changelog-entry: Fix balena hello-world healthcheck
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add nf_table kernel modules
      hash: 9bca94f29b29098c7177231ee3a9251f1d48dd32
      body: |
        Fixes #1589
        Also, debian buster defaults to requiring nf_tables
        rootfs size impact ~+310K
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add nf_table kernel modules
        changelog-entry: Add nf_table kernel modules
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "hostapp-update-hooks: Use correct source for inactive sysroot"
      hash: f13c837cdc9b1a106ea711785178fc397035ada7
      body: |
        Use ext4 FSTYPE to filter out automount with SOURCE
        "systemd-1" when determining the new parition label
        in the grub update hook.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: Add extra healthcheck to balena service. It will spin up a hello-world
        container as well
      hash: 15169084fe9355e6be997712a614e383a71555c9
      body: |
        Occasionally balena ps and balena info work but the balena daemon is
        unable to start a new container. This is usually when something in runc
        or containerd is not functioning correctly.

        Add a healthcheck to spin up a simple hello-world container as well.

        The trade-off here is that there will be a few extra writes to disk
        every healthcheck timeout. But there will be a benefit that if runc
        or containerd is in a bad state, the healthcheck will fail and systemd
        will restart the balena daemon to recover the application container

        Fixes #1391
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add extra healthcheck to balena service. It will spin up a
          hello-world container as well
        changelog-entry: Add extra healthcheck to balena service. It will spin up a
          hello-world container as well
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v9.18.8
      hash: 41af8ba6ef5b234b819aa0181b7e14e476f68c43
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor to v9.18.8
        changelog-entry: Update balena-supervisor to v9.18.8
        Change-type: minor
        change-type: minor
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: "image-resin.bbclass: fixed a typo"
      hash: 64a4fc9a7cff18a6dced9f352317761ced7dc563
      body: |
        Fixing a typo in the image size sanity check to ensure the
        correct calculation of FAT overhead sectors.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Kyle Harding <kylemharding@gmail.com>
        signed-off-by: Kyle Harding <kylemharding@gmail.com>
      author: Kyle Harding
    - subject: "kernel-resin: Add support for CH340 family of usb-serial adapters"
      hash: 941aef5490cf4a120f74cb243c3fbbd8911bcc49
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: "kernel-resin: Add support for CH340 family of usb-serial adapters"
        changelog-entry: "kernel-resin: Add support for CH340 family of usb-serial adapters"
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
    - subject: "resin-proxy-config: add missing reserved ip ranges to default noproxy"
      hash: 49ed2ea12d495defe033be6f2a9e155ff2fc7875
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Will Boyce <will@balena.io>
        signed-off-by: Will Boyce <will@balena.io>
      author: Will Boyce
    - subject: Reduce data partition size from 1G to 192M
      hash: 2270940edfd32a4dd3a3670aa1fb62eb2557f706
      body: |
        The data partition contains the supervisor which is only about 61M on
        the pi3. We compress the data partition later on so don't notice these
        zeros. But lets reduce the size of the data partition to eat less
        space whenever an uncompressed image is used anywhere. e.g. when
        extracting the zip to dd or using balena-migrate etc.

        The partition expands on first boot to fill the rest of the disk
        anyways.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Reduce data partition size from 1G to 192M
        changelog-entry: Reduce data partition size from 1G to 192M
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.39.0
  date: 2019-07-31T10:56:32.370Z
- commits:
    - subject: "resin-proxy-config: fix up incorrect bash subshell command"
      hash: 0c8de756c22f635b2ef499848b724f1350f555b0
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
  version: 2.38.3
  date: 2019-07-10T08:16:25.713Z
- commits:
    - subject: Update to kernel-modules-headers v0.0.20 to fix missing target modpost
        binary on kernel 5.0.3
      hash: 13bea65dd8201e91b65121ffc2d7bce5d41eedab
      body: |
        This version fixes the missing target modpost binary
        on kernel version 5.0.3.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update to kernel-modules-headers v0.0.20 to fix missing target
          modpost binary on kernel 5.0.3
        changelog-entry: Update to kernel-modules-headers v0.0.20 to fix missing target
          modpost binary on kernel 5.0.3
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update to kernel-modules-headers v0.0.19 to fix target objtool compile
        issue on kernel 5.0.3
      hash: 10846e50674185b7c3126e45ad42f3927c822415
      body: |
        This version fixes the use of wrong fixdep binary (the bug makes it use
        target fixdep binary instead of cross fixdep binary) used for compiling
        the target objtool binary on kernel version 5.0.3.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update to kernel-modules-headers v0.0.19 to fix target objtool
          compile issue on kernel 5.0.3
        changelog-entry: Update to kernel-modules-headers v0.0.19 to fix target objtool
          compile issue on kernel 5.0.3
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.38.2
  date: 2019-06-27T12:37:01.764Z
- commits:
    - subject: Add warrior to compatible layers for meta-balena-common
      hash: 0ba0bc35ceeb78e03baebf79b738885d532734fc
      body: |
        In addition we delete krogoth and morty from the supported list
        as we also removed the actual layers from the repository.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add warrior to compatible layers for meta-balena-common
        changelog-entry: Add warrior to compatible layers for meta-balena-common
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Fix image-resin.bbclass to be able to use deprecated layers
      hash: 9e8fed3a7170040d4ba887bfd8fc018b97de5d12
      body: |
        Fixes #1564

        This bbclass uses the common layer path advertised by BBLAYERS to find
        the paths to different resources in board repository. For example
        machine json - to get the slug and advertise it in os-release. After
        renaming the common layer (resin to balena) and because we support old
        references to the old common layer name (by including a dummy
        deprecation layer), we need to make sure this class can cope now with
        both cases.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix image-resin.bbclass to be able to use deprecated layers
        changelog-entry: Fix image-resin.bbclass to be able to use deprecated layers
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix kernel-devsrc on thud when kernel version < 4.10
      hash: c4cd6307ac3ae86a8d34b91d9dc82b6d3310db9b
      body: |
        Thud breaks when building against kernel version < 4.10. This is a known
        issue which is fixed in poky warrior[1]. This patch includes a
        workaround for thud.

        [1] http://lists.openembedded.org/pipermail/openembedded-core/2019-February/278695.html
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix kernel-devsrc on thud when kernel version < 4.10
        changelog-entry: Fix kernel-devsrc on thud when kernel version < 4.10
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.38.1
  date: 2019-06-20T12:30:28.452Z
- commits:
    - subject: Fix VERSION_ID os-release to be semver complient
      hash: fecb50757c10e392d46dec6fd24360f778a87a43
      body: |
        Poky, following os-release(5), sanitizes VERSION_ID accordingly but in
        doing so it produces a nonisemver compliant version. For example:

            VERSION="2.37.0+rev1"
            VERSION_ID="2.37.0-rev1"

        This patch reverts that to make sure rev is a build tag.

        Fixes #1560
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix VERSION_ID os-release to be semver complient
        changelog-entry: Fix VERSION_ID os-release to be semver complient
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Introduce META_BALENA_VERSION in os-release
      hash: b0e0c77a26f3fad51e2923ab416fdd2af2a5a033
      body: >
        Since #1550, os-release doesn't reference meta-balena distro version
        anymore. Restore

        that by providing this information in a new variable called
        META_BALENA_VERSION.


        Fixes #1558
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Introduce META_BALENA_VERSION in os-release
        changelog-entry: Introduce META_BALENA_VERSION in os-release
      author: Andrei Gherzan
    - subject: Fix a case where changes to u-boot were not regenerating the config
        file at build time and using stale values.
      hash: b40271867c3249566775cfb870a6176bc47d503f
      body: |
        Currently once config_resin.h is generated, a change in these variables
        doesn't regenerate the file. Add vardeps so that bitbake can regenerate
        config_resin.h in case these variables are changed.

        Fixes #1530
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix a case where changes to u-boot were not regenerating the
          config file at build time and using stale values.
        changelog-entry: Fix a case where changes to u-boot were not regenerating the
          config file at build time and using stale values.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Use all.rp_filter=2 as the default value in balenaOS
      hash: 2fe90f3316a9394db0a060ec976d23fa97d4f00a
      body: |
        This change backports a PR[1] that is already in systemd and will come
        included by default from the version in Yocto warrior.

        In summary, with this change we fix newer NM which stopped handling
        rp_filter when connected to multiple interfaces. See "device: disable
        rp_filter handling" commit from NM. Without this change, only the
        default route will me usable and binding to a specific interface will
        break connectivity if that interface is not also the default route for
        the target IP.

        [1]https://github.com/systemd/systemd/pull/10971/commits/6caa14f763c11630f28d587b3caa5f0e6dc96165
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Use all.rp_filter=2 as the default value in balenaOS
        changelog-entry: Use all.rp_filter=2 as the default value in balenaOS
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Persist bluetooth storage data over reboots
      hash: 3815e42f24167c0ce84a39cf0653434bacb0bd88
      body: |
        Currently, bluez's storage data is set to /var/lib/bluetooth which
        in turn is a tmpfs location. We want this location persistent so we can
        save paired devices over reboot. We do that by adding the corresponding
        bind mount to the state partition and setting bluez to depend on this
        mount unit.

        Fixes #1544
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Persist bluetooth storage data over reboots
        changelog-entry: Persist bluetooth storage data over reboots
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Drop support for morty and krogoth Yocto versions
      hash: 85c1eda1eeade2e5d5a1153d9c737225de0b3ee2
      body: |
        We have been deprecating these layers since v2.30.0. It's time to drop
        this support completely.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Drop support for morty and krogoth Yocto versions
        changelog-entry: Drop support for morty and krogoth Yocto versions
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Add Yocto Warrior support
      hash: b86ee8945ba71ccdae9d7d0d52b2822db39d4c6a
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add Yocto Warrior support
        changelog-entry: Add Yocto Warrior support
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Set both VERSION_ID and VERSION in os-release to host OS version
      hash: 40347f618b3b70ccc5f40e924990197ae9fa7e6b
      body: >
        VERSION and VERSION_ID had a slightly different semantics in balenaOS.

        VERSION was referring to the BalenaOS (host OS) version (which is coming
        from

        device repositories) while VERSION_ID was set to the DISTRO_VERSION.

        This brings confusion so we change it to adhere to

        https://www.freedesktop.org/software/systemd/man/os-release.html.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Set both VERSION_ID and VERSION in os-release to host OS version
        changelog-entry: Set both VERSION_ID and VERSION in os-release to host OS version
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Bump balena-engine to 18.9.6
      hash: 3af08fe6d30b5f0f8148c6820cda1cca3076bf00
      body: |
        In preparation for warrior. Bumps containerd which works with the newer
        systemd in warrior.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Bump balena-engine to 18.9.6
        changelog-entry: Bump balena-engine to 18.9.6
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Downgrade balena-supervisor to v9.15.7
      hash: c3616e19967e30726048018161fd4763d3d45773
      body: |
        This is done because a feature (RESIN_SUPERVISOR_MIXPANEL_REPORT) needs
        more work before releasing in production.
      footer:
        Changelog-entry: Downgrade balena-supervisor to v9.15.7
        changelog-entry: Downgrade balena-supervisor to v9.15.7
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Switch from dropbear to openSSH
      hash: ef33f21cdb7283c6f62590b1fe3d37c7fbd4df99
      body: |
        This is done for the "AuthorizedKeysCommand" in openSSH which in turn is
        used by the balena backend.

        Fixes #1388
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Switch from dropbear to openSSH
        changelog-entry: Switch from dropbear to openSSH
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Rename meta-resin-common to meta-balena-common
      hash: db96dfc3864399a5029fa8e78bc7fe518f3ae63a
      body: |
        Follow the resin to balena rename on the common yocto layer.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Rename meta-resin-common to meta-balena-common
        changelog-entry: Rename meta-resin-common to meta-balena-common
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Add wifi firmware for rtl8192su
      hash: 875bd033eb400b6338c7c70417fcd78586a184cf
      body: |
        Fixes #1511
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add wifi firmware for rtl8192su
        changelog-entry: Add wifi firmware for rtl8192su
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.38.0
  date: 2019-06-14T15:11:59.348Z
- commits:
    - subject: Update balena-supervisor to v9.15.8
      hash: 4fcdf63860d17612ef10ff9c721b9f58c8b8c023
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor to v9.15.8
        changelog-entry: Update balena-supervisor to v9.15.8
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: "kernel-modules-headers: Update to v0.0.18"
      hash: 9c1fb61a96351c112b98544117b90c4986445516
      body: |
        This update includes an arch64 fix (module.lds) and one for passing the
        correct LD flags.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: "os-config: Update to v1.1.1 to fix mDNS"
      hash: 8d44decba7a252bfb4399622898d18e28367c4fa
      body: |
        os-config has a dependency on reqwest which broke mdns on 9.6. The new
        os-config updated this version to one that restored this functionality.

        Partially fixes: #1531
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix busybox nslookup mdns lookups
      hash: 157a06ad295a1f03635f8291dfc4dfe3358caa9c
      body: |
        Since 1.29, busybox switched to an internal implementation of the
        resolver based on a feature config, NSLOOKUP_BIG. This is enabled by
        default and it's meant to be musl compatible. In BalenaOS we use glibc
        and we rely on it for being able to resolve names using NSS modules
        (libmdns).
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix busybox nslookup mdns lookups
        changelog-entry: Fix busybox nslookup mdns lookups
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-supervisor to v9.15.4
      hash: a6e1c40853e4bad20de9172f688eb074f8d24b86
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor to v9.15.4
        changelog-entry: Update balena-supervisor to v9.15.4
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Improve logging and version comparison in linux-firmware cleanup class
      hash: 6500c7f020133833b820f9152c22b8e45794542c
      body: |
        This adds an easier to debug logging that shows both removed and kept
        firmwares. For example:

         Cleaning iwlwifi firmware version 8000C to minimum API version 34.
           Removing iwlwifi-8000C-13.ucode.
           Removing iwlwifi-8000C-22.ucode.
           Removing iwlwifi-8000C-21.ucode.
           Removing iwlwifi-8000C-31.ucode.
           Removing iwlwifi-8000C-16.ucode.
           Removing iwlwifi-8000C-27.ucode.
           Leaving iwlwifi-8000C-34.ucode in place.
           Leaving iwlwifi-8000C-36.ucode in place.

        Also, this commit improves the version comparison which was comparing
        strings and not integers. Now we try integer comparison and fallback to
        string when parse fails.

        Finally, the task's vardeps expands varflags to correctly retrigger on
        change.

        Fixes #1527
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Improve logging and version comparison in linux-firmware cleanup class
        changelog-entry: Improve logging and version comparison in linux-firmware cleanup class
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Sync ModemManager recipe with upstream
      hash: e0be8f152c88a5635b5d18249c5f882caf9e31c5
      body: |
        We also pushed the latest update we did in BalenaOS to upstream:
        http://lists.openembedded.org/pipermail/openembedded-devel/2019-May/199743.html
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Sync ModemManager recipe with upstream
        changelog-entry: Sync ModemManager recipe with upstream
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update NetworkManager to 1.18.0
      hash: 808f6f1790357b4f282a15cbb72c603ee77f63d3
      body: |
        Fixes #1492

        Pushed to upstream as well:
        http://lists.openembedded.org/pipermail/openembedded-devel/2019-May/199742.html
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update NetworkManager to 1.18.0
        changelog-entry: Update NetworkManager to 1.18.0
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.37.0
  date: 2019-05-29T14:57:13.320Z
- commits:
    - subject: Cleanup old versions of iwlwifi firmware files in Yocto Thud
      hash: 65122b0689d75d49b338595ec6813b1acad59223
      body: |
        This is done so we can save considerable amount of space on the root
        partition.

        See #810
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto Thud
        changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto Thud
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.36.0
  date: 2019-05-20T13:07:11.168Z
- commits:
    - subject: Update kernel-module-headers to version v0.0.16
      hash: 410311755dec70ba4040fcfbcb5ace59884b4644
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update kernel-module-headers to version v0.0.16
        changelog-entry: Update kernel-module-headers to version v0.0.16
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Add uboot support for unified kernel cmdline arguments
      hash: 35046288e2878f85e4bc33a0cb993e32d4d5aa9a
      body: |
        This adds set_os_cmdline which defines os_cmdline so that BSPs can
        import it in their bootargs and pass it to kernel accordingly. Also, as
        part of os_cmdline, there is an argument added when the booted image is
        a flasher. This can be used in the OS for various flasher specific
        checks.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add uboot support for unified kernel cmdline arguments
        changelog-entry: Add uboot support for unified kernel cmdline arguments
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Switch flasher detection in initramfs to flasher boot parameter
      hash: 93e3c7286c52c6f91bf4252338955f6d7fd97fc2
      body: |
        Fixes #1488
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Switch flasher detection in initramfs to flasher boot parameter
        changelog-entry: Switch flasher detection in initramfs to flasher boot parameter
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-supervisor to v9.15.0
      hash: b99419662683f44c09f4369424f450b90f9d0a5a
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor to v9.15.0
        changelog-entry: Update balena-supervisor to v9.15.0
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Improve boot speed by only mounting the inactive partition when needed
      hash: 28fc12ef94bc8e9a083bc5b1e8052fdb685453c2
      body: |
        The inactive partition is only needed for HUP or rollbacks. This commit
        changes the mnt-sysroot-inactive.service unit to an automount so that
        the partition is only mounted when used. This improves boot time.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Improve boot speed by only mounting the inactive partition when needed
        changelog-entry: Improve boot speed by only mounting the inactive partition when needed
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix openssl dependency of balena-unique-key
      hash: 2159c397b0560d03441806573e14bfbcf52a7e7b
      body: |
        Since yocto thud, and more specifically since poky switched to
        openssl 1.1 line, the openssl binary is provided by 'openssl-bin'. On
        that version, 'openssl' doesn't provide this binary making the uuid
        generation script fail.

        This patch makes 'openssl-bin' the default dependency but does that in a
        way that older yocto versions can overwrite it back to the old provider
        (openssl package).
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix openssl dependency of balena-unique-key
        changelog-entry: Fix openssl dependency of balena-unique-key
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Do not spawn getty in production images
      hash: 93b3298cbb343f3ebf3a03725f6f0298974bed8f
      body: |
        This code was deleted by commit
        9a8f1f1b744248964d4d1b2eb2c8dd732a753980 by mistake so let's
        add it back.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Do not spawn getty in production images
        changelog-entry: Do not spawn getty in production images
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.35.0
  date: 2019-05-18T22:39:09.735Z
- commits:
    - subject: Update balena-supervisor to v9.14.10
      hash: 70b9acb15806f0a276f80ab18e9f7ad4aa02d83b
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor to v9.14.10
        changelog-entry: Update balena-supervisor to v9.14.10
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
  version: 2.34.1
  date: 2019-05-14T10:20:59.175Z
- commits:
    - subject: Add support to update a connectivity section in NetworkManager via
        config.json
      hash: 2585af4a34abcd6ced3dcd0c70913ef1cdfe019d
      body: |
        We'd like connectivity checking so that Network Manager can update
        route metrics for devices that have multiple network interfaces.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support to update a connectivity section in NetworkManager
          via config.json
        changelog-entry: Add support to update a connectivity section in NetworkManager
          via config.json
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "systemd: Fix journald configuration file"
      hash: b1cc7829758969112aae599ea0b986624596b8c6
      body: |
        9a8f1f1b744248964d4d1b2eb2c8dd732a753980 switched to a config file
        fragment but when doing so the section was missed. This patch fixes
        that.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Add --max-download-attempts=10 to balenaEngine service to improve
        performance on shaky networks
      hash: c699d5c13cea6a525c9d6a54152c781bd3885ecc
      body: |
        This should improve performance on flaky connections.

        Fixes #1493
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add --max-download-attempts=10 to balenaEngine service to
          improve performance on shaky networks
        changelog-entry: Add --max-download-attempts=10 to balenaEngine service to
          improve performance on shaky networks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-engine to 18.09.5
      hash: 0894326a372e14056fede8c7acda67fa83e39284
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-engine to 18.09.5
        changelog-entry: Update balena-engine to 18.09.5
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Log initramfs messages to kernel dmesg to capture fsck, partition
        expand etc. command output
      hash: 580a6fb37f5c077d3c80957db02d7cfd3376fdc5
      body: |
        We run some operations in the initramfs. fsck, expand partitions etc.
        Any error messages or warnings printed here are invisible in production
        images. This line from debian initramfs-tools configures the initramfs
        shell to log all output in /dev/kmsg so the dmesg shows the output of
        initramfs commands as well.
        Fixes #1459
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Log initramfs messages to kernel dmesg to capture fsck,
          partition expand etc. command output
        changelog-entry: Log initramfs messages to kernel dmesg to capture fsck,
          partition expand etc. command output
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "kernel-resin: Add FAT fs specific configs to RESIN_CONFIGS"
      hash: a09550d9633eaba9b55ce2c98d9a43a5b52dfe6f
      body: |
        Add FAT fs specific configs, necessary to mount the
        boot partition
      footer:
        Change-type: minor
        change-type: minor
        Changlog-entry: Add FAT fs specific configs to RESIN_CONFIGS
        changlog-entry: Add FAT fs specific configs to RESIN_CONFIGS
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
    - subject: Update balena-supervisor to v9.14.9
      hash: 167164b41957981b67c90dd78a19073a2b231878
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor to v9.14.9
        changelog-entry: Update balena-supervisor to v9.14.9
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Introduce meta-balena yocto thud support
      hash: b2fea323b337bd6868f3f41b70f8bdb688b11bb8
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Introduce meta-balena yocto thud support
        changelog-entry: Introduce meta-balena yocto thud support
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update os-config to 1.1.0
      hash: 0ff476e2724525b96e3d72fc00d22423af2d6cb4
      body: |
        This version includes rust 1.33 support which we use in balenaOS.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update os-config to 1.1.0
        changelog-entry: Update os-config to 1.1.0
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.34.0
  date: 2019-05-10T10:24:10.994Z
- commits:
    - subject: Fixes for sysroot symlinks creation
      hash: b7a6412e6368d3d562ff1ca2fb06be92a24a8548
      body: |
        When we set the udev rule we use IMPORT{program} to know what symlinks
        to create in the sysroot directory. The problem is that we don't use
        absolute paths and from the documentation udev uses /usr/lib/udev as the
        default path while we install the invoked script in /lib/udev.

        ```
          Execute an external program specified as the assigned value. If no
          absolute path is given, the program is expected to live in
          /usr/lib/udev; otherwise, the absolute path must be specified.
        ```

        This PR changes the udev rule to use an absolute path for the
        resin_update_state_probe script. Also it fixes some typos in the script
        itself.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fixes for sysroot symlinks creation
        changelog-entry: Fixes for sysroot symlinks creation
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: "libmbim: Refresh patches after last update to avoid build warnings"
      hash: 3b3bfcd8c74070797b55ab2a6e7079cc320581a6
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: "modemmanager: Refresh patches after last update to avoid build warnings"
      hash: 83ccf2a4a131b8a116ab90e6272734ac67d73781
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Make security flags inclusion yocto version specific
      hash: 9571c572e4abcd1ea5951fa408b1543bc40db8c9
      body: |
        Since thud, poky distro file on which balena OS is based, already
        includes security_flags.inc. Because of this change, this version throws
        a build warning similar to:

        WARNING Duplicate inclusion for /build/../layers/poky/meta/conf/distro/include/security_flags.inc
        in /build/../layers/meta-resin/meta-balena-thud/conf/distro/include/balena-os-yocto-version.inc

        This happens because again, we import `poky` and `security_flags` but
        since thud, poky includes security_flags by default. In order to avoid
        this warning we import it (security_flags) now using an .inc file at the
        level of the yocto version meta-balena layer. There is as well a small
        additional wrinkle here. We switch the include statement from `require`
        to `include` so new layers (like thud) don't have to carry this hack in
        the future.

        This commit prepares meta-balena for thud support.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Make security flags inclusion yocto version specific
        changelog-entry: Make security flags inclusion yocto version specific
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: "systemd: Make directory warning patch yocto version specific"
      hash: 7bedeb98520b6b1bc995b4484f6b61d347a0befe
      body: |
        We used to have this patch applied for all the supported yocto versions.
        Since thud, this patch is included by default so this change backports
        it on all the rest of the supported mate-balena yocto version specific
        layers.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Replace wireless tools by iw
      hash: 81839342bebec4ca915f091607bb3977dc02d675
      body: |
        From yocto thud, wireless-tools recipe was removed and the iw can be
        used as a replacement. We switch as well in preparation for thud
        support.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Replace wireless tools by iw
        changelog-entry: Replace wireless tools by iw
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: "systemd: Use a conf.d file for journald configuration"
      hash: 9a8f1f1b744248964d4d1b2eb2c8dd732a753980
      body: |
        Since yocto thud systemd main configuration files are part of another
        recipe - systemd-conf. See poky commit:
        28c2f0dfe3ae06d87772b2a88fcace5a03e09143

        This commit prepares meta-balena for thud support.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Set go verison to 1.10.8 to match balena-engine requirements
      hash: 1f92a80e4a768bdff4646ccd31cc5c815a114be6
      body: |
        The reason for including this version is that balena-engine requires
        newer go compiler and also we want to unify it across our supported
        yocto versions to avoid eventual possible runtime issues.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Set go verison to 1.10.8 to match balena-engine requirements
        changelog-entry: Set go verison to 1.10.8 to match balena-engine requirements
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-engine to 18.09.3
      hash: 53ce14708251cda410f2e870b6ec9342e7e4e1e4
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        CHangelog-entry: Update balena-engine to 18.09.3
        changelog-entry: Update balena-engine to 18.09.3
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-supervisor to v9.14.6
      hash: 0ec51a88d9389b9f71a4bb4b2e33fda9464cde8c
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor to v9.14.6
        changelog-entry: Update balena-supervisor to v9.14.6
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: "resin-u-boot: make devtool-compatible"
      hash: fb727b680fbfad8db39c2b491e49f1568c111436
      body: >
        devtool moves the files from the WORKDIR into ${S}/oe-local-files which
        makes

        copying of env_resin.h fail if the u-boot source is being modified using

        devtool. Since devtool also alters FILESPATH to include said
        oe-local-files

        directory, we can iterate over those paths instead of relying on
        WORKDIR.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Sven Schwermer <sven.schwermer@disruptive-technologies.com>
        signed-off-by: Sven Schwermer <sven.schwermer@disruptive-technologies.com>
      author: Sven Schwermer
    - subject: "docker-disk: Disable unnecessary docker pid check"
      hash: d7583f3373de1188240e65a8e30def281657e0d0
      body: |
        By checking for a pid you are prevented from building Balena inside
        of a privileged container with a bind mount on /var/run/docker.sock

        The "Test docker execute permission" stanza is adequate for testing
        if docker is operational.
      footer:
        Change-type: minor
        change-type: minor
        Changlog-entry: Disable unnecessary docker pid check
        changlog-entry: Disable unnecessary docker pid check
        Signed-off-by: Armin Schlegel <armin.schlegel@gmx.de>
        signed-off-by: Armin Schlegel <armin.schlegel@gmx.de>
      author: Armin Schlegel
    - subject: Update libmbim to version 1.18.0
      hash: 677159770b7cfa0eb0a6611094ea7673f67883d3
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libmbim to version 1.18.0
        changelog-entry: Update libmbim to version 1.18.0
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update libqmi to version 1.22.2
      hash: 8047b6b9ec42ef4aab9798e516e4ded54a62a252
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libqmi to version 1.22.2
        changelog-entry: Update libqmi to version 1.22.2
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update to ModemManager v1.10.0
      hash: 774b270a7f963740b4c209efc6c66085a7d7c906
      body: |
        Fixes #1457
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update to ModemManager v1.10.0
        changelog-entry: Update to ModemManager v1.10.0
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Add a OS_KERNEL_CMDLINE parameter that allows BSPs to easily add extra
        kernel cmdline args to production images
      hash: 4b607b32495737f6f83f12e891188ab008b0de47
      body: |
        balenaOS comes in two flavours, production/development. production
        images have various options passed to the kernel cmdline.
        Currently some devices BSPs have those options passed and some dont.
        It'll be hard to keep the common options consistent.
        e.g. consoleblank=0 is passed for some devices and not for others.

        We'd like the extra options we pass to be in one place. All BSPs can
        then append this variable in their respective recipe/bootloader config
        etc.

        Fixes #1464
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add a OS_KERNEL_CMDLINE parameter that allows BSPs to easily
          add extra kernel cmdline args to production images
        changelog-entry: Add a OS_KERNEL_CMDLINE parameter that allows BSPs to easily
          add extra kernel cmdline args to production images
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.33.0
  date: 2019-05-02T13:26:16.845Z
- commits:
    - subject: "balena-supervisor: Update to v9.14.0"
      hash: 215ba6f6e03ac7a9575046ebdf054cd6091cd8f4
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: "readme: Replace resin with balena where appropriate"
      hash: ab578aecc50d9f2e88e935251a5d9025ccd95069
      body: |
        To be more consistent in naming.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Roman Mazur <mazur.roman@gmail.com>
        signed-off-by: Roman Mazur <mazur.roman@gmail.com>
      author: Roman Mazur
    - subject: Add systemd-analyze to production images as well
      hash: ae99502356d994dee5896164afbe7df8bde00d6a
      body: |
        We'd like to track boot time in production images as well.
        As we currently have space in the OS, lets add it.

        Size increase 1.2Mb (pi3)
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add systemd-analyze to production images as well
        changelog-entry: Add systemd-analyze to production images as well
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Enable dbus interface for dnsmasq
      hash: 6886d08e1b37fa52055e743b05a68b069319dfd5
      body: |
        The dbus interface is useful for containers to qeury dnsmasq if needed.
        Fixes #1453
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Enable dbus interface for dnsmasq
        changelog-entry: Enable dbus interface for dnsmasq
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Disable docker bridge while pulling the supervisor container to remove
        runtime balena-engine warnings
      hash: 0764b2949784f5c34cf20f56b8a42c38f6d475c1
      body: |
        By default, the supervisor container is created with the default bridge
        network docker0. Which causes spurious warnings in balenaOS.

        Disable the bridge network during build as we don't need it
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Disable docker bridge while pulling the supervisor container to
          remove runtime balena-engine warnings
        changelog-entry: Disable docker bridge while pulling the supervisor container to
          remove runtime balena-engine warnings
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix typo in os-networkmanager that prevented it from working
      hash: d649dd317d9ca0a9c1aa4abcb5cf0c0ae8798f95
      body: |
        The device section in networkmanager.conf is [device] not [Device].
        Fix the typo
        Fixes #1448
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix typo in os-networkmanager that prevented it from working
        changelog-entry: Fix typo in os-networkmanager that prevented it from working
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix bug where fsck was run on the data partition on every boot even if
        it wasn't needed due to old system time.
      hash: aa0d2154eb8aeee220807211317eafe153f46378
      body: |
        e2fsck by default checks differences between the system time and the
        last filesystem mount timestamp.

        As we run on devices without an rtc, and we run the filesystem-expand
        service which runs fsck before ntp sync happens, this results in errors
        like

        Superblock last mount time (Thu Mar 14 17:13:02 2019,
              now = Mon Mar 11 15:29:56 2019) is in the future.
        Fix? yes

        This results in fsck running on the data partition on every boot which
        slows down the boot time.

        Add e2fsck.conf file with the broken_system_clock flag to prevent this
        check from running fsck on every boot. Quite a few distros do this as
        well.
        Fixes #1438
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix bug where fsck was run on the data partition on every boot
          even if it wasn't needed due to old system time.
        changelog-entry: Fix bug where fsck was run on the data partition on every boot
          even if it wasn't needed due to old system time.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix the balena version string reported by balena-engine info
      hash: 19c7a0e368ea4ff3d0ac525a7743bc9ee00257e7
      body: |
        The version is 17.13.3. We'll need to bump the version string as well
        now that versionbot is being used in the balena-engine repo.
        Fixes 1433
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix the balena version string reported by balena-engine info
        changelog-entry: Fix the balena version string reported by balena-engine info
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Only check mmc devices for flasher image presence by default.
      hash: 5da7792e8c85f49fed15488ca983c1252f120d8b
      body: |
        Currently mmc and usb devices are checked at every boot for the presence
        of flasher images. USB initialization is slow 1-3 seconds. This slows
        boot time significantly.

        Most device types dont need to check for the presence of flasher images
        in usb devies. Modify u-boot to only check for mmc devices.

        usb initialization happens in devices via the "usb start" command. This
        is usually configured in CONFIG_PREBOOT for devices. Devices will need
        to remove "usb start" from CONFIG_PREBOOT to benefit from any boot time
        optimization.

        We will need to run "usb start" ourselves via env_resin for any device
        that happens to be searching for flasher images in usb device types.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Only check mmc devices for flasher image presence by default.
        changelog-entry: Only check mmc devices for flasher image presence by default.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Remove an extra redundant copy of udev rules database
      hash: 2e5a48350f359d516b4cf395d46c453434d53422
      body: |
        These files are used to generate /etc/udev/hwdb.bin at build time.
        "During runtime, only the binary database is used." from
        https://www.freedesktop.org/software/systemd/man/hwdb.html

        Remove these files from the final os image to save us 5.9Mb.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Remove an extra redundant copy of udev rules database
        changelog-entry: Remove an extra redundant copy of udev rules database
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Un-upx mobynit and os-config to speed them up a bit. Approx 1 second
        boost to boot time.
      hash: d1e710fd78ddbcc2142d10d1bade43b54a99dee7
      body: |
        We have space in the OS now. Avoid compressing os-config to speed it
        up a bit.

        Example compression levels for pi0

        root@62d0b9a:/mnt/data# du -hs os-config*
        2.6M    os-config
        700K    os-config_upxed
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Un-upx mobynit and os-config to speed them up a bit. Approx 1
          second boost to boot time.
        changelog-entry: Un-upx mobynit and os-config to speed them up a bit. Approx 1
          second boost to boot time.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.32.0
  date: 2019-04-08T17:06:17.364Z
- commits:
    - subject: Update resin-supervisor to v9.11.3
      hash: 7ad04ea5594fc1cf5f378b9cab3c75b2ee6f0e6e
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update resin-supervisor to v9.11.3
        changelog-entry: Update resin-supervisor to v9.11.3
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.31.5
  date: 2019-03-21T14:43:57.016Z
- commits:
    - subject: "resin-supervisor: Recreate on start if config has changed"
      hash: 20032211302d25300c09310e169cafa01375e35e
      body: >
        Fix the ordering of the conditional check when starting the supervisor
        container;

        only check that the values being passed into the environment match the
        ones held

        in the config IF the container already exists.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Rich Bayliss <rich@balena.io>
        signed-off-by: Rich Bayliss <rich@balena.io>
      author: Rich Bayliss
  version: 2.31.4
  date: 2019-03-20T23:25:52.136Z
- commits:
    - subject: Update resin-supervisor to v9.11.2
      hash: abb864096b5b473893aa7011a685ed8df97a28ee
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update resin-supervisor to v9.11.2
        changelog-entry: Update resin-supervisor to v9.11.2
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
  version: 2.31.3
  date: 2019-03-20T20:18:02.522Z
- commits:
    - subject: Update resin-supervisor to v9.11.1
      hash: 0993710382367b865ce81113dbe5566e5814da10
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update resin-supervisor to v9.11.1
        changelog-entry: Update resin-supervisor to v9.11.1
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
  version: 2.31.2
  date: 2019-03-19T21:33:42.542Z
- commits:
    - subject: Update resin-supervisor to v9.11.0
      hash: 8b1380bce8a664ef228b054c2b065521acbb48aa
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update resin-supervisor to v9.11.0
        changelog-entry: Update resin-supervisor to v9.11.0
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
  version: 2.31.1
  date: 2019-03-18T19:21:24.218Z
- commits:
    - subject: "README:md: Document dnsServers behaviour"
      hash: ad441b8367d65fe780beef35b20f8d4898bdd339
      body: |
        Taken from fa3de6987e3bc82ab6d85038c637f1871e5269cb commit message
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Alexis Svinartchouk <alexis@balena.io>
        signed-off-by: Alexis Svinartchouk <alexis@balena.io>
      author: Alexis Svinartchouk
    - subject: Update resin-supervisor to v9.9.0
      hash: 133dde58bde7c4d54ad157374bb3e7062a599e31
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v9.9.0
        changelog-entry: Update resin-supervisor to v9.9.0
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Cleanup old versions of iwlwifi firmware files in Yocto sumo
      hash: 5db4441e50b2d47cd7658845c12508b50808d5ee
      body: |
        This is done so we can save considerable amount of space on the root
        partition.

        See #810
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto sumo
        changelog-entry: Cleanup old versions of iwlwifi firmware files in Yocto sumo
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Remove polkit dependency in balenaOS
      hash: 4fddf1a54ac13ed4acd3f65096afccf6a5f7a5ef
      body: |
        Fixes #1404
        See #810
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Remove polkit dependency in balenaOS
        changelog-entry: Remove polkit dependency in balenaOS
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Remove support for XFS file system
      hash: bbf5675973da6adf8fa8f8b671606fbffaef834e
      body: |
        This is done so we can save space on the root file system.

        See #810
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Remove support for XFS file system
        changelog-entry: Remove support for XFS file system
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: "resin-init: update resin.io reference to balenaOS"
      hash: 593fcb558b1afe3892560fdd7e0c315c9459466f
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Matthew McGinn <matthew@balena.io>
        signed-off-by: Matthew McGinn <matthew@balena.io>
      author: Matthew McGinn
  version: 2.31.0
  date: 2019-03-08T14:31:27.986Z
- commits:
    - subject: "resin-supervisor: Recreate on start if config has changed"
      hash: 3ce04f93b1894f86be5d838bcc24335aaa161233
      body: |
        When starting the supervisor container, check that the values being
        passed into the environment match the ones held in the config.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Rich Bayliss <rich@balena.io>
        signed-off-by: Rich Bayliss <rich@balena.io>
      author: Rich Bayliss
    - subject: Generate the temporary kernel-devsrc compressed archive in WORKDIR
        instead of B
      hash: ed5fe09c9dfb4f5dd07bae691b277b9d2f38f718
      body: |
        It is best to not create anything in ${B} even if just temporary because
        it alters the directory in ways which can break other parts of the build
        system. For example, if there is a leftover kernel_source.tar.gz in B,
        then the current kernel-devsrc will create a hardlink of this file in
        the kernel source tree and then the command:
        tar -czf ${B}/kernel_source.tar.gz -C "$kerneldir/../" .

        will fail like:
        tar: ./kernel/kernel_source.tar.gz: file changed as we read it
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Generate the temporary kernel-devsrc compressed archive in
          WORKDIR instead of B
        changelog-entry: Generate the temporary kernel-devsrc compressed archive in
          WORKDIR instead of B
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: "balena-engine: Update to include fix for signal SIGRTMIN+3"
      hash: 0e19efb71526097cad4037336f7a410782189fa0
      body: |
        See https://github.com/opencontainers/runc/issues/1766.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Reduce sleeps while trying to mount partition to speed up boot
      hash: 73b69ae792330741603e0a4fc7878b2ec9ed0462
      body: |
        There is no need to wait 1 second if a label hasn't appeared. Other
        services depend on these partitions to be mounted. Reduce sleep to 0.1
        second.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Reduce sleeps while trying to mount partition to speed up boot
        changelog-entry: Reduce sleeps while trying to mount partition to speed up boot
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "resin-expand: Reduce sleep duration to speed up boot"
      hash: 6c69d676d36ed6a94ca094037515dd5ee4a5697a
      body: |
        There is no need to sleep for 1 second if a label isn't visible.
        Other services depend on the partitons mounted. Reduce sleep to 0.1
        second.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "initrdscripts: Reduce sleep to speed up boot"
      hash: 4a6cb8ae75e275de389dc3ef9dfbd52c3bdd72f1
      body: |
        There is no need to sleep for 1 second if the label hasn't been found.
        There is nothing else running on the device in the initramfs.
        Check every 0.05 seconds.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Make balena-host daemon socket activated to reduce baseline cpu/memory
        usage
      hash: 0d0cb22118e08d710640697561853a1227b64b92
      body: |
        Fixes #1405

        We'd like the balena-host daemon to be socket activated so that it does
        not consume any cpu/memory resource until used.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Make balena-host daemon socket activated to reduce baseline
          cpu/memory usage
        changelog-entry: Make balena-host daemon socket activated to reduce baseline
          cpu/memory usage
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update resin-supervisor to v9.8.6
      hash: 3124067996edded74e52cf9b87ec5dc9ee95c730
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v9.8.6
        changelog-entry: Update resin-supervisor to v9.8.6
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Add support for aufs 4.18.11+, 4.19, 4.20 variants and update 4.14,
        4.14.56+, 4.15, 4.16, 4.17, 4.18
      hash: 9c8b60cf92aa7a25f424532956439b518ec96201
      body: |
        We add support for 4.18.11+, 4.19, 4.19.17+, 4.20, 4.20.4+.
        Also, update 4.14, 4.14.56+, 4.15, 4.16, 4.17, 4.18.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support for aufs 4.18.11+, 4.19, 4.20 variants and update
          4.14, 4.14.56+, 4.15, 4.16, 4.17, 4.18
        changelog-entry: Add support for aufs 4.18.11+, 4.19, 4.20 variants and update
          4.14, 4.14.56+, 4.15, 4.16, 4.17, 4.18
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: "balena-engine: Bump to include runc patch"
      hash: f56f08136e9c855637ff28880fb593dba53d452b
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Improve kernel-module-headers for v4.18+ kernels
      hash: 0931b97b76ef2d04697468f027b53247803b51d4
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Improve kernel-module-headers for v4.18+ kernels
        changelog-entry: Improve kernel-module-headers for v4.18+ kernels
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v9.8.3
      hash: 76a72c58095d0d1b45a552f62b75bb5ec18813c6
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-supervisor to v9.8.3
        changelog-entry: Update balena-supervisor to v9.8.3
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Ask chrony to quickly take measurements from custom NTP servers when
        they are added
      hash: 8cb1664a2650b1a60849efaf009b205e8e796816
      body: |
        By default, chrony will slowly and gracefully take measurements from
        the new ntp server. The burst 4/10 command will make chrony take 4 good
        measurements within 2 seconds each. It will try up to 10 times.
        Fixes #1385
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Ask chrony to quickly take measurements from custom NTP servers
          when they are added
        changelog-entry: Ask chrony to quickly take measurements from custom NTP servers
          when they are added
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Disable in-tree rtl8192cu driver
      hash: 95a5c13ee40cc958b142b00e19a4349d66a8b808
      body: |
        We will only have the out of tree module which allegedly
        is more stable:
        https://github.com/raspberrypi/linux/issues/1866

        The configs for disabling it were added but apparently
        they were never applied.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Disable in-tree rtl8192cu driver
        changelog-entry: Disable in-tree rtl8192cu driver
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Prevent rollbacks from running if the previous OS is before v2.30.0
      hash: fee00ba8b841d3e8634960c37c3e96c994c18567
      body: |
        v2.30.0 is a more mature version for rollbacks. Prevent rollbacks
        from running on OS
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Prevent rollbacks from running if the previous OS is before v2.30.0
        changelog-entry: Prevent rollbacks from running if the previous OS is before v2.30.0
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Change rollbacks to accept hex partition numbers for jetsons
      hash: 11b540777b76163493564407c9bdd7be98215f02
      body: |
        The partition numbers are hex and not integers. This is obvious when
        using the jetson family of devices as their partition numbering starts
        at 0xc.

        - Change integer comparisons to string comparisons.
        - Convert current_part_idx to hex for a valid string comparison
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Change rollbacks to accept hex partition numbers for jetsons
        changelog-entry: Change rollbacks to accept hex partition numbers for jetsons
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Convert partition numbers to hex in u-boot hook. Shouldn't affect any
        device.
      hash: 6c646e5c275f881c255e49d206a15d6fbbba3276
      body: |
        From u-boot docs:
        "Almost all U-Boot commands expect numbers to be entered in hexadecimal
        input format"

        We only hit this in the jetson family as the boot partition there is
        0xc. Add a simple conversion to hex. This should not affect any devices
        that use <9 partition numbers. And allow us to use the same hook
        from meta-balena accross all devices. Currently the jetson family has
        its own custom hook with this one-liner.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Convert partition numbers to hex in u-boot hook. Shouldn't
          affect any device.
        changelog-entry: Convert partition numbers to hex in u-boot hook. Shouldn't
          affect any device.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Reduce default reboot/poweroff timeouts from 30 minutes to 10 minutes
      hash: 59c923777e6145288df5b6e77ca33a21323b68e3
      body: >
        The default timeout for poweroff/reboot targets is 30 minutes. That is

        too long. Reduce it to 10 minutes.


        We might start hitting this when the supervisor starts rebooting devices

        more gracefully after
        https://github.com/balena-io/balena-supervisor/issues/861

        is resolved.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Reduce default reboot/poweroff timeouts from 30 minutes to 10 minutes
        changelog-entry: Reduce default reboot/poweroff timeouts from 30 minutes to 10 minutes
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Configure systemd tmpfiles to ignore supervisor tmp directories
      hash: ebb0a930c7c8f8ec348858009a0ff3fd0c58b70b
      body: |
        There are tmp directories supervisor assumes nobody touches in which
        things like update lock files are stored. This patch configures systemd
        tmpfiles to ignore these tmp paths.

        Fixes #1377
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Configure systemd tmpfiles to ignore supervisor tmp directories
        changelog-entry: Configure systemd tmpfiles to ignore supervisor tmp directories
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fixed "Can't have overlapping partitions." error in flasher
      hash: 299e2c7974c408a0a2ff762bc263f266c69d5a98
      body: |
        Fixed typo that caused flashing process to block
        on some corrupted eMMCs due to parted command failure.

        Flashing process hanged during boot with this log:
        - Error: Can't have overlapping partitions.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fixed "Can't have overlapping partitions." error in flasher
        changelog-entry: Fixed "Can't have overlapping partitions." error in flasher
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
    - subject: Define default DNS servers behaviour with and without google DNS
      hash: fa3de6987e3bc82ab6d85038c637f1871e5269cb
      body: |
        This implements a default logic for `dnsServers` attribute in
        `config.json` as it follows:

        * when dnsServers is not defined, or empty, the default value of it will
        be considered google DNS (8.8.8.8)
        * when dnsServers is "null", the system will not alter dnsServers to the
        default server as stated above
        * when dnsServers is defined and not "null" it will be considered as
        such without any additional servers servers

        Fixes ##1348
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Define default DNS servers behaviour with and without google DNS
        changelog-entry: Define default DNS servers behaviour with and without google DNS
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-supervisor to v9.4.2
      hash: 4d66971c840b6142c7e22c5538b5c34356b9f880
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-supervisor to v9.4.2
        changelog-entry: Update balena-supervisor to v9.4.2
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Fix for some warnings
      hash: 1d92f8c3bcc21a7c0b21b12f65f1051616f04b78
      body: |
        From http://cgit.openembedded.org/openembedded-core/commit/meta/recipes-kernel/linux/kernel-devsrc.bb?h=thud&id=fd74848c3c06901a77057ca03f7c01aff08ee34a
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix for some warnings
        changelog-entry: Fix for some warnings
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix tini filename after balena-engine rename
      hash: 47980f05d3fa7c8a46b297431e0398b2da03e22e
      body: |
        Since balena-engine rename, the daemon is looking for
        `balena-engine-init` when running containers with `--init`. Fix the tini
        filename to comply with this.

        Fixes #1368
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix tini filename after balena-engine rename
        changelog-entry: Fix tini filename after balena-engine rename
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix nm dispatcher hook when there are no custom ntp servers in
        config.json
      hash: 0b75ee48cee005d78e08d8c68722cc2374567123
      body: |
        If there are no custom ntp servers, the added_server_file doesn't exist
        Add a check and avoid running the script if the file does not exist

        Fixes #1362
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix nm dispatcher hook when there are no custom ntp servers in
          config.json
        changelog-entry: Fix nm dispatcher hook when there are no custom ntp servers in
          config.json
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Improve persistent logging systemd service dependencies
      hash: 0ce1d8576b7e33083784cb3123d2ad2c53091513
      body: |
        We need the state partition and boot partition ready before we try
        to run the persistent logging service.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Improve persistent logging systemd service dependencies
        changelog-entry: Improve persistent logging systemd service dependencies
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v9.3.0
      hash: dc5ed342a39c32d2efa00197e4ce7578e8de20f9
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-supervisor to v9.3.0
        changelog-entry: Update balena-supervisor to v9.3.0
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Use the new revision for balena source code
      hash: a52207c03253fcc0cc219a4e1a100b46ea44e226
      body: |
        The 17.12-resin branch was modified and the old revision is not
        there anymore.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Use the new revision for balena source code
        changelog-entry: Use the new revision for balena source code
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Add a workaround for a bug where the chronyc online command in network
        manager hook would get stuck and eat cpu cycles
      hash: 6fe830882bf8ee62dc6db09b5a8a6f099d64fe41
      body: |
        We have noticed devices in support that show high cpu usage because
        the process chronyc online seems to be eating up 50% cpu.

        This is probably fixed upstream https://github.com/mlichvar/chrony/commit/6863e43269fe27ce2744eb643295f31c00ec176d#diff-50898f0cb35139d87132f4732a029213

        Add a timeout in any case as its a lower risk option
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Add a workaround for a bug where the chronyc online command in
          network manager hook would get stuck and eat cpu cycles
        changelog-entry: Add a workaround for a bug where the chronyc online command in
          network manager hook would get stuck and eat cpu cycles
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix img to rootfs dependency when img is invalidated
      hash: 3050840935541c14ded2f9a6a1517d73dfc5ec18
      body: |
        There can be cases where a image type gets invalidated (due to a
        variable change or so) and the dependency of it not. For example the img
        type can get invalidated while the hostapp ext3 type doesn't. The img
        generatiton script consumes/uses the rootfs generated by the hostapp
        type but, it references the artifact based on IMAGE_NAME variable which
        includes a time stamp. See bitbake.conf:

        IMAGE_NAME = "${IMAGE_BASENAME}-${MACHINE}-${DATETIME}"

        When that happens, the new timestamp will change and img will fail to
        find the old artifact of hostapp. Change this behaviour by using the
        symlink reference IMAGE_LINK_NAME which doesn't include a timestamp.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix img to rootfs dependency when img is invalidated
        changelog-entry: Fix img to rootfs dependency when img is invalidated
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Have boot partition type configurable as FAT32
      hash: a582d10ca72ff0d865783252b87160f03b2045bb
      body: |
        When BALENA_BOOT_FAT32 is 1, it will instruct the raw image generator to
        create the filesystem using 32 as file allocation tables type and, as
        well, create the boot partition as fat32 type.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Have boot partition type configurable as FAT32
        changelog-entry: Have boot partition type configurable as FAT32
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Deprecate morty and krogoth
      hash: 9d311fd13ad2af4b17a7a9a512e2f667e4ff9f58
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Deprecate morty and krogoth
        changelog-entry: Deprecate morty and krogoth
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Deploy kernel source as a build artifact as well for external module
        compilation
      hash: bfc7a67cb6b6f38617bb810f2b5c1e051ebf6a4a
      body: |
        We want to build the kernel-devsrc recipe so that we can package the
        kernel source tarball. This tarball will allow users to use the source
        package and compile or cross compile kernel modules
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Deploy kernel source as a build artifact as well for external
          module compilation
        changelog-entry: Deploy kernel source as a build artifact as well for external
          module compilation
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "kernel-devsrc: Tarball up the kernel source and deploy it."
      hash: 4da9fdc90001f64f2bd8852cd4cf8a8de3b02cbb
      body: |
        The kernel-devsrc recipe only builds a package by default. We'd like
        to tarball the source and share it.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "kernel-modules-headers: Use the build directory for artifacts"
      hash: 3e09d127d86729a94cd9a600a6f4f7568b4d6315
      body: |
        Otherwise the module header tarball appears in the kernel source
        directory and is tarballed again by the kernel-devsrc recipe
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "docs: Add documentation on nested changelogs"
      hash: d02c8f877914b8173af4f4fd051d4e5626a2aeae
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Giovanni Garufi <giovanni@balena.io>
        signed-off-by: Giovanni Garufi <giovanni@balena.io>
      author: Giovanni Garufi
    - subject: "VersionBot: update upstream name and url"
      hash: 203ddc055b3ea63bfa953a8917fdcd2a4961c012
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Giovanni Garufi <giovanni@balena.io>
        signed-off-by: Giovanni Garufi <giovanni@balena.io>
      author: Giovanni Garufi
  version: 2.30.0
  date: 2019-02-28T16:10:14.839Z
- commits:
    - subject: OS will default apps.json to an empty json file
      hash: c935fcfd72dfefa5188d90edc48cd1b01dbadec2
      body: |
        Currently, because we bind mount apps.json unconditionally, when this
        file doesn't exist, balena engine will create a directory on the data
        filesystem. This breaks when we add an apps.json file after the
        supervisor container was already created.

        Fixes #1325
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: OS will default apps.json to an empty json file
        changelog-entry: OS will default apps.json to an empty json file
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update balena-engine to include low entropy fixes
      hash: 32726b55b9e4b0a33e6357bfbe4b0169bcf253a7
      body: |
        This includes changes which target fixing hanging on low entropy
        situation.

        Fixes #1208
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update balena-engine to include low entropy fixes
        changelog-entry: Update balena-engine to include low entropy fixes
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Move an NM patch to the right place to reduce a warning
      hash: f823ee173d52519113bb9513972aa9eaf3816355
      body: |
        We get a warning that the file was not found when other versions of NM
        are parsed.

        Warning networkmanager_1.10.6.bb: Unable to get checksum for
        networkmanager SRC_URI entry balena-client-id.patch: file could not
        be found
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Move an NM patch to the right place to reduce a warning
        changelog-entry: Move an NM patch to the right place to reduce a warning
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v9.0.1
      hash: 73a8bf6d0b45b052f05403ad6bf84504be2d918d
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-supervisor to v9.0.1
        changelog-entry: Update balena-supervisor to v9.0.1
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
    - subject: Fix cases where RESIN_BOOT_PARTITION_FILES includes invalid entries
      hash: c10653eb0b17e3997fb77182cf62b9cdc143f25c
      body: |
        Fixes #1330
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix cases where RESIN_BOOT_PARTITION_FILES includes invalid entries
        changelog-entry: Fix cases where RESIN_BOOT_PARTITION_FILES includes invalid entries
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Enable some common linux kernel serial device drivers
      hash: 1fa8c951327d1356410152f944003f98a9b68112
      body: |
        Fixes #1327
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Enable some common linux kernel serial device drivers
        changelog-entry: Enable some common linux kernel serial device drivers
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Configure NetworkManager to only ignore our vpn interface but manage
        other tun devices
      hash: 2a5415c4a9a1b9c1e3da8a340be4ba307174c42d
      body: |
        Under the current configuration we instruct NetworkManager through its
        configuration to completely ignore all the tun devices. This was
        enforced as an extra precation as we run an openvpn client which
        connects to the balena-cloud backend. This client creates, on the host,
        the interface `resin-tun` currently (rename pending). We want to loosen
        up this restriction to only unmanage this specific device - `resin-tun`
        - so that users can take advantage of NetworkManager managing other tun
        devices.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Configure NetworkManager to only ignore our vpn interface but
          manage other tun devices
        changelog-entry: Configure NetworkManager to only ignore our vpn interface but
          manage other tun devices
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: "networkmanager: Add pppd to FILES"
      hash: b05bc683b6517318a3ebef56010d671ae07804c1
      body: >
        Without this, we get a QA error


        ERROR networkmanager-1.14.4-r0 do_package QA Issue networkmanager

        Files/directories were installed but not shipped in any package
          ... nm-pppd-plugin.so
        Please set FILES such that these items are packaged. Alternatively

        if they are unneeded, avoid installing them or delete them within
        do_install.

        networkmanager 1 installed and not shipped files. [installed-vs-shipped]
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "networkmanager: Add balena-client-id.patch in bbappend"
      hash: 35c4822bbff164a4a4f3a769f0d1fabbda61f33b
      body: |
        Move this in bbappend. The 1.12 recipe was bumped to 1.14.
        We'd like to keep our edits in bbappend
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Bump network manager from v1.12.2 to v1.14.4
      hash: 0b8be376090d9bff4f41a362e4bcc250e0c664e9
      body: |
        Update recipe from upstream meta-openembedded
        http://cgit.openembedded.org/meta-openembedded/commit/meta-networking/recipes-connectivity/networkmanager?id=331b717b862e3599b99942acb64c1d6b03806042

        Difference in size ~ +400K
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Bump network manager from v1.12.2 to v1.14.4
        changelog-entry: Bump network manager from v1.12.2 to v1.14.4
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update balena-supervisor to v8.7.0
      hash: ff552b96370e06a357db69d57cbbad5db08433db
      body: ""
      footer:
        Changelog-entry: Update balena-supervisor to v8.7.0
        changelog-entry: Update balena-supervisor to v8.7.0
        Change-type: minor
        change-type: minor
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
    - subject: Fix test cases for kernel module header compilation
      hash: 53793e1e591f2e0d4534c38fcb0585ace2d0d181
      body: |
        For some reason, using xargs -I a produced spurious difficult to trace
        errors. Rework test case using a loop. Do the arch check using Yoctos
        QA framework that runs on all packages. Otherwise, we'd have to manually
        map various compatible arches e.g. aarch64 - arm8, 80386 - x86

        bberror does not exit the do_compile task. Add exit 1 to make sure that
        if an error is found, the task is marked as failed. Otherwise the
        error becomes a heisenbug as bitbake proceeds after do_compile.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix test cases for kernel module header compilation
        changelog-entry: Fix test cases for kernel module header compilation
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add chrony v3.2 recipe in various layers to keep minimum chrony version
        on devices above v3.2
      hash: 898ce1a6c0a18c91478f704f4014ec2fcd1fedce
      body: |
        We added an option in chrony.conf (hwtimestamp) via meta-resin-common.
        That option is supported in newer versions of chrony.

        Add chrony 3.2 recipe from meta-openembedded sumo
        http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add chrony v3.2 recipe in various layers to keep minimum chrony
          version on devices above v3.2
        changelog-entry: Add chrony v3.2 recipe in various layers to keep minimum chrony
          version on devices above v3.2
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "chrony/pyro: Add v3.2 recipe"
      hash: c3fbd6fe368ae1ca2472f15414d319f802e2989c
      body: |
        We added an option in chrony.conf (hwtimestamp) via meta-resin-common.
        That option is supported in newer versions of chrony.

        Add chrony 3.2 recipe from meta-openembedded sumo
        http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "chrony/morty: Add v3.2 recipe"
      hash: 75f44470da8e5bf99bdf4cd4ea45cbb798909604
      body: |
        We added an option in chrony.conf (hwtimestamp) via meta-resin-common.
        That option is supported in newer versions of chrony.

        Add chrony 3.2 recipe from meta-openembedded sumo
        http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "chrony/krogoth: Bump recipe version to v3.2"
      hash: 59ac08ea58e59e2d61cc53cadea1b835eb5b4e31
      body: |
        We added an option in chrony.conf (hwtimestamp) via meta-resin-common.
        That option is supported in newer versions of chrony.

        Add chrony 3.2 recipe from meta-openembedded sumo
        http://cgit.openembedded.org/meta-openembedded/tree/meta-networking/recipes-support/chrony?h=sumo
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update resin-supervisor to v8.6.8
      hash: a9cf9b06e9775612f2397c7abaca507428558722
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v8.6.8
        changelog-entry: Update resin-supervisor to v8.6.8
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
  version: 2.29.0
  date: 2018-12-19T06:20:13.246Z
- commits:
    - subject: Update os-config to 1.0.0
      hash: e9a428ae474c9a9e4573ae1071978b19e332f0b8
      body: |
        The main feature this brings is support for custom certificates base64
        encoded in config.json.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update os-config to 1.0.0
        changelog-entry: Update os-config to 1.0.0
        Signed-off-by: Zahari Petkov <zahari@balena.io>
        signed-off-by: Zahari Petkov <zahari@balena.io>
      author: Zahari Petkov
    - subject: Update libqmi to version 1.20.2
      hash: 19bb5410ac28a89db7193490001ea358bbb37912
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libqmi to version 1.20.2
        changelog-entry: Update libqmi to version 1.20.2
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update libmbim to version 1.16.2
      hash: 7e8d7520288c916f694fe6cdf1d43fa0d0a275e3
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update libmbim to version 1.16.2
        changelog-entry: Update libmbim to version 1.16.2
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: "kernel-modules-headers: Add basic sanity test"
      hash: 51ff1d707273a27369e91b6cf99257633f0b9e21
      body: |
        Test if the ELFs inside the kernel module header tarball are the
        correct architecture and don't have the sysroot as the interpreter
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix kernel module header generation
      hash: 706829bc46c593048909686a67faef064adf6232
      body: |
        63baa421 introduced a bug where the tools in the header tarballs were
        compiled with the incorrect HOSTCC parameter. As a result the tools
        inside the tarball were compiled for x86-64 instead of the native
        device architecture. And they had the incorrect ld interpreter path
        as well.

        Update to v0.0.12 to fix that.
        This release also adds objtool support needed by the intel nuc image.

        Fixes #1302
        Fixes #1303
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix kernel module header generation
        changelog-entry: Fix kernel module header generation
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "image-resin.bbclass: Fix config.json pretty format"
      hash: 889d989a3d9059825d7d346fbf0e728be9869994
      body: |
        Fixes #1300
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Allow supervisor update on unmanaged devices
      hash: b8705936f0a081a2f33f3fb590a90e4805547e9d
      body: |
        When the device hasn't joined a backend, there is no API key available
        and the update supervisor tool currently just bails out. This blocks
        switching the supervisor version on an unmanaged device.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Allow supervisor update on unmanaged devices
        changelog-entry: Allow supervisor update on unmanaged devices
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update resin-supervisor to v8.6.3
      hash: 1f0a1b16102847412e0165ff01125a4d50ab4c81
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v8.6.3
        changelog-entry: Update resin-supervisor to v8.6.3
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
  version: 2.28.0
  date: 2018-12-05T15:21:33.157Z
- commits:
    - subject: Expose randomMacAddressScan config.json knob
      hash: 69d2340ccf5691085bebeb92478475cd3278bbb9
      body: |
        For now only allow `wifi.scan-rand-mac-address` configurable from
        config.json using `randomMacAddressScan` as the json key.

        config.json snippet example:

        "os": {
          "network" : {
            "wifi": {
              "randomMacAddressScan": false
            }
          }
        }

        We include a set of tests for this tool which are ran at build time.

        Fixes #1294
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Expose randomMacAddressScan config.json knob
        changelog-entry: Expose randomMacAddressScan config.json knob
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Move modemmanager udev rules in /lib/udev/rules.d
      hash: 1d7f81ee8b8ca5fd73417598ac8b15d8f99b28ed
      body: |
        The path where the udev rules are currently installed (etc) will be
        shadowned at runtime because the etc udev rules path is bindmounted for
        use with custom configuration from `config.json`.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Move modemmanager udev rules in /lib/udev/rules.d
        changelog-entry: Move modemmanager udev rules in /lib/udev/rules.d
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix modemmanager bbappend files
      hash: 304b7079ec0261a4467cd384b83b456348af6a0c
      body: |
        The bbappend uses a local `resin-files` directory for additional file
        entries but some of these files ended up in `files`. This works well if
        the recipe used is the one in the same directory as the `files`
        subdirectory will be used by default. The problem shows when the recipe
        is not in the same directoy as bitbake will not be able to find needed
        bbappended files.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix modemmanager bbappend files
        changelog-entry: Fix modemmanager bbappend files
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: "dnsmasq: Define 8.8.8.8 as a fallback nameserver"
      hash: 8ae0b2aef3ac2816c2a336b2dcc5d6f6a9c726c0
      body: |
        Fixes #1293
      footer:
        Change-type: minor
        change-type: minor
        Changel-log-entry: Restore 8.8.8.8 as fallback DNS server
        changel-log-entry: Restore 8.8.8.8 as fallback DNS server
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Increase timeout for filesystem label
      hash: 9184e01e4f42b95df53f440b4638a8acd9877a9c
      body: |
        The label is actually a udev symlink, but we're keeping
        this naming to be consistent across the file.

        The error seen is that the balena-host service wasn't
        able to start because of a mnt-sysroot-active.service dependency:
        resin-partition-mounter[440]: ERROR: Timeout while waiting
        for filesystem label to appear

        By increasing this timeout, the filesystem symlink should
        already exist, at the time the mnt-sysroot-active service is
        looking for this dependency.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Increase timeout for filesystem label
        changelog-entry: Increase timeout for filesystem label
        Signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
      author: Vicentiu Galanopulo
    - subject: Add support for Huawei ME936 modem in MBIM mode
      hash: 5e214c0faa2d8a06e23553d6523523b3ad15d8bd
      body: |
        Add udev rule and helper script to switch this modem to MBIM mode
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support for Huawei ME936 modem in MBIM mode
        changelog-entry: Add support for Huawei ME936 modem in MBIM mode
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Backport systemd sd-shutdown improvements for sumo versions
      hash: 2643ef9959734c794880fecb36284db35e0565df
      body: |
        OS 2.26.0+rev1 reports the following at reboot:
        systemd-shutdown[1]: Failed to wait for process: Protocol error
        systemd-shutdown[1]: Failed to wait for process: Protocol error

        As per systemd/systemd#8155 (comment), systemd/systemd#8429
        needs to be backported.

        We currently backport these patches for sumo only
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Backport systemd sd-shutdown improvements for sumo versions
        changelog-entry: Backport systemd sd-shutdown improvements for sumo versions
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Include avahi d-bus introspection files in rootfs
      hash: d98f0d47369135f1c88429aac58b73aced3d4f6c
      body: |
        Poky removes the dbus introspection description documents for avahi.
        See:
        http://git.yoctoproject.org/cgit.cgi/poky/commit/?id=59a08907eafffde664079b9a2068f47131dd3f5d

        dbus-native node module requires this data to be available to allow
        access to interfaces.

        Fixes #1140
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Include avahi d-bus introspection files in rootfs
        changelog-entry: Include avahi d-bus introspection files in rootfs
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix custom udev rules when rule is removed from config.json
      hash: dbf42dd1ddcbb45be0320d8d4b4bd93c9522ec34
      body: |
        Fixes #1271
        When os.udevRules is completely removed from config.json, any previous
        rules are left there. Remove them.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix custom udev rules when rule is removed from config.json
        changelog-entry: Fix custom udev rules when rule is removed from config.json
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "resin-mounts: Add NetworkManager conf.d bind mounts"
      hash: a94a3b3490319a3e6a5de373a773348eada532ba
      body: |
        This bind mount is used for passing custom config options to
        NetworkManager via config.json
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add support to pass custom configuration to NetworkManager
      hash: 8370f01078b6971f2b6c2707f679a3cc581702d2
      body: |
        This allows extra config fragments to be passed to NetworkManager
        via config.json
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support to pass custom configuration to NetworkManager
        changelog-entry: Add support to pass custom configuration to NetworkManager
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "README.md: Add info about SSH and Avahi services"
      hash: 778785283d372689af654c42b3c42cfc02ecdcfb
      body: |
        Fixes #1274
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Avoid xtables lock in resin-proxy-config
      hash: f2bed69f1825e270be695ada997bc10120a2bae8
      body: |
        There are other components setting up iptables rules - for example
        balena. In order to avoid a lock race, run iptables commands with a 10
        seconds wait flag.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Avoid xtables lock in resin-proxy-config
        changelog-entry: Avoid xtables lock in resin-proxy-config
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Migrate the supervisor to balena repositories
      hash: 0905256113d58ce4644e975144d71b20f532a35d
      body: |
        This has changed from "resin" to "balena" due to the rename
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Migrate the supervisor to balena repositories
        changelog-entry: Migrate the supervisor to balena repositories
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Update balena-supervisor to v8.3.5
      hash: d0ec760020b7778ac9116dde803393a1f444228f
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update balena-supervisor to v8.3.5
        changelog-entry: Update balena-supervisor to v8.3.5
        Signed-off-by: Cameron Diver <cameron@balena.io>
        signed-off-by: Cameron Diver <cameron@balena.io>
      author: Cameron Diver
    - subject: Update supported modems list
      hash: 9c966ff98f7bd1e9478a6f49164118c6b0b8a0d8
      body: |
        We remove SIM7100E in favour of SIM7600E and
        also add Huawei ME909s-120.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update supported modems list
        changelog-entry: Update supported modems list
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
  version: 2.27.0
  date: 2018-11-23T14:49:56.671Z
- commits:
    - subject: Rename resin-unique-key to balena-unique-key
      hash: da871aeb64dffcb84c2fad75b299f661cab40c3d
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Rename resin-unique-key to balena-unique-key
        changelog-entry: Rename resin-unique-key to balena-unique-key
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Don't let resin-unique-key rewrite config.json
      hash: 58685dd3accb19b159adc933d3b203c615675343
      body: |
        Fixes #1262
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Don't let resin-unique-key rewrite config.json
        changelog-entry: Don't let resin-unique-key rewrite config.json
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.26.0
  date: 2018-11-05T15:22:47.685Z
- commits:
    - subject: Generate ssh host key at first boot (not at first connection)
      hash: aea0382c5e6c26933767a931f3a0df45e3cde233
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Generate ssh host key at first boot (not at first connection)
        changelog-entry: Generate ssh host key at first boot (not at first connection)
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Fix extraneous space in kernel-resin.bbclass config
      hash: bf3124d468dfce8e9b4909965dfea05752835b33
      body: |
        This extra space leads to kernel config check error
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix extraneous space in kernel-resin.bbclass config
        changelog-entry: Fix extraneous space in kernel-resin.bbclass config
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Drop obsolete eval from kernel-resin's do_kernel_resin_reconfigure
      hash: 1b882e69d125c4cd84a8ebd8298eb294d52d5574
      body: |
        This is not needed as bitbake already expands KERNEL_CONFIG_COMMAND
        See Poky commit 95909bc788bef1baabead94231dffb3b7f59fb00 for details
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Drop obsolete eval from kernel-resin's do_kernel_resin_reconfigure
        changelog-entry: Drop obsolete eval from kernel-resin's do_kernel_resin_reconfigure
        Signed-off-by: Florin Sarbu <florin@balena.io>
        signed-off-by: Florin Sarbu <florin@balena.io>
      author: Florin Sarbu
    - subject: Add SyslogIdentifier for balena and resin-supervisor healthdog services
      hash: 23fadcc59cc2b353b68264220e35fa1c06b97444
      body: ""
      footer:
        Changelog-entry: Add SyslogIdentifier for balena and resin-supervisor healthdog services
        changelog-entry: Add SyslogIdentifier for balena and resin-supervisor healthdog services
        Change-type: minor
        change-type: minor
        Signed-off-by: Matthew McGinn <mamcgi@gmail.com>
        signed-off-by: Matthew McGinn <mamcgi@gmail.com>
      author: Matthew McGinn
  version: 2.25.0
  date: 2018-11-02T15:58:49.876Z
- commits:
    - subject: Update resin-supervisor to v8.0.0
      hash: 01511f5902e83f80e93a37b5e5cffd59654e5c04
      body: ""
      footer:
        Changelog-entry: Update resin-supervisor to v8.0.0
        changelog-entry: Update resin-supervisor to v8.0.0
        Change-type: patch
        change-type: patch
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
  version: 2.24.1
  date: 2018-11-01T16:25:19.386Z
- commits:
    - subject: "resin-info: Small tweak for balenaCloud product"
      hash: 74f795dc2251266622f44f0a32162adfbbc432e3
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: Update resin-supervisor to v7.25.8
      hash: 4806e3340d75cb76437311bd44a93e40360f90ed
      body: ""
      footer:
        Changelog-entry: Update resin-supervisor to v7.25.8
        changelog-entry: Update resin-supervisor to v7.25.8
        Change-type: patch
        change-type: patch
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
    - subject: Rename resinOS to balenaOS
      hash: d2a7e648b2ccefe46f67fb02c0f382c958aad5e5
      body: |
        As part of resin rename to balena, we rename the distro file including
        the OS name which is part of the distro name. This ends up in the
        dashboard as part of the OS version.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Rename resinOS to balenaOS
        changelog-entry: Rename resinOS to balenaOS
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.24.0
  date: 2018-10-24T01:06:11.405Z
- commits:
    - subject: Update resin-supervisor to v7.25.5
      hash: 21d97fc5d73e2a97760b9328d099ea8b7daaee39
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v7.25.5
        changelog-entry: Update resin-supervisor to v7.25.5
        Signed-off-by: Cameron Diver <cameron@resin.io>
        signed-off-by: Cameron Diver <cameron@resin.io>
      author: Cameron Diver
    - subject: "recipes-containers: Increase healthcheck timeout to 180s"
      hash: fb966719844dfd045a03440242a412d641c7b791
      body: |
        The original 60s might be slow for some devices where balena
        is busy with a task and the hardware is slow for various
        reasons (ie. Pi1/Zero). In those cases even if the device
        is functioning correctly, the healthcheck will assess the
        device as unhealthy and restart balena and/or the supervisor.
      footer:
        Change-type: minor
        change-type: minor
        Signed-off-by: Gergely Imreh <gergely@balena.io>
        signed-off-by: Gergely Imreh <gergely@balena.io>
      author: Gergely Imreh
    - subject: ".gitignore: add node_modules and package-lock files"
      hash: becc602a39ec9c788e4f1765ec696f2f71ceb321
      body: |
        These files are generated by the CI when running the automatic
        versioning. Since this is not a node project both can be simply ignored.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Giovanni Garufi <giovanni@resin.io>
        signed-off-by: Giovanni Garufi <giovanni@resin.io>
      author: Giovanni Garufi
  version: 2.23.0
  date: 2018-10-22T22:10:11.913Z
- commits:
    - subject: Update resin-supervisor to v7.25.3
      hash: dd4966235420be328f6280fa170d17f5570dbfa2
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update resin-supervisor to v7.25.3
        changelog-entry: Update resin-supervisor to v7.25.3
        Signed-off-by: Pablo Carranza Velez <pablo@balena.io>
        signed-off-by: Pablo Carranza Velez <pablo@balena.io>
      author: Pablo Carranza Velez
  version: 2.22.1
  date: 2018-10-20T04:01:35.497Z
- commits:
    - subject: Update resin-supervisor to v7.25.2
      hash: 999d0e07e426d175168da46557855f4dee724ee2
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v7.25.2
        changelog-entry: Update resin-supervisor to v7.25.2
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Include a CONTRIBUTING.md file
      hash: a38f167752e68db524f55bb5bec97d8a03692283
      body: |
        Fixes #422
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Include a CONTRIBUTING.md file
        changelog-entry: Include a CONTRIBUTING.md file
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Update to ModemManager v1.8.2
      hash: cd6386ffedbe4e4c4959b0f2941826c324029cb1
      body: |
        Fixes #1209
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update to ModemManager v1.8.2
        changelog-entry: Update to ModemManager v1.8.2
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
    - subject: Updates on contributing-device-support.md
      hash: 75ee54d48a40476e6de5076ffc238cb6fad25041
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Updates on contributing-device-support.md
        changelog-entry: Updates on contributing-device-support.md
        Signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
        signed-off-by: Vicentiu Galanopulo <vicentiu@resin.io>
      author: Vicentiu Galanopulo
  version: 2.22.0
  date: 2018-10-19T18:42:10.962Z
- commits:
    - subject: Improve systemd service ordering in rollbacks
      hash: 1d729dec436d0cb2eeb8a6799a8b978aceba8f8d
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Improve systemd service ordering in rollbacks
        changelog-entry: Improve systemd service ordering in rollbacks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update resin-supervisor to v7.24.1
      hash: e5a882a75ca49828cabcba227c4972d9e4d753d9
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v7.24.1
        changelog-entry: Update resin-supervisor to v7.24.1
        Signed-off-by: Andrei Gherzan <andrei@balena.io>
        signed-off-by: Andrei Gherzan <andrei@balena.io>
      author: Andrei Gherzan
  version: 2.21.0
  date: 2018-10-18T17:23:01.640Z
- commits:
    - subject: Avoid expander on flasher based on root kernel argument
      hash: c155f8edfa543d29c7efafe2fb6c80d633b82dc1
      body: |
        The current implementation checks for the existance of the `flash-boot`
        label. This breaks when after flashing the flashing device is left
        plugged. Change this with a check based on the root kernel argument.

        Fixes #1210
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Avoid expander on flasher based on root kernel argument
        changelog-entry: Avoid expander on flasher based on root kernel argument
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: "resin-vars: Implement custom ssh keys service"
      hash: 6d2e43d4693208c8df9436ea1f96c844b4faeb75
      body: >
        This patch adds support for translating SSH public keys from config.json

        to an authorize_keys file. We use `authorize_keys_local` file as the

        destination file of this translation so we can differentiate in between
        keys

        brought locally from config.json and keys brought from the balena
        backend

        through os-config an avoid racing issues with this tool (os-config). The
        final

        `authorize_keys` file will be merged at every ssh connection in the
        dropbear

        service.


        These SSH custom public keys in config.json are assumed to be provided

        as an array in `.os.sshKeys`. Example:

        {
          [...]
          "os": {
            "sshKeys": [
              "ssh-rsa ABCDEFGHIJKLMNOPQRSTUVWXYZ",
              "ssh-rsa 0123456789"
            ]
          },
          [...]
        }


        Fixes #608
      footer:
        Change-type: minor
        change-type: minor
        Change-log-entry: Add support for custom SSH public keys in config.json
        change-log-entry: Add support for custom SSH public keys in config.json
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: Fix redsocks interface creation when no proxy configured
      hash: 4d278e425a5624863ff62771c8db9b4c9bcf6821
      body: |
        When we have no redsocks configuration don't create the redsocks
        interface.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Fix redsocks interface creation when no proxy configured
        changelog-entry: Fix redsocks interface creation when no proxy configured
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: Replace NM's DHCP request option "Client indentifier" with udhcpc style
        option
      hash: 99b4e423003442a67f1fb45b1f4ae8d201c73b99
      body: |
        This patch replaces the "Client identifier" option from
        DHCP packets sent by NM to resemble the way udhcpc does it.

        The reason is that the Cisco RV325 router with fw older than
        v1.2.1.14 doesn't reply to DHCP requests or discovery packages
        if the "Client identifier" option is formatted in NM's style.

        Even though this is a bug in the router's fw, we are going to
        fix it here because we encountered clients that couldn't get
        an IP address on these routers and we want to avoid that
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Replace NM's DHCP request option "Client indentifier" with
          udhcpc style option
        changelog-entry: Replace NM's DHCP request option "Client indentifier" with
          udhcpc style option
        Signed-off-by: Sebastian Panceac <sebastian@balena.io>
        signed-off-by: Sebastian Panceac <sebastian@balena.io>
      author: Sebastian Panceac
    - subject: Fix for rollbacks in case of old balenaOS version
      hash: 814c39fb750104f1aef748a083a3384e5a594d9c
      body: |
        In some cases, the previous rootfs hooks are not functional (which can
        be the case when the hooks don't exist in older versions of balenaOS).

        With this patch, rollbacks will be stopped and a reboot will happen
        preventing further attempts by rollback-health to keep retrying and
        rolling back
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix for rollbacks in case of old balenaOS version
        changelog-entry: Fix for rollbacks in case of old balenaOS version
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@balena.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update resin-supervisor to v7.21.4
      hash: 4c1f5c7cdaf889b67098832b36ccd0cc39c58b0e
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v7.21.4
        changelog-entry: Update resin-supervisor to v7.21.4
        Signed-off-by: Cameron Diver <cameron@resin.io>
        signed-off-by: Cameron Diver <cameron@resin.io>
      author: Cameron Diver
    - subject: Warn if rules are found in /etc/udev/rules.d
      hash: f228de23f388859d7cf3847fc608863bab2c6857
      body: |
        The /etc/udev/rules.d folder is now used by os-udevrules. We warn if
        there are rules in /etc/udev/rules.d installed by recipes in other
        layers

        This warning will become an error in a few releases.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Warn if rules are found in /etc/udev/rules.d
        changelog-entry: Warn if rules are found in /etc/udev/rules.d
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add support to load custom udev rules from config.json
      hash: f127232b8c7009c954f8467c32776c5fceee8c12
      body: |
        os-udevrules will parse config.json for any udev rules and copy the
        rules in /etc/udev/rules.d/key.rules

        udev rules can be passed via config.json in the following format

          "settings": {
            "udevrules": {
              "60": "single line. Remember to escape the double quotes",
              "99": "multi line \n2nd line"
           }
         }

        The above snippet will appear as /etc/udev/rules.d/60.rules
        and /etc/udev/rules.d/99.rules

        The first time rules are added/modified, these rules will be added and
        udevd will be asked to reload rules and re-trigger.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support to load custom udev rules from config.json
        changelog-entry: Add support to load custom udev rules from config.json
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: "aufs-util: Package auplink separately"
      hash: f8d0ae01bae540dcf52ebbbdc6315c86f7efa684
      body: |
        From the aufs-util package only the auplink binary is needed and that
        dependency is from balena. So we package auplink in a separate package
        and just install that package into the rootfs.
      footer:
        Change-type: minor
        change-type: minor
        Chanelog-entry: Only add auplink binary into the rootfs to decrease rootfs size
        chanelog-entry: Only add auplink binary into the rootfs to decrease rootfs size
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Enable kernel config dependencies for MBIM and QMI
      hash: fd7c661209532296b8e6f7ce74328ffbc5ab8053
      body: |
        MBIM and QMI support needs USB_NET_DRIVERS and USB_USBNET enabled.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Enable kernel config dependencies for MBIM and QMI
        changelog-entry: Enable kernel config dependencies for MBIM and QMI
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Set UPX to use LZMA compression by default
      hash: 69bc7e1c6c8382d69b57b662518909c4f7824644
      body: |
        In my testing lzma offers at least 30-40% better compression and it is
        introduced from v3.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Set UPX to use LZMA compression by default
        changelog-entry: Set UPX to use LZMA compression by default
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: Downgrade UPX to 3.94 for ARM
      hash: 23423b875f2d892ce136c9a3e2f56692592c873d
      body: |
        3.95 introduced a data/instruction cache inconsistency bug:
        https://github.com/upx/upx/issues/225. As this only afects this version,
        we downgrade it for the affected architecture.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Downgrade UPX to 3.94 for ARM
        changelog-entry: Downgrade UPX to 3.94 for ARM
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: Balena update for rollbacks. mobynit can now mount rootfs from sysroot.
      hash: 008608db1b67dd9de0445ef6e1920bb0302f618e
      body: |
        This patch bumps the balena version in meta-resin.

        The update in balena adds support to pass an argument to mobynit which
        allows mobynit to mount a rootfs from a custom path.

        The command ./mobynit -sysroot /mnt/sysroot/inactive will mount the
        rootfs partition from /mnt/sysroot/inactive and return the destination
        path in stdout.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Balena update for rollbacks. mobynit can now mount rootfs from sysroot.
        changelog-entry: Balena update for rollbacks. mobynit can now mount rootfs from sysroot.
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Fix proxy when using containers over bridge network
      hash: 3df6e1906e1138a8cd10d15ac3008685b90f75f8
      body: |
        Before multicontainer support in resin, the user container was running
        over the host's network stack which means that all the packets were
        treated as locally emitted ones. In this case, the communication was
        redirected as per the OUTPUT iptable rule only.
        In the "multicontainer world" the user containers run on top of bridge
        network which makes the host act as a socksifying router. In this case,
        the packets won't go through the OUTPUT chain and the redirection to
        redsocks needs to happen at PREROUTING chain.
        This change adds a redirect rule at PREROUTING for TCP packets to
        redsocks to redirect packets from the containers to redsocks too.

        As well, this adds support for redirecting DNS UDP packets to redsocks.
        This is implemented as iptables rules which are only added if the
        redsocks configuration has a `dnsu2t` section.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Fix proxy when using containers over bridge network
        changelog-entry: Fix proxy when using containers over bridge network
        Signed-off-by: Andrei Gherzan <andrei@resin.io>
        signed-off-by: Andrei Gherzan <andrei@resin.io>
      author: Andrei Gherzan
    - subject: Add support for aufs 4.9.9+, 4.9.94+, 4.18
      hash: bc91ca07f0a44aaffb68720fc10f3e524491d92d
      body: |
        Also, update 4.9, 4.10, 4.11.7+, 4.12, 4.13, 4.14, 4.14.56+, 4.15,
        4.16, 4.17.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support for aufs 4.9.9+, 4.9.94+, 4.18
        changelog-entry: Add support for aufs 4.9.9+, 4.9.94+, 4.18
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Add rollback-altboot service before balena service
      hash: 9c35e9c8b418b9253d53df48b783babc9d116006
      body: |
        We would like resin-altboot service to run before balena starts
        resin-altboot checks if the boot configuration is set to run
        resinOS from rootA(B) but we are actually running rootB(A) due to
        something.

        If rollback-altboot triggers, it will run hooks to refresh boot files
        and reboot. There is no point starting balena in such a device state
        as that will only slow down the hooks from running.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add rollback-altboot service before balena service
        changelog-entry: Add rollback-altboot service before balena service
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add Automated Rollback recipe
      hash: fdfc451d1a8a95b1c9b9ee2d0fc8f736c094251b
      body: |
        This recipe adds a few systemd services and scripts that handle
        automated OS rollback functionality.

        The rollback-altboot.service checks if we are running in altboot mode
        i.e. resinOS_uEnv.txt says we should boot resin_root_part=3. But we are
        actually running resinOS from resin_root_part=2. This can happen if
        a reboot happened without clearing upgrade_available in resinOS_uEnv
        txt file. A kernel panic happened etc.

        The rollback-altboot script runs hostapp-update hooks to change the
        bootfiles.

        The rollback-health.service runs rollback-health which checks if vpn is
        online and balena is healthy after a hostapp-update.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add Automated Rollback recipe
        changelog-entry: Add Automated Rollback recipe
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add Automated Rollback support in u-boot env_resin.h
      hash: c6145d1f535098ef46f44d44d061b04fd7174f77
      body: |
        This patch adds a simple check in env_resin.h.

        If bootcount is found to be greater than bootlimit, switch the
        partitions. Both bootcount and bootlimit are standard u-boot env
        variables.

        To enable rollback in devices, devices have to do the following in
        their u-boot

        Enable CONFIG_CMD_SETEXPR, CONFIG_BOOTCOUNT_LIMIT and depending on the
        device, save the bootcount in some persistant location whether that
        is an area in the SoC or an ext partition etc.

        If you are using the CONFIG_BOOTCOUNT_EXT driver, use only the boot
        partition and use the filename "bootcount.env"

        E.g. for rpi3
        CONFIG_CMD_SETEXPR=y
        CONFIG_BOOTCOUNT_LIMIT=y
        CONFIG_SYS_BOOTCOUNT_ADDR=0x02300000
        CONFIG_BOOTCOUNT_EXT=y
        CONFIG_SYS_BOOTCOUNT_EXT_DEVPART=0:1
        CONFIG_SYS_BOOTCOUNT_EXT_NAME="bootcount.env"
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add Automated Rollback support in u-boot env_resin.h
        changelog-entry: Add Automated Rollback support in u-boot env_resin.h
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Add a hook to support Automated Rollbacks
      hash: b93b655e9cad7ad439a603ddedc9a965a909c037
      body: |
        This hook leaves breadcrumbs for the rollback-altboot and
        rollback-health service after a HUP.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add a hook to support Automated Rollbacks
        changelog-entry: Add a hook to support Automated Rollbacks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update HUP grub hook to support Automated Rollbacks
      hash: 620d7a4466dd2aea0c3c5e4ffc95ac22e7f7651c
      body: |
        Devices that support automated os rollbacks will have two extra
        variables upgrade_available and resin_root_part in their grub.cfg
        files.

        Check for the presense of those variables and update them if they
        exist.

        Otherwise stick to the previous way of updating grub.cfg

        For devices using grub 2.0, devices will have to mirror the pattern
        that exists in u-boot.
        i.e.
         Add a variable upgrade_available to grub.cfg (HUP hooks update this)
         Add a variable bootcount to grubenv that increments if
         upgrade_available is set
         Add logic in grub.cfg to boot the alternate rootB/A if bootcount
         reaches 2.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update HUP grub hook to support Automated Rollbacks
        changelog-entry: Update HUP grub hook to support Automated Rollbacks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Update HUP u-boot hook to support Automated Rollbacks
      hash: 76e103304264d88178b4948c020acf1f27246f85
      body: |
        u-boot uses an upgrade_avaiable flag to update bootcount to reduce
        writes to sd card.

        If upgrade_available=0, u-boot won't bother updating the bootcount
        variable. During HUP, we'll set upgrade_available=1 so that u-boot
        starts counting.

        It'll be the job of the new OS and the rollback services to set
        upgrade_available=0

        For some devices, u-boot will save the bootcount in the boot partition
        in /mnt/boot/bootcount.env. Remove that counter when running hooks
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update HUP u-boot hook to support Automated Rollbacks
        changelog-entry: Update HUP u-boot hook to support Automated Rollbacks
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Move kernel-image-initramfs from resin-image recipe to
        packagegroup-resin.inc
      hash: bfa0cc20d3bb1b6a26d87507b196b54ab6d672aa
      body: |
        We add the package here as this file is included in the flasher image
        recipe as well
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Move kernel-image-initramfs from resin-image recipe to
          packagegroup-resin.inc
        changelog-entry: Move kernel-image-initramfs from resin-image recipe to
          packagegroup-resin.inc
        Signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
        signed-off-by: Zubair Lutfullah Kakakhel <zubair@resin.io>
      author: Zubair Lutfullah Kakakhel
    - subject: Have 99-resin-grub hostapp-update-hook decide which grub to use
      hash: ec0c373a8fa9dfd7ae989615646c76a4ab87f531
      body: |
        We move the decision of using either grub legacy or grub EFI from the
        board specific layer to here so that all boards can benefit from these
        changes.

        Additionally, we make it so that this hostapp-update-hook also deletes
        the unnecessary grub.cfg file.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Have 99-resin-grub hostapp-update-hook decide which grub to use
        changelog-entry: Have 99-resin-grub hostapp-update-hook decide which grub to use
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
  version: 2.20.0
  date: 2018-10-18T08:16:00.360Z
- commits:
    - subject: Update Balena to fix tty console hanging in some cases
      hash: 06ae0837d2823587858437d5eb41b8fc5be8e7c6
      body: |
        https://github.com/resin-os/balena/pull/101
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Update Balena to fix tty console hanging in some cases
        changelog-entry: Update Balena to fix tty console hanging in some cases
        Signed-off-by: Petros Angelatos <petrosagg@gmail.com>
        signed-off-by: Petros Angelatos <petrosagg@gmail.com>
      author: Petros Angelatos
    - subject: Pin down cargo deps (using Cargo.lock) to versions known working with
        rust 1.24.1 (for sumo)
      hash: ef3e76f2d343e8cd367214b4b5ce52b3b97be262
      body: |
        With Sumo 19.0.1, when building cargo 0.25.0 we get:
        | error[E0425]: cannot find function `read_to_string` in module `fs`
        |   --> /yocto/resin-board/build/tmp/work/x86_64-linux/cargo-native/
        0.25.0-r0/cargo_home/registry/src/github.com-1ecc6299db9ec823/
        libssh2-sys-0.2.11/build.rs:99:26
        let config = fs::read_to_string("libssh2/src/libssh2_config_cmake.h.in")
        ^^^^^^^^^^^^^^ did you mean `read_string`?

        This is just one example of a package that fails like this. There are
        multiple packages in the cargo source tree that fail with this error.

        The cargo bbclass does a:
        cargo build -v --target x86_64-linux --release

        This has the following effect:
        NOTE:- cargo build -v --target x86_64-linux --release.
        Updating registry `https://github.com/rust-lang/crates.io-index`

        Updating the registry will result in using the versions pinned upstream.
        In our case, it will be using newer versions of packages that require a
        newer rust version (read_to_string was added in rust 1.26.0). But at the
        same time, the meta-rust layer which we use has an older rust version.
        (currently meta-rust on sumo branch has rust at version 1.24.1)

        The fix for such a case would be to use a Cargo.lock file which pins
        the packages to versions which are known to work with rust 1.24.1,
        the version we use in sumo.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Pin down cargo deps (using Cargo.lock) to versions known
          working with rust 1.24.1 (for sumo)
        changelog-entry: Pin down cargo deps (using Cargo.lock) to versions known
          working with rust 1.24.1 (for sumo)
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Remove duplicate packaging of bcm43143
      hash: cef8864000507af337a52e47722274921ccb5982
      body: |
        Yocto Sumo 19.0.1 already packages this firmware separately so let's
        remove the duplication we do here.
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Remove duplicate packaging of bcm43143
        changelog-entry: Remove duplicate packaging of bcm43143
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Set ModemManager to ignore Inca Roads Serial Device
      hash: 107ab6747db748201742bf495a1c0f41fb28f1fe
      body: ""
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: Set ModemManager to ignore Inca Roads Serial Device
        changelog-entry: Set ModemManager to ignore Inca Roads Serial Device
        Signed-off-by: Petros Angelatos <petrosagg@gmail.com>
        signed-off-by: Petros Angelatos <petrosagg@gmail.com>
      author: Petros Angelatos
    - subject: Add support for aufs 4.14.56+
      hash: 28746ab0d4d14c0def56382b1c1747c009362107
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Add support for aufs 4.14.56+
        changelog-entry: Add support for aufs 4.14.56+
        Signed-off-by: Florin Sarbu <florin@resin.io>
        signed-off-by: Florin Sarbu <florin@resin.io>
      author: Florin Sarbu
    - subject: Update resin-supervisor to v7.19.7
      hash: 9e595a0cab47b044d445d8aeab23e27a6cff58cc
      body: ""
      footer:
        Change-type: minor
        change-type: minor
        Changelog-entry: Update resin-supervisor to v7.19.7
        changelog-entry: Update resin-supervisor to v7.19.7
        Signed-off-by: Cameron Diver <cameron@resin.io>
        signed-off-by: Cameron Diver <cameron@resin.io>
      author: Cameron Diver
  version: 2.19.0
  date: 2018-09-23T15:05:11.877Z
- commits:
    - subject: Add a parsable representation of the changelog
      hash: f6c58c1e4da805e5e53da0af08128b7fb4adb87e
      body: |
        This file allows other components to uniquely parse the information that
        is contained in the changelog. It will be automatically managed by
        versionist by appending the new commits on top. This is needed to
        provide nested-changelogs.
      footer:
        Change-type: patch
        change-type: patch
        Signed-off-by: Giovanni Garufi <giovanni@resin.io>
        signed-off-by: Giovanni Garufi <giovanni@resin.io>
        Changelog-entry: Add a parsable representation of the changelog
        changelog-entry: Add a parsable representation of the changelog
      author: Giovanni Garufi
  version: 2.18.1
  date: 2018-09-14T12:50:23.575Z
- version: v2.18.0
  date: 2018-09-12T00:00:00.000Z
  commits:
    - subject: Update grub hooks to prepare to load kernel from root [Zubair Lutfullah
        Kakakhel]
    - subject: Update resin-supervisor to v7.19.4 [Cameron Diver]
    - subject: "Kernel-resin.bbclass: Enable CONFIG_IP_NF_TARGET_LOG as a module [John
        (Jack) Brown]"
    - subject: "Balena: Update to current HEAD of 17.12-resin [Andrei Gherzan]"
    - subject: Compress os-config with UPX on arm64 too [Andrei Gherzan]
    - subject: Update upx to 3.95 [Andrei Gherzan]
    - subject: Add support to skip flasher detection in env_resin.h [Zubair Lutfullah
        Kakakhel]
    - subject: Add the kernel to the rootfs [Zubair Lutfullah Kakakhel]
    - subject: Rework resin-supervisor systemd dependency on balena [Florin Sarbu]
    - subject: Enhanced security options for dropbear - sumo [Andrei Gherzan]
    - subject: Enhanced security options for dropbear - rocko [Andrei Gherzan]
    - subject: Enhanced security options for dropbear - pyro [Andrei Gherzan]
    - subject: Enhanced security options for dropbear - morty [Andrei Gherzan]
    - subject: Enhanced security options for dropbear - krogoth [Andrei Gherzan]
- commits:
    - subject: "Resin-proxy-config: The no_proxy file fails to parse when missing EOL
        [Rich Bayliss]"
  date: 2018-09-03T00:00:00.000Z
  version: 2.17.0
- commits:
    - subject: "Os-config: UPX is broken on aarch64 [Theodor Gherzan]"
    - subject: Allow flasher types to pin preloaded devices [Theodor Gherzan]
    - subject: Disable PIE for go [Zubair Lutfullah Kakakhel]
    - subject: Disable PIE for balena [Zubair Lutfullah Kakakhel]
  date: 2018-08-31T00:00:00.000Z
  version: 2.16.0
- commits:
    - subject: Bump balena version to latest 17.12-resin [Zubair Lutfullah Kakakhel]
    - subject: Update NetworkManager to 1.12.2 [Andrei Gherzan]
    - subject: Avoid os-config-devicekey / uuid service race [Andrei Gherzan]
    - subject: Move the rw copy of config.json out of /tmp for flasher [Andrei Gherzan]
    - subject: Fix dashboard feedback on fast flashing devices [Andrei Gherzan]
    - subject: Fix ucl dependency in upx [Andrei Gherzan]
    - subject: Update kernel-modules-headers to v0.0.11 [Andrei Gherzan]
  date: 2018-08-28T00:00:00.000Z
  version: 2.15.0
- commits:
    - subject: Update resin supervisor to v7.16.6 [Cameron Diver]
  date: 2018-08-13T00:00:00.000Z
  version: 2.14.3
- commits:
    - subject: Update usb-modeswitch to version 2.5.0 [Florin Sarbu]
    - subject: Fix kernel-modules-headers compile missing bio.h [Florin Sarbu]
    - subject: Enable kernel config CONFIG_USB_SERIAL_CP210X as module [Andrei Gherzan]
    - subject: Update resin supervisor to v7.16.4 [Cameron Diver]
  date: 2018-08-13T00:00:00.000Z
  version: 2.14.2
- commits:
    - subject: Fix ModemManager journald logs [Andrei Gherzan]
    - subject: Fix openvpn journald logs [Andrei Gherzan]
    - subject: Set maximum openvpn reconnect timeout to 2 minutes [Andrei Gherzan]
    - subject: "Resin-image: Handle absolute paths in RESIN_BOOT_PARTITION_FILES
        [Andrei Gherzan]"
    - subject: Exclude writable files from image's fingerprints file [Andrei Gherzan]
    - subject: Update resin-supervisor to v7.16.2 [Andrei Gherzan]
    - subject: Use v4 API calls, move auth token into the request header [Gergely Imreh]
    - subject: Fix no-pie variable name in tini rocko [Andrei Gherzan]
    - subject: Fix alternative builds warnings in busybox [Andrei Gherzan]
    - subject: Don't compile mobynit in rocko with PIE [Andrei Gherzan]
    - subject: Fix key replace build warnings [Andrei Gherzan]
    - subject: Update go in krogoth to v1.9.4 [Andrei Gherzan]
    - subject: Update go in morty to v1.9.4 [Andrei Gherzan]
    - subject: Update go in pyro to v1.9.4 [Andrei Gherzan]
    - subject: Update balena to version 17.12 [Andrei Gherzan]
    - subject: Fix when ntp servers passed via config.json and dhcp [Zubair Lutfullah
        Kakakhel]
    - subject: Disable PIE for the aufs-util package for Rocko boards [Andrei Gherzan]
    - subject: Disable PIE for the aufs-util package for Sumo boards [Florin Sarbu]
    - subject: Update resin supervisor to v7.16.0 [Andrei Gherzan]
    - subject: Document supported modems [Andrei Gherzan]
  date: 2018-08-02T00:00:00.000Z
  version: 2.14.1
- commits:
    - subject: Allow re-run of useradd commands in docker-disk's entry.sh [Andrei
        Gherzan]
    - subject: Update rust to 1.20 and cargo to 0.21.0 in Morty [Andrei Gherzan]
    - subject: Update rust to 1.20 and cargo to 0.21.0 in Krogoth [Andrei Gherzan]
    - subject: Unify managed and unmanaged images and introduce os-config [Andrei
        Gherzan]
  date: 2018-07-17T00:00:00.000Z
  version: 2.14.0
- commits:
    - subject: Update resin-supervisor v 7.14.0 [Cameron Diver]
    - subject: Fix rootfs fingerprints on poky rocko or newer [Andrei Gherzan]
    - subject: Reboot device if there is a kernel panic [Zubair Lutfullah Kakakhel]
  date: 2018-07-13T00:00:00.000Z
  version: 2.13.6
- commits:
    - subject: Update resin-supervisor to v7.13.2 [Cameron Diver]
  date: 2018-07-09T00:00:00.000Z
  version: 2.13.5
- commits:
    - subject: Avoid overwriting SECURITY_CFLAGS for tini recipe [Andrei Gherzan]
    - subject: Fix tini segfault after sumo update [Andrei Gherzan]
  date: 2018-07-09T00:00:00.000Z
  version: 2.13.4
- commits:
    - subject: Update ModemManager to 1.8.0 [Andrei Gherzan]
    - subject: Switch NetworkManager to using the internal DHCP client [Andrei Gherzan]
    - subject: Update NetworkManager to 1.12.0 [Andrei Gherzan]
    - subject: Update resin-supervisor to 7.13.1 [Cameron Diver]
  date: 2018-07-05T00:00:00.000Z
  version: 2.13.3
- commits:
    - subject: Update balena to fix boot lag [Andrei Gherzan]
    - subject: Set DHCP timeout to infinity for IPv4 [Florin Sarbu]
    - subject: Add aufs support for kernels 4.15, 4.16 and 4.17 [Florin Sarbu]
  date: 2018-06-28T00:00:00.000Z
  version: 2.13.2
- commits:
    - subject: Fix mobynit runtime crash when compiled with gcc 7.3.0 with static PIE
        support enabled [Florin Sarbu]
    - subject: Fix typo in balena systemd service [Andrei Gherzan]
    - subject: Various fixes for issues introduced by the switch to chrony [Andrei
        Gherzan]
    - subject: Fsck all partitions if resin-data isn't seen [Zubair Lutfullah Kakakhel]
    - subject: Remove jethro and fido yocto versions support [Andrei Gherzan]
    - subject: Update resin-supervisor to 7.11.0 [Cameron Diver]
    - subject: Replace systemd-timesyncd with chrony [Zubair Lutfullah Kakakhel]
    - subject: Set ModemManager to ignore STM32F407 devices [Andrei Gherzan]
  date: 2018-06-15T00:00:00.000Z
  version: 2.13.1
- commits:
    - subject: Update resin-supervisor to 7.10.0 [Cameron Diver]
    - subject: Add support for yocto sumo [Andrei Gherzan]
    - subject: Update Readme.md with more yocto versions [Zubair Lutfullah Kakakhel]
    - subject: "Docker-resin-supverisor-disk: Update supervisor to version 7.9.0 [Akis
        Kesoglou]"
    - subject: "Docker-resin-supverisor-disk: Update supervisor to version 7.5.6
        [Cameron Diver]"
  date: 2018-06-06T00:00:00.000Z
  version: 2.13.0
- commits:
    - subject: Fix typo in timeinit-timestamp service [Andrei Gherzan]
    - subject: Use system clock at boot based on RTC when available [Andrei Gherzan]
    - subject: Update Network Manager to version 1.10.2 [Florin Sarbu]
    - subject: Adds Teensy udev rules [Henry Miskin]
  date: 2018-05-04T00:00:00.000Z
  version: 2.12.7
- commits:
    - subject: Initialize system clock using the build time [Andrei Gherzan]
    - subject: Fix typo in resin-mounts [Mans Zigher]
    - subject: Update supervisor to v7.4.3 [Pablo Carranza Velez]
    - subject: Update supervisor to v7.4.2 [Akis Kesoglou]
    - subject: Move to Supervisor v7.4.1. [Heds Simons]
    - subject: Pass self-signed CA data to the Supervisor and for Docker registry
        trust. [Heds Simons]
    - subject: Extract `balenaRootCA` property from `config.json` to allow
        interoperation with a self-signed service. [Heds Simons]
    - subject: Split resin specific changes in dnsmasq in a separate bbappend [Andrei
        Gherzan]
    - subject: Allow not existing supervisor.conf file [Bruno Binet]
    - subject: Remove remnants of 1.x updater, which is not needed anymore [Gergely
        Imreh]
    - subject: Allow update resin spervisor when API endpoint is not available [Andrei
        Gherzan]
    - subject: Apply upstream patch for redsocks to fix http-config regression
        [Gergely Imreh]
    - subject: Update supervisor to v7.1.20 [Akis Kesoglou]
  date: 2018-04-30T00:00:00.000Z
  version: 2.12.6
- commits:
    - subject: Fig slang configure build warning [Andrei Gherzan]
    - subject: Fix racing issue of state label existance in initramfs [Andrei Gherzan]
    - subject: Stop dependending on udev settle at boot [Andrei Gherzan]
  date: 2018-03-22T00:00:00.000Z
  version: 2.12.5
- commits:
    - subject: Fix persistent logging [Andrei Gherzan]
    - subject: USB Modem (CDC ACM) support enabled as kernel module [Andrei Gherzan]
    - subject: Update supervisor to v7.1.18 [Pablo Carranza Velez]
    - subject: Add support for persistent NetworkManager state directory [Andrei
        Gherzan]
  date: 2018-03-20T00:00:00.000Z
  version: 2.12.4
- commits:
    - subject: Update supervisor to v7.1.14 [Florin Sarbu]
  date: 2018-03-15T00:00:00.000Z
  version: 2.12.3
- commits:
    - subject: Update supervisor to v7.1.11 [Akis Kesoglou]
    - subject: "Balena: Update package to include deadlock fix [Andrei Gherzan]"
    - subject: Remove bashisms in resin-init-flasher recipe [Andrei Gherzan]
  date: 2018-03-14T00:00:00.000Z
  version: 2.12.2
- commits:
    - subject: Disable openvpn time-based tls key renegotiation [Will Boyce]
  date: 2018-03-12T00:00:00.000Z
  version: 2.12.1
- commits:
    - subject: Update supervisor to v7.1.7 [Theodor Gherzan]
  date: 2018-03-09T00:00:00.000Z
  version: 2.12.0
- commits:
    - subject: Update supervisor to v7.1.3 [Andrei Gherzan]
  date: 2018-03-09T00:00:00.000Z
  version: 2.11.2
- commits:
    - subject: "Resin-vars: Assume VPN port 443 if 1723 is provided in config.json
        [Andrei Gherzan]"
    - subject: Make update-resin-supervisor POSIX compliant [Andrei Gherzan]
    - subject: Add resin-openvpn.service alias for openvpn.service [Andrei Gherzan]
  date: 2018-03-08T00:00:00.000Z
  version: 2.11.1
- commits:
    - subject: Fix docker-disk when docker build fails to not leave root files behind
        [Andrei Gherzan]
    - subject: Update supervisor to v7.1.0 [Pablo Carranza Velez]
    - subject: Fix connectivity in flasher images [Andrei Gherzan]
    - subject: Add missing kernel config dependency for leds-gpio [Andrei Gherzan]
  date: 2018-03-08T00:00:00.000Z
  version: 2.11.0
- commits:
    - subject: Fix docker-disk when not including any docker image [Florin Sarbu]
  date: 2018-02-28T00:00:00.000Z
  version: 2.10.1
- commits:
    - subject: Make sure rocko update doesn't add packages resinOS doesn't depend on
        [Andrei Gherzan]
    - subject: Run bluetoothd with --experimental flag [Andrei Gherzan]
    - subject: Resin-image-flasher fixes for rocko support [Andrei Gherzan]
    - subject: Use the correct, full yocto CC/CXX variables when using go [Andrei
        Gherzan]
    - subject: Fix 8000c in PACKAGES [Andrei Gherzan]
    - subject: Always have /lib/modules directory in rootfs as supervisor requires it
        [Andrei Gherzan]
    - subject: Fix console output when running resinOS with systemd >= 232 [Andrei
        Gherzan]
    - subject: Bring back the package which includes firmware for wilwifi 8000c
        [Andrei Gherzan]
    - subject: Update OpenVPN to 2.4.3 [Andrei Gherzan]
    - subject: Replace deprecated variable IMAGE_DEPENDS from
        image_types_resin.bbclass [Florin Sarbu]
    - subject: Replace deprecated variable IMAGE_DEPENDS from resin-image-flasher.bb
        [Florin Sarbu]
    - subject: Adapt sysroot services/units to be used with resinOS in container
        [Andrei Gherzan]
    - subject: "Remove deprecated firmware: 8000c [Andrei Gherzan]"
    - subject: "Resin-state-reset: This service now only removes the root-overlay
        [Andrei Gherzan]"
    - subject: Fix resin-provisioner 1.0.4 compile error on Poky Rocko [Florin Sarbu]
    - subject: Make resin-provisioner only package the resulted go binary [Florin Sarbu]
    - subject: Prepare the balena recipe for Poky Rocko [Florin Sarbu]
    - subject: Use update-alternatives for deploying resolv.conf through dnsmasq
        [Florin Sarbu]
    - subject: Make ModemManager depend on libxslt-native at build-time for Poky Rocko
        [Florin Sarbu]
    - subject: Add initial structure for supporting Poky Rocko [Florin Sarbu]
    - subject: Do not apply the use_atomic_key_generation_in_all_cases patch for
        dropbear 2017.75 or newer [Florin Sarbu]
    - subject: Make image-resin.bbclass depend on jq-native at buildtime [Florin Sarbu]
    - subject: Fix ucl-native ACC conformance test configure error on gcc6 [Florin
        Sarbu]
    - subject: Update ModemManager to version 1.7.990 [Florin Sarbu]
    - subject: Rename partition mount services to <label>.service and handle stopping
        services [Andrei Gherzan]
    - subject: Rename openvpn-resin service to openvpn [Andrei Gherzan]
    - subject: "Kernel-resin: Fix warnings about CONFIG_DEVPTS_MULTIPLE_INSTANCES
        [Andrei Gherzan]"
    - subject: Update supervisor to v6.6.3 [Pablo Carranza Velez]
    - subject: Let systemd handle openvpn run directory [Andrei Gherzan]
    - subject: Add support for running resinOS in a docker container [Andrei Gherzan]
    - subject: Add fs check for boot partition in initramfs [Andrei Gherzan]
    - subject: Fix kernel-modules-headers when building from sstate [Andrei Gherzan]
    - subject: Avoid mount warnings when using systemd mount units on files [Andrei
        Gherzan]
    - subject: Add support for private docker registry [Bruno Binet]
    - subject: "Docker-disk: Various improvements [Andrei Gherzan]"
    - subject: "Networkmanager: Use bash-completion bbclass [Andrei Gherzan]"
    - subject: Use VPN port from config.json (defaulting it to 443) [Andrei Gherzan]
    - subject: "Housekeeping: adding PR template [Gergely Imreh]"
    - subject: Replace busybox less by GNU less [Andrei Gherzan]
    - subject: Fix BALENA_STORAGE when machine specific definition is used [Andrei
        Gherzan]
    - subject: "Coreutils: Set uptime to use procfs for accurate uptime [Andrei
        Gherzan]"
  date: 2018-02-27T00:00:00.000Z
  version: 2.10.0
- commits:
    - subject: Install os-release file in the boot partition [Andrei Gherzan]
    - subject: Update balena to include locks fix [Andrei Gherzan]
    - subject: "Healthdog: Fix RPATH on newer meta-rust [Andrei Gherzan]"
    - subject: Update supervisor to v6.6.0 [Pablo Carranza Velez]
  date: 2018-01-26T00:00:00.000Z
  version: 2.9.7
- commits:
    - subject: Update supervisor to v6.5.9 [Pablo Carranza Velez]
  date: 2018-01-12T00:00:00.000Z
  version: 2.9.6
- commits:
    - subject: Update supervisor to v6.5.8 [Pablo Carranza Velez]
  date: 2018-01-11T00:00:00.000Z
  version: 2.9.5
- commits:
    - subject: "Systemd: Backport patch to fix Remote DOS of systemd-resolve service
        [Andrei Gherzan]"
    - subject: "Hostapp-update: Bind mount /dev from host so we can resolv labels
        [Andrei Gherzan]"
    - subject: "NetworkManager: Allow managing non-balena bridge interfaces [Andrei
        Gherzan]"
  date: 2018-01-10T00:00:00.000Z
  version: 2.9.4
- commits:
    - subject: Add lsof package [Florin Sarbu]
    - subject: Bring back resin-device-progress in resin-image [Andrei Gherzan]
    - subject: Update supervisor to v6.5.7 [Pablo Carranza Velez]
    - subject: Make hostapp-update-hooks rollback on failure optional [Gergely Imreh]
  date: 2018-01-09T00:00:00.000Z
  version: 2.9.3
- commits:
    - subject: Activate memory/swap cgroups in kernel [Andrei Gherzan]
    - subject: Make the grub hostapp update hook also work with non-EFI grub configs
        [Florin Sarbu]
  date: 2017-12-18T00:00:00.000Z
  version: 2.9.2
- commits:
    - subject: Update supervisor to v6.5.3 [Pablo Carranza Velez]
    - subject: Pass /mnt/root/var/lib/docker as DOCKER_ROOT to the supervisor [Florin
        Sarbu]
  date: 2017-12-12T00:00:00.000Z
  version: 2.9.1
- commits:
    - subject: Update supervisor to v6.5.1 [Pablo Carranza Velez]
    - subject: Use healthcheck with systemd and healthdog for supervisor [Andrei
        Gherzan]
    - subject: Update supervisor to v6.5.0 [Pablo Carranza Velez]
    - subject: Fix openvpn reporting when connectivity goes out, due to a filesystem
        permissions issue [Pablo Carranza Velez]
    - subject: Update balena cu include healthcheck support [Andrei Gherzan]
    - subject: Add healthdog monitoring of balena [Andrei Gherzan]
    - subject: Run the update container as privileged [Florin Sarbu]
    - subject: Fix 0-bootfiles when running hooks [Andrei Gherzan]
    - subject: Add the lsblk binary to the flasher rootfs [Florin Sarbu]
    - subject: Add boot partition space check for 0-bootfiles hostapp-update hook
        [Andrei Gherzan]
    - subject: Fix hostapp-update to run the hooks for the OS we update to [Andrei
        Gherzan]
    - subject: Switch to balena [Andrei Gherzan]
  date: 2017-12-11T00:00:00.000Z
  version: 2.9.0
- commits:
    - subject: "Kernel-modules-headers: Include aarch64 fix [Theodor Gherzan]"
  date: 2017-12-01T00:00:00.000Z
  version: 2.8.1
- commits:
    - subject: Support for legacy bootloaders [Theodor Gherzan]
    - subject: Update NetworkManager to version 1.10.0 [Florin Sarbu]
    - subject: Update aufs for kernel versions from 4.4 to 4.13 [Florin Sarbu]
  date: 2017-11-30T00:00:00.000Z
  version: 2.8.0
- commits:
    - subject: Do our best to ensure we copy to internal media the config.json after
        resin-device-register was able to register the board [Florin Sarbu]
  date: 2017-11-17T00:00:00.000Z
  version: 2.7.8
- commits:
    - subject: Delete the provisioning key after registering, to fix VPN
        authentication in flasher images [Pablo Carranza Velez]
    - subject: "Resin-image-initramfs: Include ext4 filesystem check module in our
        initramfs [Florin Sarbu]"
    - subject: "Hostapp-update-hooks: fix typos in hook [Gergely Imreh]"
    - subject: "Image-resin.bbclass: Add build time dependency on coreutils-native
        [Florin Sarbu]"
    - subject: "Hostapp-update-hooks: Use boot files list from the 'next' OS [Andrei
        Gherzan]"
    - subject: Add required kernel config dependency for being able to use redsocks
        [Florin Sarbu]
    - subject: Check for enough space in boot partition to support atomic copy
        operations [Andrei Gherzan]
    - subject: Update libmbim to version 1.14.2 [Florin Sarbu]
    - subject: Update libqmi to version 1.18.0 [Florin Sarbu]
  date: 2017-11-17T00:00:00.000Z
  version: 2.7.7
- commits:
    - subject: Add supervisor for the intel-quark family [Theodor Gherzan]
    - subject: Update ModemManager to version 1.6.10 [Florin Sarbu]
    - subject: Update supervisor to v6.4.2 [Pablo Carranza Velez]
  date: 2017-11-06T00:00:00.000Z
  version: 2.7.6
- commits:
    - subject: Ensure OpenVPN is restarted when config.json changes [Will Newton]
    - subject: Support grub boards with hostapp-update-hooks [Theodor Gherzan]
  date: 2017-10-30T00:00:00.000Z
  version: 2.7.5
- commits:
    - subject: Update supervisor to v6.3.6 [Pablo Carranza Velez]
  date: 2017-10-24T00:00:00.000Z
  version: 2.7.4
- commits:
    - subject: Update API call in update-resin-supervisor for pine 5 [Gergely Imreh]
    - subject: Fix start-resin-supervisor to start even when no supervisor image
        present [Gergely Imreh]
    - subject: Update supervisor to v6.3.5 [Akis Kesoglou]
    - subject: Fix fsck of boot partition with dosfstools [Will Newton]
    - subject: Backport ModemManager flow control patches [Will Newton]
    - subject: Update dnsmasq to 2.78 [Will Newton]
  date: 2017-10-20T00:00:00.000Z
  version: 2.7.3
- commits:
    - subject: Fix mkfs.hostapp-ext4 with pyro [Andrei Gherzan]
    - subject: Fix a syntax error in image_types_resin [Andrei Gherzan]
    - subject: Add a fixed goarch.bbclass for pyro [Will Newton]
    - subject: "Docker: Improved pull progress reporting [Akis Kesoglou]"
    - subject: Update supervisor to v6.3.1 [Akis Kesoglou]
  date: 2017-10-05T00:00:00.000Z
  version: 2.7.2
- commits:
    - subject: Update docker [Theodor Gherzan]
    - subject: Ensure docker links with systemd in pyro [Will Newton]
  date: 2017-10-04T00:00:00.000Z
  version: 2.7.1
- commits:
    - subject: Add support for overaly2 in mobynit [Theodor Gherzan]
    - subject: GPT support [Theodor Gherzan]
    - subject: "Update-resin-supervisor: device API key is substituted incorrectly
        [Gergely Imreh]"
    - subject: Support kernel 4.13 [Will Newton]
    - subject: Update supervisor to v6.3.0 [Akis Kesoglou]
  date: 2017-10-04T00:00:00.000Z
  version: 2.7.0
- commits:
    - subject: Fixes for Pyro-based flasher images [Will Newton]
    - subject: Sort config.json keys [Will Newton]
  date: 2017-09-27T00:00:00.000Z
  version: 2.6.1
- commits:
    - subject: Provide generic hostapp update hooks [Andrei Gherzan]
    - subject: Deploy a list of boot files in root partition [Andrei Gherzan]
    - subject: Update supervisor to v6.2.9 [Pablo Carranza Velez]
    - subject: Add usbutils package [Will Newton]
    - subject: Switch docker to inherit from Go class [Will Newton]
    - subject: Enable zram kernel module by default [Will Newton]
    - subject: Make sure hci bluetooth interfaces are activated once booted [Florin
        Sarbu]
    - subject: Enable kernel stack protection [Will Newton]
    - subject: Enable Yocto security flags on all builds [Will Newton]
    - subject: Update gnutls to 3.5.9 in morty because of blocking NetworkManager
        [Robert Fritzsche]
  date: 2017-09-20T00:00:00.000Z
  version: 2.6.0
- commits:
    - subject: Force use of host's docker daemon for the docker-disk recipe [Florin
        Sarbu]
    - subject: Remove unused plymouth files to reduce size [Michal Mazurek]
  date: 2017-09-13T00:00:00.000Z
  version: 2.5.1
- commits:
    - subject: Remove obsolete Go recipes [Will Newton]
    - subject: Dynamically link docker [Petros Angelatos]
    - subject: Include connectivity firmwares in Pyro [Will Newton]
    - subject: Add glib-2.0-native dependencies for Pyro [Will Newton]
    - subject: Switch to hostapp enabled rootfs [Petros Angelatos]
    - subject: Update docker to 17.06 [Petros Angelatos]
    - subject: Update modem manager to 1.6.8 [Andrei Gherzan]
    - subject: Use poky go recipes for Pyro and above [Will Newton]
    - subject: Patch mtools directory creation [Will Newton]
    - subject: Enable building Docker on Yocto Pyro [Will Newton]
    - subject: Enable fsck for resin-state partition [Will Newton]
    - subject: Add host tool dependencies for Yocto Pyro [Will Newton]
    - subject: Move systemd sanity check to image recipes [Will Newton]
    - subject: Disable rarely used kernel configs for size [Will Newton]
  date: 2017-09-12T00:00:00.000Z
  version: 2.5.0
- commits:
    - subject: Update NetworkManager to 1.8.2 [Andrei Gherzan]
    - subject: Only install systemd-analyze in development images [Will Newton]
    - subject: Avoid removing the supervisor container when the supervisor exits
        [Pablo Carranza Velez]
    - subject: Update supervisor to v6.2.5 [Pablo Carranza Velez]
  date: 2017-08-31T00:00:00.000Z
  version: 2.4.2
- commits:
    - subject: Fix variable referencing in default variable substitution inside
        prepare-openvpn script [Florin Sarbu]
  date: 2017-08-24T00:00:00.000Z
  version: 2.4.1
- commits:
    - subject: Use separate line for version in changelog file [Andrei Gherzan]
    - subject: Run OpenVPN service as openvpn user [Andreas Fitzek]
    - subject: Update supervisor to v6.2.1 [Akis Kesoglou]
    - subject: Watch for VPN config changes in config.json [Pagan Gazzard]
  date: 2017-08-23T00:00:00.000Z
  version: 2.4.0
- commits:
    - subject: Resize the splash logo to full screen instead of half screen [Gergely
        Imreh]
    - subject: Set docker bridge subnet to 10.114.101.1/24 [Petros Angelatos]
    - subject: Re-enable UPX compression on AArch64 [Will Newton]
    - subject: "Resin-device-progress: fix typos that broke script [Gergely Imreh]"
    - subject: Upgrade upx to 3.94 [Will Newton]
    - subject: Set deviceType in config.json [Will Newton]
    - subject: Update supervisor to v6.1.3 [Pablo Carranza Velez]
    - subject: Fix typo in resin-persistent-logs [Will Newton]
    - subject: Use BBCLASSEXTEND rather than inherit native [Florin Sarbu]
  date: 2017-08-16T00:00:00.000Z
  version: 2.3.0
- commits:
    - subject: Update supervisor to v6.1.2 [Pablo Carranza Velez]
    - subject: Support building with Yocto Pyro [Will Newton]
    - subject: Disable resin-sample NetworkManager connection [Will Newton]
    - subject: Remove support for Yocto Daisy [Will Newton]
  date: 2017-07-28T00:00:00.000Z
  version: 2.2.0
- commits:
    - subject: Update supervisor to v6.0.1 [Pablo Carranza Velez]
    - subject: Add support for overlay2 as docker storage driver [Andrei Gherzan]
    - subject: Detect filesystem type automatically in resin mount systemd services
        [Michal Mazurek]
    - subject: Fix util-linux to work with ubifs [Michal Mazurek]
    - subject: Allow setting DNS servers in config.json [Will Newton]
    - subject: Make sure resin-state-reset doesn't end up in an inconsistent state
        [Andrei Gherzan]
    - subject: Remove latest supervisor tag as it is not used anymore [Andrei Gherzan]
    - subject: Add NTP configuration service [Will Newton]
    - subject: Use full list of resin NTP servers [Will Newton]
    - subject: Document config.json keys in README.md [Will Newton]
    - subject: Document Change-type and Changelog-entry git commit footers [Andrei
        Gherzan]
    - subject: Add systemd as a required distro feature [Will Newton]
  date: 2017-07-19T00:00:00.000Z
  version: 2.1.0
- commits:
    - subject: Fix splash image migration in flasher images [Andrei Gherzan]
    - subject: Add missing netfilter configs for our redsocks usage [Florin Sarbu]
  date: 2017-07-06T00:00:00.000Z
  version: 2.0.9
- commits:
    - subject: "Resin-vars: Fetch all the vars in resin-vars [Pagan Gazzard]"
    - subject: Add comment in supervisor.conf for clarity [Petros Angelatos]
    - subject: Prevent supervisor from killing itself [Pablo Carranza Velez]
    - subject: Store both image and tag in the temporary supervisor.conf [Pablo
        Carranza Velez]
    - subject: Use current changelog format with versionist [Andrei Gherzan]
    - subject: Update supervisor to v5.1.0 and use aarch64-supervisor for aarch64
        [Pablo Carranza Velez]
    - subject: Validate docker config from disk to avoid panicing [Petros Angelatos]
    - subject: "Versionist: add support for full versionist use [Gergely Imreh]"
  date: 2017-07-04T00:00:00.000Z
  version: 2.0.8
- commits:
    - subject: Add support for transparent proxy redirection using redsocks [Pablo]
    - subject: Add prerequisites for ipk packages in resinOS images [Andrei]
    - subject: Update supervisor to v5.0.0 [Pablo]
    - subject: Allow downloading a missing supervisor [Will]
    - subject: Add busybox patch to fix tar unpacking [Will]
    - subject: Include support for the RT5572 wireless chipset [Theodor]
    - subject: Add a quirk for /etc/mtab [Will]
    - subject: Switch to resin.io ntp pool [petrosagg]
    - subject: Undefine backwards compatibilty variable, INITRAMFS_TASK [Theodor]
    - subject: Enable CONFIG_KEYS, docker 17 requirment [Theodor]
    - subject: Update NetworkManager to 1.8.0 [Andrei]
    - subject: Update supervisor to v4.3.1 [Andrei]
    - subject: Set NetworkManager connection attempts to infinity [petrosagg]
    - subject: Update Docker to 17.03.1 [Theodor]
    - subject: Include fsck.vfat in resinOS [Andrei]
  date: 2017-06-28T00:00:00.000Z
  version: 2.0.7
- commits:
    - subject: Update supervisor to v4.2.4 [Pablo]
  date: 2017-06-06T00:00:00.000Z
  version: 2.0.6
- commits:
    - subject: Fix dependencies for mount service in /var/lib [Andrei]
    - subject: Various build fixes when using other package formats like ipk [Andrei]
    - subject: Define IMAGE_NAME_SUFFIX, needed for resinhup, for Yocto versions older
        than Morty [Florin]
    - subject: Add support for modifying the regulatory domain for wifi interfaces
        [Michal]
    - subject: Add support for qmi and mbim cell modems [Joshua]
    - subject: Disable all password logins on production images, rather than just root
        logins - this gets rid of the password prompt dialog that users have
        seen. [Page]
  date: 2017-06-02T00:00:00.000Z
  version: 2.0.5
- commits:
    - subject: Enable the resin-uboot implementation to also boot flasher images from
        USB media [Florin]
    - subject: Use supervisor tag as supervisor recipe PV [Andrei]
  date: 2017-05-16T00:00:00.000Z
  version: 2.0.4
- commits:
    - subject: Copy resinOS_uEnv.txt from external to internal media [Theodor]
    - subject: Fix resin-state-conf copying mechanism [Theodor]
    - subject: Don't fingerprint config.json [Andrei]
    - subject: Prevent resin-unique-key from running concurrently [Michal]
    - subject: Add iwlwifi 8265 firmware [Florin]
    - subject: Disable coredumps [Jon]
    - subject: Add bind mounts for systemd persistent data [Jon]
    - subject: Update supervisor to v4.2.2 [Page]
    - subject: Explicitly set CONFIG_HIDRAW=y [Michal]
    - subject: Fix symlink creation in resinhup_backwards_compatible_link() [Michal]
  date: 2017-05-10T00:00:00.000Z
  version: 2.0.3
- commits:
    - subject: Fix build of kernel-modules-headers on kernel 4.8+ [Andrei]
    - subject: Use ondemand as default governor [Andrei]
    - subject: Do not force fsck on the data partition [Theodor]
    - subject: Switch to the new device register endpoint which exchanges the
        provisioning key for a device api key [Page]
    - subject: Switch to using a device api key for api calls and vpn authentication
        if it is present [Page]
  date: 2017-04-24T00:00:00.000Z
  version: 2.0.2
- commits:
    - subject: Don't use getty generator even for development images [Andrei]
    - subject: Fix resinos-img image compression [Theodor]
    - subject: Revert 05288ce19781f9ab3b8c528f49537516b58db050 [Theodor]
    - subject: Update NetworkManager to version 1.6.2 [Florin]
    - subject: Update supervisor to v4.1.2 [Pablo]
    - subject: Add aufs hashes for more kernel versions [fboudra]
    - subject: Calculate IMAGE_ROOTFS_MAXSIZE dynamically [fboudra]
    - subject: Don't attempt UPX compression on aarch64 [fboudra]
    - subject: Tidy arch detection in kernel-modules-headers [fboudra]
  date: 2017-04-19T00:00:00.000Z
  version: 2.0.1
- date: 2017-03-31T00:00:00.000Z
  version: 2.0.0
- commits:
    - subject: Update supervisor to v4.1.1 [Pablo]
    - subject: Replace echo with info in the resindataexpander initramfs script [Florin]
    - subject: Don't stop plymouth at boot [Andrei]
  date: 2017-03-31T00:00:00.000Z
  version: 2.0.0-rc6
- commits:
    - subject: Fix busybox switch_root when console=null [Andrei]
    - subject: Make the initrams framework also parse root=LABEL= params [Florin]
    - subject: Fix audit disable dependencies [Theodor]
    - subject: Properly implement the ro_rootfs script [Theodor]
    - subject: Make rootfs identical to resinhup packages [Andrei]
  date: 2017-03-24T00:00:00.000Z
  version: 2.0.0-rc5
- commits:
    - subject: Enable by-partuuid symlinks for our DOS partition scheme also for Poky
        Jethro and Poky Krogoth based boards [Florin]
    - subject: Ship with e2fsprogs-tune2fs [Michal]
  date: 2017-03-17T00:00:00.000Z
  version: 2.0.0-rc4
- commits:
    - subject: Fix flasher detection in initramfs scripts [Andrei]
    - subject: Fix initramfs-framework build on morty [Andrei]
  date: 2017-03-14T00:00:00.000Z
  version: 2.0.0-rc3
- commits:
    - subject: Fix initramfs-framework for non-morty boards [Theodor]
    - subject: Fix flasher when it might corrupt the internal device [Andrei]
  date: 2017-03-14T00:00:00.000Z
  version: 2.0.0-rc2
- commits:
    - subject: Use stateless flasher partitions [Andrei]
    - subject: Refactor persistent logging [Theodor]
    - subject: Add support for RDT promote [Andrei]
    - subject: Fix image flag files on non uboot boards [Andrei]
    - subject: Update supervisor to v4.0.0 [Pablo]
    - subject: Change "test -z" with "test -n" in the U-Boot MMC scanning procedure
        [Florin]
    - subject: Implement MMC scanning for U-Boot [Andrei]
    - subject: Resin-info should not be present in our production images [Theodor]
    - subject: Implement resin-uboot based on v2.0 specification [Andrei]
  date: 2017-03-10T00:00:00.000Z
  version: 2.0.0-rc1
- commits:
    - subject: Fix a compile error on krogoth boards [Andrei]
  date: 2017-02-27T00:00:00.000Z
  version: 2.0.0-beta13
- commits:
    - subject: Disable audit subsystem [Theodor]
    - subject: Run openvpn on flasher too [Andrei]
    - subject: Add VARIANT/VARIANT_ID in os-release [Andrei]
    - subject: Modify partitions label, define entire resinOS space used to 700MiB and
        other minor changes [Andrei]
    - subject: Update supervisor to v3.0.1 [Pablo]
    - subject: Configure an armv7ve repository for the Resin Supervisor [Michal]
    - subject: Fix the location where to create the resinhup bundles when using poky
        morty [Florin]
    - subject: Introduce debug tools package group add mkfs.ext4 in resin-image [Andrei]
    - subject: Halve the UUID length to 16 bytes [Michal]
  date: 2017-02-27T00:00:00.000Z
  version: 2.0.0-beta12
- commits:
    - subject: Fix sectors per track for targets smaller than 512 MB [Andrei]
  date: 2017-02-15T00:00:00.000Z
  version: 2.0.0-beta11
- commits:
    - subject: Introduce new host OS versioning scheme [Andrei]
    - subject: Add jethro support [Andrei]
    - subject: Fix missing quotes when testing for IMGDEPLOYDIR [Florin]
  date: 2017-02-13T00:00:00.000Z
  version: 2.0.0-beta10
- commits:
    - subject: Use static resolv.conf [Andrei]
    - subject: Switch rootfs to ext4 [Andrei]
    - subject: Adapt resinhup for poky morty migration [Florin]
    - subject: Add support for multiple entries in INTERNAL_DEVICE_KERNEL [Andrei]
    - subject: Fix bug with the .docker mountpoint [Theodor]
    - subject: Remove the supervisor container in the update script [Pablo]
    - subject: Do not remove the supervisor container in every start [Pablo]
    - subject: Update supervisor to v3.0.0 [Pablo]
  date: 2017-02-07T00:00:00.000Z
  version: 2.0.0-beta.9
- commits:
    - subject: Add xt_set kernel module for all of our devices [Theodor]
    - subject: Make /home/root/.docker writable [Theodor]
    - subject: Prevent docker from thrashing the page cache using posix_fadvise
        [petrosagg]
    - subject: Introduce meta-resin-morty for using meta-resin with poky morty [Florin]
    - subject: Add resinhup machine independent support in U-Boot [Andrei]
    - subject: Remove BTRFS support from the kernel [Michal]
    - subject: Backport dropbear atomic hostkey generation patch [Florin]
    - subject: Update supervisor to v2.9.0 [Pablo]
    - subject: Rewrite prepare-openvpn (style) and make it fail on error [Michal]
    - subject: Ensure prepare-openvpn.service starts after var-volatile.mount [Michal]
  date: 2017-01-27T00:00:00.000Z
  version: 2.0.0-beta.8
- commits:
    - subject: Fix supervisor.conf's SUPERVISOR_TAG variable [Florin]
  date: 2016-12-05T00:00:00.000Z
  version: 2.0.0-beta.7
- commits:
    - subject: Deactivate CONFIG_WATCHDOG_NOWAYOUT to make sure we can shutdown [Andrei]
  date: 2016-12-05T00:00:00.000Z
  version: 2.0.0-beta.6
- commits:
    - subject: Add inode tuning (1 inode for 8192 bytes ) in mkfs.ext4 for the
        resin-data partition [Praneeth]
    - subject: Fix missing [Manager] section for systemd watchdog setting [Florin]
    - subject: Add missing dependency for the resin-supervisor.service [Theodor]
    - subject: Specify the supervisor tag with a local variable [Theodor]
    - subject: Update supervisor to v2.8.3 [Pablo]
    - subject: Activate kernel configs for supporting iptables REJECT, MASQUERADE
        targets [Florin]
    - subject: "systemd: enable watchdog at 10 seconds [Florin]"
    - subject: Allow resin-init-flasher to also flash both MLO and regular u-boot at
        the same time [Florin]
    - subject: Fix page size detection in go for arm64 boards [Andrei]
  date: 2016-11-30T00:00:00.000Z
  version: 2.0.0-beta.5
- commits:
    - subject: Update supervisor to v2.8.2 [Pablo]
  date: 2016-11-09T00:00:00.000Z
  version: 2.0.0-beta.4
- commits:
    - subject: Generate SUPERVISOR_REPOSITORY dynamically so no need to define it in
        `resin-<board>` anymore [Andrei]
    - subject: Fix container name conflict when creating a docker container [petrosagg]
    - subject: Don't compress docker binary anymore with UPX [Andrei]
    - subject: Fix /var/lib/docker corruption after power cut [petrosagg]
    - subject: Truncate hostname to 7 characters [Michal]
    - subject: Fix aufs patching on non git kernel sources [Andrei]
    - subject: Update supervisor to v2.8.1 [Pablo]
  date: 2016-11-04T00:00:00.000Z
  version: 2.0.0-beta.3
- commits:
    - subject: Update supervisor to v2.7.1 [Pablo]
    - subject: Move supervisor.conf from /etc to /etc/resin-supervisor [Theodor]
    - subject: Update supervisor to v2.7.0 [Pablo]
    - subject: Add guide for new board adoption [Florin]
    - subject: Update supervisor to v2.6.2 [Pablo]
  date: 2016-10-25T00:00:00.000Z
  version: 2.0.0-beta.2
- commits:
    - subject: Configure kernel with CONFIG_SECCOMP [Andrei]
    - subject: Update kernel-module-headers to v0.0.7 [Lorenzo]
    - subject: Implement persistent logging functionality [Andrei]
    - subject: Increase the root filesystem size to 300M [Andrei]
    - subject: Bump supervisor to 2.5.2 [Andrei]
    - subject: Added a warning when skipping pulling the supervisor [Page]
    - subject: Achieve read-only root filesystem [Theodor]
    - subject: Implement aufs fetch and unpack functionality in kernel-resin.bbclass
        [Florin]
    - subject: Use aufs as docker storage driver with ext4 as backing filesystem
        instead of btrfs [Florin]
    - subject: Replace connman with NetworkManager [Michal]
    - subject: Generate config.json from the build system [Theodor]
    - subject: Add usb-modeswitch [Michal]
    - subject: Allow hostname to be defined through config.json [Theodor]
    - subject: Expose docker socket over TCP on development images [Andrei]
    - subject: Integrate and configure avahi [Andrei]
    - subject: Start using gzip archives for kernel module headers [Andrei]
    - subject: Replace DEBUG_IMAGE with DEVELOPMENT_IMAGE [Theodor]
    - subject: Update supervisor to v2.5.0 [Pablo]
  date: 2016-10-11T00:00:00.000Z
  version: 2.0.0-beta.1
- commits:
    - subject: Update supervisor to v2.3.0 [Pablo]
  date: 2016-09-27T00:00:00.000Z
  version: 1.16.0
- commits:
    - subject: Update supervisor to v2.2.1 [petrosagg]
  date: 2016-09-24T00:00:00.000Z
  version: 1.15.0
- commits:
    - subject: Update supervisor to v2.2.0 [Kostas]
  date: 2016-09-23T00:00:00.000Z
  version: 1.14.0
- date: 2016-09-23T00:00:00.000Z
  version: 1.13.0
- commits:
    - subject: Update supervisor to v2.1.1 [Pablo]
    - subject: Add device-type.json file to the boot partitions of our images [Florin]
    - subject: Enable kernel modules ip6table_nat, nf_nat_ipv6 and subset of ip_set
        [Florin]
    - subject: Change openvpn to use config file from /run [Florin]
    - subject: Change partition type of resin-conf from vfat to ext4 [Theodor]
    - subject: Move config.json to resin-boot partition [Theodor]
    - subject: Change resin-boot mount point from /boot to /mnt/boot [Theodor]
    - subject: Make dropbear host key generation atomic [Michal]
    - subject: Change the TUN device used by OpenVPN to resin-vpn to minimize conflict
        with user applications using tun0 [Praneeth]
    - subject: Update supervisor to v2.1.0 [Pablo]
    - subject: Use FHS structure in the root of resinhup packages [Andrei]
  date: 2016-09-21T00:00:00.000Z
  version: 1.12.0
- commits:
    - subject: Backport STOPSIGNAL fix for docker [petrosagg]
    - subject: Make Docker log to journald [Michal]
  date: 2016-08-31T00:00:00.000Z
  version: 1.11.0
- date: 2016-08-24T00:00:00.000Z
  version: 1.1.0
- commits:
    - subject: Provide custom splash logo for our flasher type [Theodor]
    - subject: Update supervisor to v1.14.0 [Pablo]
    - subject: Set the default supervisor tag in /etc/supervisor.conf to the bundled
        supervisor tag. [Page]
    - subject: "Update firmware: iwlwifi-7265D-10 -> iwlwifi-7265D-13 [Michal]"
  date: 2016-08-24T00:00:00.000Z
  version: 1.9.0
- commits:
    - subject: Fix plymouth output to tty1 [Theodor]
    - subject: Use FAT16 filesystems as we do for partitions [Andrei]
    - subject: Fix boltdb alignment issue for armv5 in docker, fixes docker 1.10.3 on
        armv5 devices [Lorenzo]
    - subject: Include firmware for iwlwifi-8000C-13 - 6th generation Intel NUC [Andrei]
    - subject: Disable DHCP server functionality from dnsmasq [Florin]
    - subject: Update supervisor to v1.13.0 [Andrei]
    - subject: Start dropbearkey.service at boot and don't wait for first connection
        [Andrei]
    - subject: Both remove systemd-serialgetty symlinks and disable
        systemd-getty-generator for non-debug builds [Florin]
    - subject: Disable ntp from connman and rely only on systemd-timesyncd with
        selected timeservers [Florin]
  date: 2016-08-02T00:00:00.000Z
  version: 1.8.0
- commits:
    - subject: Various meta-resin layer tweaks [Andrei]
    - subject: Add support for resinhup when running kernel modules operations [Andrei]
    - subject: Update supervisor to 1.12.1 [Pablo]
  date: 2016-07-14T00:00:00.000Z
  version: 1.7.0
- date: 2016-07-06T00:00:00.000Z
  version: 1.6.0
- commits:
    - subject: Update resin supervisor to v1.11.6 [Florin]
    - subject: Refactor openvpn dependencies [Florin]
  date: 2016-07-04T00:00:00.000Z
  version: 1.5.0
- commits:
    - subject: Replace STAGING_BUILD by DEBUG_IMAGE and various refactorings [Andrei]
    - subject: Update to latest kernel-modules-headers [Florin]
  date: 2016-06-27T00:00:00.000Z
  version: 1.4.0
- commits:
    - subject: Implement mechanism for compressed kernel modules [Andrei]
    - subject: Fix connman multiple IP over DHCP [Andrei]
    - subject: Have the ability to inject custom docker images for connectable builds
        [Andrei]
    - subject: Integrate resin-provisioner [Andrei]
    - subject: Include slug and machine in os-release [Andrei]
    - subject: Define and implement resin connectable builds [Andrei]
    - subject: Split the registration and uuid generation, of a device, into separate
        packages [Theodor]
    - subject: Sanitize target arch for x86 machines [Florin]
    - subject: Ensure kernel build artefacts are present for kernel-modules-headers
        [Florin]
    - subject: Add "set -e" to resin-init-flasher [Florin]
    - subject: Add recipe for deploying an archive with kernel modules headers [Florin]
    - subject: Have the ability at build time to configure the preloaded docker image
        in the BTRFS partition [Andrei]
  date: 2016-06-24T00:00:00.000Z
  version: 1.3.0
- commits:
    - subject: Remove board specific bootloader handling from the flasher [Florin]
    - subject: Provide script to inject board specific flashing procedures [Theodor]
    - subject: Implement and document host OS new versioning scheme [Andrei]
    - subject: Set PreferredTechnologies to "wifi,ethernet" [Florin]
    - subject: Do not add nameserver routes in the kernel IP routing table [Florin]
    - subject: Add support for migration to docker engine 1.10 in resinhup [Andrei]
    - subject: Move resin-image sdcard file in the rootfs instead of the boot
        partition [Florin]
    - subject: Add compression mechanism for binaries, using upx [Theodor]
    - subject: Switch to docker 1.10.3 [Theodor]
    - subject: Remove deprecated mmcroot from flasher init script [Andrei]
    - subject: Deploy license.manifest [Andrei]
  date: 2016-06-08T00:00:00.000Z
  version: 1.2.0
- commits:
    - subject: Add build information in the target rootfs [Florin]
    - subject: Don't bind mount /etc/resolv.conf anymore [Florin]
    - subject: Have dnsmasq listen on 127.0.0.2 instead of 127.0.0.1 [Florin]
  date: 2016-04-20T00:00:00.000Z
  version: 1.1.4
- commits:
    - subject: Add resin-init-board as a runtime dependency to resin-init-flasher
        [Florin]
  date: 2016-04-13T00:00:00.000Z
  version: 1.1.3
- commits:
    - subject: Execute resin-init-board from the flasher also [Florin]
    - subject: Use realpath from coreutils-native for generating SD images [Andrei]
    - subject: Add rsync to our image [Theodor]
    - subject: Add p2p to NetworkInterfaceBlacklist in connman main.conf file [Florin]
    - subject: Add dnsmasq and do changes to connman so dnsmasq is used according to
        our platform needs [Florin]
    - subject: Define "rce" as a provider for the docker package [Florin]
  date: 2016-04-13T00:00:00.000Z
  version: 1.1.2
- commits:
    - subject: Make resin-supervisor-disk's PV variable not contain the ':' character
        [Florin]
    - subject: Workaround for "docker images behavior" -
        https://bugzilla.redhat.com/show_bug.cgi?id=1312934 [Florin]
    - subject: Have device registration provided by supervisor in resin-image and
        resin-device-register in resin-image-flasher [Andrei]
    - subject: Include crda in resin images [Andrei]
    - subject: Add support for hid-multitouch - available as kernel module [Andrei]
    - subject: Simplify os-release version and add some resin specific info [Andrei]
    - subject: Set IMAGE_ROOTFS_SIZE to zero as default [Florin]
    - subject: Update layer with the ability to use jethro [Theodor]
  date: 2016-03-03T00:00:00.000Z
  version: 1.1.1
- commits:
    - subject: Migrate repositories to github [Florin]
    - subject: Add resinhup package for running hostOS updates [Andrei]
    - subject: Export deltaEndpoint as DELTA_ENDPOINT [Andrei]
  date: 2016-02-16T00:00:00.000Z
  version: 1.1.0
- commits:
    - subject: Upgrade systemd to version 216 and add volatile-binds dependency [Florin]
    - subject: Fix racing issue on edison [Andrei]
    - subject: Add support ts7700 [Theodor]
    - subject: Remove obsolete pseudo patch. This patch is now in poky [Florin]
    - subject: Remove obsolete bash patches. These patches are now in poky [Florin]
    - subject: Ensure connman systemd service is enabled on boot [Florin]
    - subject: Change OOM Adjust Score of RCE to -900 [Praneeth]
    - subject: Change OOM Adjust Score of Connman to -1000 [Praneeth]
    - subject: Change OOM Adjust Score of OpenVPN to -1000 [Praneeth]
  date: 2016-02-03T00:00:00.000Z
  version: 1.0.6
- date: 2016-01-20T00:00:00.000Z
  version: 1.0.5
